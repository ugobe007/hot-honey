var gT=Object.defineProperty;var _S=s=>{throw TypeError(s)};var xT=(s,e,t)=>e in s?gT(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var F=(s,e,t)=>xT(s,typeof e!="symbol"?e+"":e,t),Ix=(s,e,t)=>e.has(s)||_S("Cannot "+t);var l=(s,e,t)=>(Ix(s,e,"read from private field"),t?t.call(s):e.get(s)),S=(s,e,t)=>e.has(s)?_S("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),g=(s,e,t,n)=>(Ix(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),N=(s,e,t)=>(Ix(s,e,"access private method"),t);var Ct=(s,e,t,n)=>({set _(i){g(s,e,i,t)},get _(){return l(s,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function U1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var H1={exports:{}},cx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT=Symbol.for("react.transitional.element"),yT=Symbol.for("react.fragment");function V1(s,e,t){var n=null;if(t!==void 0&&(n=""+t),e.key!==void 0&&(n=""+e.key),"key"in e){t={};for(var i in e)i!=="key"&&(t[i]=e[i])}else t=e;return e=t.ref,{$$typeof:bT,type:s,key:n,ref:e!==void 0?e:null,props:t}}cx.Fragment=yT;cx.jsx=V1;cx.jsxs=V1;H1.exports=cx;var c=H1.exports,G1={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw=Symbol.for("react.transitional.element"),vT=Symbol.for("react.portal"),wT=Symbol.for("react.fragment"),ST=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),NT=Symbol.for("react.consumer"),ET=Symbol.for("react.context"),CT=Symbol.for("react.forward_ref"),jT=Symbol.for("react.suspense"),TT=Symbol.for("react.memo"),$1=Symbol.for("react.lazy"),_T=Symbol.for("react.activity"),MS=Symbol.iterator;function MT(s){return s===null||typeof s!="object"?null:(s=MS&&s[MS]||s["@@iterator"],typeof s=="function"?s:null)}var Y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q1=Object.assign,X1={};function Wd(s,e,t){this.props=s,this.context=e,this.refs=X1,this.updater=t||Y1}Wd.prototype.isReactComponent={};Wd.prototype.setState=function(s,e){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,e,"setState")};Wd.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function W1(){}W1.prototype=Wd.prototype;function lw(s,e,t){this.props=s,this.context=e,this.refs=X1,this.updater=t||Y1}var ow=lw.prototype=new W1;ow.constructor=lw;q1(ow,Wd.prototype);ow.isPureReactComponent=!0;var DS=Array.isArray;function kb(){}var We={H:null,A:null,T:null,S:null},K1=Object.prototype.hasOwnProperty;function cw(s,e,t){var n=t.ref;return{$$typeof:rw,type:s,key:e,ref:n!==void 0?n:null,props:t}}function DT(s,e){return cw(s.type,e,s.props)}function uw(s){return typeof s=="object"&&s!==null&&s.$$typeof===rw}function kT(s){var e={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(t){return e[t]})}var kS=/\/+/g;function Fx(s,e){return typeof s=="object"&&s!==null&&s.key!=null?kT(""+s.key):e.toString(36)}function RT(s){switch(s.status){case"fulfilled":return s.value;case"rejected":throw s.reason;default:switch(typeof s.status=="string"?s.then(kb,kb):(s.status="pending",s.then(function(e){s.status==="pending"&&(s.status="fulfilled",s.value=e)},function(e){s.status==="pending"&&(s.status="rejected",s.reason=e)})),s.status){case"fulfilled":return s.value;case"rejected":throw s.reason}}throw s}function Dc(s,e,t,n,i){var a=typeof s;(a==="undefined"||a==="boolean")&&(s=null);var r=!1;if(s===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(s.$$typeof){case rw:case vT:r=!0;break;case $1:return r=s._init,Dc(r(s._payload),e,t,n,i)}}if(r)return i=i(s),r=n===""?"."+Fx(s,0):n,DS(i)?(t="",r!=null&&(t=r.replace(kS,"$&/")+"/"),Dc(i,e,t,"",function(d){return d})):i!=null&&(uw(i)&&(i=DT(i,t+(i.key==null||s&&s.key===i.key?"":(""+i.key).replace(kS,"$&/")+"/")+r)),e.push(i)),1;r=0;var o=n===""?".":n+":";if(DS(s))for(var u=0;u<s.length;u++)n=s[u],a=o+Fx(n,u),r+=Dc(n,e,t,a,i);else if(u=MT(s),typeof u=="function")for(s=u.call(s),u=0;!(n=s.next()).done;)n=n.value,a=o+Fx(n,u++),r+=Dc(n,e,t,a,i);else if(a==="object"){if(typeof s.then=="function")return Dc(RT(s),e,t,n,i);throw e=String(s),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function Dp(s,e,t){if(s==null)return s;var n=[],i=0;return Dc(s,n,"","",function(a){return e.call(t,a,i++)}),n}function LT(s){if(s._status===-1){var e=s._result;e=e(),e.then(function(t){(s._status===0||s._status===-1)&&(s._status=1,s._result=t)},function(t){(s._status===0||s._status===-1)&&(s._status=2,s._result=t)}),s._status===-1&&(s._status=0,s._result=e)}if(s._status===1)return s._result.default;throw s._result}var RS=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},OT={map:Dp,forEach:function(s,e,t){Dp(s,function(){e.apply(this,arguments)},t)},count:function(s){var e=0;return Dp(s,function(){e++}),e},toArray:function(s){return Dp(s,function(e){return e})||[]},only:function(s){if(!uw(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};re.Activity=_T;re.Children=OT;re.Component=Wd;re.Fragment=wT;re.Profiler=AT;re.PureComponent=lw;re.StrictMode=ST;re.Suspense=jT;re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=We;re.__COMPILER_RUNTIME={__proto__:null,c:function(s){return We.H.useMemoCache(s)}};re.cache=function(s){return function(){return s.apply(null,arguments)}};re.cacheSignal=function(){return null};re.cloneElement=function(s,e,t){if(s==null)throw Error("The argument must be a React element, but you passed "+s+".");var n=q1({},s.props),i=s.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!K1.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(n[a]=e[a]);var a=arguments.length-2;if(a===1)n.children=t;else if(1<a){for(var r=Array(a),o=0;o<a;o++)r[o]=arguments[o+2];n.children=r}return cw(s.type,i,n)};re.createContext=function(s){return s={$$typeof:ET,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null},s.Provider=s,s.Consumer={$$typeof:NT,_context:s},s};re.createElement=function(s,e,t){var n,i={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)K1.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var r=arguments.length-2;if(r===1)i.children=t;else if(1<r){for(var o=Array(r),u=0;u<r;u++)o[u]=arguments[u+2];i.children=o}if(s&&s.defaultProps)for(n in r=s.defaultProps,r)i[n]===void 0&&(i[n]=r[n]);return cw(s,a,i)};re.createRef=function(){return{current:null}};re.forwardRef=function(s){return{$$typeof:CT,render:s}};re.isValidElement=uw;re.lazy=function(s){return{$$typeof:$1,_payload:{_status:-1,_result:s},_init:LT}};re.memo=function(s,e){return{$$typeof:TT,type:s,compare:e===void 0?null:e}};re.startTransition=function(s){var e=We.T,t={};We.T=t;try{var n=s(),i=We.S;i!==null&&i(t,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(kb,RS)}catch(a){RS(a)}finally{e!==null&&t.types!==null&&(e.types=t.types),We.T=e}};re.unstable_useCacheRefresh=function(){return We.H.useCacheRefresh()};re.use=function(s){return We.H.use(s)};re.useActionState=function(s,e,t){return We.H.useActionState(s,e,t)};re.useCallback=function(s,e){return We.H.useCallback(s,e)};re.useContext=function(s){return We.H.useContext(s)};re.useDebugValue=function(){};re.useDeferredValue=function(s,e){return We.H.useDeferredValue(s,e)};re.useEffect=function(s,e){return We.H.useEffect(s,e)};re.useEffectEvent=function(s){return We.H.useEffectEvent(s)};re.useId=function(){return We.H.useId()};re.useImperativeHandle=function(s,e,t){return We.H.useImperativeHandle(s,e,t)};re.useInsertionEffect=function(s,e){return We.H.useInsertionEffect(s,e)};re.useLayoutEffect=function(s,e){return We.H.useLayoutEffect(s,e)};re.useMemo=function(s,e){return We.H.useMemo(s,e)};re.useOptimistic=function(s,e){return We.H.useOptimistic(s,e)};re.useReducer=function(s,e,t){return We.H.useReducer(s,e,t)};re.useRef=function(s){return We.H.useRef(s)};re.useState=function(s){return We.H.useState(s)};re.useSyncExternalStore=function(s,e,t){return We.H.useSyncExternalStore(s,e,t)};re.useTransition=function(){return We.H.useTransition()};re.version="19.2.0";G1.exports=re;var M=G1.exports;const vh=U1(M);var Q1={exports:{}},ux={},Z1={exports:{}},J1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function e(O,I){var U=O.length;O.push(I);e:for(;0<U;){var P=U-1>>>1,$=O[P];if(0<i($,I))O[P]=I,O[U]=$,U=P;else break e}}function t(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var I=O[0],U=O.pop();if(U!==I){O[0]=U;e:for(var P=0,$=O.length,te=$>>>1;P<te;){var Q=2*(P+1)-1,se=O[Q],ve=Q+1,rt=O[ve];if(0>i(se,U))ve<$&&0>i(rt,se)?(O[P]=rt,O[ve]=U,P=ve):(O[P]=se,O[Q]=U,P=Q);else if(ve<$&&0>i(rt,U))O[P]=rt,O[ve]=U,P=ve;else break e}}return I}function i(O,I){var U=O.sortIndex-I.sortIndex;return U!==0?U:O.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;s.unstable_now=function(){return a.now()}}else{var r=Date,o=r.now();s.unstable_now=function(){return r.now()-o}}var u=[],d=[],h=1,f=null,m=3,p=!1,y=!1,b=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function E(O){for(var I=t(d);I!==null;){if(I.callback===null)n(d);else if(I.startTime<=O)n(d),I.sortIndex=I.expirationTime,e(u,I);else break;I=t(d)}}function j(O){if(b=!1,E(O),!y)if(t(u)!==null)y=!0,T||(T=!0,L());else{var I=t(d);I!==null&&ee(j,I.startTime-O)}}var T=!1,C=-1,_=5,D=-1;function k(){return A?!0:!(s.unstable_now()-D<_)}function R(){if(A=!1,T){var O=s.unstable_now();D=O;var I=!0;try{e:{y=!1,b&&(b=!1,v(C),C=-1),p=!0;var U=m;try{t:{for(E(O),f=t(u);f!==null&&!(f.expirationTime>O&&k());){var P=f.callback;if(typeof P=="function"){f.callback=null,m=f.priorityLevel;var $=P(f.expirationTime<=O);if(O=s.unstable_now(),typeof $=="function"){f.callback=$,E(O),I=!0;break t}f===t(u)&&n(u),E(O)}else n(u);f=t(u)}if(f!==null)I=!0;else{var te=t(d);te!==null&&ee(j,te.startTime-O),I=!1}}break e}finally{f=null,m=U,p=!1}I=void 0}}finally{I?L():T=!1}}}var L;if(typeof w=="function")L=function(){w(R)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=R,L=function(){X.postMessage(null)}}else L=function(){x(R,0)};function ee(O,I){C=x(function(){O(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return m},s.unstable_next=function(O){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var U=m;m=I;try{return O()}finally{m=U}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=m;m=O;try{return I()}finally{m=U}},s.unstable_scheduleCallback=function(O,I,U){var P=s.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?P+U:P):U=P,O){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=U+$,O={id:h++,callback:I,priorityLevel:O,startTime:U,expirationTime:$,sortIndex:-1},U>P?(O.sortIndex=U,e(d,O),t(u)===null&&O===t(d)&&(b?(v(C),C=-1):b=!0,ee(j,U-P))):(O.sortIndex=$,e(u,O),y||p||(y=!0,T||(T=!0,L()))),O},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(O){var I=m;return function(){var U=m;m=I;try{return O.apply(this,arguments)}finally{m=U}}}})(J1);Z1.exports=J1;var PT=Z1.exports,eN={exports:{}},As={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT=M;function tN(s){var e="https://react.dev/errors/"+s;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ur(){}var vs={d:{f:ur,r:function(){throw Error(tN(522))},D:ur,C:ur,L:ur,m:ur,X:ur,S:ur,M:ur},p:0,findDOMNode:null},IT=Symbol.for("react.portal");function FT(s,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:IT,key:n==null?null:""+n,children:s,containerInfo:e,implementation:t}}var qh=BT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function dx(s,e){if(s==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}As.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vs;As.createPortal=function(s,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(tN(299));return FT(s,e,null,t)};As.flushSync=function(s){var e=qh.T,t=vs.p;try{if(qh.T=null,vs.p=2,s)return s()}finally{qh.T=e,vs.p=t,vs.d.f()}};As.preconnect=function(s,e){typeof s=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,vs.d.C(s,e))};As.prefetchDNS=function(s){typeof s=="string"&&vs.d.D(s)};As.preinit=function(s,e){if(typeof s=="string"&&e&&typeof e.as=="string"){var t=e.as,n=dx(t,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?vs.d.S(s,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):t==="script"&&vs.d.X(s,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};As.preinitModule=function(s,e){if(typeof s=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=dx(e.as,e.crossOrigin);vs.d.M(s,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&vs.d.M(s)};As.preload=function(s,e){if(typeof s=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,n=dx(t,e.crossOrigin);vs.d.L(s,t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};As.preloadModule=function(s,e){if(typeof s=="string")if(e){var t=dx(e.as,e.crossOrigin);vs.d.m(s,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else vs.d.m(s)};As.requestFormReset=function(s){vs.d.r(s)};As.unstable_batchedUpdates=function(s,e){return s(e)};As.useFormState=function(s,e,t){return qh.H.useFormState(s,e,t)};As.useFormStatus=function(){return qh.H.useHostTransitionStatus()};As.version="19.2.0";function sN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sN)}catch(s){console.error(s)}}sN(),eN.exports=As;var zT=eN.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=PT,nN=M,UT=zT;function B(s){var e="https://react.dev/errors/"+s;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function iN(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function op(s){var e=s,t=s;if(s.alternate)for(;e.return;)e=e.return;else{s=e;do e=s,e.flags&4098&&(t=e.return),s=e.return;while(s)}return e.tag===3?t:null}function aN(s){if(s.tag===13){var e=s.memoizedState;if(e===null&&(s=s.alternate,s!==null&&(e=s.memoizedState)),e!==null)return e.dehydrated}return null}function rN(s){if(s.tag===31){var e=s.memoizedState;if(e===null&&(s=s.alternate,s!==null&&(e=s.memoizedState)),e!==null)return e.dehydrated}return null}function LS(s){if(op(s)!==s)throw Error(B(188))}function HT(s){var e=s.alternate;if(!e){if(e=op(s),e===null)throw Error(B(188));return e!==s?null:s}for(var t=s,n=e;;){var i=t.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===t)return LS(i),s;if(a===n)return LS(i),e;a=a.sibling}throw Error(B(188))}if(t.return!==n.return)t=i,n=a;else{for(var r=!1,o=i.child;o;){if(o===t){r=!0,t=i,n=a;break}if(o===n){r=!0,n=i,t=a;break}o=o.sibling}if(!r){for(o=a.child;o;){if(o===t){r=!0,t=a,n=i;break}if(o===n){r=!0,n=a,t=i;break}o=o.sibling}if(!r)throw Error(B(189))}}if(t.alternate!==n)throw Error(B(190))}if(t.tag!==3)throw Error(B(188));return t.stateNode.current===t?s:e}function lN(s){var e=s.tag;if(e===5||e===26||e===27||e===6)return s;for(s=s.child;s!==null;){if(e=lN(s),e!==null)return e;s=s.sibling}return null}var Ke=Object.assign,VT=Symbol.for("react.element"),kp=Symbol.for("react.transitional.element"),wh=Symbol.for("react.portal"),Hc=Symbol.for("react.fragment"),oN=Symbol.for("react.strict_mode"),Rb=Symbol.for("react.profiler"),cN=Symbol.for("react.consumer"),$a=Symbol.for("react.context"),dw=Symbol.for("react.forward_ref"),Lb=Symbol.for("react.suspense"),Ob=Symbol.for("react.suspense_list"),hw=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),Pb=Symbol.for("react.activity"),GT=Symbol.for("react.memo_cache_sentinel"),OS=Symbol.iterator;function lh(s){return s===null||typeof s!="object"?null:(s=OS&&s[OS]||s["@@iterator"],typeof s=="function"?s:null)}var $T=Symbol.for("react.client.reference");function Bb(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$T?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Hc:return"Fragment";case Rb:return"Profiler";case oN:return"StrictMode";case Lb:return"Suspense";case Ob:return"SuspenseList";case Pb:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case wh:return"Portal";case $a:return s.displayName||"Context";case cN:return(s._context.displayName||"Context")+".Consumer";case dw:var e=s.render;return s=s.displayName,s||(s=e.displayName||e.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case hw:return e=s.displayName||null,e!==null?e:Bb(s.type)||"Memo";case hr:e=s._payload,s=s._init;try{return Bb(s(e))}catch{}}return null}var Sh=Array.isArray,J=nN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee=UT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oc={pending:!1,data:null,method:null,action:null},Ib=[],Vc=-1;function Xi(s){return{current:s}}function Vt(s){0>Vc||(s.current=Ib[Vc],Ib[Vc]=null,Vc--)}function $e(s,e){Vc++,Ib[Vc]=s.current,s.current=e}var Gi=Xi(null),of=Xi(null),bl=Xi(null),t0=Xi(null);function s0(s,e){switch($e(bl,e),$e(of,s),$e(Gi,null),e.nodeType){case 9:case 11:s=(s=e.documentElement)&&(s=s.namespaceURI)?UA(s):0;break;default:if(s=e.tagName,e=e.namespaceURI)e=UA(e),s=_E(e,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Vt(Gi),$e(Gi,s)}function Id(){Vt(Gi),Vt(of),Vt(bl)}function Fb(s){s.memoizedState!==null&&$e(t0,s);var e=Gi.current,t=_E(e,s.type);e!==t&&($e(of,s),$e(Gi,t))}function n0(s){of.current===s&&(Vt(Gi),Vt(of)),t0.current===s&&(Vt(t0),yf._currentValue=oc)}var zx,PS;function Fl(s){if(zx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);zx=e&&e[1]||"",PS=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zx+s+PS}var Ux=!1;function Hx(s,e){if(!s||Ux)return"";Ux=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var m=p}Reflect.construct(s,[],f)}else{try{f.call()}catch(p){m=p}s.call(f.prototype)}}else{try{throw Error()}catch(p){m=p}(f=s())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&m&&typeof p.stack=="string")return[p.stack,m.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),r=a[0],o=a[1];if(r&&o){var u=r.split(`
`),d=o.split(`
`);for(i=n=0;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;for(;i<d.length&&!d[i].includes("DetermineComponentFrameRoot");)i++;if(n===u.length||i===d.length)for(n=u.length-1,i=d.length-1;1<=n&&0<=i&&u[n]!==d[i];)i--;for(;1<=n&&0<=i;n--,i--)if(u[n]!==d[i]){if(n!==1||i!==1)do if(n--,i--,0>i||u[n]!==d[i]){var h=`
`+u[n].replace(" at new "," at ");return s.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",s.displayName)),h}while(1<=n&&0<=i);break}}}finally{Ux=!1,Error.prepareStackTrace=t}return(t=s?s.displayName||s.name:"")?Fl(t):""}function YT(s,e){switch(s.tag){case 26:case 27:case 5:return Fl(s.type);case 16:return Fl("Lazy");case 13:return s.child!==e&&e!==null?Fl("Suspense Fallback"):Fl("Suspense");case 19:return Fl("SuspenseList");case 0:case 15:return Hx(s.type,!1);case 11:return Hx(s.type.render,!1);case 1:return Hx(s.type,!0);case 31:return Fl("Activity");default:return""}}function BS(s){try{var e="",t=null;do e+=YT(s,t),t=s,s=s.return;while(s);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var zb=Object.prototype.hasOwnProperty,fw=Rt.unstable_scheduleCallback,Vx=Rt.unstable_cancelCallback,qT=Rt.unstable_shouldYield,XT=Rt.unstable_requestPaint,mn=Rt.unstable_now,WT=Rt.unstable_getCurrentPriorityLevel,uN=Rt.unstable_ImmediatePriority,dN=Rt.unstable_UserBlockingPriority,i0=Rt.unstable_NormalPriority,KT=Rt.unstable_LowPriority,hN=Rt.unstable_IdlePriority,QT=Rt.log,ZT=Rt.unstable_setDisableYieldValue,cp=null,pn=null;function fl(s){if(typeof QT=="function"&&ZT(s),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(cp,s)}catch{}}var gn=Math.clz32?Math.clz32:t_,JT=Math.log,e_=Math.LN2;function t_(s){return s>>>=0,s===0?32:31-(JT(s)/e_|0)|0}var Rp=256,Lp=262144,Op=4194304;function zl(s){var e=s&42;if(e!==0)return e;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function hx(s,e,t){var n=s.pendingLanes;if(n===0)return 0;var i=0,a=s.suspendedLanes,r=s.pingedLanes;s=s.warmLanes;var o=n&134217727;return o!==0?(n=o&~a,n!==0?i=zl(n):(r&=o,r!==0?i=zl(r):t||(t=o&~s,t!==0&&(i=zl(t))))):(o=n&~a,o!==0?i=zl(o):r!==0?i=zl(r):t||(t=n&~s,t!==0&&(i=zl(t)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,t=e&-e,a>=t||a===32&&(t&4194048)!==0)?e:i}function up(s,e){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&e)===0}function s_(s,e){switch(s){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fN(){var s=Op;return Op<<=1,!(Op&62914560)&&(Op=4194304),s}function Gx(s){for(var e=[],t=0;31>t;t++)e.push(s);return e}function dp(s,e){s.pendingLanes|=e,e!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function n_(s,e,t,n,i,a){var r=s.pendingLanes;s.pendingLanes=t,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=t,s.entangledLanes&=t,s.errorRecoveryDisabledLanes&=t,s.shellSuspendCounter=0;var o=s.entanglements,u=s.expirationTimes,d=s.hiddenUpdates;for(t=r&~t;0<t;){var h=31-gn(t),f=1<<h;o[h]=0,u[h]=-1;var m=d[h];if(m!==null)for(d[h]=null,h=0;h<m.length;h++){var p=m[h];p!==null&&(p.lane&=-536870913)}t&=~f}n!==0&&mN(s,n,0),a!==0&&i===0&&s.tag!==0&&(s.suspendedLanes|=a&~(r&~e))}function mN(s,e,t){s.pendingLanes|=e,s.suspendedLanes&=~e;var n=31-gn(e);s.entangledLanes|=e,s.entanglements[n]=s.entanglements[n]|1073741824|t&261930}function pN(s,e){var t=s.entangledLanes|=e;for(s=s.entanglements;t;){var n=31-gn(t),i=1<<n;i&e|s[n]&e&&(s[n]|=e),t&=~i}}function gN(s,e){var t=e&-e;return t=t&42?1:mw(t),t&(s.suspendedLanes|e)?0:t}function mw(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function pw(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function xN(){var s=Ee.p;return s!==0?s:(s=window.event,s===void 0?32:zE(s.type))}function IS(s,e){var t=Ee.p;try{return Ee.p=s,e()}finally{Ee.p=t}}var Ol=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Ol,zs="__reactProps$"+Ol,Kd="__reactContainer$"+Ol,Ub="__reactEvents$"+Ol,i_="__reactListeners$"+Ol,a_="__reactHandles$"+Ol,FS="__reactResources$"+Ol,hp="__reactMarker$"+Ol;function gw(s){delete s[Jt],delete s[zs],delete s[Ub],delete s[i_],delete s[a_]}function Gc(s){var e=s[Jt];if(e)return e;for(var t=s.parentNode;t;){if(e=t[Kd]||t[Jt]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(s=YA(s);s!==null;){if(t=s[Jt])return t;s=YA(s)}return e}s=t,t=s.parentNode}return null}function Qd(s){if(s=s[Jt]||s[Kd]){var e=s.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return s}return null}function Ah(s){var e=s.tag;if(e===5||e===26||e===27||e===6)return s.stateNode;throw Error(B(33))}function au(s){var e=s[FS];return e||(e=s[FS]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ht(s){s[hp]=!0}var bN=new Set,yN={};function wc(s,e){Fd(s,e),Fd(s+"Capture",e)}function Fd(s,e){for(yN[s]=e,s=0;s<e.length;s++)bN.add(e[s])}var r_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zS={},US={};function l_(s){return zb.call(US,s)?!0:zb.call(zS,s)?!1:r_.test(s)?US[s]=!0:(zS[s]=!0,!1)}function ag(s,e,t){if(l_(e))if(t===null)s.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":s.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){s.removeAttribute(e);return}}s.setAttribute(e,""+t)}}function Pp(s,e,t){if(t===null)s.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(e);return}s.setAttribute(e,""+t)}}function Zi(s,e,t,n){if(n===null)s.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(t);return}s.setAttributeNS(e,t,""+n)}}function On(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function vN(s){var e=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o_(s,e,t){var n=Object.getOwnPropertyDescriptor(s.constructor.prototype,e);if(!s.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(s,e,{configurable:!0,get:function(){return i.call(this)},set:function(r){t=""+r,a.call(this,r)}}),Object.defineProperty(s,e,{enumerable:n.enumerable}),{getValue:function(){return t},setValue:function(r){t=""+r},stopTracking:function(){s._valueTracker=null,delete s[e]}}}}function Hb(s){if(!s._valueTracker){var e=vN(s)?"checked":"value";s._valueTracker=o_(s,e,""+s[e])}}function wN(s){if(!s)return!1;var e=s._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return s&&(n=vN(s)?s.checked?"true":"false":s.value),s=n,s!==t?(e.setValue(s),!0):!1}function a0(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var c_=/[\n"\\]/g;function In(s){return s.replace(c_,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Vb(s,e,t,n,i,a,r,o){s.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?s.type=r:s.removeAttribute("type"),e!=null?r==="number"?(e===0&&s.value===""||s.value!=e)&&(s.value=""+On(e)):s.value!==""+On(e)&&(s.value=""+On(e)):r!=="submit"&&r!=="reset"||s.removeAttribute("value"),e!=null?Gb(s,r,On(e)):t!=null?Gb(s,r,On(t)):n!=null&&s.removeAttribute("value"),i==null&&a!=null&&(s.defaultChecked=!!a),i!=null&&(s.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?s.name=""+On(o):s.removeAttribute("name")}function SN(s,e,t,n,i,a,r,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(s.type=a),e!=null||t!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){Hb(s);return}t=t!=null?""+On(t):"",e=e!=null?""+On(e):t,o||e===s.value||(s.value=e),s.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,s.checked=o?s.checked:!!n,s.defaultChecked=!!n,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(s.name=r),Hb(s)}function Gb(s,e,t){e==="number"&&a0(s.ownerDocument)===s||s.defaultValue===""+t||(s.defaultValue=""+t)}function ru(s,e,t,n){if(s=s.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<s.length;t++)i=e.hasOwnProperty("$"+s[t].value),s[t].selected!==i&&(s[t].selected=i),i&&n&&(s[t].defaultSelected=!0)}else{for(t=""+On(t),e=null,i=0;i<s.length;i++){if(s[i].value===t){s[i].selected=!0,n&&(s[i].defaultSelected=!0);return}e!==null||s[i].disabled||(e=s[i])}e!==null&&(e.selected=!0)}}function AN(s,e,t){if(e!=null&&(e=""+On(e),e!==s.value&&(s.value=e),t==null)){s.defaultValue!==e&&(s.defaultValue=e);return}s.defaultValue=t!=null?""+On(t):""}function NN(s,e,t,n){if(e==null){if(n!=null){if(t!=null)throw Error(B(92));if(Sh(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),e=t}t=On(e),s.defaultValue=t,n=s.textContent,n===t&&n!==""&&n!==null&&(s.value=n),Hb(s)}function zd(s,e){if(e){var t=s.firstChild;if(t&&t===s.lastChild&&t.nodeType===3){t.nodeValue=e;return}}s.textContent=e}var u_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function HS(s,e,t){var n=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?n?s.setProperty(e,""):e==="float"?s.cssFloat="":s[e]="":n?s.setProperty(e,t):typeof t!="number"||t===0||u_.has(e)?e==="float"?s.cssFloat=t:s[e]=(""+t).trim():s[e]=t+"px"}function EN(s,e,t){if(e!=null&&typeof e!="object")throw Error(B(62));if(s=s.style,t!=null){for(var n in t)!t.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?s.setProperty(n,""):n==="float"?s.cssFloat="":s[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&t[i]!==n&&HS(s,i,n)}else for(var a in e)e.hasOwnProperty(a)&&HS(s,a,e[a])}function xw(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),h_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rg(s){return h_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ya(){}var $b=null;function bw(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $c=null,lu=null;function VS(s){var e=Qd(s);if(e&&(s=e.stateNode)){var t=s[zs]||null;e:switch(s=e.stateNode,e.type){case"input":if(Vb(s,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=s;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+In(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==s&&n.form===s.form){var i=n[zs]||null;if(!i)throw Error(B(90));Vb(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<t.length;e++)n=t[e],n.form===s.form&&wN(n)}break e;case"textarea":AN(s,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&ru(s,!!t.multiple,e,!1)}}}var $x=!1;function CN(s,e,t){if($x)return s(e,t);$x=!0;try{var n=s(e);return n}finally{if($x=!1,($c!==null||lu!==null)&&(Nx(),$c&&(e=$c,s=lu,lu=$c=null,VS(e),s)))for(e=0;e<s.length;e++)VS(s[e])}}function cf(s,e){var t=s.stateNode;if(t===null)return null;var n=t[zs]||null;if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(s=s.type,n=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!n;break e;default:s=!1}if(s)return null;if(t&&typeof t!="function")throw Error(B(231,e,typeof t));return t}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yb=!1;if(er)try{var oh={};Object.defineProperty(oh,"passive",{get:function(){Yb=!0}}),window.addEventListener("test",oh,oh),window.removeEventListener("test",oh,oh)}catch{Yb=!1}var ml=null,yw=null,lg=null;function jN(){if(lg)return lg;var s,e=yw,t=e.length,n,i="value"in ml?ml.value:ml.textContent,a=i.length;for(s=0;s<t&&e[s]===i[s];s++);var r=t-s;for(n=1;n<=r&&e[t-n]===i[a-n];n++);return lg=i.slice(s,1<n?1-n:void 0)}function og(s){var e=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&e===13&&(s=13)):s=e,s===10&&(s=13),32<=s||s===13?s:0}function Bp(){return!0}function GS(){return!1}function Us(s){function e(t,n,i,a,r){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var o in s)s.hasOwnProperty(o)&&(t=s[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bp:GS,this.isPropagationStopped=GS,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Bp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Bp)},persist:function(){},isPersistent:Bp}),e}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fx=Us(Sc),fp=Ke({},Sc,{view:0,detail:0}),f_=Us(fp),Yx,qx,ch,mx=Ke({},fp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vw,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ch&&(ch&&s.type==="mousemove"?(Yx=s.screenX-ch.screenX,qx=s.screenY-ch.screenY):qx=Yx=0,ch=s),Yx)},movementY:function(s){return"movementY"in s?s.movementY:qx}}),$S=Us(mx),m_=Ke({},mx,{dataTransfer:0}),p_=Us(m_),g_=Ke({},fp,{relatedTarget:0}),Xx=Us(g_),x_=Ke({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),b_=Us(x_),y_=Ke({},Sc,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),v_=Us(y_),w_=Ke({},Sc,{data:0}),YS=Us(w_),S_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E_(s){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(s):(s=N_[s])?!!e[s]:!1}function vw(){return E_}var C_=Ke({},fp,{key:function(s){if(s.key){var e=S_[s.key]||s.key;if(e!=="Unidentified")return e}return s.type==="keypress"?(s=og(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?A_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vw,charCode:function(s){return s.type==="keypress"?og(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?og(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),j_=Us(C_),T_=Ke({},mx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qS=Us(T_),__=Ke({},fp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vw}),M_=Us(__),D_=Ke({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),k_=Us(D_),R_=Ke({},mx,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),L_=Us(R_),O_=Ke({},Sc,{newState:0,oldState:0}),P_=Us(O_),B_=[9,13,27,32],ww=er&&"CompositionEvent"in window,Xh=null;er&&"documentMode"in document&&(Xh=document.documentMode);var I_=er&&"TextEvent"in window&&!Xh,TN=er&&(!ww||Xh&&8<Xh&&11>=Xh),XS=" ",WS=!1;function _N(s,e){switch(s){case"keyup":return B_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MN(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Yc=!1;function F_(s,e){switch(s){case"compositionend":return MN(e);case"keypress":return e.which!==32?null:(WS=!0,XS);case"textInput":return s=e.data,s===XS&&WS?null:s;default:return null}}function z_(s,e){if(Yc)return s==="compositionend"||!ww&&_N(s,e)?(s=jN(),lg=yw=ml=null,Yc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TN&&e.locale!=="ko"?null:e.data;default:return null}}var U_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KS(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e==="input"?!!U_[s.type]:e==="textarea"}function DN(s,e,t,n){$c?lu?lu.push(n):lu=[n]:$c=n,e=A0(e,"onChange"),0<e.length&&(t=new fx("onChange","change",null,t,n),s.push({event:t,listeners:e}))}var Wh=null,uf=null;function H_(s){CE(s,0)}function px(s){var e=Ah(s);if(wN(e))return s}function QS(s,e){if(s==="change")return e}var kN=!1;if(er){var Wx;if(er){var Kx="oninput"in document;if(!Kx){var ZS=document.createElement("div");ZS.setAttribute("oninput","return;"),Kx=typeof ZS.oninput=="function"}Wx=Kx}else Wx=!1;kN=Wx&&(!document.documentMode||9<document.documentMode)}function JS(){Wh&&(Wh.detachEvent("onpropertychange",RN),uf=Wh=null)}function RN(s){if(s.propertyName==="value"&&px(uf)){var e=[];DN(e,uf,s,bw(s)),CN(H_,e)}}function V_(s,e,t){s==="focusin"?(JS(),Wh=e,uf=t,Wh.attachEvent("onpropertychange",RN)):s==="focusout"&&JS()}function G_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return px(uf)}function $_(s,e){if(s==="click")return px(e)}function Y_(s,e){if(s==="input"||s==="change")return px(e)}function q_(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var yn=typeof Object.is=="function"?Object.is:q_;function df(s,e){if(yn(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;var t=Object.keys(s),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!zb.call(e,i)||!yn(s[i],e[i]))return!1}return!0}function eA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function tA(s,e){var t=eA(s);s=0;for(var n;t;){if(t.nodeType===3){if(n=s+t.textContent.length,s<=e&&n>=e)return{node:t,offset:e-s};s=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=eA(t)}}function LN(s,e){return s&&e?s===e?!0:s&&s.nodeType===3?!1:e&&e.nodeType===3?LN(s,e.parentNode):"contains"in s?s.contains(e):s.compareDocumentPosition?!!(s.compareDocumentPosition(e)&16):!1:!1}function ON(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var e=a0(s.document);e instanceof s.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)s=e.contentWindow;else break;e=a0(s.document)}return e}function Sw(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e&&(e==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||e==="textarea"||s.contentEditable==="true")}var X_=er&&"documentMode"in document&&11>=document.documentMode,qc=null,qb=null,Kh=null,Xb=!1;function sA(s,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Xb||qc==null||qc!==a0(n)||(n=qc,"selectionStart"in n&&Sw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kh&&df(Kh,n)||(Kh=n,n=A0(qb,"onSelect"),0<n.length&&(e=new fx("onSelect","select",null,e,t),s.push({event:e,listeners:n}),e.target=qc)))}function Il(s,e){var t={};return t[s.toLowerCase()]=e.toLowerCase(),t["Webkit"+s]="webkit"+e,t["Moz"+s]="moz"+e,t}var Xc={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionrun:Il("Transition","TransitionRun"),transitionstart:Il("Transition","TransitionStart"),transitioncancel:Il("Transition","TransitionCancel"),transitionend:Il("Transition","TransitionEnd")},Qx={},PN={};er&&(PN=document.createElement("div").style,"AnimationEvent"in window||(delete Xc.animationend.animation,delete Xc.animationiteration.animation,delete Xc.animationstart.animation),"TransitionEvent"in window||delete Xc.transitionend.transition);function Ac(s){if(Qx[s])return Qx[s];if(!Xc[s])return s;var e=Xc[s],t;for(t in e)if(e.hasOwnProperty(t)&&t in PN)return Qx[s]=e[t];return s}var BN=Ac("animationend"),IN=Ac("animationiteration"),FN=Ac("animationstart"),W_=Ac("transitionrun"),K_=Ac("transitionstart"),Q_=Ac("transitioncancel"),zN=Ac("transitionend"),UN=new Map,Wb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wb.push("scrollEnd");function fi(s,e){UN.set(s,e),wc(e,[s])}var r0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ln=[],Wc=0,Aw=0;function gx(){for(var s=Wc,e=Aw=Wc=0;e<s;){var t=Ln[e];Ln[e++]=null;var n=Ln[e];Ln[e++]=null;var i=Ln[e];Ln[e++]=null;var a=Ln[e];if(Ln[e++]=null,n!==null&&i!==null){var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}a!==0&&HN(t,i,a)}}function xx(s,e,t,n){Ln[Wc++]=s,Ln[Wc++]=e,Ln[Wc++]=t,Ln[Wc++]=n,Aw|=n,s.lanes|=n,s=s.alternate,s!==null&&(s.lanes|=n)}function Nw(s,e,t,n){return xx(s,e,t,n),l0(s)}function Nc(s,e){return xx(s,null,null,e),l0(s)}function HN(s,e,t){s.lanes|=t;var n=s.alternate;n!==null&&(n.lanes|=t);for(var i=!1,a=s.return;a!==null;)a.childLanes|=t,n=a.alternate,n!==null&&(n.childLanes|=t),a.tag===22&&(s=a.stateNode,s===null||s._visibility&1||(i=!0)),s=a,a=a.return;return s.tag===3?(a=s.stateNode,i&&e!==null&&(i=31-gn(t),s=a.hiddenUpdates,n=s[i],n===null?s[i]=[e]:n.push(e),e.lane=t|536870912),a):null}function l0(s){if(50<rf)throw rf=0,gy=null,Error(B(185));for(var e=s.return;e!==null;)s=e,e=s.return;return s.tag===3?s.stateNode:null}var Kc={};function Z_(s,e,t,n){this.tag=s,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(s,e,t,n){return new Z_(s,e,t,n)}function Ew(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xa(s,e){var t=s.alternate;return t===null?(t=hn(s.tag,e,s.key,s.mode),t.elementType=s.elementType,t.type=s.type,t.stateNode=s.stateNode,t.alternate=s,s.alternate=t):(t.pendingProps=e,t.type=s.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=s.flags&65011712,t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,e=s.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=s.sibling,t.index=s.index,t.ref=s.ref,t.refCleanup=s.refCleanup,t}function VN(s,e){s.flags&=65011714;var t=s.alternate;return t===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,s.type=t.type,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s}function cg(s,e,t,n,i,a){var r=0;if(n=s,typeof s=="function")Ew(s)&&(r=1);else if(typeof s=="string")r=nD(s,t,Gi.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Pb:return s=hn(31,t,e,i),s.elementType=Pb,s.lanes=a,s;case Hc:return cc(t.children,i,a,e);case oN:r=8,i|=24;break;case Rb:return s=hn(12,t,e,i|2),s.elementType=Rb,s.lanes=a,s;case Lb:return s=hn(13,t,e,i),s.elementType=Lb,s.lanes=a,s;case Ob:return s=hn(19,t,e,i),s.elementType=Ob,s.lanes=a,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $a:r=10;break e;case cN:r=9;break e;case dw:r=11;break e;case hw:r=14;break e;case hr:r=16,n=null;break e}r=29,t=Error(B(130,s===null?"null":typeof s,"")),n=null}return e=hn(r,t,e,i),e.elementType=s,e.type=n,e.lanes=a,e}function cc(s,e,t,n){return s=hn(7,s,n,e),s.lanes=t,s}function Zx(s,e,t){return s=hn(6,s,null,e),s.lanes=t,s}function GN(s){var e=hn(18,null,null,0);return e.stateNode=s,e}function Jx(s,e,t){return e=hn(4,s.children!==null?s.children:[],s.key,e),e.lanes=t,e.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},e}var nA=new WeakMap;function Fn(s,e){if(typeof s=="object"&&s!==null){var t=nA.get(s);return t!==void 0?t:(e={value:s,source:e,stack:BS(e)},nA.set(s,e),e)}return{value:s,source:e,stack:BS(e)}}var Qc=[],Zc=0,o0=null,hf=0,Pn=[],Bn=0,jl=null,Ui=1,Hi="";function oa(s,e){Qc[Zc++]=hf,Qc[Zc++]=o0,o0=s,hf=e}function $N(s,e,t){Pn[Bn++]=Ui,Pn[Bn++]=Hi,Pn[Bn++]=jl,jl=s;var n=Ui;s=Hi;var i=32-gn(n)-1;n&=~(1<<i),t+=1;var a=32-gn(e)+i;if(30<a){var r=i-i%5;a=(n&(1<<r)-1).toString(32),n>>=r,i-=r,Ui=1<<32-gn(e)+i|t<<i|n,Hi=a+s}else Ui=1<<a|t<<i|n,Hi=s}function Cw(s){s.return!==null&&(oa(s,1),$N(s,1,0))}function jw(s){for(;s===o0;)o0=Qc[--Zc],Qc[Zc]=null,hf=Qc[--Zc],Qc[Zc]=null;for(;s===jl;)jl=Pn[--Bn],Pn[Bn]=null,Hi=Pn[--Bn],Pn[Bn]=null,Ui=Pn[--Bn],Pn[Bn]=null}function YN(s,e){Pn[Bn++]=Ui,Pn[Bn++]=Hi,Pn[Bn++]=jl,Ui=e.id,Hi=e.overflow,jl=s}var es=null,Xe=null,ye=!1,yl=null,zn=!1,Kb=Error(B(519));function Tl(s){var e=Error(B(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ff(Fn(e,s)),Kb}function iA(s){var e=s.stateNode,t=s.type,n=s.memoizedProps;switch(e[Jt]=s,e[zs]=n,t){case"dialog":me("cancel",e),me("close",e);break;case"iframe":case"object":case"embed":me("load",e);break;case"video":case"audio":for(t=0;t<xf.length;t++)me(xf[t],e);break;case"source":me("error",e);break;case"img":case"image":case"link":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"input":me("invalid",e),SN(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":me("invalid",e);break;case"textarea":me("invalid",e),NN(e,n.value,n.defaultValue,n.children)}t=n.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||n.suppressHydrationWarning===!0||TE(e.textContent,t)?(n.popover!=null&&(me("beforetoggle",e),me("toggle",e)),n.onScroll!=null&&me("scroll",e),n.onScrollEnd!=null&&me("scrollend",e),n.onClick!=null&&(e.onclick=Ya),e=!0):e=!1,e||Tl(s,!0)}function aA(s){for(es=s.return;es;)switch(es.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:es=es.return}}function Tc(s){if(s!==es)return!1;if(!ye)return aA(s),ye=!0,!1;var e=s.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=s.type,t=!(t!=="form"&&t!=="button")||wy(s.type,s.memoizedProps)),t=!t),t&&Xe&&Tl(s),aA(s),e===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));Xe=$A(s)}else if(e===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));Xe=$A(s)}else e===27?(e=Xe,Pl(s.type)?(s=Ey,Ey=null,Xe=s):Xe=e):Xe=es?Gn(s.stateNode.nextSibling):null;return!0}function fc(){Xe=es=null,ye=!1}function eb(){var s=yl;return s!==null&&(Bs===null?Bs=s:Bs.push.apply(Bs,s),yl=null),s}function ff(s){yl===null?yl=[s]:yl.push(s)}var Qb=Xi(null),Ec=null,qa=null;function mr(s,e,t){$e(Qb,e._currentValue),e._currentValue=t}function Wa(s){s._currentValue=Qb.current,Vt(Qb)}function Zb(s,e,t){for(;s!==null;){var n=s.alternate;if((s.childLanes&e)!==e?(s.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),s===t)break;s=s.return}}function Jb(s,e,t,n){var i=s.child;for(i!==null&&(i.return=s);i!==null;){var a=i.dependencies;if(a!==null){var r=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var u=0;u<e.length;u++)if(o.context===e[u]){a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),Zb(a.return,t,s),n||(r=null);break e}a=o.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(B(341));r.lanes|=t,a=r.alternate,a!==null&&(a.lanes|=t),Zb(r,t,s),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===s){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function Zd(s,e,t,n){s=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(B(387));if(r=r.memoizedProps,r!==null){var o=i.type;yn(i.pendingProps.value,r.value)||(s!==null?s.push(o):s=[o])}}else if(i===t0.current){if(r=i.alternate,r===null)throw Error(B(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(s!==null?s.push(yf):s=[yf])}i=i.return}s!==null&&Jb(e,s,t,n),e.flags|=262144}function c0(s){for(s=s.firstContext;s!==null;){if(!yn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function mc(s){Ec=s,qa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ss(s){return qN(Ec,s)}function Ip(s,e){return Ec===null&&mc(s),qN(s,e)}function qN(s,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},qa===null){if(s===null)throw Error(B(308));qa=e,s.dependencies={lanes:0,firstContext:e},s.flags|=524288}else qa=qa.next=e;return t}var J_=typeof AbortController<"u"?AbortController:function(){var s=[],e=this.signal={aborted:!1,addEventListener:function(t,n){s.push(n)}};this.abort=function(){e.aborted=!0,s.forEach(function(t){return t()})}},eM=Rt.unstable_scheduleCallback,tM=Rt.unstable_NormalPriority,At={$$typeof:$a,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tw(){return{controller:new J_,data:new Map,refCount:0}}function mp(s){s.refCount--,s.refCount===0&&eM(tM,function(){s.controller.abort()})}var Qh=null,ey=0,Ud=0,ou=null;function sM(s,e){if(Qh===null){var t=Qh=[];ey=0,Ud=Jw(),ou={status:"pending",value:void 0,then:function(n){t.push(n)}}}return ey++,e.then(rA,rA),e}function rA(){if(--ey===0&&Qh!==null){ou!==null&&(ou.status="fulfilled");var s=Qh;Qh=null,Ud=0,ou=null;for(var e=0;e<s.length;e++)(0,s[e])()}}function nM(s,e){var t=[],n={status:"pending",value:null,reason:null,then:function(i){t.push(i)}};return s.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<t.length;i++)(0,t[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<t.length;i++)(0,t[i])(void 0)}),n}var lA=J.S;J.S=function(s,e){lE=mn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&sM(s,e),lA!==null&&lA(s,e)};var uc=Xi(null);function _w(){var s=uc.current;return s!==null?s:He.pooledCache}function ug(s,e){e===null?$e(uc,uc.current):$e(uc,e.pool)}function XN(){var s=_w();return s===null?null:{parent:At._currentValue,pool:s}}var Jd=Error(B(460)),Mw=Error(B(474)),bx=Error(B(542)),u0={then:function(){}};function oA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function WN(s,e,t){switch(t=s[t],t===void 0?s.push(e):t!==e&&(e.then(Ya,Ya),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw s=e.reason,uA(s),s;default:if(typeof e.status=="string")e.then(Ya,Ya);else{if(s=He,s!==null&&100<s.shellSuspendCounter)throw Error(B(482));s=e,s.status="pending",s.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw s=e.reason,uA(s),s}throw dc=e,Jd}}function Ul(s){try{var e=s._init;return e(s._payload)}catch(t){throw t!==null&&typeof t=="object"&&typeof t.then=="function"?(dc=t,Jd):t}}var dc=null;function cA(){if(dc===null)throw Error(B(459));var s=dc;return dc=null,s}function uA(s){if(s===Jd||s===bx)throw Error(B(483))}var cu=null,mf=0;function Fp(s){var e=mf;return mf+=1,cu===null&&(cu=[]),WN(cu,s,e)}function uh(s,e){e=e.props.ref,s.ref=e!==void 0?e:null}function zp(s,e){throw e.$$typeof===VT?Error(B(525)):(s=Object.prototype.toString.call(e),Error(B(31,s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)))}function KN(s){function e(x,v){if(s){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function t(x,v){if(!s)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function n(x){for(var v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(x,v){return x=Xa(x,v),x.index=0,x.sibling=null,x}function a(x,v,w){return x.index=w,s?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=67108866,v):w):(x.flags|=67108866,v)):(x.flags|=1048576,v)}function r(x){return s&&x.alternate===null&&(x.flags|=67108866),x}function o(x,v,w,E){return v===null||v.tag!==6?(v=Zx(w,x.mode,E),v.return=x,v):(v=i(v,w),v.return=x,v)}function u(x,v,w,E){var j=w.type;return j===Hc?h(x,v,w.props.children,E,w.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hr&&Ul(j)===v.type)?(v=i(v,w.props),uh(v,w),v.return=x,v):(v=cg(w.type,w.key,w.props,null,x.mode,E),uh(v,w),v.return=x,v)}function d(x,v,w,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Jx(w,x.mode,E),v.return=x,v):(v=i(v,w.children||[]),v.return=x,v)}function h(x,v,w,E,j){return v===null||v.tag!==7?(v=cc(w,x.mode,E,j),v.return=x,v):(v=i(v,w),v.return=x,v)}function f(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Zx(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kp:return w=cg(v.type,v.key,v.props,null,x.mode,w),uh(w,v),w.return=x,w;case wh:return v=Jx(v,x.mode,w),v.return=x,v;case hr:return v=Ul(v),f(x,v,w)}if(Sh(v)||lh(v))return v=cc(v,x.mode,w,null),v.return=x,v;if(typeof v.then=="function")return f(x,Fp(v),w);if(v.$$typeof===$a)return f(x,Ip(x,v),w);zp(x,v)}return null}function m(x,v,w,E){var j=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return j!==null?null:o(x,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case kp:return w.key===j?u(x,v,w,E):null;case wh:return w.key===j?d(x,v,w,E):null;case hr:return w=Ul(w),m(x,v,w,E)}if(Sh(w)||lh(w))return j!==null?null:h(x,v,w,E,null);if(typeof w.then=="function")return m(x,v,Fp(w),E);if(w.$$typeof===$a)return m(x,v,Ip(x,w),E);zp(x,w)}return null}function p(x,v,w,E,j){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return x=x.get(w)||null,o(v,x,""+E,j);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case kp:return x=x.get(E.key===null?w:E.key)||null,u(v,x,E,j);case wh:return x=x.get(E.key===null?w:E.key)||null,d(v,x,E,j);case hr:return E=Ul(E),p(x,v,w,E,j)}if(Sh(E)||lh(E))return x=x.get(w)||null,h(v,x,E,j,null);if(typeof E.then=="function")return p(x,v,w,Fp(E),j);if(E.$$typeof===$a)return p(x,v,w,Ip(v,E),j);zp(v,E)}return null}function y(x,v,w,E){for(var j=null,T=null,C=v,_=v=0,D=null;C!==null&&_<w.length;_++){C.index>_?(D=C,C=null):D=C.sibling;var k=m(x,C,w[_],E);if(k===null){C===null&&(C=D);break}s&&C&&k.alternate===null&&e(x,C),v=a(k,v,_),T===null?j=k:T.sibling=k,T=k,C=D}if(_===w.length)return t(x,C),ye&&oa(x,_),j;if(C===null){for(;_<w.length;_++)C=f(x,w[_],E),C!==null&&(v=a(C,v,_),T===null?j=C:T.sibling=C,T=C);return ye&&oa(x,_),j}for(C=n(C);_<w.length;_++)D=p(C,x,_,w[_],E),D!==null&&(s&&D.alternate!==null&&C.delete(D.key===null?_:D.key),v=a(D,v,_),T===null?j=D:T.sibling=D,T=D);return s&&C.forEach(function(R){return e(x,R)}),ye&&oa(x,_),j}function b(x,v,w,E){if(w==null)throw Error(B(151));for(var j=null,T=null,C=v,_=v=0,D=null,k=w.next();C!==null&&!k.done;_++,k=w.next()){C.index>_?(D=C,C=null):D=C.sibling;var R=m(x,C,k.value,E);if(R===null){C===null&&(C=D);break}s&&C&&R.alternate===null&&e(x,C),v=a(R,v,_),T===null?j=R:T.sibling=R,T=R,C=D}if(k.done)return t(x,C),ye&&oa(x,_),j;if(C===null){for(;!k.done;_++,k=w.next())k=f(x,k.value,E),k!==null&&(v=a(k,v,_),T===null?j=k:T.sibling=k,T=k);return ye&&oa(x,_),j}for(C=n(C);!k.done;_++,k=w.next())k=p(C,x,_,k.value,E),k!==null&&(s&&k.alternate!==null&&C.delete(k.key===null?_:k.key),v=a(k,v,_),T===null?j=k:T.sibling=k,T=k);return s&&C.forEach(function(L){return e(x,L)}),ye&&oa(x,_),j}function A(x,v,w,E){if(typeof w=="object"&&w!==null&&w.type===Hc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case kp:e:{for(var j=w.key;v!==null;){if(v.key===j){if(j=w.type,j===Hc){if(v.tag===7){t(x,v.sibling),E=i(v,w.props.children),E.return=x,x=E;break e}}else if(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hr&&Ul(j)===v.type){t(x,v.sibling),E=i(v,w.props),uh(E,w),E.return=x,x=E;break e}t(x,v);break}else e(x,v);v=v.sibling}w.type===Hc?(E=cc(w.props.children,x.mode,E,w.key),E.return=x,x=E):(E=cg(w.type,w.key,w.props,null,x.mode,E),uh(E,w),E.return=x,x=E)}return r(x);case wh:e:{for(j=w.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){t(x,v.sibling),E=i(v,w.children||[]),E.return=x,x=E;break e}else{t(x,v);break}else e(x,v);v=v.sibling}E=Jx(w,x.mode,E),E.return=x,x=E}return r(x);case hr:return w=Ul(w),A(x,v,w,E)}if(Sh(w))return y(x,v,w,E);if(lh(w)){if(j=lh(w),typeof j!="function")throw Error(B(150));return w=j.call(w),b(x,v,w,E)}if(typeof w.then=="function")return A(x,v,Fp(w),E);if(w.$$typeof===$a)return A(x,v,Ip(x,w),E);zp(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(t(x,v.sibling),E=i(v,w),E.return=x,x=E):(t(x,v),E=Zx(w,x.mode,E),E.return=x,x=E),r(x)):t(x,v)}return function(x,v,w,E){try{mf=0;var j=A(x,v,w,E);return cu=null,j}catch(C){if(C===Jd||C===bx)throw C;var T=hn(29,C,null,x.mode);return T.lanes=E,T.return=x,T}finally{}}}var pc=KN(!0),QN=KN(!1),fr=!1;function Dw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ty(s,e){s=s.updateQueue,e.updateQueue===s&&(e.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function vl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wl(s,e,t){var n=s.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=l0(s),HN(s,null,t),e}return xx(s,n,e,t),l0(s)}function Zh(s,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var n=e.lanes;n&=s.pendingLanes,t|=n,e.lanes=t,pN(s,t)}}function tb(s,e){var t=s.updateQueue,n=s.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var r={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};a===null?i=a=r:a=a.next=r,t=t.next}while(t!==null);a===null?i=a=e:a=a.next=e}else i=a=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},s.updateQueue=t;return}s=t.lastBaseUpdate,s===null?t.firstBaseUpdate=e:s.next=e,t.lastBaseUpdate=e}var sy=!1;function Jh(){if(sy){var s=ou;if(s!==null)throw s}}function ef(s,e,t,n){sy=!1;var i=s.updateQueue;fr=!1;var a=i.firstBaseUpdate,r=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,d=u.next;u.next=null,r===null?a=d:r.next=d,r=u;var h=s.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==r&&(o===null?h.firstBaseUpdate=d:o.next=d,h.lastBaseUpdate=u))}if(a!==null){var f=i.baseState;r=0,h=d=u=null,o=a;do{var m=o.lane&-536870913,p=m!==o.lane;if(p?(ge&m)===m:(n&m)===m){m!==0&&m===Ud&&(sy=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var y=s,b=o;m=e;var A=t;switch(b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(A,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,m=typeof y=="function"?y.call(A,f,m):y,m==null)break e;f=Ke({},f,m);break e;case 2:fr=!0}}m=o.callback,m!==null&&(s.flags|=64,p&&(s.flags|=8192),p=i.callbacks,p===null?i.callbacks=[m]:p.push(m))}else p={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(d=h=p,u=f):h=h.next=p,r|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=h,a===null&&(i.shared.lanes=0),Ml|=r,s.lanes=r,s.memoizedState=f}}function ZN(s,e){if(typeof s!="function")throw Error(B(191,s));s.call(e)}function JN(s,e){var t=s.callbacks;if(t!==null)for(s.callbacks=null,s=0;s<t.length;s++)ZN(t[s],e)}var Hd=Xi(null),d0=Xi(0);function dA(s,e){s=ir,$e(d0,s),$e(Hd,e),ir=s|e.baseLanes}function ny(){$e(d0,ir),$e(Hd,Hd.current)}function kw(){ir=d0.current,Vt(Hd),Vt(d0)}var vn=Xi(null),Vn=null;function pr(s){var e=s.alternate;$e(gt,gt.current&1),$e(vn,s),Vn===null&&(e===null||Hd.current!==null||e.memoizedState!==null)&&(Vn=s)}function iy(s){$e(gt,gt.current),$e(vn,s),Vn===null&&(Vn=s)}function e2(s){s.tag===22?($e(gt,gt.current),$e(vn,s),Vn===null&&(Vn=s)):gr()}function gr(){$e(gt,gt.current),$e(vn,vn.current)}function un(s){Vt(vn),Vn===s&&(Vn=null),Vt(gt)}var gt=Xi(0);function h0(s){for(var e=s;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||Ay(t)||Ny(t)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tr=0,oe=null,Pe=null,wt=null,f0=!1,uu=!1,gc=!1,m0=0,pf=0,du=null,iM=0;function lt(){throw Error(B(321))}function Rw(s,e){if(e===null)return!1;for(var t=0;t<e.length&&t<s.length;t++)if(!yn(s[t],e[t]))return!1;return!0}function Lw(s,e,t,n,i,a){return tr=a,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J.H=s===null||s.memoizedState===null?D2:$w,gc=!1,a=t(n,i),gc=!1,uu&&(a=s2(e,t,n,i)),t2(s),a}function t2(s){J.H=gf;var e=Pe!==null&&Pe.next!==null;if(tr=0,wt=Pe=oe=null,f0=!1,pf=0,du=null,e)throw Error(B(300));s===null||Nt||(s=s.dependencies,s!==null&&c0(s)&&(Nt=!0))}function s2(s,e,t,n){oe=s;var i=0;do{if(uu&&(du=null),pf=0,uu=!1,25<=i)throw Error(B(301));if(i+=1,wt=Pe=null,s.updateQueue!=null){var a=s.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}J.H=k2,a=e(t,n)}while(uu);return a}function aM(){var s=J.H,e=s.useState()[0];return e=typeof e.then=="function"?pp(e):e,s=s.useState()[0],(Pe!==null?Pe.memoizedState:null)!==s&&(oe.flags|=1024),e}function Ow(){var s=m0!==0;return m0=0,s}function Pw(s,e,t){e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~t}function Bw(s){if(f0){for(s=s.memoizedState;s!==null;){var e=s.queue;e!==null&&(e.pending=null),s=s.next}f0=!1}tr=0,wt=Pe=oe=null,uu=!1,pf=m0=0,du=null}function xs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?oe.memoizedState=wt=s:wt=wt.next=s,wt}function xt(){if(Pe===null){var s=oe.alternate;s=s!==null?s.memoizedState:null}else s=Pe.next;var e=wt===null?oe.memoizedState:wt.next;if(e!==null)wt=e,Pe=s;else{if(s===null)throw oe.alternate===null?Error(B(467)):Error(B(310));Pe=s,s={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},wt===null?oe.memoizedState=wt=s:wt=wt.next=s}return wt}function yx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pp(s){var e=pf;return pf+=1,du===null&&(du=[]),s=WN(du,s,e),e=oe,(wt===null?e.memoizedState:wt.next)===null&&(e=e.alternate,J.H=e===null||e.memoizedState===null?D2:$w),s}function vx(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return pp(s);if(s.$$typeof===$a)return ss(s)}throw Error(B(438,String(s)))}function Iw(s){var e=null,t=oe.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var n=oe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=yx(),oe.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(s),n=0;n<s;n++)t[n]=GT;return e.index++,t}function sr(s,e){return typeof e=="function"?e(s):e}function dg(s){var e=xt();return Fw(e,Pe,s)}function Fw(s,e,t){var n=s.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var r=i.next;i.next=a.next,a.next=r}e.baseQueue=i=a,n.pending=null}if(a=s.baseState,i===null)s.memoizedState=a;else{e=i.next;var o=r=null,u=null,d=e,h=!1;do{var f=d.lane&-536870913;if(f!==d.lane?(ge&f)===f:(tr&f)===f){var m=d.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),f===Ud&&(h=!0);else if((tr&m)===m){d=d.next,m===Ud&&(h=!0);continue}else f={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(o=u=f,r=a):u=u.next=f,oe.lanes|=m,Ml|=m;f=d.action,gc&&t(a,f),a=d.hasEagerState?d.eagerState:t(a,f)}else m={lane:f,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(o=u=m,r=a):u=u.next=m,oe.lanes|=f,Ml|=f;d=d.next}while(d!==null&&d!==e);if(u===null?r=a:u.next=o,!yn(a,s.memoizedState)&&(Nt=!0,h&&(t=ou,t!==null)))throw t;s.memoizedState=a,s.baseState=r,s.baseQueue=u,n.lastRenderedState=a}return i===null&&(n.lanes=0),[s.memoizedState,n.dispatch]}function sb(s){var e=xt(),t=e.queue;if(t===null)throw Error(B(311));t.lastRenderedReducer=s;var n=t.dispatch,i=t.pending,a=e.memoizedState;if(i!==null){t.pending=null;var r=i=i.next;do a=s(a,r.action),r=r.next;while(r!==i);yn(a,e.memoizedState)||(Nt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),t.lastRenderedState=a}return[a,n]}function n2(s,e,t){var n=oe,i=xt(),a=ye;if(a){if(t===void 0)throw Error(B(407));t=t()}else t=e();var r=!yn((Pe||i).memoizedState,t);if(r&&(i.memoizedState=t,Nt=!0),i=i.queue,zw(r2.bind(null,n,i,s),[s]),i.getSnapshot!==e||r||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Vd(9,{destroy:void 0},a2.bind(null,n,i,t,e),null),He===null)throw Error(B(349));a||tr&127||i2(n,e,t)}return t}function i2(s,e,t){s.flags|=16384,s={getSnapshot:e,value:t},e=oe.updateQueue,e===null?(e=yx(),oe.updateQueue=e,e.stores=[s]):(t=e.stores,t===null?e.stores=[s]:t.push(s))}function a2(s,e,t,n){e.value=t,e.getSnapshot=n,l2(e)&&o2(s)}function r2(s,e,t){return t(function(){l2(e)&&o2(s)})}function l2(s){var e=s.getSnapshot;s=s.value;try{var t=e();return!yn(s,t)}catch{return!0}}function o2(s){var e=Nc(s,2);e!==null&&Fs(e,s,2)}function ay(s){var e=xs();if(typeof s=="function"){var t=s;if(s=t(),gc){fl(!0);try{t()}finally{fl(!1)}}}return e.memoizedState=e.baseState=s,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:s},e}function c2(s,e,t,n){return s.baseState=t,Fw(s,Pe,typeof n=="function"?n:sr)}function rM(s,e,t,n,i){if(Sx(s))throw Error(B(485));if(s=e.action,s!==null){var a={payload:i,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};J.T!==null?t(!0):a.isTransition=!1,n(a),t=e.pending,t===null?(a.next=e.pending=a,u2(e,a)):(a.next=t.next,e.pending=t.next=a)}}function u2(s,e){var t=e.action,n=e.payload,i=s.state;if(e.isTransition){var a=J.T,r={};J.T=r;try{var o=t(i,n),u=J.S;u!==null&&u(r,o),hA(s,e,o)}catch(d){ry(s,e,d)}finally{a!==null&&r.types!==null&&(a.types=r.types),J.T=a}}else try{a=t(i,n),hA(s,e,a)}catch(d){ry(s,e,d)}}function hA(s,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(n){fA(s,e,n)},function(n){return ry(s,e,n)}):fA(s,e,t)}function fA(s,e,t){e.status="fulfilled",e.value=t,d2(e),s.state=t,e=s.pending,e!==null&&(t=e.next,t===e?s.pending=null:(t=t.next,e.next=t,u2(s,t)))}function ry(s,e,t){var n=s.pending;if(s.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=t,d2(e),e=e.next;while(e!==n)}s.action=null}function d2(s){s=s.listeners;for(var e=0;e<s.length;e++)(0,s[e])()}function h2(s,e){return e}function mA(s,e){if(ye){var t=He.formState;if(t!==null){e:{var n=oe;if(ye){if(Xe){t:{for(var i=Xe,a=zn;i.nodeType!==8;){if(!a){i=null;break t}if(i=Gn(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Xe=Gn(i.nextSibling),n=i.data==="F!";break e}}Tl(n)}n=!1}n&&(e=t[0])}}return t=xs(),t.memoizedState=t.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h2,lastRenderedState:e},t.queue=n,t=T2.bind(null,oe,n),n.dispatch=t,n=ay(!1),a=Gw.bind(null,oe,!1,n.queue),n=xs(),i={state:e,dispatch:null,action:s,pending:null},n.queue=i,t=rM.bind(null,oe,i,a,t),i.dispatch=t,n.memoizedState=s,[e,t,!1]}function pA(s){var e=xt();return f2(e,Pe,s)}function f2(s,e,t){if(e=Fw(s,e,h2)[0],s=dg(sr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=pp(e)}catch(r){throw r===Jd?bx:r}else n=e;e=xt();var i=e.queue,a=i.dispatch;return t!==e.memoizedState&&(oe.flags|=2048,Vd(9,{destroy:void 0},lM.bind(null,i,t),null)),[n,a,s]}function lM(s,e){s.action=e}function gA(s){var e=xt(),t=Pe;if(t!==null)return f2(e,t,s);xt(),e=e.memoizedState,t=xt();var n=t.queue.dispatch;return t.memoizedState=s,[e,n,!1]}function Vd(s,e,t,n){return s={tag:s,create:t,deps:n,inst:e,next:null},e=oe.updateQueue,e===null&&(e=yx(),oe.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=s.next=s:(n=t.next,t.next=s,s.next=n,e.lastEffect=s),s}function m2(){return xt().memoizedState}function hg(s,e,t,n){var i=xs();oe.flags|=s,i.memoizedState=Vd(1|e,{destroy:void 0},t,n===void 0?null:n)}function wx(s,e,t,n){var i=xt();n=n===void 0?null:n;var a=i.memoizedState.inst;Pe!==null&&n!==null&&Rw(n,Pe.memoizedState.deps)?i.memoizedState=Vd(e,a,t,n):(oe.flags|=s,i.memoizedState=Vd(1|e,a,t,n))}function xA(s,e){hg(8390656,8,s,e)}function zw(s,e){wx(2048,8,s,e)}function oM(s){oe.flags|=4;var e=oe.updateQueue;if(e===null)e=yx(),oe.updateQueue=e,e.events=[s];else{var t=e.events;t===null?e.events=[s]:t.push(s)}}function p2(s){var e=xt().memoizedState;return oM({ref:e,nextImpl:s}),function(){if(Ne&2)throw Error(B(440));return e.impl.apply(void 0,arguments)}}function g2(s,e){return wx(4,2,s,e)}function x2(s,e){return wx(4,4,s,e)}function b2(s,e){if(typeof e=="function"){s=s();var t=e(s);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return s=s(),e.current=s,function(){e.current=null}}function y2(s,e,t){t=t!=null?t.concat([s]):null,wx(4,4,b2.bind(null,e,s),t)}function Uw(){}function v2(s,e){var t=xt();e=e===void 0?null:e;var n=t.memoizedState;return e!==null&&Rw(e,n[1])?n[0]:(t.memoizedState=[s,e],s)}function w2(s,e){var t=xt();e=e===void 0?null:e;var n=t.memoizedState;if(e!==null&&Rw(e,n[1]))return n[0];if(n=s(),gc){fl(!0);try{s()}finally{fl(!1)}}return t.memoizedState=[n,e],n}function Hw(s,e,t){return t===void 0||tr&1073741824&&!(ge&261930)?s.memoizedState=e:(s.memoizedState=t,s=cE(),oe.lanes|=s,Ml|=s,t)}function S2(s,e,t,n){return yn(t,e)?t:Hd.current!==null?(s=Hw(s,t,n),yn(s,e)||(Nt=!0),s):!(tr&42)||tr&1073741824&&!(ge&261930)?(Nt=!0,s.memoizedState=t):(s=cE(),oe.lanes|=s,Ml|=s,e)}function A2(s,e,t,n,i){var a=Ee.p;Ee.p=a!==0&&8>a?a:8;var r=J.T,o={};J.T=o,Gw(s,!1,e,t);try{var u=i(),d=J.S;if(d!==null&&d(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=nM(u,n);tf(s,e,h,xn(s))}else tf(s,e,n,xn(s))}catch(f){tf(s,e,{then:function(){},status:"rejected",reason:f},xn())}finally{Ee.p=a,r!==null&&o.types!==null&&(r.types=o.types),J.T=r}}function cM(){}function ly(s,e,t,n){if(s.tag!==5)throw Error(B(476));var i=N2(s).queue;A2(s,i,e,oc,t===null?cM:function(){return E2(s),t(n)})}function N2(s){var e=s.memoizedState;if(e!==null)return e;e={memoizedState:oc,baseState:oc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:oc},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:t},next:null},s.memoizedState=e,s=s.alternate,s!==null&&(s.memoizedState=e),e}function E2(s){var e=N2(s);e.next===null&&(e=s.alternate.memoizedState),tf(s,e.next.queue,{},xn())}function Vw(){return ss(yf)}function C2(){return xt().memoizedState}function j2(){return xt().memoizedState}function uM(s){for(var e=s.return;e!==null;){switch(e.tag){case 24:case 3:var t=xn();s=vl(t);var n=wl(e,s,t);n!==null&&(Fs(n,e,t),Zh(n,e,t)),e={cache:Tw()},s.payload=e;return}e=e.return}}function dM(s,e,t){var n=xn();t={lane:n,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null},Sx(s)?_2(e,t):(t=Nw(s,e,t,n),t!==null&&(Fs(t,s,n),M2(t,e,n)))}function T2(s,e,t){var n=xn();tf(s,e,t,n)}function tf(s,e,t,n){var i={lane:n,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null};if(Sx(s))_2(e,i);else{var a=s.alternate;if(s.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,o=a(r,t);if(i.hasEagerState=!0,i.eagerState=o,yn(o,r))return xx(s,e,i,0),He===null&&gx(),!1}catch{}finally{}if(t=Nw(s,e,i,n),t!==null)return Fs(t,s,n),M2(t,e,n),!0}return!1}function Gw(s,e,t,n){if(n={lane:2,revertLane:Jw(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Sx(s)){if(e)throw Error(B(479))}else e=Nw(s,t,n,2),e!==null&&Fs(e,s,2)}function Sx(s){var e=s.alternate;return s===oe||e!==null&&e===oe}function _2(s,e){uu=f0=!0;var t=s.pending;t===null?e.next=e:(e.next=t.next,t.next=e),s.pending=e}function M2(s,e,t){if(t&4194048){var n=e.lanes;n&=s.pendingLanes,t|=n,e.lanes=t,pN(s,t)}}var gf={readContext:ss,use:vx,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};gf.useEffectEvent=lt;var D2={readContext:ss,use:vx,useCallback:function(s,e){return xs().memoizedState=[s,e===void 0?null:e],s},useContext:ss,useEffect:xA,useImperativeHandle:function(s,e,t){t=t!=null?t.concat([s]):null,hg(4194308,4,b2.bind(null,e,s),t)},useLayoutEffect:function(s,e){return hg(4194308,4,s,e)},useInsertionEffect:function(s,e){hg(4,2,s,e)},useMemo:function(s,e){var t=xs();e=e===void 0?null:e;var n=s();if(gc){fl(!0);try{s()}finally{fl(!1)}}return t.memoizedState=[n,e],n},useReducer:function(s,e,t){var n=xs();if(t!==void 0){var i=t(e);if(gc){fl(!0);try{t(e)}finally{fl(!1)}}}else i=e;return n.memoizedState=n.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},n.queue=s,s=s.dispatch=dM.bind(null,oe,s),[n.memoizedState,s]},useRef:function(s){var e=xs();return s={current:s},e.memoizedState=s},useState:function(s){s=ay(s);var e=s.queue,t=T2.bind(null,oe,e);return e.dispatch=t,[s.memoizedState,t]},useDebugValue:Uw,useDeferredValue:function(s,e){var t=xs();return Hw(t,s,e)},useTransition:function(){var s=ay(!1);return s=A2.bind(null,oe,s.queue,!0,!1),xs().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,e,t){var n=oe,i=xs();if(ye){if(t===void 0)throw Error(B(407));t=t()}else{if(t=e(),He===null)throw Error(B(349));ge&127||i2(n,e,t)}i.memoizedState=t;var a={value:t,getSnapshot:e};return i.queue=a,xA(r2.bind(null,n,a,s),[s]),n.flags|=2048,Vd(9,{destroy:void 0},a2.bind(null,n,a,t,e),null),t},useId:function(){var s=xs(),e=He.identifierPrefix;if(ye){var t=Hi,n=Ui;t=(n&~(1<<32-gn(n)-1)).toString(32)+t,e="_"+e+"R_"+t,t=m0++,0<t&&(e+="H"+t.toString(32)),e+="_"}else t=iM++,e="_"+e+"r_"+t.toString(32)+"_";return s.memoizedState=e},useHostTransitionStatus:Vw,useFormState:mA,useActionState:mA,useOptimistic:function(s){var e=xs();e.memoizedState=e.baseState=s;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=Gw.bind(null,oe,!0,t),t.dispatch=e,[s,e]},useMemoCache:Iw,useCacheRefresh:function(){return xs().memoizedState=uM.bind(null,oe)},useEffectEvent:function(s){var e=xs(),t={impl:s};return e.memoizedState=t,function(){if(Ne&2)throw Error(B(440));return t.impl.apply(void 0,arguments)}}},$w={readContext:ss,use:vx,useCallback:v2,useContext:ss,useEffect:zw,useImperativeHandle:y2,useInsertionEffect:g2,useLayoutEffect:x2,useMemo:w2,useReducer:dg,useRef:m2,useState:function(){return dg(sr)},useDebugValue:Uw,useDeferredValue:function(s,e){var t=xt();return S2(t,Pe.memoizedState,s,e)},useTransition:function(){var s=dg(sr)[0],e=xt().memoizedState;return[typeof s=="boolean"?s:pp(s),e]},useSyncExternalStore:n2,useId:C2,useHostTransitionStatus:Vw,useFormState:pA,useActionState:pA,useOptimistic:function(s,e){var t=xt();return c2(t,Pe,s,e)},useMemoCache:Iw,useCacheRefresh:j2};$w.useEffectEvent=p2;var k2={readContext:ss,use:vx,useCallback:v2,useContext:ss,useEffect:zw,useImperativeHandle:y2,useInsertionEffect:g2,useLayoutEffect:x2,useMemo:w2,useReducer:sb,useRef:m2,useState:function(){return sb(sr)},useDebugValue:Uw,useDeferredValue:function(s,e){var t=xt();return Pe===null?Hw(t,s,e):S2(t,Pe.memoizedState,s,e)},useTransition:function(){var s=sb(sr)[0],e=xt().memoizedState;return[typeof s=="boolean"?s:pp(s),e]},useSyncExternalStore:n2,useId:C2,useHostTransitionStatus:Vw,useFormState:gA,useActionState:gA,useOptimistic:function(s,e){var t=xt();return Pe!==null?c2(t,Pe,s,e):(t.baseState=s,[s,t.queue.dispatch])},useMemoCache:Iw,useCacheRefresh:j2};k2.useEffectEvent=p2;function nb(s,e,t,n){e=s.memoizedState,t=t(n,e),t=t==null?e:Ke({},e,t),s.memoizedState=t,s.lanes===0&&(s.updateQueue.baseState=t)}var oy={enqueueSetState:function(s,e,t){s=s._reactInternals;var n=xn(),i=vl(n);i.payload=e,t!=null&&(i.callback=t),e=wl(s,i,n),e!==null&&(Fs(e,s,n),Zh(e,s,n))},enqueueReplaceState:function(s,e,t){s=s._reactInternals;var n=xn(),i=vl(n);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=wl(s,i,n),e!==null&&(Fs(e,s,n),Zh(e,s,n))},enqueueForceUpdate:function(s,e){s=s._reactInternals;var t=xn(),n=vl(t);n.tag=2,e!=null&&(n.callback=e),e=wl(s,n,t),e!==null&&(Fs(e,s,t),Zh(e,s,t))}};function bA(s,e,t,n,i,a,r){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(n,a,r):e.prototype&&e.prototype.isPureReactComponent?!df(t,n)||!df(i,a):!0}function yA(s,e,t,n){s=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==s&&oy.enqueueReplaceState(e,e.state,null)}function xc(s,e){var t=e;if("ref"in e){t={};for(var n in e)n!=="ref"&&(t[n]=e[n])}if(s=s.defaultProps){t===e&&(t=Ke({},t));for(var i in s)t[i]===void 0&&(t[i]=s[i])}return t}function R2(s){r0(s)}function L2(s){console.error(s)}function O2(s){r0(s)}function p0(s,e){try{var t=s.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function vA(s,e,t){try{var n=s.onCaughtError;n(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function cy(s,e,t){return t=vl(t),t.tag=3,t.payload={element:null},t.callback=function(){p0(s,e)},t}function P2(s){return s=vl(s),s.tag=3,s}function B2(s,e,t,n){var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;s.payload=function(){return i(a)},s.callback=function(){vA(e,t,n)}}var r=t.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(s.callback=function(){vA(e,t,n),typeof i!="function"&&(Sl===null?Sl=new Set([this]):Sl.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function hM(s,e,t,n,i){if(t.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=t.alternate,e!==null&&Zd(e,t,i,!0),t=vn.current,t!==null){switch(t.tag){case 31:case 13:return Vn===null?v0():t.alternate===null&&ft===0&&(ft=3),t.flags&=-257,t.flags|=65536,t.lanes=i,n===u0?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([n]):e.add(n),mb(s,n,i)),!1;case 22:return t.flags|=65536,n===u0?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([n]):t.add(n)),mb(s,n,i)),!1}throw Error(B(435,t.tag))}return mb(s,n,i),v0(),!1}if(ye)return e=vn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==Kb&&(s=Error(B(422),{cause:n}),ff(Fn(s,t)))):(n!==Kb&&(e=Error(B(423),{cause:n}),ff(Fn(e,t))),s=s.current.alternate,s.flags|=65536,i&=-i,s.lanes|=i,n=Fn(n,t),i=cy(s.stateNode,n,i),tb(s,i),ft!==4&&(ft=2)),!1;var a=Error(B(520),{cause:n});if(a=Fn(a,t),af===null?af=[a]:af.push(a),ft!==4&&(ft=2),e===null)return!0;n=Fn(n,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,s=i&-i,t.lanes|=s,s=cy(t.stateNode,n,s),tb(t,s),!1;case 1:if(e=t.type,a=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Sl===null||!Sl.has(a))))return t.flags|=65536,i&=-i,t.lanes|=i,i=P2(i),B2(i,s,t,n),tb(t,i),!1}t=t.return}while(t!==null);return!1}var Yw=Error(B(461)),Nt=!1;function Kt(s,e,t,n){e.child=s===null?QN(e,null,t,n):pc(e,s.child,t,n)}function wA(s,e,t,n,i){t=t.render;var a=e.ref;if("ref"in n){var r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}else r=n;return mc(e),n=Lw(s,e,t,r,a,i),o=Ow(),s!==null&&!Nt?(Pw(s,e,i),nr(s,e,i)):(ye&&o&&Cw(e),e.flags|=1,Kt(s,e,n,i),e.child)}function SA(s,e,t,n,i){if(s===null){var a=t.type;return typeof a=="function"&&!Ew(a)&&a.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=a,I2(s,e,a,n,i)):(s=cg(t.type,null,n,e,e.mode,i),s.ref=e.ref,s.return=e,e.child=s)}if(a=s.child,!qw(s,i)){var r=a.memoizedProps;if(t=t.compare,t=t!==null?t:df,t(r,n)&&s.ref===e.ref)return nr(s,e,i)}return e.flags|=1,s=Xa(a,n),s.ref=e.ref,s.return=e,e.child=s}function I2(s,e,t,n,i){if(s!==null){var a=s.memoizedProps;if(df(a,n)&&s.ref===e.ref)if(Nt=!1,e.pendingProps=n=a,qw(s,i))s.flags&131072&&(Nt=!0);else return e.lanes=s.lanes,nr(s,e,i)}return uy(s,e,t,n,i)}function F2(s,e,t,n){var i=n.children,a=s!==null?s.memoizedState:null;if(s===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|t:t,s!==null){for(n=e.child=s.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~a}else n=0,e.child=null;return AA(s,e,a,t,n)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},s!==null&&ug(e,a!==null?a.cachePool:null),a!==null?dA(e,a):ny(),e2(e);else return n=e.lanes=536870912,AA(s,e,a!==null?a.baseLanes|t:t,t,n)}else a!==null?(ug(e,a.cachePool),dA(e,a),gr(),e.memoizedState=null):(s!==null&&ug(e,null),ny(),gr());return Kt(s,e,i,t),e.child}function Nh(s,e){return s!==null&&s.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function AA(s,e,t,n,i){var a=_w();return a=a===null?null:{parent:At._currentValue,pool:a},e.memoizedState={baseLanes:t,cachePool:a},s!==null&&ug(e,null),ny(),e2(e),s!==null&&Zd(s,e,n,!0),e.childLanes=i,null}function fg(s,e){return e=g0({mode:e.mode,children:e.children},s.mode),e.ref=s.ref,s.child=e,e.return=s,e}function NA(s,e,t){return pc(e,s.child,null,t),s=fg(e,e.pendingProps),s.flags|=2,un(e),e.memoizedState=null,s}function fM(s,e,t){var n=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,s===null){if(ye){if(n.mode==="hidden")return s=fg(e,n),e.lanes=536870912,Nh(null,s);if(iy(e),(s=Xe)?(s=DE(s,zn),s=s!==null&&s.data==="&"?s:null,s!==null&&(e.memoizedState={dehydrated:s,treeContext:jl!==null?{id:Ui,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},t=GN(s),t.return=e,e.child=t,es=e,Xe=null)):s=null,s===null)throw Tl(e);return e.lanes=536870912,null}return fg(e,n)}var a=s.memoizedState;if(a!==null){var r=a.dehydrated;if(iy(e),i)if(e.flags&256)e.flags&=-257,e=NA(s,e,t);else if(e.memoizedState!==null)e.child=s.child,e.flags|=128,e=null;else throw Error(B(558));else if(Nt||Zd(s,e,t,!1),i=(t&s.childLanes)!==0,Nt||i){if(n=He,n!==null&&(r=gN(n,t),r!==0&&r!==a.retryLane))throw a.retryLane=r,Nc(s,r),Fs(n,s,r),Yw;v0(),e=NA(s,e,t)}else s=a.treeContext,Xe=Gn(r.nextSibling),es=e,ye=!0,yl=null,zn=!1,s!==null&&YN(e,s),e=fg(e,n),e.flags|=4096;return e}return s=Xa(s.child,{mode:n.mode,children:n.children}),s.ref=e.ref,e.child=s,s.return=e,s}function mg(s,e){var t=e.ref;if(t===null)s!==null&&s.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(B(284));(s===null||s.ref!==t)&&(e.flags|=4194816)}}function uy(s,e,t,n,i){return mc(e),t=Lw(s,e,t,n,void 0,i),n=Ow(),s!==null&&!Nt?(Pw(s,e,i),nr(s,e,i)):(ye&&n&&Cw(e),e.flags|=1,Kt(s,e,t,i),e.child)}function EA(s,e,t,n,i,a){return mc(e),e.updateQueue=null,t=s2(e,n,t,i),t2(s),n=Ow(),s!==null&&!Nt?(Pw(s,e,a),nr(s,e,a)):(ye&&n&&Cw(e),e.flags|=1,Kt(s,e,t,a),e.child)}function CA(s,e,t,n,i){if(mc(e),e.stateNode===null){var a=Kc,r=t.contextType;typeof r=="object"&&r!==null&&(a=ss(r)),a=new t(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=oy,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},Dw(e),r=t.contextType,a.context=typeof r=="object"&&r!==null?ss(r):Kc,a.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(nb(e,t,r,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&oy.enqueueReplaceState(a,a.state,null),ef(e,n,a,i),Jh(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(s===null){a=e.stateNode;var o=e.memoizedProps,u=xc(t,o);a.props=u;var d=a.context,h=t.contextType;r=Kc,typeof h=="object"&&h!==null&&(r=ss(h));var f=t.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||d!==r)&&yA(e,a,n,r),fr=!1;var m=e.memoizedState;a.state=m,ef(e,n,a,i),Jh(),d=e.memoizedState,o||m!==d||fr?(typeof f=="function"&&(nb(e,t,f,n),d=e.memoizedState),(u=fr||bA(e,t,u,n,m,d,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=d),a.props=n,a.state=d,a.context=r,n=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,ty(s,e),r=e.memoizedProps,h=xc(t,r),a.props=h,f=e.pendingProps,m=a.context,d=t.contextType,u=Kc,typeof d=="object"&&d!==null&&(u=ss(d)),o=t.getDerivedStateFromProps,(d=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||m!==u)&&yA(e,a,n,u),fr=!1,m=e.memoizedState,a.state=m,ef(e,n,a,i),Jh();var p=e.memoizedState;r!==f||m!==p||fr||s!==null&&s.dependencies!==null&&c0(s.dependencies)?(typeof o=="function"&&(nb(e,t,o,n),p=e.memoizedState),(h=fr||bA(e,t,h,n,m,p,u)||s!==null&&s.dependencies!==null&&c0(s.dependencies))?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===s.memoizedProps&&m===s.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===s.memoizedProps&&m===s.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=u,n=h):(typeof a.componentDidUpdate!="function"||r===s.memoizedProps&&m===s.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===s.memoizedProps&&m===s.memoizedState||(e.flags|=1024),n=!1)}return a=n,mg(s,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,t=n&&typeof t.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,s!==null&&n?(e.child=pc(e,s.child,null,i),e.child=pc(e,null,t,i)):Kt(s,e,t,i),e.memoizedState=a.state,s=e.child):s=nr(s,e,i),s}function jA(s,e,t,n){return fc(),e.flags|=256,Kt(s,e,t,n),e.child}var ib={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ab(s){return{baseLanes:s,cachePool:XN()}}function rb(s,e,t){return s=s!==null?s.childLanes&~t:0,e&&(s|=fn),s}function z2(s,e,t){var n=e.pendingProps,i=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=s!==null&&s.memoizedState===null?!1:(gt.current&2)!==0),r&&(i=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,s===null){if(ye){if(i?pr(e):gr(),(s=Xe)?(s=DE(s,zn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(e.memoizedState={dehydrated:s,treeContext:jl!==null?{id:Ui,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},t=GN(s),t.return=e,e.child=t,es=e,Xe=null)):s=null,s===null)throw Tl(e);return Ny(s)?e.lanes=32:e.lanes=536870912,null}var o=n.children;return n=n.fallback,i?(gr(),i=e.mode,o=g0({mode:"hidden",children:o},i),n=cc(n,i,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n=e.child,n.memoizedState=ab(t),n.childLanes=rb(s,r,t),e.memoizedState=ib,Nh(null,n)):(pr(e),dy(e,o))}var u=s.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(a)e.flags&256?(pr(e),e.flags&=-257,e=lb(s,e,t)):e.memoizedState!==null?(gr(),e.child=s.child,e.flags|=128,e=null):(gr(),o=n.fallback,i=e.mode,n=g0({mode:"visible",children:n.children},i),o=cc(o,i,t,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,pc(e,s.child,null,t),n=e.child,n.memoizedState=ab(t),n.childLanes=rb(s,r,t),e.memoizedState=ib,e=Nh(null,n));else if(pr(e),Ny(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var d=r.dgst;r=d,n=Error(B(419)),n.stack="",n.digest=r,ff({value:n,source:null,stack:null}),e=lb(s,e,t)}else if(Nt||Zd(s,e,t,!1),r=(t&s.childLanes)!==0,Nt||r){if(r=He,r!==null&&(n=gN(r,t),n!==0&&n!==u.retryLane))throw u.retryLane=n,Nc(s,n),Fs(r,s,n),Yw;Ay(o)||v0(),e=lb(s,e,t)}else Ay(o)?(e.flags|=192,e.child=s.child,e=null):(s=u.treeContext,Xe=Gn(o.nextSibling),es=e,ye=!0,yl=null,zn=!1,s!==null&&YN(e,s),e=dy(e,n.children),e.flags|=4096);return e}return i?(gr(),o=n.fallback,i=e.mode,u=s.child,d=u.sibling,n=Xa(u,{mode:"hidden",children:n.children}),n.subtreeFlags=u.subtreeFlags&65011712,d!==null?o=Xa(d,o):(o=cc(o,i,t,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,Nh(null,n),n=e.child,o=s.child.memoizedState,o===null?o=ab(t):(i=o.cachePool,i!==null?(u=At._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=XN(),o={baseLanes:o.baseLanes|t,cachePool:i}),n.memoizedState=o,n.childLanes=rb(s,r,t),e.memoizedState=ib,Nh(s.child,n)):(pr(e),t=s.child,s=t.sibling,t=Xa(t,{mode:"visible",children:n.children}),t.return=e,t.sibling=null,s!==null&&(r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)),e.child=t,e.memoizedState=null,t)}function dy(s,e){return e=g0({mode:"visible",children:e},s.mode),e.return=s,s.child=e}function g0(s,e){return s=hn(22,s,null,e),s.lanes=0,s}function lb(s,e,t){return pc(e,s.child,null,t),s=dy(e,e.pendingProps.children),s.flags|=2,e.memoizedState=null,s}function TA(s,e,t){s.lanes|=e;var n=s.alternate;n!==null&&(n.lanes|=e),Zb(s.return,e,t)}function ob(s,e,t,n,i,a){var r=s.memoizedState;r===null?s.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=t,r.tailMode=i,r.treeForkCount=a)}function U2(s,e,t){var n=e.pendingProps,i=n.revealOrder,a=n.tail;n=n.children;var r=gt.current,o=(r&2)!==0;if(o?(r=r&1|2,e.flags|=128):r&=1,$e(gt,r),Kt(s,e,n,t),n=ye?hf:0,!o&&s!==null&&s.flags&128)e:for(s=e.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&TA(s,t,e);else if(s.tag===19)TA(s,t,e);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(i){case"forwards":for(t=e.child,i=null;t!==null;)s=t.alternate,s!==null&&h0(s)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),ob(e,!1,i,t,a,n);break;case"backwards":case"unstable_legacy-backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(s=i.alternate,s!==null&&h0(s)===null){e.child=i;break}s=i.sibling,i.sibling=t,t=i,i=s}ob(e,!0,t,null,a,n);break;case"together":ob(e,!1,null,null,void 0,n);break;default:e.memoizedState=null}return e.child}function nr(s,e,t){if(s!==null&&(e.dependencies=s.dependencies),Ml|=e.lanes,!(t&e.childLanes))if(s!==null){if(Zd(s,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(s!==null&&e.child!==s.child)throw Error(B(153));if(e.child!==null){for(s=e.child,t=Xa(s,s.pendingProps),e.child=t,t.return=e;s.sibling!==null;)s=s.sibling,t=t.sibling=Xa(s,s.pendingProps),t.return=e;t.sibling=null}return e.child}function qw(s,e){return s.lanes&e?!0:(s=s.dependencies,!!(s!==null&&c0(s)))}function mM(s,e,t){switch(e.tag){case 3:s0(e,e.stateNode.containerInfo),mr(e,At,s.memoizedState.cache),fc();break;case 27:case 5:Fb(e);break;case 4:s0(e,e.stateNode.containerInfo);break;case 10:mr(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,iy(e),null;break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(pr(e),e.flags|=128,null):t&e.child.childLanes?z2(s,e,t):(pr(e),s=nr(s,e,t),s!==null?s.sibling:null);pr(e);break;case 19:var i=(s.flags&128)!==0;if(n=(t&e.childLanes)!==0,n||(Zd(s,e,t,!1),n=(t&e.childLanes)!==0),i){if(n)return U2(s,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(gt,gt.current),n)break;return null;case 22:return e.lanes=0,F2(s,e,t,e.pendingProps);case 24:mr(e,At,s.memoizedState.cache)}return nr(s,e,t)}function H2(s,e,t){if(s!==null)if(s.memoizedProps!==e.pendingProps)Nt=!0;else{if(!qw(s,t)&&!(e.flags&128))return Nt=!1,mM(s,e,t);Nt=!!(s.flags&131072)}else Nt=!1,ye&&e.flags&1048576&&$N(e,hf,e.index);switch(e.lanes=0,e.tag){case 16:e:{var n=e.pendingProps;if(s=Ul(e.elementType),e.type=s,typeof s=="function")Ew(s)?(n=xc(s,n),e.tag=1,e=CA(null,e,s,n,t)):(e.tag=0,e=uy(null,e,s,n,t));else{if(s!=null){var i=s.$$typeof;if(i===dw){e.tag=11,e=wA(null,e,s,n,t);break e}else if(i===hw){e.tag=14,e=SA(null,e,s,n,t);break e}}throw e=Bb(s)||s,Error(B(306,e,""))}}return e;case 0:return uy(s,e,e.type,e.pendingProps,t);case 1:return n=e.type,i=xc(n,e.pendingProps),CA(s,e,n,i,t);case 3:e:{if(s0(e,e.stateNode.containerInfo),s===null)throw Error(B(387));n=e.pendingProps;var a=e.memoizedState;i=a.element,ty(s,e),ef(e,n,null,t);var r=e.memoizedState;if(n=r.cache,mr(e,At,n),n!==a.cache&&Jb(e,[At],t,!0),Jh(),n=r.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=jA(s,e,n,t);break e}else if(n!==i){i=Fn(Error(B(424)),e),ff(i),e=jA(s,e,n,t);break e}else{switch(s=e.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Xe=Gn(s.firstChild),es=e,ye=!0,yl=null,zn=!0,t=QN(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(fc(),n===i){e=nr(s,e,t);break e}Kt(s,e,n,t)}e=e.child}return e;case 26:return mg(s,e),s===null?(t=XA(e.type,null,e.pendingProps,null))?e.memoizedState=t:ye||(t=e.type,s=e.pendingProps,n=N0(bl.current).createElement(t),n[Jt]=e,n[zs]=s,ns(n,t,s),Ht(n),e.stateNode=n):e.memoizedState=XA(e.type,s.memoizedProps,e.pendingProps,s.memoizedState),null;case 27:return Fb(e),s===null&&ye&&(n=e.stateNode=kE(e.type,e.pendingProps,bl.current),es=e,zn=!0,i=Xe,Pl(e.type)?(Ey=i,Xe=Gn(n.firstChild)):Xe=i),Kt(s,e,e.pendingProps.children,t),mg(s,e),s===null&&(e.flags|=4194304),e.child;case 5:return s===null&&ye&&((i=n=Xe)&&(n=GM(n,e.type,e.pendingProps,zn),n!==null?(e.stateNode=n,es=e,Xe=Gn(n.firstChild),zn=!1,i=!0):i=!1),i||Tl(e)),Fb(e),i=e.type,a=e.pendingProps,r=s!==null?s.memoizedProps:null,n=a.children,wy(i,a)?n=null:r!==null&&wy(i,r)&&(e.flags|=32),e.memoizedState!==null&&(i=Lw(s,e,aM,null,null,t),yf._currentValue=i),mg(s,e),Kt(s,e,n,t),e.child;case 6:return s===null&&ye&&((s=t=Xe)&&(t=$M(t,e.pendingProps,zn),t!==null?(e.stateNode=t,es=e,Xe=null,s=!0):s=!1),s||Tl(e)),null;case 13:return z2(s,e,t);case 4:return s0(e,e.stateNode.containerInfo),n=e.pendingProps,s===null?e.child=pc(e,null,n,t):Kt(s,e,n,t),e.child;case 11:return wA(s,e,e.type,e.pendingProps,t);case 7:return Kt(s,e,e.pendingProps,t),e.child;case 8:return Kt(s,e,e.pendingProps.children,t),e.child;case 12:return Kt(s,e,e.pendingProps.children,t),e.child;case 10:return n=e.pendingProps,mr(e,e.type,n.value),Kt(s,e,n.children,t),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,mc(e),i=ss(i),n=n(i),e.flags|=1,Kt(s,e,n,t),e.child;case 14:return SA(s,e,e.type,e.pendingProps,t);case 15:return I2(s,e,e.type,e.pendingProps,t);case 19:return U2(s,e,t);case 31:return fM(s,e,t);case 22:return F2(s,e,t,e.pendingProps);case 24:return mc(e),n=ss(At),s===null?(i=_w(),i===null&&(i=He,a=Tw(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=t),i=a),e.memoizedState={parent:n,cache:i},Dw(e),mr(e,At,i)):(s.lanes&t&&(ty(s,e),ef(e,null,null,t),Jh()),i=s.memoizedState,a=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),mr(e,At,n)):(n=a.cache,mr(e,At,n),n!==i.cache&&Jb(e,[At],t,!0))),Kt(s,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(B(156,e.tag))}function Ji(s){s.flags|=4}function cb(s,e,t,n,i){if((e=(s.mode&32)!==0)&&(e=!1),e){if(s.flags|=16777216,(i&335544128)===i)if(s.stateNode.complete)s.flags|=8192;else if(hE())s.flags|=8192;else throw dc=u0,Mw}else s.flags&=-16777217}function _A(s,e){if(e.type!=="stylesheet"||e.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!OE(e))if(hE())s.flags|=8192;else throw dc=u0,Mw}function Up(s,e){e!==null&&(s.flags|=4),s.flags&16384&&(e=s.tag!==22?fN():536870912,s.lanes|=e,Gd|=e)}function dh(s,e){if(!ye)switch(s.tailMode){case"hidden":e=s.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?s.tail=null:t.sibling=null;break;case"collapsed":t=s.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||s.tail===null?s.tail=null:s.tail.sibling=null:n.sibling=null}}function Ye(s){var e=s.alternate!==null&&s.alternate.child===s.child,t=0,n=0;if(e)for(var i=s.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=s,i=i.sibling;else for(i=s.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=s,i=i.sibling;return s.subtreeFlags|=n,s.childLanes=t,e}function pM(s,e,t){var n=e.pendingProps;switch(jw(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return Ye(e),null;case 3:return t=e.stateNode,n=null,s!==null&&(n=s.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Wa(At),Id(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(s===null||s.child===null)&&(Tc(e)?Ji(e):s===null||s.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,eb())),Ye(e),null;case 26:var i=e.type,a=e.memoizedState;return s===null?(Ji(e),a!==null?(Ye(e),_A(e,a)):(Ye(e),cb(e,i,null,n,t))):a?a!==s.memoizedState?(Ji(e),Ye(e),_A(e,a)):(Ye(e),e.flags&=-16777217):(s=s.memoizedProps,s!==n&&Ji(e),Ye(e),cb(e,i,s,n,t)),null;case 27:if(n0(e),t=bl.current,i=e.type,s!==null&&e.stateNode!=null)s.memoizedProps!==n&&Ji(e);else{if(!n){if(e.stateNode===null)throw Error(B(166));return Ye(e),null}s=Gi.current,Tc(e)?iA(e):(s=kE(i,n,t),e.stateNode=s,Ji(e))}return Ye(e),null;case 5:if(n0(e),i=e.type,s!==null&&e.stateNode!=null)s.memoizedProps!==n&&Ji(e);else{if(!n){if(e.stateNode===null)throw Error(B(166));return Ye(e),null}if(a=Gi.current,Tc(e))iA(e);else{var r=N0(bl.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?a.multiple=!0:n.size&&(a.size=n.size);break;default:a=typeof n.is=="string"?r.createElement(i,{is:n.is}):r.createElement(i)}}a[Jt]=e,a[zs]=n;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(ns(a,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ji(e)}}return Ye(e),cb(e,e.type,s===null?null:s.memoizedProps,e.pendingProps,t),null;case 6:if(s&&e.stateNode!=null)s.memoizedProps!==n&&Ji(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(s=bl.current,Tc(e)){if(s=e.stateNode,t=e.memoizedProps,n=null,i=es,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}s[Jt]=e,s=!!(s.nodeValue===t||n!==null&&n.suppressHydrationWarning===!0||TE(s.nodeValue,t)),s||Tl(e,!0)}else s=N0(s).createTextNode(n),s[Jt]=e,e.stateNode=s}return Ye(e),null;case 31:if(t=e.memoizedState,s===null||s.memoizedState!==null){if(n=Tc(e),t!==null){if(s===null){if(!n)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(557));s[Jt]=e}else fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),s=!1}else t=eb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=t),s=!0;if(!s)return e.flags&256?(un(e),e):(un(e),null);if(e.flags&128)throw Error(B(558))}return Ye(e),null;case 13:if(n=e.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(i=Tc(e),n!==null&&n.dehydrated!==null){if(s===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Jt]=e}else fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),i=!1}else i=eb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(un(e),e):(un(e),null)}return un(e),e.flags&128?(e.lanes=t,e):(t=n!==null,s=s!==null&&s.memoizedState!==null,t&&(n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)),t!==s&&t&&(e.child.flags|=8192),Up(e,e.updateQueue),Ye(e),null);case 4:return Id(),s===null&&eS(e.stateNode.containerInfo),Ye(e),null;case 10:return Wa(e.type),Ye(e),null;case 19:if(Vt(gt),n=e.memoizedState,n===null)return Ye(e),null;if(i=(e.flags&128)!==0,a=n.rendering,a===null)if(i)dh(n,!1);else{if(ft!==0||s!==null&&s.flags&128)for(s=e.child;s!==null;){if(a=h0(s),a!==null){for(e.flags|=128,dh(n,!1),s=a.updateQueue,e.updateQueue=s,Up(e,s),e.subtreeFlags=0,s=t,t=e.child;t!==null;)VN(t,s),t=t.sibling;return $e(gt,gt.current&1|2),ye&&oa(e,n.treeForkCount),e.child}s=s.sibling}n.tail!==null&&mn()>b0&&(e.flags|=128,i=!0,dh(n,!1),e.lanes=4194304)}else{if(!i)if(s=h0(a),s!==null){if(e.flags|=128,i=!0,s=s.updateQueue,e.updateQueue=s,Up(e,s),dh(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!ye)return Ye(e),null}else 2*mn()-n.renderingStartTime>b0&&t!==536870912&&(e.flags|=128,i=!0,dh(n,!1),e.lanes=4194304);n.isBackwards?(a.sibling=e.child,e.child=a):(s=n.last,s!==null?s.sibling=a:e.child=a,n.last=a)}return n.tail!==null?(s=n.tail,n.rendering=s,n.tail=s.sibling,n.renderingStartTime=mn(),s.sibling=null,t=gt.current,$e(gt,i?t&1|2:t&1),ye&&oa(e,n.treeForkCount),s):(Ye(e),null);case 22:case 23:return un(e),kw(),n=e.memoizedState!==null,s!==null?s.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?t&536870912&&!(e.flags&128)&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),t=e.updateQueue,t!==null&&Up(e,t.retryQueue),t=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(e.flags|=2048),s!==null&&Vt(uc),null;case 24:return t=null,s!==null&&(t=s.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),Wa(At),Ye(e),null;case 25:return null;case 30:return null}throw Error(B(156,e.tag))}function gM(s,e){switch(jw(e),e.tag){case 1:return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 3:return Wa(At),Id(),s=e.flags,s&65536&&!(s&128)?(e.flags=s&-65537|128,e):null;case 26:case 27:case 5:return n0(e),null;case 31:if(e.memoizedState!==null){if(un(e),e.alternate===null)throw Error(B(340));fc()}return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 13:if(un(e),s=e.memoizedState,s!==null&&s.dehydrated!==null){if(e.alternate===null)throw Error(B(340));fc()}return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 19:return Vt(gt),null;case 4:return Id(),null;case 10:return Wa(e.type),null;case 22:case 23:return un(e),kw(),s!==null&&Vt(uc),s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 24:return Wa(At),null;case 25:return null;default:return null}}function V2(s,e){switch(jw(e),e.tag){case 3:Wa(At),Id();break;case 26:case 27:case 5:n0(e);break;case 4:Id();break;case 31:e.memoizedState!==null&&un(e);break;case 13:un(e);break;case 19:Vt(gt);break;case 10:Wa(e.type);break;case 22:case 23:un(e),kw(),s!==null&&Vt(uc);break;case 24:Wa(At)}}function gp(s,e){try{var t=e.updateQueue,n=t!==null?t.lastEffect:null;if(n!==null){var i=n.next;t=i;do{if((t.tag&s)===s){n=void 0;var a=t.create,r=t.inst;n=a(),r.destroy=n}t=t.next}while(t!==i)}}catch(o){Me(e,e.return,o)}}function _l(s,e,t){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&s)===s){var r=n.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,i=e;var u=t,d=o;try{d()}catch(h){Me(i,u,h)}}}n=n.next}while(n!==a)}}catch(h){Me(e,e.return,h)}}function G2(s){var e=s.updateQueue;if(e!==null){var t=s.stateNode;try{JN(e,t)}catch(n){Me(s,s.return,n)}}}function $2(s,e,t){t.props=xc(s.type,s.memoizedProps),t.state=s.memoizedState;try{t.componentWillUnmount()}catch(n){Me(s,e,n)}}function sf(s,e){try{var t=s.ref;if(t!==null){switch(s.tag){case 26:case 27:case 5:var n=s.stateNode;break;case 30:n=s.stateNode;break;default:n=s.stateNode}typeof t=="function"?s.refCleanup=t(n):t.current=n}}catch(i){Me(s,e,i)}}function Vi(s,e){var t=s.ref,n=s.refCleanup;if(t!==null)if(typeof n=="function")try{n()}catch(i){Me(s,e,i)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(i){Me(s,e,i)}else t.current=null}function Y2(s){var e=s.type,t=s.memoizedProps,n=s.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&n.focus();break e;case"img":t.src?n.src=t.src:t.srcSet&&(n.srcset=t.srcSet)}}catch(i){Me(s,s.return,i)}}function ub(s,e,t){try{var n=s.stateNode;IM(n,s.type,t,e),n[zs]=e}catch(i){Me(s,s.return,i)}}function q2(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Pl(s.type)||s.tag===4}function db(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||q2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Pl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function hy(s,e,t){var n=s.tag;if(n===5||n===6)s=s.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(s,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(s),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ya));else if(n!==4&&(n===27&&Pl(s.type)&&(t=s.stateNode,e=null),s=s.child,s!==null))for(hy(s,e,t),s=s.sibling;s!==null;)hy(s,e,t),s=s.sibling}function x0(s,e,t){var n=s.tag;if(n===5||n===6)s=s.stateNode,e?t.insertBefore(s,e):t.appendChild(s);else if(n!==4&&(n===27&&Pl(s.type)&&(t=s.stateNode),s=s.child,s!==null))for(x0(s,e,t),s=s.sibling;s!==null;)x0(s,e,t),s=s.sibling}function X2(s){var e=s.stateNode,t=s.memoizedProps;try{for(var n=s.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ns(e,n,t),e[Jt]=s,e[zs]=t}catch(a){Me(s,s.return,a)}}var Va=!1,St=!1,hb=!1,MA=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function xM(s,e){if(s=s.containerInfo,yy=T0,s=ON(s),Sw(s)){if("selectionStart"in s)var t={start:s.selectionStart,end:s.selectionEnd};else e:{t=(t=s.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{t.nodeType,a.nodeType}catch{t=null;break e}var r=0,o=-1,u=-1,d=0,h=0,f=s,m=null;t:for(;;){for(var p;f!==t||i!==0&&f.nodeType!==3||(o=r+i),f!==a||n!==0&&f.nodeType!==3||(u=r+n),f.nodeType===3&&(r+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===s)break t;if(m===t&&++d===i&&(o=r),m===a&&++h===n&&(u=r),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}t=o===-1||u===-1?null:{start:o,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(vy={focusedElem:s,selectionRange:t},T0=!1,Ut=e;Ut!==null;)if(e=Ut,s=e.child,(e.subtreeFlags&1028)!==0&&s!==null)s.return=e,Ut=s;else for(;Ut!==null;){switch(e=Ut,a=e.alternate,s=e.flags,e.tag){case 0:if(s&4&&(s=e.updateQueue,s=s!==null?s.events:null,s!==null))for(t=0;t<s.length;t++)i=s[t],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(s&1024&&a!==null){s=void 0,t=e,i=a.memoizedProps,a=a.memoizedState,n=t.stateNode;try{var y=xc(t.type,i);s=n.getSnapshotBeforeUpdate(y,a),n.__reactInternalSnapshotBeforeUpdate=s}catch(b){Me(t,t.return,b)}}break;case 3:if(s&1024){if(s=e.stateNode.containerInfo,t=s.nodeType,t===9)Sy(s);else if(t===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Sy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(B(163))}if(s=e.sibling,s!==null){s.return=e.return,Ut=s;break}Ut=e.return}}function W2(s,e,t){var n=t.flags;switch(t.tag){case 0:case 11:case 15:ta(s,t),n&4&&gp(5,t);break;case 1:if(ta(s,t),n&4)if(s=t.stateNode,e===null)try{s.componentDidMount()}catch(r){Me(t,t.return,r)}else{var i=xc(t.type,e.memoizedProps);e=e.memoizedState;try{s.componentDidUpdate(i,e,s.__reactInternalSnapshotBeforeUpdate)}catch(r){Me(t,t.return,r)}}n&64&&G2(t),n&512&&sf(t,t.return);break;case 3:if(ta(s,t),n&64&&(s=t.updateQueue,s!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{JN(s,e)}catch(r){Me(t,t.return,r)}}break;case 27:e===null&&n&4&&X2(t);case 26:case 5:ta(s,t),e===null&&n&4&&Y2(t),n&512&&sf(t,t.return);break;case 12:ta(s,t);break;case 31:ta(s,t),n&4&&Z2(s,t);break;case 13:ta(s,t),n&4&&J2(s,t),n&64&&(s=t.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(t=CM.bind(null,t),YM(s,t))));break;case 22:if(n=t.memoizedState!==null||Va,!n){e=e!==null&&e.memoizedState!==null||St,i=Va;var a=St;Va=n,(St=e)&&!a?sa(s,t,(t.subtreeFlags&8772)!==0):ta(s,t),Va=i,St=a}break;case 30:break;default:ta(s,t)}}function K2(s){var e=s.alternate;e!==null&&(s.alternate=null,K2(e)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(e=s.stateNode,e!==null&&gw(e)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var et=null,Ps=!1;function ea(s,e,t){for(t=t.child;t!==null;)Q2(s,e,t),t=t.sibling}function Q2(s,e,t){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(cp,t)}catch{}switch(t.tag){case 26:St||Vi(t,e),ea(s,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:St||Vi(t,e);var n=et,i=Ps;Pl(t.type)&&(et=t.stateNode,Ps=!1),ea(s,e,t),lf(t.stateNode),et=n,Ps=i;break;case 5:St||Vi(t,e);case 6:if(n=et,i=Ps,et=null,ea(s,e,t),et=n,Ps=i,et!==null)if(Ps)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(t.stateNode)}catch(a){Me(t,e,a)}else try{et.removeChild(t.stateNode)}catch(a){Me(t,e,a)}break;case 18:et!==null&&(Ps?(s=et,VA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.stateNode),Xd(s)):VA(et,t.stateNode));break;case 4:n=et,i=Ps,et=t.stateNode.containerInfo,Ps=!0,ea(s,e,t),et=n,Ps=i;break;case 0:case 11:case 14:case 15:_l(2,t,e),St||_l(4,t,e),ea(s,e,t);break;case 1:St||(Vi(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"&&$2(t,e,n)),ea(s,e,t);break;case 21:ea(s,e,t);break;case 22:St=(n=St)||t.memoizedState!==null,ea(s,e,t),St=n;break;default:ea(s,e,t)}}function Z2(s,e){if(e.memoizedState===null&&(s=e.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Xd(s)}catch(t){Me(e,e.return,t)}}}function J2(s,e){if(e.memoizedState===null&&(s=e.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Xd(s)}catch(t){Me(e,e.return,t)}}function bM(s){switch(s.tag){case 31:case 13:case 19:var e=s.stateNode;return e===null&&(e=s.stateNode=new MA),e;case 22:return s=s.stateNode,e=s._retryCache,e===null&&(e=s._retryCache=new MA),e;default:throw Error(B(435,s.tag))}}function Hp(s,e){var t=bM(s);e.forEach(function(n){if(!t.has(n)){t.add(n);var i=jM.bind(null,s,n);n.then(i,i)}})}function Es(s,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n],a=s,r=e,o=r;e:for(;o!==null;){switch(o.tag){case 27:if(Pl(o.type)){et=o.stateNode,Ps=!1;break e}break;case 5:et=o.stateNode,Ps=!1;break e;case 3:case 4:et=o.stateNode.containerInfo,Ps=!0;break e}o=o.return}if(et===null)throw Error(B(160));Q2(a,r,i),et=null,Ps=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)eE(e,s),e=e.sibling}var ui=null;function eE(s,e){var t=s.alternate,n=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Es(e,s),Cs(s),n&4&&(_l(3,s,s.return),gp(3,s),_l(5,s,s.return));break;case 1:Es(e,s),Cs(s),n&512&&(St||t===null||Vi(t,t.return)),n&64&&Va&&(s=s.updateQueue,s!==null&&(n=s.callbacks,n!==null&&(t=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=t===null?n:t.concat(n))));break;case 26:var i=ui;if(Es(e,s),Cs(s),n&512&&(St||t===null||Vi(t,t.return)),n&4){var a=t!==null?t.memoizedState:null;if(n=s.memoizedState,t===null)if(n===null)if(s.stateNode===null){e:{n=s.type,t=s.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[hp]||a[Jt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),ns(a,n,t),a[Jt]=s,Ht(a),n=a;break e;case"link":var r=KA("link","href",i).get(n+(t.href||""));if(r){for(var o=0;o<r.length;o++)if(a=r[o],a.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&a.getAttribute("rel")===(t.rel==null?null:t.rel)&&a.getAttribute("title")===(t.title==null?null:t.title)&&a.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){r.splice(o,1);break t}}a=i.createElement(n),ns(a,n,t),i.head.appendChild(a);break;case"meta":if(r=KA("meta","content",i).get(n+(t.content||""))){for(o=0;o<r.length;o++)if(a=r[o],a.getAttribute("content")===(t.content==null?null:""+t.content)&&a.getAttribute("name")===(t.name==null?null:t.name)&&a.getAttribute("property")===(t.property==null?null:t.property)&&a.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&a.getAttribute("charset")===(t.charSet==null?null:t.charSet)){r.splice(o,1);break t}}a=i.createElement(n),ns(a,n,t),i.head.appendChild(a);break;default:throw Error(B(468,n))}a[Jt]=s,Ht(a),n=a}s.stateNode=n}else QA(i,s.type,s.stateNode);else s.stateNode=WA(i,n,s.memoizedProps);else a!==n?(a===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):a.count--,n===null?QA(i,s.type,s.stateNode):WA(i,n,s.memoizedProps)):n===null&&s.stateNode!==null&&ub(s,s.memoizedProps,t.memoizedProps)}break;case 27:Es(e,s),Cs(s),n&512&&(St||t===null||Vi(t,t.return)),t!==null&&n&4&&ub(s,s.memoizedProps,t.memoizedProps);break;case 5:if(Es(e,s),Cs(s),n&512&&(St||t===null||Vi(t,t.return)),s.flags&32){i=s.stateNode;try{zd(i,"")}catch(y){Me(s,s.return,y)}}n&4&&s.stateNode!=null&&(i=s.memoizedProps,ub(s,i,t!==null?t.memoizedProps:i)),n&1024&&(hb=!0);break;case 6:if(Es(e,s),Cs(s),n&4){if(s.stateNode===null)throw Error(B(162));n=s.memoizedProps,t=s.stateNode;try{t.nodeValue=n}catch(y){Me(s,s.return,y)}}break;case 3:if(xg=null,i=ui,ui=E0(e.containerInfo),Es(e,s),ui=i,Cs(s),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Xd(e.containerInfo)}catch(y){Me(s,s.return,y)}hb&&(hb=!1,tE(s));break;case 4:n=ui,ui=E0(s.stateNode.containerInfo),Es(e,s),Cs(s),ui=n;break;case 12:Es(e,s),Cs(s);break;case 31:Es(e,s),Cs(s),n&4&&(n=s.updateQueue,n!==null&&(s.updateQueue=null,Hp(s,n)));break;case 13:Es(e,s),Cs(s),s.child.flags&8192&&s.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(Ax=mn()),n&4&&(n=s.updateQueue,n!==null&&(s.updateQueue=null,Hp(s,n)));break;case 22:i=s.memoizedState!==null;var u=t!==null&&t.memoizedState!==null,d=Va,h=St;if(Va=d||i,St=h||u,Es(e,s),St=h,Va=d,Cs(s),n&8192)e:for(e=s.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(t===null||u||Va||St||Hl(s)),t=null,e=s;;){if(e.tag===5||e.tag===26){if(t===null){u=t=e;try{if(a=u.stateNode,i)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=u.stateNode;var f=u.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(y){Me(u,u.return,y)}}}else if(e.tag===6){if(t===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(y){Me(u,u.return,y)}}}else if(e.tag===18){if(t===null){u=e;try{var p=u.stateNode;i?GA(p,!0):GA(u.stateNode,!1)}catch(y){Me(u,u.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===s)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=s.updateQueue,n!==null&&(t=n.retryQueue,t!==null&&(n.retryQueue=null,Hp(s,t))));break;case 19:Es(e,s),Cs(s),n&4&&(n=s.updateQueue,n!==null&&(s.updateQueue=null,Hp(s,n)));break;case 30:break;case 21:break;default:Es(e,s),Cs(s)}}function Cs(s){var e=s.flags;if(e&2){try{for(var t,n=s.return;n!==null;){if(q2(n)){t=n;break}n=n.return}if(t==null)throw Error(B(160));switch(t.tag){case 27:var i=t.stateNode,a=db(s);x0(s,a,i);break;case 5:var r=t.stateNode;t.flags&32&&(zd(r,""),t.flags&=-33);var o=db(s);x0(s,o,r);break;case 3:case 4:var u=t.stateNode.containerInfo,d=db(s);hy(s,d,u);break;default:throw Error(B(161))}}catch(h){Me(s,s.return,h)}s.flags&=-3}e&4096&&(s.flags&=-4097)}function tE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var e=s;tE(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),s=s.sibling}}function ta(s,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)W2(s,e.alternate,e),e=e.sibling}function Hl(s){for(s=s.child;s!==null;){var e=s;switch(e.tag){case 0:case 11:case 14:case 15:_l(4,e,e.return),Hl(e);break;case 1:Vi(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&$2(e,e.return,t),Hl(e);break;case 27:lf(e.stateNode);case 26:case 5:Vi(e,e.return),Hl(e);break;case 22:e.memoizedState===null&&Hl(e);break;case 30:Hl(e);break;default:Hl(e)}s=s.sibling}}function sa(s,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=s,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:sa(i,a,t),gp(4,a);break;case 1:if(sa(i,a,t),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(d){Me(n,n.return,d)}if(n=a,i=n.updateQueue,i!==null){var o=n.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)ZN(u[i],o)}catch(d){Me(n,n.return,d)}}t&&r&64&&G2(a),sf(a,a.return);break;case 27:X2(a);case 26:case 5:sa(i,a,t),t&&n===null&&r&4&&Y2(a),sf(a,a.return);break;case 12:sa(i,a,t);break;case 31:sa(i,a,t),t&&r&4&&Z2(i,a);break;case 13:sa(i,a,t),t&&r&4&&J2(i,a);break;case 22:a.memoizedState===null&&sa(i,a,t),sf(a,a.return);break;case 30:break;default:sa(i,a,t)}e=e.sibling}}function Xw(s,e){var t=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==t&&(s!=null&&s.refCount++,t!=null&&mp(t))}function Ww(s,e){s=null,e.alternate!==null&&(s=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==s&&(e.refCount++,s!=null&&mp(s))}function Wn(s,e,t,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sE(s,e,t,n),e=e.sibling}function sE(s,e,t,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Wn(s,e,t,n),i&2048&&gp(9,e);break;case 1:Wn(s,e,t,n);break;case 3:Wn(s,e,t,n),i&2048&&(s=null,e.alternate!==null&&(s=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==s&&(e.refCount++,s!=null&&mp(s)));break;case 12:if(i&2048){Wn(s,e,t,n),s=e.stateNode;try{var a=e.memoizedProps,r=a.id,o=a.onPostCommit;typeof o=="function"&&o(r,e.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(u){Me(e,e.return,u)}}else Wn(s,e,t,n);break;case 31:Wn(s,e,t,n);break;case 13:Wn(s,e,t,n);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?Wn(s,e,t,n):nf(s,e):a._visibility&2?Wn(s,e,t,n):(a._visibility|=2,kc(s,e,t,n,(e.subtreeFlags&10256)!==0||!1)),i&2048&&Xw(r,e);break;case 24:Wn(s,e,t,n),i&2048&&Ww(e.alternate,e);break;default:Wn(s,e,t,n)}}function kc(s,e,t,n,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=s,r=e,o=t,u=n,d=r.flags;switch(r.tag){case 0:case 11:case 15:kc(a,r,o,u,i),gp(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?kc(a,r,o,u,i):nf(a,r):(h._visibility|=2,kc(a,r,o,u,i)),i&&d&2048&&Xw(r.alternate,r);break;case 24:kc(a,r,o,u,i),i&&d&2048&&Ww(r.alternate,r);break;default:kc(a,r,o,u,i)}e=e.sibling}}function nf(s,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=s,n=e,i=n.flags;switch(n.tag){case 22:nf(t,n),i&2048&&Xw(n.alternate,n);break;case 24:nf(t,n),i&2048&&Ww(n.alternate,n);break;default:nf(t,n)}e=e.sibling}}var Eh=8192;function _c(s,e,t){if(s.subtreeFlags&Eh)for(s=s.child;s!==null;)nE(s,e,t),s=s.sibling}function nE(s,e,t){switch(s.tag){case 26:_c(s,e,t),s.flags&Eh&&s.memoizedState!==null&&iD(t,ui,s.memoizedState,s.memoizedProps);break;case 5:_c(s,e,t);break;case 3:case 4:var n=ui;ui=E0(s.stateNode.containerInfo),_c(s,e,t),ui=n;break;case 22:s.memoizedState===null&&(n=s.alternate,n!==null&&n.memoizedState!==null?(n=Eh,Eh=16777216,_c(s,e,t),Eh=n):_c(s,e,t));break;default:_c(s,e,t)}}function iE(s){var e=s.alternate;if(e!==null&&(s=e.child,s!==null)){e.child=null;do e=s.sibling,s.sibling=null,s=e;while(s!==null)}}function hh(s){var e=s.deletions;if(s.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var n=e[t];Ut=n,rE(n,s)}iE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)aE(s),s=s.sibling}function aE(s){switch(s.tag){case 0:case 11:case 15:hh(s),s.flags&2048&&_l(9,s,s.return);break;case 3:hh(s);break;case 12:hh(s);break;case 22:var e=s.stateNode;s.memoizedState!==null&&e._visibility&2&&(s.return===null||s.return.tag!==13)?(e._visibility&=-3,pg(s)):hh(s);break;default:hh(s)}}function pg(s){var e=s.deletions;if(s.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var n=e[t];Ut=n,rE(n,s)}iE(s)}for(s=s.child;s!==null;){switch(e=s,e.tag){case 0:case 11:case 15:_l(8,e,e.return),pg(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,pg(e));break;default:pg(e)}s=s.sibling}}function rE(s,e){for(;Ut!==null;){var t=Ut;switch(t.tag){case 0:case 11:case 15:_l(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var n=t.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:mp(t.memoizedState.cache)}if(n=t.child,n!==null)n.return=t,Ut=n;else e:for(t=s;Ut!==null;){n=Ut;var i=n.sibling,a=n.return;if(K2(n),n===t){Ut=null;break e}if(i!==null){i.return=a,Ut=i;break e}Ut=a}}}var yM={getCacheForType:function(s){var e=ss(At),t=e.data.get(s);return t===void 0&&(t=s(),e.data.set(s,t)),t},cacheSignal:function(){return ss(At).controller.signal}},vM=typeof WeakMap=="function"?WeakMap:Map,Ne=0,He=null,pe=null,ge=0,_e=0,on=null,pl=!1,eh=!1,Kw=!1,ir=0,ft=0,Ml=0,hc=0,Qw=0,fn=0,Gd=0,af=null,Bs=null,fy=!1,Ax=0,lE=0,b0=1/0,y0=null,Sl=null,Dt=0,Al=null,$d=null,Ka=0,my=0,py=null,oE=null,rf=0,gy=null;function xn(){return Ne&2&&ge!==0?ge&-ge:J.T!==null?Jw():xN()}function cE(){if(fn===0)if(!(ge&536870912)||ye){var s=Lp;Lp<<=1,!(Lp&3932160)&&(Lp=262144),fn=s}else fn=536870912;return s=vn.current,s!==null&&(s.flags|=32),fn}function Fs(s,e,t){(s===He&&(_e===2||_e===9)||s.cancelPendingCommit!==null)&&(Yd(s,0),gl(s,ge,fn,!1)),dp(s,t),(!(Ne&2)||s!==He)&&(s===He&&(!(Ne&2)&&(hc|=t),ft===4&&gl(s,ge,fn,!1)),Wi(s))}function uE(s,e,t){if(Ne&6)throw Error(B(327));var n=!t&&(e&127)===0&&(e&s.expiredLanes)===0||up(s,e),i=n?AM(s,e):fb(s,e,!0),a=n;do{if(i===0){eh&&!n&&gl(s,e,0,!1);break}else{if(t=s.current.alternate,a&&!wM(t)){i=fb(s,e,!1),a=!1;continue}if(i===2){if(a=e,s.errorRecoveryDisabledLanes&a)var r=0;else r=s.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var o=s;i=af;var u=o.current.memoizedState.isDehydrated;if(u&&(Yd(o,r).flags|=256),r=fb(o,r,!1),r!==2){if(Kw&&!u){o.errorRecoveryDisabledLanes|=a,hc|=a,i=4;break e}a=Bs,Bs=i,a!==null&&(Bs===null?Bs=a:Bs.push.apply(Bs,a))}i=r}if(a=!1,i!==2)continue}}if(i===1){Yd(s,0),gl(s,e,0,!0);break}e:{switch(n=s,a=i,a){case 0:case 1:throw Error(B(345));case 4:if((e&4194048)!==e)break;case 6:gl(n,e,fn,!pl);break e;case 2:Bs=null;break;case 3:case 5:break;default:throw Error(B(329))}if((e&62914560)===e&&(i=Ax+300-mn(),10<i)){if(gl(n,e,fn,!pl),hx(n,0,!0)!==0)break e;Ka=e,n.timeoutHandle=ME(DA.bind(null,n,t,Bs,y0,fy,e,fn,hc,Gd,pl,a,"Throttled",-0,0),i);break e}DA(n,t,Bs,y0,fy,e,fn,hc,Gd,pl,a,null,-0,0)}}break}while(!0);Wi(s)}function DA(s,e,t,n,i,a,r,o,u,d,h,f,m,p){if(s.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ya},nE(e,a,f);var y=(a&62914560)===a?Ax-mn():(a&4194048)===a?lE-mn():0;if(y=aD(f,y),y!==null){Ka=a,s.cancelPendingCommit=y(RA.bind(null,s,e,a,t,n,i,r,o,u,h,f,null,m,p)),gl(s,a,r,!d);return}}RA(s,e,a,t,n,i,r,o,u)}function wM(s){for(var e=s;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var n=0;n<t.length;n++){var i=t[n],a=i.getSnapshot;i=i.value;try{if(!yn(a(),i))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gl(s,e,t,n){e&=~Qw,e&=~hc,s.suspendedLanes|=e,s.pingedLanes&=~e,n&&(s.warmLanes|=e),n=s.expirationTimes;for(var i=e;0<i;){var a=31-gn(i),r=1<<a;n[a]=-1,i&=~r}t!==0&&mN(s,t,e)}function Nx(){return Ne&6?!0:(xp(0),!1)}function Zw(){if(pe!==null){if(_e===0)var s=pe.return;else s=pe,qa=Ec=null,Bw(s),cu=null,mf=0,s=pe;for(;s!==null;)V2(s.alternate,s),s=s.return;pe=null}}function Yd(s,e){var t=s.timeoutHandle;t!==-1&&(s.timeoutHandle=-1,UM(t)),t=s.cancelPendingCommit,t!==null&&(s.cancelPendingCommit=null,t()),Ka=0,Zw(),He=s,pe=t=Xa(s.current,null),ge=e,_e=0,on=null,pl=!1,eh=up(s,e),Kw=!1,Gd=fn=Qw=hc=Ml=ft=0,Bs=af=null,fy=!1,e&8&&(e|=e&32);var n=s.entangledLanes;if(n!==0)for(s=s.entanglements,n&=e;0<n;){var i=31-gn(n),a=1<<i;e|=s[i],n&=~a}return ir=e,gx(),t}function dE(s,e){oe=null,J.H=gf,e===Jd||e===bx?(e=cA(),_e=3):e===Mw?(e=cA(),_e=4):_e=e===Yw?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,on=e,pe===null&&(ft=1,p0(s,Fn(e,s.current)))}function hE(){var s=vn.current;return s===null?!0:(ge&4194048)===ge?Vn===null:(ge&62914560)===ge||ge&536870912?s===Vn:!1}function fE(){var s=J.H;return J.H=gf,s===null?gf:s}function mE(){var s=J.A;return J.A=yM,s}function v0(){ft=4,pl||(ge&4194048)!==ge&&vn.current!==null||(eh=!0),!(Ml&134217727)&&!(hc&134217727)||He===null||gl(He,ge,fn,!1)}function fb(s,e,t){var n=Ne;Ne|=2;var i=fE(),a=mE();(He!==s||ge!==e)&&(y0=null,Yd(s,e)),e=!1;var r=ft;e:do try{if(_e!==0&&pe!==null){var o=pe,u=on;switch(_e){case 8:Zw(),r=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(e=!0);var d=_e;if(_e=0,on=null,Jc(s,o,u,d),t&&eh){r=0;break e}break;default:d=_e,_e=0,on=null,Jc(s,o,u,d)}}SM(),r=ft;break}catch(h){dE(s,h)}while(!0);return e&&s.shellSuspendCounter++,qa=Ec=null,Ne=n,J.H=i,J.A=a,pe===null&&(He=null,ge=0,gx()),r}function SM(){for(;pe!==null;)pE(pe)}function AM(s,e){var t=Ne;Ne|=2;var n=fE(),i=mE();He!==s||ge!==e?(y0=null,b0=mn()+500,Yd(s,e)):eh=up(s,e);e:do try{if(_e!==0&&pe!==null){e=pe;var a=on;t:switch(_e){case 1:_e=0,on=null,Jc(s,e,a,1);break;case 2:case 9:if(oA(a)){_e=0,on=null,kA(e);break}e=function(){_e!==2&&_e!==9||He!==s||(_e=7),Wi(s)},a.then(e,e);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:oA(a)?(_e=0,on=null,kA(e)):(_e=0,on=null,Jc(s,e,a,7));break;case 5:var r=null;switch(pe.tag){case 26:r=pe.memoizedState;case 5:case 27:var o=pe;if(r?OE(r):o.stateNode.complete){_e=0,on=null;var u=o.sibling;if(u!==null)pe=u;else{var d=o.return;d!==null?(pe=d,Ex(d)):pe=null}break t}}_e=0,on=null,Jc(s,e,a,5);break;case 6:_e=0,on=null,Jc(s,e,a,6);break;case 8:Zw(),ft=6;break e;default:throw Error(B(462))}}NM();break}catch(h){dE(s,h)}while(!0);return qa=Ec=null,J.H=n,J.A=i,Ne=t,pe!==null?0:(He=null,ge=0,gx(),ft)}function NM(){for(;pe!==null&&!qT();)pE(pe)}function pE(s){var e=H2(s.alternate,s,ir);s.memoizedProps=s.pendingProps,e===null?Ex(s):pe=e}function kA(s){var e=s,t=e.alternate;switch(e.tag){case 15:case 0:e=EA(t,e,e.pendingProps,e.type,void 0,ge);break;case 11:e=EA(t,e,e.pendingProps,e.type.render,e.ref,ge);break;case 5:Bw(e);default:V2(t,e),e=pe=VN(e,ir),e=H2(t,e,ir)}s.memoizedProps=s.pendingProps,e===null?Ex(s):pe=e}function Jc(s,e,t,n){qa=Ec=null,Bw(e),cu=null,mf=0;var i=e.return;try{if(hM(s,i,e,t,ge)){ft=1,p0(s,Fn(t,s.current)),pe=null;return}}catch(a){if(i!==null)throw pe=i,a;ft=1,p0(s,Fn(t,s.current)),pe=null;return}e.flags&32768?(ye||n===1?s=!0:eh||ge&536870912?s=!1:(pl=s=!0,(n===2||n===9||n===3||n===6)&&(n=vn.current,n!==null&&n.tag===13&&(n.flags|=16384))),gE(e,s)):Ex(e)}function Ex(s){var e=s;do{if(e.flags&32768){gE(e,pl);return}s=e.return;var t=pM(e.alternate,e,ir);if(t!==null){pe=t;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=s}while(e!==null);ft===0&&(ft=5)}function gE(s,e){do{var t=gM(s.alternate,s);if(t!==null){t.flags&=32767,pe=t;return}if(t=s.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(s=s.sibling,s!==null)){pe=s;return}pe=s=t}while(s!==null);ft=6,pe=null}function RA(s,e,t,n,i,a,r,o,u){s.cancelPendingCommit=null;do Cx();while(Dt!==0);if(Ne&6)throw Error(B(327));if(e!==null){if(e===s.current)throw Error(B(177));if(a=e.lanes|e.childLanes,a|=Aw,n_(s,t,a,r,o,u),s===He&&(pe=He=null,ge=0),$d=e,Al=s,Ka=t,my=a,py=i,oE=n,e.subtreeFlags&10256||e.flags&10256?(s.callbackNode=null,s.callbackPriority=0,TM(i0,function(){return wE(),null})):(s.callbackNode=null,s.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=J.T,J.T=null,i=Ee.p,Ee.p=2,r=Ne,Ne|=4;try{xM(s,e,t)}finally{Ne=r,Ee.p=i,J.T=n}}Dt=1,xE(),bE(),yE()}}function xE(){if(Dt===1){Dt=0;var s=Al,e=$d,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=J.T,J.T=null;var n=Ee.p;Ee.p=2;var i=Ne;Ne|=4;try{eE(e,s);var a=vy,r=ON(s.containerInfo),o=a.focusedElem,u=a.selectionRange;if(r!==o&&o&&o.ownerDocument&&LN(o.ownerDocument.documentElement,o)){if(u!==null&&Sw(o)){var d=u.start,h=u.end;if(h===void 0&&(h=d),"selectionStart"in o)o.selectionStart=d,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var p=m.getSelection(),y=o.textContent.length,b=Math.min(u.start,y),A=u.end===void 0?b:Math.min(u.end,y);!p.extend&&b>A&&(r=A,A=b,b=r);var x=tA(o,b),v=tA(o,A);if(x&&v&&(p.rangeCount!==1||p.anchorNode!==x.node||p.anchorOffset!==x.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var w=f.createRange();w.setStart(x.node,x.offset),p.removeAllRanges(),b>A?(p.addRange(w),p.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),p.addRange(w))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var E=f[o];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}T0=!!yy,vy=yy=null}finally{Ne=i,Ee.p=n,J.T=t}}s.current=e,Dt=2}}function bE(){if(Dt===2){Dt=0;var s=Al,e=$d,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=J.T,J.T=null;var n=Ee.p;Ee.p=2;var i=Ne;Ne|=4;try{W2(s,e.alternate,e)}finally{Ne=i,Ee.p=n,J.T=t}}Dt=3}}function yE(){if(Dt===4||Dt===3){Dt=0,XT();var s=Al,e=$d,t=Ka,n=oE;e.subtreeFlags&10256||e.flags&10256?Dt=5:(Dt=0,$d=Al=null,vE(s,s.pendingLanes));var i=s.pendingLanes;if(i===0&&(Sl=null),pw(t),e=e.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(cp,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=J.T,i=Ee.p,Ee.p=2,J.T=null;try{for(var a=s.onRecoverableError,r=0;r<n.length;r++){var o=n[r];a(o.value,{componentStack:o.stack})}}finally{J.T=e,Ee.p=i}}Ka&3&&Cx(),Wi(s),i=s.pendingLanes,t&261930&&i&42?s===gy?rf++:(rf=0,gy=s):rf=0,xp(0)}}function vE(s,e){(s.pooledCacheLanes&=e)===0&&(e=s.pooledCache,e!=null&&(s.pooledCache=null,mp(e)))}function Cx(){return xE(),bE(),yE(),wE()}function wE(){if(Dt!==5)return!1;var s=Al,e=my;my=0;var t=pw(Ka),n=J.T,i=Ee.p;try{Ee.p=32>t?32:t,J.T=null,t=py,py=null;var a=Al,r=Ka;if(Dt=0,$d=Al=null,Ka=0,Ne&6)throw Error(B(331));var o=Ne;if(Ne|=4,aE(a.current),sE(a,a.current,r,t),Ne=o,xp(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(cp,a)}catch{}return!0}finally{Ee.p=i,J.T=n,vE(s,e)}}function LA(s,e,t){e=Fn(t,e),e=cy(s.stateNode,e,2),s=wl(s,e,2),s!==null&&(dp(s,2),Wi(s))}function Me(s,e,t){if(s.tag===3)LA(s,s,t);else for(;e!==null;){if(e.tag===3){LA(e,s,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sl===null||!Sl.has(n))){s=Fn(t,s),t=P2(2),n=wl(e,t,2),n!==null&&(B2(t,n,e,s),dp(n,2),Wi(n));break}}e=e.return}}function mb(s,e,t){var n=s.pingCache;if(n===null){n=s.pingCache=new vM;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(Kw=!0,i.add(t),s=EM.bind(null,s,e,t),e.then(s,s))}function EM(s,e,t){var n=s.pingCache;n!==null&&n.delete(e),s.pingedLanes|=s.suspendedLanes&t,s.warmLanes&=~t,He===s&&(ge&t)===t&&(ft===4||ft===3&&(ge&62914560)===ge&&300>mn()-Ax?!(Ne&2)&&Yd(s,0):Qw|=t,Gd===ge&&(Gd=0)),Wi(s)}function SE(s,e){e===0&&(e=fN()),s=Nc(s,e),s!==null&&(dp(s,e),Wi(s))}function CM(s){var e=s.memoizedState,t=0;e!==null&&(t=e.retryLane),SE(s,t)}function jM(s,e){var t=0;switch(s.tag){case 31:case 13:var n=s.stateNode,i=s.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=s.stateNode;break;case 22:n=s.stateNode._retryCache;break;default:throw Error(B(314))}n!==null&&n.delete(e),SE(s,t)}function TM(s,e){return fw(s,e)}var w0=null,Rc=null,xy=!1,S0=!1,pb=!1,xl=0;function Wi(s){s!==Rc&&s.next===null&&(Rc===null?w0=Rc=s:Rc=Rc.next=s),S0=!0,xy||(xy=!0,MM())}function xp(s,e){if(!pb&&S0){pb=!0;do for(var t=!1,n=w0;n!==null;){if(s!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var r=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-gn(42|s)+1)-1,a&=i&~(r&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(t=!0,OA(n,a))}else a=ge,a=hx(n,n===He?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(a&3)||up(n,a)||(t=!0,OA(n,a));n=n.next}while(t);pb=!1}}function _M(){AE()}function AE(){S0=xy=!1;var s=0;xl!==0&&zM()&&(s=xl);for(var e=mn(),t=null,n=w0;n!==null;){var i=n.next,a=NE(n,e);a===0?(n.next=null,t===null?w0=i:t.next=i,i===null&&(Rc=t)):(t=n,(s!==0||a&3)&&(S0=!0)),n=i}Dt!==0&&Dt!==5||xp(s),xl!==0&&(xl=0)}function NE(s,e){for(var t=s.suspendedLanes,n=s.pingedLanes,i=s.expirationTimes,a=s.pendingLanes&-62914561;0<a;){var r=31-gn(a),o=1<<r,u=i[r];u===-1?(!(o&t)||o&n)&&(i[r]=s_(o,e)):u<=e&&(s.expiredLanes|=o),a&=~o}if(e=He,t=ge,t=hx(s,s===e?t:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),n=s.callbackNode,t===0||s===e&&(_e===2||_e===9)||s.cancelPendingCommit!==null)return n!==null&&n!==null&&Vx(n),s.callbackNode=null,s.callbackPriority=0;if(!(t&3)||up(s,t)){if(e=t&-t,e===s.callbackPriority)return e;switch(n!==null&&Vx(n),pw(t)){case 2:case 8:t=dN;break;case 32:t=i0;break;case 268435456:t=hN;break;default:t=i0}return n=EE.bind(null,s),t=fw(t,n),s.callbackPriority=e,s.callbackNode=t,e}return n!==null&&n!==null&&Vx(n),s.callbackPriority=2,s.callbackNode=null,2}function EE(s,e){if(Dt!==0&&Dt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var t=s.callbackNode;if(Cx()&&s.callbackNode!==t)return null;var n=ge;return n=hx(s,s===He?n:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),n===0?null:(uE(s,n,e),NE(s,mn()),s.callbackNode!=null&&s.callbackNode===t?EE.bind(null,s):null)}function OA(s,e){if(Cx())return null;uE(s,e,!0)}function MM(){HM(function(){Ne&6?fw(uN,_M):AE()})}function Jw(){if(xl===0){var s=Ud;s===0&&(s=Rp,Rp<<=1,!(Rp&261888)&&(Rp=256)),xl=s}return xl}function PA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:rg(""+s)}function BA(s,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,s.id&&t.setAttribute("form",s.id),e.parentNode.insertBefore(t,e),s=new FormData(s),t.parentNode.removeChild(t),s}function DM(s,e,t,n,i){if(e==="submit"&&t&&t.stateNode===i){var a=PA((i[zs]||null).action),r=n.submitter;r&&(e=(e=r[zs]||null)?PA(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var o=new fx("action","action",null,n,i);s.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(xl!==0){var u=r?BA(i,r):new FormData(i);ly(t,{pending:!0,data:u,method:i.method,action:a},null,u)}}else typeof a=="function"&&(o.preventDefault(),u=r?BA(i,r):new FormData(i),ly(t,{pending:!0,data:u,method:i.method,action:a},a,u))},currentTarget:i}]})}}for(var gb=0;gb<Wb.length;gb++){var xb=Wb[gb],kM=xb.toLowerCase(),RM=xb[0].toUpperCase()+xb.slice(1);fi(kM,"on"+RM)}fi(BN,"onAnimationEnd");fi(IN,"onAnimationIteration");fi(FN,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(W_,"onTransitionRun");fi(K_,"onTransitionStart");fi(Q_,"onTransitionCancel");fi(zN,"onTransitionEnd");Fd("onMouseEnter",["mouseout","mouseover"]);Fd("onMouseLeave",["mouseout","mouseover"]);Fd("onPointerEnter",["pointerout","pointerover"]);Fd("onPointerLeave",["pointerout","pointerover"]);wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xf));function CE(s,e){e=(e&4)!==0;for(var t=0;t<s.length;t++){var n=s[t],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var r=n.length-1;0<=r;r--){var o=n[r],u=o.instance,d=o.currentTarget;if(o=o.listener,u!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=d;try{a(i)}catch(h){r0(h)}i.currentTarget=null,a=u}else for(r=0;r<n.length;r++){if(o=n[r],u=o.instance,d=o.currentTarget,o=o.listener,u!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=d;try{a(i)}catch(h){r0(h)}i.currentTarget=null,a=u}}}}function me(s,e){var t=e[Ub];t===void 0&&(t=e[Ub]=new Set);var n=s+"__bubble";t.has(n)||(jE(e,s,2,!1),t.add(n))}function bb(s,e,t){var n=0;e&&(n|=4),jE(t,s,n,e)}var Vp="_reactListening"+Math.random().toString(36).slice(2);function eS(s){if(!s[Vp]){s[Vp]=!0,bN.forEach(function(t){t!=="selectionchange"&&(LM.has(t)||bb(t,!1,s),bb(t,!0,s))});var e=s.nodeType===9?s:s.ownerDocument;e===null||e[Vp]||(e[Vp]=!0,bb("selectionchange",!1,e))}}function jE(s,e,t,n){switch(zE(e)){case 2:var i=oD;break;case 8:i=cD;break;default:i=iS}t=i.bind(null,e,t,s),i=void 0,!Yb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?s.addEventListener(e,t,{capture:!0,passive:i}):s.addEventListener(e,t,!0):i!==void 0?s.addEventListener(e,t,{passive:i}):s.addEventListener(e,t,!1)}function yb(s,e,t,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var o=n.stateNode.containerInfo;if(o===i)break;if(r===4)for(r=n.return;r!==null;){var u=r.tag;if((u===3||u===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;o!==null;){if(r=Gc(o),r===null)return;if(u=r.tag,u===5||u===6||u===26||u===27){n=a=r;continue e}o=o.parentNode}}n=n.return}CN(function(){var d=a,h=bw(t),f=[];e:{var m=UN.get(s);if(m!==void 0){var p=fx,y=s;switch(s){case"keypress":if(og(t)===0)break e;case"keydown":case"keyup":p=j_;break;case"focusin":y="focus",p=Xx;break;case"focusout":y="blur",p=Xx;break;case"beforeblur":case"afterblur":p=Xx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$S;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=M_;break;case BN:case IN:case FN:p=b_;break;case zN:p=k_;break;case"scroll":case"scrollend":p=f_;break;case"wheel":p=L_;break;case"copy":case"cut":case"paste":p=v_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=qS;break;case"toggle":case"beforetoggle":p=P_}var b=(e&4)!==0,A=!b&&(s==="scroll"||s==="scrollend"),x=b?m!==null?m+"Capture":null:m;b=[];for(var v=d,w;v!==null;){var E=v;if(w=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||w===null||x===null||(E=cf(v,x),E!=null&&b.push(bf(v,E,w))),A)break;v=v.return}0<b.length&&(m=new p(m,y,null,t,h),f.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=s==="mouseover"||s==="pointerover",p=s==="mouseout"||s==="pointerout",m&&t!==$b&&(y=t.relatedTarget||t.fromElement)&&(Gc(y)||y[Kd]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=t.relatedTarget||t.toElement,p=d,y=y?Gc(y):null,y!==null&&(A=op(y),b=y.tag,y!==A||b!==5&&b!==27&&b!==6)&&(y=null)):(p=null,y=d),p!==y)){if(b=$S,E="onMouseLeave",x="onMouseEnter",v="mouse",(s==="pointerout"||s==="pointerover")&&(b=qS,E="onPointerLeave",x="onPointerEnter",v="pointer"),A=p==null?m:Ah(p),w=y==null?m:Ah(y),m=new b(E,v+"leave",p,t,h),m.target=A,m.relatedTarget=w,E=null,Gc(h)===d&&(b=new b(x,v+"enter",y,t,h),b.target=w,b.relatedTarget=A,E=b),A=E,p&&y)t:{for(b=OM,x=p,v=y,w=0,E=x;E;E=b(E))w++;E=0;for(var j=v;j;j=b(j))E++;for(;0<w-E;)x=b(x),w--;for(;0<E-w;)v=b(v),E--;for(;w--;){if(x===v||v!==null&&x===v.alternate){b=x;break t}x=b(x),v=b(v)}b=null}else b=null;p!==null&&IA(f,m,p,b,!1),y!==null&&A!==null&&IA(f,A,y,b,!0)}}e:{if(m=d?Ah(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var T=QS;else if(KS(m))if(kN)T=Y_;else{T=G_;var C=V_}else p=m.nodeName,!p||p.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?d&&xw(d.elementType)&&(T=QS):T=$_;if(T&&(T=T(s,d))){DN(f,T,t,h);break e}C&&C(s,m,d),s==="focusout"&&d&&m.type==="number"&&d.memoizedProps.value!=null&&Gb(m,"number",m.value)}switch(C=d?Ah(d):window,s){case"focusin":(KS(C)||C.contentEditable==="true")&&(qc=C,qb=d,Kh=null);break;case"focusout":Kh=qb=qc=null;break;case"mousedown":Xb=!0;break;case"contextmenu":case"mouseup":case"dragend":Xb=!1,sA(f,t,h);break;case"selectionchange":if(X_)break;case"keydown":case"keyup":sA(f,t,h)}var _;if(ww)e:{switch(s){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Yc?_N(s,t)&&(D="onCompositionEnd"):s==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(TN&&t.locale!=="ko"&&(Yc||D!=="onCompositionStart"?D==="onCompositionEnd"&&Yc&&(_=jN()):(ml=h,yw="value"in ml?ml.value:ml.textContent,Yc=!0)),C=A0(d,D),0<C.length&&(D=new YS(D,s,null,t,h),f.push({event:D,listeners:C}),_?D.data=_:(_=MN(t),_!==null&&(D.data=_)))),(_=I_?F_(s,t):z_(s,t))&&(D=A0(d,"onBeforeInput"),0<D.length&&(C=new YS("onBeforeInput","beforeinput",null,t,h),f.push({event:C,listeners:D}),C.data=_)),DM(f,s,d,t,h)}CE(f,e)})}function bf(s,e,t){return{instance:s,listener:e,currentTarget:t}}function A0(s,e){for(var t=e+"Capture",n=[];s!==null;){var i=s,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=cf(s,t),i!=null&&n.unshift(bf(s,i,a)),i=cf(s,e),i!=null&&n.push(bf(s,i,a))),s.tag===3)return n;s=s.return}return[]}function OM(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function IA(s,e,t,n,i){for(var a=e._reactName,r=[];t!==null&&t!==n;){var o=t,u=o.alternate,d=o.stateNode;if(o=o.tag,u!==null&&u===n)break;o!==5&&o!==26&&o!==27||d===null||(u=d,i?(d=cf(t,a),d!=null&&r.unshift(bf(t,d,u))):i||(d=cf(t,a),d!=null&&r.push(bf(t,d,u)))),t=t.return}r.length!==0&&s.push({event:e,listeners:r})}var PM=/\r\n?/g,BM=/\u0000|\uFFFD/g;function FA(s){return(typeof s=="string"?s:""+s).replace(PM,`
`).replace(BM,"")}function TE(s,e){return e=FA(e),FA(s)===e}function Oe(s,e,t,n,i,a){switch(t){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||zd(s,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&zd(s,""+n);break;case"className":Pp(s,"class",n);break;case"tabIndex":Pp(s,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Pp(s,t,n);break;case"style":EN(s,n,a);break;case"data":if(e!=="object"){Pp(s,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||t!=="href")){s.removeAttribute(t);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){s.removeAttribute(t);break}n=rg(""+n),s.setAttribute(t,n);break;case"action":case"formAction":if(typeof n=="function"){s.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(t==="formAction"?(e!=="input"&&Oe(s,e,"name",i.name,i,null),Oe(s,e,"formEncType",i.formEncType,i,null),Oe(s,e,"formMethod",i.formMethod,i,null),Oe(s,e,"formTarget",i.formTarget,i,null)):(Oe(s,e,"encType",i.encType,i,null),Oe(s,e,"method",i.method,i,null),Oe(s,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){s.removeAttribute(t);break}n=rg(""+n),s.setAttribute(t,n);break;case"onClick":n!=null&&(s.onclick=Ya);break;case"onScroll":n!=null&&me("scroll",s);break;case"onScrollEnd":n!=null&&me("scrollend",s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(t=n.__html,t!=null){if(i.children!=null)throw Error(B(60));s.innerHTML=t}}break;case"multiple":s.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":s.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){s.removeAttribute("xlink:href");break}t=rg(""+n),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?s.setAttribute(t,""+n):s.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?s.setAttribute(t,""):s.removeAttribute(t);break;case"capture":case"download":n===!0?s.setAttribute(t,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?s.setAttribute(t,n):s.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?s.setAttribute(t,n):s.removeAttribute(t);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?s.removeAttribute(t):s.setAttribute(t,n);break;case"popover":me("beforetoggle",s),me("toggle",s),ag(s,"popover",n);break;case"xlinkActuate":Zi(s,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Zi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Zi(s,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Zi(s,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Zi(s,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Zi(s,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Zi(s,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Zi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Zi(s,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ag(s,"is",n);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=d_.get(t)||t,ag(s,t,n))}}function by(s,e,t,n,i,a){switch(t){case"style":EN(s,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(t=n.__html,t!=null){if(i.children!=null)throw Error(B(60));s.innerHTML=t}}break;case"children":typeof n=="string"?zd(s,n):(typeof n=="number"||typeof n=="bigint")&&zd(s,""+n);break;case"onScroll":n!=null&&me("scroll",s);break;case"onScrollEnd":n!=null&&me("scrollend",s);break;case"onClick":n!=null&&(s.onclick=Ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yN.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(i=t.endsWith("Capture"),e=t.slice(2,i?t.length-7:void 0),a=s[zs]||null,a=a!=null?a[t]:null,typeof a=="function"&&s.removeEventListener(e,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(t in s?s[t]=null:s.hasAttribute(t)&&s.removeAttribute(t)),s.addEventListener(e,n,i);break e}t in s?s[t]=n:n===!0?s.setAttribute(t,""):ag(s,t,n)}}}function ns(s,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",s),me("load",s);var n=!1,i=!1,a;for(a in t)if(t.hasOwnProperty(a)){var r=t[a];if(r!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:Oe(s,e,a,r,t,null)}}i&&Oe(s,e,"srcSet",t.srcSet,t,null),n&&Oe(s,e,"src",t.src,t,null);return;case"input":me("invalid",s);var o=a=r=i=null,u=null,d=null;for(n in t)if(t.hasOwnProperty(n)){var h=t[n];if(h!=null)switch(n){case"name":i=h;break;case"type":r=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(B(137,e));break;default:Oe(s,e,n,h,t,null)}}SN(s,a,o,u,d,r,i,!1);return;case"select":me("invalid",s),n=r=a=null;for(i in t)if(t.hasOwnProperty(i)&&(o=t[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":r=o;break;case"multiple":n=o;default:Oe(s,e,i,o,t,null)}e=a,t=r,s.multiple=!!n,e!=null?ru(s,!!n,e,!1):t!=null&&ru(s,!!n,t,!0);return;case"textarea":me("invalid",s),a=i=n=null;for(r in t)if(t.hasOwnProperty(r)&&(o=t[r],o!=null))switch(r){case"value":n=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(B(91));break;default:Oe(s,e,r,o,t,null)}NN(s,n,i,a);return;case"option":for(u in t)if(t.hasOwnProperty(u)&&(n=t[u],n!=null))switch(u){case"selected":s.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Oe(s,e,u,n,t,null)}return;case"dialog":me("beforetoggle",s),me("toggle",s),me("cancel",s),me("close",s);break;case"iframe":case"object":me("load",s);break;case"video":case"audio":for(n=0;n<xf.length;n++)me(xf[n],s);break;case"image":me("error",s),me("load",s);break;case"details":me("toggle",s);break;case"embed":case"source":case"link":me("error",s),me("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in t)if(t.hasOwnProperty(d)&&(n=t[d],n!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:Oe(s,e,d,n,t,null)}return;default:if(xw(e)){for(h in t)t.hasOwnProperty(h)&&(n=t[h],n!==void 0&&by(s,e,h,n,t,void 0));return}}for(o in t)t.hasOwnProperty(o)&&(n=t[o],n!=null&&Oe(s,e,o,n,t,null))}function IM(s,e,t,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,r=null,o=null,u=null,d=null,h=null;for(p in t){var f=t[p];if(t.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":u=f;default:n.hasOwnProperty(p)||Oe(s,e,p,null,n,f)}}for(var m in n){var p=n[m];if(f=t[m],n.hasOwnProperty(m)&&(p!=null||f!=null))switch(m){case"type":a=p;break;case"name":i=p;break;case"checked":d=p;break;case"defaultChecked":h=p;break;case"value":r=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(B(137,e));break;default:p!==f&&Oe(s,e,m,p,n,f)}}Vb(s,r,o,u,d,h,a,i);return;case"select":p=r=o=m=null;for(a in t)if(u=t[a],t.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":p=u;default:n.hasOwnProperty(a)||Oe(s,e,a,null,n,u)}for(i in n)if(a=n[i],u=t[i],n.hasOwnProperty(i)&&(a!=null||u!=null))switch(i){case"value":m=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:a!==u&&Oe(s,e,i,a,n,u)}e=o,t=r,n=p,m!=null?ru(s,!!t,m,!1):!!n!=!!t&&(e!=null?ru(s,!!t,e,!0):ru(s,!!t,t?[]:"",!1));return;case"textarea":p=m=null;for(o in t)if(i=t[o],t.hasOwnProperty(o)&&i!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Oe(s,e,o,null,n,i)}for(r in n)if(i=n[r],a=t[r],n.hasOwnProperty(r)&&(i!=null||a!=null))switch(r){case"value":m=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(B(91));break;default:i!==a&&Oe(s,e,r,i,n,a)}AN(s,m,p);return;case"option":for(var y in t)if(m=t[y],t.hasOwnProperty(y)&&m!=null&&!n.hasOwnProperty(y))switch(y){case"selected":s.selected=!1;break;default:Oe(s,e,y,null,n,m)}for(u in n)if(m=n[u],p=t[u],n.hasOwnProperty(u)&&m!==p&&(m!=null||p!=null))switch(u){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Oe(s,e,u,m,n,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in t)m=t[b],t.hasOwnProperty(b)&&m!=null&&!n.hasOwnProperty(b)&&Oe(s,e,b,null,n,m);for(d in n)if(m=n[d],p=t[d],n.hasOwnProperty(d)&&m!==p&&(m!=null||p!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(B(137,e));break;default:Oe(s,e,d,m,n,p)}return;default:if(xw(e)){for(var A in t)m=t[A],t.hasOwnProperty(A)&&m!==void 0&&!n.hasOwnProperty(A)&&by(s,e,A,void 0,n,m);for(h in n)m=n[h],p=t[h],!n.hasOwnProperty(h)||m===p||m===void 0&&p===void 0||by(s,e,h,m,n,p);return}}for(var x in t)m=t[x],t.hasOwnProperty(x)&&m!=null&&!n.hasOwnProperty(x)&&Oe(s,e,x,null,n,m);for(f in n)m=n[f],p=t[f],!n.hasOwnProperty(f)||m===p||m==null&&p==null||Oe(s,e,f,m,n,p)}function zA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FM(){if(typeof performance.getEntriesByType=="function"){for(var s=0,e=0,t=performance.getEntriesByType("resource"),n=0;n<t.length;n++){var i=t[n],a=i.transferSize,r=i.initiatorType,o=i.duration;if(a&&o&&zA(r)){for(r=0,o=i.responseEnd,n+=1;n<t.length;n++){var u=t[n],d=u.startTime;if(d>o)break;var h=u.transferSize,f=u.initiatorType;h&&zA(f)&&(u=u.responseEnd,r+=h*(u<o?1:(o-d)/(u-d)))}if(--n,e+=8*(a+r)/(i.duration/1e3),s++,10<s)break}}if(0<s)return e/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var yy=null,vy=null;function N0(s){return s.nodeType===9?s:s.ownerDocument}function UA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _E(s,e){if(s===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&e==="foreignObject"?0:s}function wy(s,e){return s==="textarea"||s==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vb=null;function zM(){var s=window.event;return s&&s.type==="popstate"?s===vb?!1:(vb=s,!0):(vb=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,UM=typeof clearTimeout=="function"?clearTimeout:void 0,HA=typeof Promise=="function"?Promise:void 0,HM=typeof queueMicrotask=="function"?queueMicrotask:typeof HA<"u"?function(s){return HA.resolve(null).then(s).catch(VM)}:ME;function VM(s){setTimeout(function(){throw s})}function Pl(s){return s==="head"}function VA(s,e){var t=e,n=0;do{var i=t.nextSibling;if(s.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"||t==="/&"){if(n===0){s.removeChild(i),Xd(e);return}n--}else if(t==="$"||t==="$?"||t==="$~"||t==="$!"||t==="&")n++;else if(t==="html")lf(s.ownerDocument.documentElement);else if(t==="head"){t=s.ownerDocument.head,lf(t);for(var a=t.firstChild;a;){var r=a.nextSibling,o=a.nodeName;a[hp]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||t.removeChild(a),a=r}}else t==="body"&&lf(s.ownerDocument.body);t=i}while(t);Xd(e)}function GA(s,e){var t=s;s=0;do{var n=t.nextSibling;if(t.nodeType===1?e?(t._stashedDisplay=t.style.display,t.style.display="none"):(t.style.display=t._stashedDisplay||"",t.getAttribute("style")===""&&t.removeAttribute("style")):t.nodeType===3&&(e?(t._stashedText=t.nodeValue,t.nodeValue=""):t.nodeValue=t._stashedText||""),n&&n.nodeType===8)if(t=n.data,t==="/$"){if(s===0)break;s--}else t!=="$"&&t!=="$?"&&t!=="$~"&&t!=="$!"||s++;t=n}while(t)}function Sy(s){var e=s.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Sy(t),gw(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}s.removeChild(t)}}function GM(s,e,t,n){for(;s.nodeType===1;){var i=t;if(s.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(n){if(!s[hp])switch(e){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(a=s.getAttribute("rel"),a==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(a!==i.rel||s.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||s.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||s.getAttribute("title")!==(i.title==null?null:i.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(a=s.getAttribute("src"),(a!==(i.src==null?null:i.src)||s.getAttribute("type")!==(i.type==null?null:i.type)||s.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(e==="input"&&s.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&s.getAttribute("name")===a)return s}else return s;if(s=Gn(s.nextSibling),s===null)break}return null}function $M(s,e,t){if(e==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!t||(s=Gn(s.nextSibling),s===null))return null;return s}function DE(s,e){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!e||(s=Gn(s.nextSibling),s===null))return null;return s}function Ay(s){return s.data==="$?"||s.data==="$~"}function Ny(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function YM(s,e){var t=s.ownerDocument;if(s.data==="$~")s._reactRetry=e;else if(s.data!=="$?"||t.readyState!=="loading")e();else{var n=function(){e(),t.removeEventListener("DOMContentLoaded",n)};t.addEventListener("DOMContentLoaded",n),s._reactRetry=n}}function Gn(s){for(;s!=null;s=s.nextSibling){var e=s.nodeType;if(e===1||e===3)break;if(e===8){if(e=s.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return s}var Ey=null;function $A(s){s=s.nextSibling;for(var e=0;s;){if(s.nodeType===8){var t=s.data;if(t==="/$"||t==="/&"){if(e===0)return Gn(s.nextSibling);e--}else t!=="$"&&t!=="$!"&&t!=="$?"&&t!=="$~"&&t!=="&"||e++}s=s.nextSibling}return null}function YA(s){s=s.previousSibling;for(var e=0;s;){if(s.nodeType===8){var t=s.data;if(t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"){if(e===0)return s;e--}else t!=="/$"&&t!=="/&"||e++}s=s.previousSibling}return null}function kE(s,e,t){switch(e=N0(t),s){case"html":if(s=e.documentElement,!s)throw Error(B(452));return s;case"head":if(s=e.head,!s)throw Error(B(453));return s;case"body":if(s=e.body,!s)throw Error(B(454));return s;default:throw Error(B(451))}}function lf(s){for(var e=s.attributes;e.length;)s.removeAttributeNode(e[0]);gw(s)}var Yn=new Map,qA=new Set;function E0(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var or=Ee.d;Ee.d={f:qM,r:XM,D:WM,C:KM,L:QM,m:ZM,X:eD,S:JM,M:tD};function qM(){var s=or.f(),e=Nx();return s||e}function XM(s){var e=Qd(s);e!==null&&e.tag===5&&e.type==="form"?E2(e):or.r(s)}var th=typeof document>"u"?null:document;function RE(s,e,t){var n=th;if(n&&typeof e=="string"&&e){var i=In(e);i='link[rel="'+s+'"][href="'+i+'"]',typeof t=="string"&&(i+='[crossorigin="'+t+'"]'),qA.has(i)||(qA.add(i),s={rel:s,crossOrigin:t,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),ns(e,"link",s),Ht(e),n.head.appendChild(e)))}}function WM(s){or.D(s),RE("dns-prefetch",s,null)}function KM(s,e){or.C(s,e),RE("preconnect",s,e)}function QM(s,e,t){or.L(s,e,t);var n=th;if(n&&s&&e){var i='link[rel="preload"][as="'+In(e)+'"]';e==="image"&&t&&t.imageSrcSet?(i+='[imagesrcset="'+In(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(i+='[imagesizes="'+In(t.imageSizes)+'"]')):i+='[href="'+In(s)+'"]';var a=i;switch(e){case"style":a=qd(s);break;case"script":a=sh(s)}Yn.has(a)||(s=Ke({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:s,as:e},t),Yn.set(a,s),n.querySelector(i)!==null||e==="style"&&n.querySelector(bp(a))||e==="script"&&n.querySelector(yp(a))||(e=n.createElement("link"),ns(e,"link",s),Ht(e),n.head.appendChild(e)))}}function ZM(s,e){or.m(s,e);var t=th;if(t&&s){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+In(n)+'"][href="'+In(s)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=sh(s)}if(!Yn.has(a)&&(s=Ke({rel:"modulepreload",href:s},e),Yn.set(a,s),t.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(yp(a)))return}n=t.createElement("link"),ns(n,"link",s),Ht(n),t.head.appendChild(n)}}}function JM(s,e,t){or.S(s,e,t);var n=th;if(n&&s){var i=au(n).hoistableStyles,a=qd(s);e=e||"default";var r=i.get(a);if(!r){var o={loading:0,preload:null};if(r=n.querySelector(bp(a)))o.loading=5;else{s=Ke({rel:"stylesheet",href:s,"data-precedence":e},t),(t=Yn.get(a))&&tS(s,t);var u=r=n.createElement("link");Ht(u),ns(u,"link",s),u._p=new Promise(function(d,h){u.onload=d,u.onerror=h}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,gg(r,e,n)}r={type:"stylesheet",instance:r,count:1,state:o},i.set(a,r)}}}function eD(s,e){or.X(s,e);var t=th;if(t&&s){var n=au(t).hoistableScripts,i=sh(s),a=n.get(i);a||(a=t.querySelector(yp(i)),a||(s=Ke({src:s,async:!0},e),(e=Yn.get(i))&&sS(s,e),a=t.createElement("script"),Ht(a),ns(a,"link",s),t.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function tD(s,e){or.M(s,e);var t=th;if(t&&s){var n=au(t).hoistableScripts,i=sh(s),a=n.get(i);a||(a=t.querySelector(yp(i)),a||(s=Ke({src:s,async:!0,type:"module"},e),(e=Yn.get(i))&&sS(s,e),a=t.createElement("script"),Ht(a),ns(a,"link",s),t.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function XA(s,e,t,n){var i=(i=bl.current)?E0(i):null;if(!i)throw Error(B(446));switch(s){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=qd(t.href),t=au(i).hoistableStyles,n=t.get(e),n||(n={type:"style",instance:null,count:0,state:null},t.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){s=qd(t.href);var a=au(i).hoistableStyles,r=a.get(s);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(s,r),(a=i.querySelector(bp(s)))&&!a._p&&(r.instance=a,r.state.loading=5),Yn.has(s)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},Yn.set(s,t),a||sD(i,s,t,r.state))),e&&n===null)throw Error(B(528,""));return r}if(e&&n!==null)throw Error(B(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=sh(t),t=au(i).hoistableScripts,n=t.get(e),n||(n={type:"script",instance:null,count:0,state:null},t.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,s))}}function qd(s){return'href="'+In(s)+'"'}function bp(s){return'link[rel="stylesheet"]['+s+"]"}function LE(s){return Ke({},s,{"data-precedence":s.precedence,precedence:null})}function sD(s,e,t,n){s.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=s.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),ns(e,"link",t),Ht(e),s.head.appendChild(e))}function sh(s){return'[src="'+In(s)+'"]'}function yp(s){return"script[async]"+s}function WA(s,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var n=s.querySelector('style[data-href~="'+In(t.href)+'"]');if(n)return e.instance=n,Ht(n),n;var i=Ke({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return n=(s.ownerDocument||s).createElement("style"),Ht(n),ns(n,"style",i),gg(n,t.precedence,s),e.instance=n;case"stylesheet":i=qd(t.href);var a=s.querySelector(bp(i));if(a)return e.state.loading|=4,e.instance=a,Ht(a),a;n=LE(t),(i=Yn.get(i))&&tS(n,i),a=(s.ownerDocument||s).createElement("link"),Ht(a);var r=a;return r._p=new Promise(function(o,u){r.onload=o,r.onerror=u}),ns(a,"link",n),e.state.loading|=4,gg(a,t.precedence,s),e.instance=a;case"script":return a=sh(t.src),(i=s.querySelector(yp(a)))?(e.instance=i,Ht(i),i):(n=t,(i=Yn.get(a))&&(n=Ke({},t),sS(n,i)),s=s.ownerDocument||s,i=s.createElement("script"),Ht(i),ns(i,"link",n),s.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(B(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,gg(n,t.precedence,s));return e.instance}function gg(s,e,t){for(var n=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,r=0;r<n.length;r++){var o=n[r];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(s,a.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(s,e.firstChild))}function tS(s,e){s.crossOrigin==null&&(s.crossOrigin=e.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=e.referrerPolicy),s.title==null&&(s.title=e.title)}function sS(s,e){s.crossOrigin==null&&(s.crossOrigin=e.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=e.referrerPolicy),s.integrity==null&&(s.integrity=e.integrity)}var xg=null;function KA(s,e,t){if(xg===null){var n=new Map,i=xg=new Map;i.set(t,n)}else i=xg,n=i.get(t),n||(n=new Map,i.set(t,n));if(n.has(s))return n;for(n.set(s,null),t=t.getElementsByTagName(s),i=0;i<t.length;i++){var a=t[i];if(!(a[hp]||a[Jt]||s==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=s+r;var o=n.get(r);o?o.push(a):n.set(r,[a])}}return n}function QA(s,e,t){s=s.ownerDocument||s,s.head.insertBefore(t,e==="title"?s.querySelector("head > title"):null)}function nD(s,e,t){if(t===1||e.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return s=e.disabled,typeof e.precedence=="string"&&s==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function OE(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}function iD(s,e,t,n){if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=qd(n.href),a=e.querySelector(bp(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=C0.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=a,Ht(a);return}a=e.ownerDocument||e,n=LE(n),(i=Yn.get(i))&&tS(n,i),a=a.createElement("link"),Ht(a);var r=a;r._p=new Promise(function(o,u){r.onload=o,r.onerror=u}),ns(a,"link",n),t.instance=a}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=C0.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}var wb=0;function aD(s,e){return s.stylesheets&&s.count===0&&bg(s,s.stylesheets),0<s.count||0<s.imgCount?function(t){var n=setTimeout(function(){if(s.stylesheets&&bg(s,s.stylesheets),s.unsuspend){var a=s.unsuspend;s.unsuspend=null,a()}},6e4+e);0<s.imgBytes&&wb===0&&(wb=62500*FM());var i=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&bg(s,s.stylesheets),s.unsuspend)){var a=s.unsuspend;s.unsuspend=null,a()}},(s.imgBytes>wb?50:800)+e);return s.unsuspend=t,function(){s.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function C0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var j0=null;function bg(s,e){s.stylesheets=null,s.unsuspend!==null&&(s.count++,j0=new Map,e.forEach(rD,s),j0=null,C0.call(s))}function rD(s,e){if(!(e.state.loading&4)){var t=j0.get(s);if(t)var n=t.get(null);else{t=new Map,j0.set(s,t);for(var i=s.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var r=i[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(t.set(r.dataset.precedence,r),n=r)}n&&t.set(null,n)}i=e.instance,r=i.getAttribute("data-precedence"),a=t.get(r)||n,a===n&&t.set(null,i),t.set(r,i),this.count++,n=C0.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(i,s.firstChild)),e.state.loading|=4}}var yf={$$typeof:$a,Provider:null,Consumer:null,_currentValue:oc,_currentValue2:oc,_threadCount:0};function lD(s,e,t,n,i,a,r,o,u){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gx(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gx(0),this.hiddenUpdates=Gx(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function PE(s,e,t,n,i,a,r,o,u,d,h,f){return s=new lD(s,e,t,r,u,d,h,f,o),e=1,a===!0&&(e|=24),a=hn(3,null,null,e),s.current=a,a.stateNode=s,e=Tw(),e.refCount++,s.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:t,cache:e},Dw(a),s}function BE(s){return s?(s=Kc,s):Kc}function IE(s,e,t,n,i,a){i=BE(i),n.context===null?n.context=i:n.pendingContext=i,n=vl(e),n.payload={element:t},a=a===void 0?null:a,a!==null&&(n.callback=a),t=wl(s,n,e),t!==null&&(Fs(t,s,e),Zh(t,s,e))}function ZA(s,e){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var t=s.retryLane;s.retryLane=t!==0&&t<e?t:e}}function nS(s,e){ZA(s,e),(s=s.alternate)&&ZA(s,e)}function FE(s){if(s.tag===13||s.tag===31){var e=Nc(s,67108864);e!==null&&Fs(e,s,67108864),nS(s,67108864)}}function JA(s){if(s.tag===13||s.tag===31){var e=xn();e=mw(e);var t=Nc(s,e);t!==null&&Fs(t,s,e),nS(s,e)}}var T0=!0;function oD(s,e,t,n){var i=J.T;J.T=null;var a=Ee.p;try{Ee.p=2,iS(s,e,t,n)}finally{Ee.p=a,J.T=i}}function cD(s,e,t,n){var i=J.T;J.T=null;var a=Ee.p;try{Ee.p=8,iS(s,e,t,n)}finally{Ee.p=a,J.T=i}}function iS(s,e,t,n){if(T0){var i=Cy(n);if(i===null)yb(s,e,n,_0,t),e1(s,n);else if(dD(i,s,e,t,n))n.stopPropagation();else if(e1(s,n),e&4&&-1<uD.indexOf(s)){for(;i!==null;){var a=Qd(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=zl(a.pendingLanes);if(r!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var u=1<<31-gn(r);o.entanglements[1]|=u,r&=~u}Wi(a),!(Ne&6)&&(b0=mn()+500,xp(0))}}break;case 31:case 13:o=Nc(a,2),o!==null&&Fs(o,a,2),Nx(),nS(a,2)}if(a=Cy(n),a===null&&yb(s,e,n,_0,t),a===i)break;i=a}i!==null&&n.stopPropagation()}else yb(s,e,n,null,t)}}function Cy(s){return s=bw(s),aS(s)}var _0=null;function aS(s){if(_0=null,s=Gc(s),s!==null){var e=op(s);if(e===null)s=null;else{var t=e.tag;if(t===13){if(s=aN(e),s!==null)return s;s=null}else if(t===31){if(s=rN(e),s!==null)return s;s=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;s=null}else e!==s&&(s=null)}}return _0=s,null}function zE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(WT()){case uN:return 2;case dN:return 8;case i0:case KT:return 32;case hN:return 268435456;default:return 32}default:return 32}}var jy=!1,Nl=null,El=null,Cl=null,vf=new Map,wf=new Map,xr=[],uD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e1(s,e){switch(s){case"focusin":case"focusout":Nl=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wf.delete(e.pointerId)}}function fh(s,e,t,n,i,a){return s===null||s.nativeEvent!==a?(s={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Qd(e),e!==null&&FE(e)),s):(s.eventSystemFlags|=n,e=s.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),s)}function dD(s,e,t,n,i){switch(e){case"focusin":return Nl=fh(Nl,s,e,t,n,i),!0;case"dragenter":return El=fh(El,s,e,t,n,i),!0;case"mouseover":return Cl=fh(Cl,s,e,t,n,i),!0;case"pointerover":var a=i.pointerId;return vf.set(a,fh(vf.get(a)||null,s,e,t,n,i)),!0;case"gotpointercapture":return a=i.pointerId,wf.set(a,fh(wf.get(a)||null,s,e,t,n,i)),!0}return!1}function UE(s){var e=Gc(s.target);if(e!==null){var t=op(e);if(t!==null){if(e=t.tag,e===13){if(e=aN(t),e!==null){s.blockedOn=e,IS(s.priority,function(){JA(t)});return}}else if(e===31){if(e=rN(t),e!==null){s.blockedOn=e,IS(s.priority,function(){JA(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){s.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yg(s){if(s.blockedOn!==null)return!1;for(var e=s.targetContainers;0<e.length;){var t=Cy(s.nativeEvent);if(t===null){t=s.nativeEvent;var n=new t.constructor(t.type,t);$b=n,t.target.dispatchEvent(n),$b=null}else return e=Qd(t),e!==null&&FE(e),s.blockedOn=t,!1;e.shift()}return!0}function t1(s,e,t){yg(s)&&t.delete(e)}function hD(){jy=!1,Nl!==null&&yg(Nl)&&(Nl=null),El!==null&&yg(El)&&(El=null),Cl!==null&&yg(Cl)&&(Cl=null),vf.forEach(t1),wf.forEach(t1)}function Gp(s,e){s.blockedOn===e&&(s.blockedOn=null,jy||(jy=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,hD)))}var $p=null;function s1(s){$p!==s&&($p=s,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,function(){$p===s&&($p=null);for(var e=0;e<s.length;e+=3){var t=s[e],n=s[e+1],i=s[e+2];if(typeof n!="function"){if(aS(n||t)===null)continue;break}var a=Qd(t);a!==null&&(s.splice(e,3),e-=3,ly(a,{pending:!0,data:i,method:t.method,action:n},n,i))}}))}function Xd(s){function e(u){return Gp(u,s)}Nl!==null&&Gp(Nl,s),El!==null&&Gp(El,s),Cl!==null&&Gp(Cl,s),vf.forEach(e),wf.forEach(e);for(var t=0;t<xr.length;t++){var n=xr[t];n.blockedOn===s&&(n.blockedOn=null)}for(;0<xr.length&&(t=xr[0],t.blockedOn===null);)UE(t),t.blockedOn===null&&xr.shift();if(t=(s.ownerDocument||s).$$reactFormReplay,t!=null)for(n=0;n<t.length;n+=3){var i=t[n],a=t[n+1],r=i[zs]||null;if(typeof a=="function")r||s1(t);else if(r){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,r=a[zs]||null)o=r.formAction;else if(aS(i)!==null)continue}else o=r.action;typeof o=="function"?t[n+1]=o:(t.splice(n,3),n-=3),s1(t)}}}function HE(){function s(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),n||setTimeout(t,20)}function t(){if(!n&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(t,100),function(){n=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function rS(s){this._internalRoot=s}jx.prototype.render=rS.prototype.render=function(s){var e=this._internalRoot;if(e===null)throw Error(B(409));var t=e.current,n=xn();IE(t,n,s,e,null,null)};jx.prototype.unmount=rS.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var e=s.containerInfo;IE(s.current,2,null,s,null,null),Nx(),e[Kd]=null}};function jx(s){this._internalRoot=s}jx.prototype.unstable_scheduleHydration=function(s){if(s){var e=xN();s={blockedOn:null,target:s,priority:e};for(var t=0;t<xr.length&&e!==0&&e<xr[t].priority;t++);xr.splice(t,0,s),t===0&&UE(s)}};var n1=nN.version;if(n1!=="19.2.0")throw Error(B(527,n1,"19.2.0"));Ee.findDOMNode=function(s){var e=s._reactInternals;if(e===void 0)throw typeof s.render=="function"?Error(B(188)):(s=Object.keys(s).join(","),Error(B(268,s)));return s=HT(e),s=s!==null?lN(s):null,s=s===null?null:s.stateNode,s};var fD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{cp=Yp.inject(fD),pn=Yp}catch{}}ux.createRoot=function(s,e){if(!iN(s))throw Error(B(299));var t=!1,n="",i=R2,a=L2,r=O2;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=PE(s,1,!1,null,null,t,n,null,i,a,r,HE),s[Kd]=e.current,eS(s),new rS(e)};ux.hydrateRoot=function(s,e,t){if(!iN(s))throw Error(B(299));var n=!1,i="",a=R2,r=L2,o=O2,u=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.formState!==void 0&&(u=t.formState)),e=PE(s,1,!0,e,t??null,n,i,u,a,r,o,HE),e.context=BE(null),t=e.current,n=xn(),n=mw(n),i=vl(n),i.callback=null,wl(t,i,n),t=n,e.current.lanes=t,dp(e,t),Wi(e),s[Kd]=e.current,eS(s),new jx(e)};ux.version="19.2.0";function VE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VE)}catch(s){console.error(s)}}VE(),Q1.exports=ux;var mD=Q1.exports;const pD=U1(mD);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i1="popstate";function gD(s={}){function e(n,i){let{pathname:a,search:r,hash:o}=n.location;return Ty("",{pathname:a,search:r,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Sf(i)}return bD(e,t,null,s)}function it(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function $i(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xD(){return Math.random().toString(36).substring(2,10)}function a1(s,e){return{usr:s.state,key:s.key,idx:e}}function Ty(s,e,t=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?nh(e):e,state:t,key:e&&e.key||n||xD()}}function Sf({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function nh(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function bD(s,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,r=i.history,o="POP",u=null,d=h();d==null&&(d=0,r.replaceState({...r.state,idx:d},""));function h(){return(r.state||{idx:null}).idx}function f(){o="POP";let A=h(),x=A==null?null:A-d;d=A,u&&u({action:o,location:b.location,delta:x})}function m(A,x){o="PUSH";let v=Ty(b.location,A,x);d=h()+1;let w=a1(v,d),E=b.createHref(v);try{r.pushState(w,"",E)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(E)}a&&u&&u({action:o,location:b.location,delta:1})}function p(A,x){o="REPLACE";let v=Ty(b.location,A,x);d=h();let w=a1(v,d),E=b.createHref(v);r.replaceState(w,"",E),a&&u&&u({action:o,location:b.location,delta:0})}function y(A){return yD(A)}let b={get action(){return o},get location(){return s(i,r)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(i1,f),u=A,()=>{i.removeEventListener(i1,f),u=null}},createHref(A){return e(i,A)},createURL:y,encodeLocation(A){let x=y(A);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(A){return r.go(A)}};return b}function yD(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:Sf(s);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function GE(s,e,t="/"){return vD(s,e,t,!1)}function vD(s,e,t,n){let i=typeof e=="string"?nh(e):e,a=ar(i.pathname||"/",t);if(a==null)return null;let r=$E(s);wD(r);let o=null;for(let u=0;o==null&&u<r.length;++u){let d=kD(a);o=MD(r[u],d,n)}return o}function $E(s,e=[],t=[],n="",i=!1){let a=(r,o,u=i,d)=>{let h={relativePath:d===void 0?r.path||"":d,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&u)return;it(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let f=Qa([n,h.relativePath]),m=t.concat(h);r.children&&r.children.length>0&&(it(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),$E(r.children,e,m,f,u)),!(r.path==null&&!r.index)&&e.push({path:f,score:TD(f,r.index),routesMeta:m})};return s.forEach((r,o)=>{var u;if(r.path===""||!((u=r.path)!=null&&u.includes("?")))a(r,o);else for(let d of YE(r.path))a(r,o,!0,d)}),e}function YE(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let r=YE(n.join("/")),o=[];return o.push(...r.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...r),o.map(u=>s.startsWith("/")&&u===""?"/":u)}function wD(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:_D(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var SD=/^:[\w-]+$/,AD=3,ND=2,ED=1,CD=10,jD=-2,r1=s=>s==="*";function TD(s,e){let t=s.split("/"),n=t.length;return t.some(r1)&&(n+=jD),e&&(n+=ND),t.filter(i=>!r1(i)).reduce((i,a)=>i+(SD.test(a)?AD:a===""?ED:CD),n)}function _D(s,e){return s.length===e.length&&s.slice(0,-1).every((n,i)=>n===e[i])?s[s.length-1]-e[e.length-1]:0}function MD(s,e,t=!1){let{routesMeta:n}=s,i={},a="/",r=[];for(let o=0;o<n.length;++o){let u=n[o],d=o===n.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=M0({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),m=u.route;if(!f&&d&&t&&!n[n.length-1].route.index&&(f=M0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),r.push({params:i,pathname:Qa([a,f.pathname]),pathnameBase:PD(Qa([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=Qa([a,f.pathnameBase]))}return r}function M0(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=DD(s.path,s.caseSensitive,s.end),i=e.match(t);if(!i)return null;let a=i[0],r=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:f},m)=>{if(h==="*"){let y=o[m]||"";r=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[m];return f&&!p?d[h]=void 0:d[h]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:r,pattern:s}}function DD(s,e=!1,t=!0){$i(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function kD(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $i(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ar(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}function RD(s,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof s=="string"?nh(s):s;return{pathname:t?t.startsWith("/")?t:LD(t,e):e,search:BD(n),hash:ID(i)}}function LD(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Sb(s,e,t,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OD(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qE(s){let e=OD(s);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function XE(s,e,t,n=!1){let i;typeof s=="string"?i=nh(s):(i={...s},it(!i.pathname||!i.pathname.includes("?"),Sb("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Sb("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Sb("#","search","hash",i)));let a=s===""||i.pathname==="",r=a?"/":i.pathname,o;if(r==null)o=t;else{let f=e.length-1;if(!n&&r.startsWith("..")){let m=r.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}o=f>=0?e[f]:"/"}let u=RD(i,o),d=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Qa=s=>s.join("/").replace(/\/\/+/g,"/"),PD=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),BD=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ID=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function FD(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WE=["POST","PUT","PATCH","DELETE"];new Set(WE);var zD=["GET",...WE];new Set(zD);var ih=M.createContext(null);ih.displayName="DataRouter";var Tx=M.createContext(null);Tx.displayName="DataRouterState";M.createContext(!1);var KE=M.createContext({isTransitioning:!1});KE.displayName="ViewTransition";var UD=M.createContext(new Map);UD.displayName="Fetchers";var HD=M.createContext(null);HD.displayName="Await";var Ki=M.createContext(null);Ki.displayName="Navigation";var vp=M.createContext(null);vp.displayName="Location";var Qi=M.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var lS=M.createContext(null);lS.displayName="RouteError";function VD(s,{relative:e}={}){it(wp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=M.useContext(Ki),{hash:i,pathname:a,search:r}=Sp(s,{relative:e}),o=a;return t!=="/"&&(o=a==="/"?t:Qa([t,a])),n.createHref({pathname:o,search:r,hash:i})}function wp(){return M.useContext(vp)!=null}function cr(){return it(wp(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(vp).location}var QE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZE(s){M.useContext(Ki).static||M.useLayoutEffect(s)}function Ns(){let{isDataRoute:s}=M.useContext(Qi);return s?sk():GD()}function GD(){it(wp(),"useNavigate() may be used only in the context of a <Router> component.");let s=M.useContext(ih),{basename:e,navigator:t}=M.useContext(Ki),{matches:n}=M.useContext(Qi),{pathname:i}=cr(),a=JSON.stringify(qE(n)),r=M.useRef(!1);return ZE(()=>{r.current=!0}),M.useCallback((u,d={})=>{if($i(r.current,QE),!r.current)return;if(typeof u=="number"){t.go(u);return}let h=XE(u,JSON.parse(a),i,d.relative==="path");s==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qa([e,h.pathname])),(d.replace?t.replace:t.push)(h,d.state,d)},[e,t,a,i,s])}M.createContext(null);function JE(){let{matches:s}=M.useContext(Qi),e=s[s.length-1];return e?e.params:{}}function Sp(s,{relative:e}={}){let{matches:t}=M.useContext(Qi),{pathname:n}=cr(),i=JSON.stringify(qE(t));return M.useMemo(()=>XE(s,JSON.parse(i),n,e==="path"),[s,i,n,e])}function $D(s,e){return eC(s,e)}function eC(s,e,t,n,i){var v;it(wp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=M.useContext(Ki),{matches:r}=M.useContext(Qi),o=r[r.length-1],u=o?o.params:{},d=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let w=f&&f.path||"";tC(d,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let m=cr(),p;if(e){let w=typeof e=="string"?nh(e):e;it(h==="/"||((v=w.pathname)==null?void 0:v.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=m;let y=p.pathname||"/",b=y;if(h!=="/"){let w=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let A=GE(s,{pathname:b});$i(f||A!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),$i(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=KD(A&&A.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:Qa([h,a.encodeLocation?a.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:Qa([h,a.encodeLocation?a.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),r,t,n,i);return e&&x?M.createElement(vp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function YD(){let s=tk(),e=FD(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},r=null;return console.error("Error handled by React Router default ErrorBoundary:",s),r=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:i},t):null,r)}var qD=M.createElement(YD,null),XD=class extends M.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?M.createElement(Qi.Provider,{value:this.props.routeContext},M.createElement(lS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WD({routeContext:s,match:e,children:t}){let n=M.useContext(ih);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Qi.Provider,{value:s},t)}function KD(s,e=[],t=null,n=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let a=s,r=t==null?void 0:t.errors;if(r!=null){let d=a.findIndex(h=>h.route.id&&(r==null?void 0:r[h.route.id])!==void 0);it(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,u=-1;if(t)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=t,p=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,p=!1,y=null,b=null;t&&(m=r&&h.route.id?r[h.route.id]:void 0,y=h.route.errorElement||qD,o&&(u<0&&f===0?(tC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,b=null):u===f&&(p=!0,b=h.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,f+1)),x=()=>{let v;return m?v=y:p?v=b:h.route.Component?v=M.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,M.createElement(WD,{match:h,routeContext:{outlet:d,matches:A,isDataRoute:t!=null},children:v})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?M.createElement(XD,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:n}):x()},null)}function oS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QD(s){let e=M.useContext(ih);return it(e,oS(s)),e}function ZD(s){let e=M.useContext(Tx);return it(e,oS(s)),e}function JD(s){let e=M.useContext(Qi);return it(e,oS(s)),e}function cS(s){let e=JD(s),t=e.matches[e.matches.length-1];return it(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function ek(){return cS("useRouteId")}function tk(){var n;let s=M.useContext(lS),e=ZD("useRouteError"),t=cS("useRouteError");return s!==void 0?s:(n=e.errors)==null?void 0:n[t]}function sk(){let{router:s}=QD("useNavigate"),e=cS("useNavigate"),t=M.useRef(!1);return ZE(()=>{t.current=!0}),M.useCallback(async(i,a={})=>{$i(t.current,QE),t.current&&(typeof i=="number"?s.navigate(i):await s.navigate(i,{fromRouteId:e,...a}))},[s,e])}var l1={};function tC(s,e,t){!e&&!l1[s]&&(l1[s]=!0,$i(!1,t))}M.memo(nk);function nk({routes:s,future:e,state:t,unstable_onError:n}){return eC(s,void 0,t,n,e)}function tt(s){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ik({basename:s="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){it(!wp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let r=s.replace(/^\/*/,"/"),o=M.useMemo(()=>({basename:r,navigator:i,static:a,future:{}}),[r,i,a]);typeof t=="string"&&(t=nh(t));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=t,p=M.useMemo(()=>{let y=ar(u,r);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:m},navigationType:n}},[r,u,d,h,f,m,n]);return $i(p!=null,`<Router basename="${r}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:M.createElement(Ki.Provider,{value:o},M.createElement(vp.Provider,{children:e,value:p}))}function ak({children:s,location:e}){return $D(_y(s),e)}function _y(s,e=[]){let t=[];return M.Children.forEach(s,(n,i)=>{if(!M.isValidElement(n))return;let a=[...e,i];if(n.type===M.Fragment){t.push.apply(t,_y(n.props.children,a));return}it(n.type===tt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!n.props.index||!n.props.children,"An index route cannot have child routes.");let r={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(r.children=_y(n.props.children,a)),t.push(r)}),t}var vg="get",wg="application/x-www-form-urlencoded";function _x(s){return s!=null&&typeof s.tagName=="string"}function rk(s){return _x(s)&&s.tagName.toLowerCase()==="button"}function lk(s){return _x(s)&&s.tagName.toLowerCase()==="form"}function ok(s){return _x(s)&&s.tagName.toLowerCase()==="input"}function ck(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function uk(s,e){return s.button===0&&(!e||e==="_self")&&!ck(s)}var qp=null;function dk(){if(qp===null)try{new FormData(document.createElement("form"),0),qp=!1}catch{qp=!0}return qp}var hk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ab(s){return s!=null&&!hk.has(s)?($i(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wg}"`),null):s}function fk(s,e){let t,n,i,a,r;if(lk(s)){let o=s.getAttribute("action");n=o?ar(o,e):null,t=s.getAttribute("method")||vg,i=Ab(s.getAttribute("enctype"))||wg,a=new FormData(s)}else if(rk(s)||ok(s)&&(s.type==="submit"||s.type==="image")){let o=s.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=s.getAttribute("formaction")||o.getAttribute("action");if(n=u?ar(u,e):null,t=s.getAttribute("formmethod")||o.getAttribute("method")||vg,i=Ab(s.getAttribute("formenctype"))||Ab(o.getAttribute("enctype"))||wg,a=new FormData(o,s),!dk()){let{name:d,type:h,value:f}=s;if(h==="image"){let m=d?`${d}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else d&&a.append(d,f)}}else{if(_x(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vg,n=null,i=wg,r=s}return a&&i==="text/plain"&&(r=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uS(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function mk(s,e,t){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&ar(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function pk(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gk(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function xk(s,e,t){let n=await Promise.all(s.map(async i=>{let a=e.routes[i.route.id];if(a){let r=await pk(a,t);return r.links?r.links():[]}return[]}));return wk(n.flat(1).filter(gk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function o1(s,e,t,n,i,a){let r=(u,d)=>t[d]?u.route.id!==t[d].route.id:!0,o=(u,d)=>{var h;return t[d].pathname!==u.pathname||((h=t[d].route.path)==null?void 0:h.endsWith("*"))&&t[d].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,d)=>r(u,d)||o(u,d)):a==="data"?e.filter((u,d)=>{var f;let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(r(u,d)||o(u,d))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=t[0])==null?void 0:f.params)||{},nextUrl:new URL(s,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function bk(s,e,{includeHydrateFallback:t}={}){return yk(s.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function yk(s){return[...new Set(s)]}function vk(s){let e={},t=Object.keys(s).sort();for(let n of t)e[n]=s[n];return e}function wk(s,e){let t=new Set;return new Set(e),s.reduce((n,i)=>{let a=JSON.stringify(vk(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function sC(){let s=M.useContext(ih);return uS(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Sk(){let s=M.useContext(Tx);return uS(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var dS=M.createContext(void 0);dS.displayName="FrameworkContext";function nC(){let s=M.useContext(dS);return uS(s,"You must render this element inside a <HydratedRouter> element"),s}function Ak(s,e){let t=M.useContext(dS),[n,i]=M.useState(!1),[a,r]=M.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,m=M.useRef(null);M.useEffect(()=>{if(s==="render"&&r(!0),s==="viewport"){let b=x=>{x.forEach(v=>{r(v.isIntersecting)})},A=new IntersectionObserver(b,{threshold:.5});return m.current&&A.observe(m.current),()=>{A.disconnect()}}},[s]),M.useEffect(()=>{if(n){let b=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(b)}}},[n]);let p=()=>{i(!0)},y=()=>{i(!1),r(!1)};return t?s!=="intent"?[a,m,{}]:[a,m,{onFocus:mh(o,p),onBlur:mh(u,y),onMouseEnter:mh(d,p),onMouseLeave:mh(h,y),onTouchStart:mh(f,p)}]:[!1,m,{}]}function mh(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function Nk({page:s,...e}){let{router:t}=sC(),n=M.useMemo(()=>GE(t.routes,s,t.basename),[t.routes,s,t.basename]);return n?M.createElement(Ck,{page:s,matches:n,...e}):null}function Ek(s){let{manifest:e,routeModules:t}=nC(),[n,i]=M.useState([]);return M.useEffect(()=>{let a=!1;return xk(s,e,t).then(r=>{a||i(r)}),()=>{a=!0}},[s,e,t]),n}function Ck({page:s,matches:e,...t}){let n=cr(),{manifest:i,routeModules:a}=nC(),{basename:r}=sC(),{loaderData:o,matches:u}=Sk(),d=M.useMemo(()=>o1(s,e,u,i,n,"data"),[s,e,u,i,n]),h=M.useMemo(()=>o1(s,e,u,i,n,"assets"),[s,e,u,i,n]),f=M.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let y=new Set,b=!1;if(e.forEach(x=>{var w;let v=i.routes[x.route.id];!v||!v.hasLoader||(!d.some(E=>E.route.id===x.route.id)&&x.route.id in o&&((w=a[x.route.id])!=null&&w.shouldRevalidate)||v.hasClientLoader?b=!0:y.add(x.route.id))}),y.size===0)return[];let A=mk(s,r,"data");return b&&y.size>0&&A.searchParams.set("_routes",e.filter(x=>y.has(x.route.id)).map(x=>x.route.id).join(",")),[A.pathname+A.search]},[r,o,n,i,d,e,s,a]),m=M.useMemo(()=>bk(h,i),[h,i]),p=Ek(h);return M.createElement(M.Fragment,null,f.map(y=>M.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),m.map(y=>M.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),p.map(({key:y,link:b})=>M.createElement("link",{key:y,nonce:t.nonce,...b})))}function jk(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iC&&(window.__reactRouterVersion="7.9.5")}catch{}function Tk({basename:s,children:e,window:t}){let n=M.useRef();n.current==null&&(n.current=gD({window:t,v5Compat:!0}));let i=n.current,[a,r]=M.useState({action:i.action,location:i.location}),o=M.useCallback(u=>{M.startTransition(()=>r(u))},[r]);return M.useLayoutEffect(()=>i.listen(o),[i,o]),M.createElement(ik,{basename:s,children:e,location:a.location,navigationType:a.action,navigator:i})}var aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K=M.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:r,state:o,target:u,to:d,preventScrollReset:h,viewTransition:f,...m},p){let{basename:y}=M.useContext(Ki),b=typeof d=="string"&&aC.test(d),A,x=!1;if(typeof d=="string"&&b&&(A=d,iC))try{let D=new URL(window.location.href),k=d.startsWith("//")?new URL(D.protocol+d):new URL(d),R=ar(k.pathname,y);k.origin===D.origin&&R!=null?d=R+k.search+k.hash:x=!0}catch{$i(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=VD(d,{relative:i}),[w,E,j]=Ak(n,m),T=kk(d,{replace:r,state:o,target:u,preventScrollReset:h,relative:i,viewTransition:f});function C(D){e&&e(D),D.defaultPrevented||T(D)}let _=M.createElement("a",{...m,...j,href:A||v,onClick:x||a?e:C,ref:jk(p,E),target:u,"data-discover":!b&&t==="render"?"true":void 0});return w&&!b?M.createElement(M.Fragment,null,_,M.createElement(Nk,{page:v})):_});K.displayName="Link";var _k=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:r,viewTransition:o,children:u,...d},h){let f=Sp(r,{relative:d.relative}),m=cr(),p=M.useContext(Tx),{navigator:y,basename:b}=M.useContext(Ki),A=p!=null&&Bk(f)&&o===!0,x=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,v=m.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(v=v.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&b&&(w=ar(w,b)||w);const E=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=v===x||!i&&v.startsWith(x)&&v.charAt(E)==="/",T=w!=null&&(w===x||!i&&w.startsWith(x)&&w.charAt(x.length)==="/"),C={isActive:j,isPending:T,isTransitioning:A},_=j?e:void 0,D;typeof n=="function"?D=n(C):D=[n,j?"active":null,T?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(C):a;return M.createElement(K,{...d,"aria-current":_,className:D,ref:h,style:k,to:r,viewTransition:o},typeof u=="function"?u(C):u)});_k.displayName="NavLink";var Mk=M.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:r=vg,action:o,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:f,...m},p)=>{let y=Ok(),b=Pk(o,{relative:d}),A=r.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&aC.test(o),v=w=>{if(u&&u(w),w.defaultPrevented)return;w.preventDefault();let E=w.nativeEvent.submitter,j=(E==null?void 0:E.getAttribute("formmethod"))||r;y(E||w.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:f})};return M.createElement("form",{ref:p,method:A,action:b,onSubmit:n?u:v,...m,"data-discover":!x&&s==="render"?"true":void 0})});Mk.displayName="Form";function Dk(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rC(s){let e=M.useContext(ih);return it(e,Dk(s)),e}function kk(s,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:r}={}){let o=Ns(),u=cr(),d=Sp(s,{relative:a});return M.useCallback(h=>{if(uk(h,e)){h.preventDefault();let f=t!==void 0?t:Sf(u)===Sf(d);o(s,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:r})}},[u,o,d,t,n,e,s,i,a,r])}var Rk=0,Lk=()=>`__${String(++Rk)}__`;function Ok(){let{router:s}=rC("useSubmit"),{basename:e}=M.useContext(Ki),t=ek();return M.useCallback(async(n,i={})=>{let{action:a,method:r,encType:o,formData:u,body:d}=fk(n,e);if(i.navigate===!1){let h=i.fetcherKey||Lk();await s.fetch(h,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||r,formEncType:i.encType||o,flushSync:i.flushSync})}else await s.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||r,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,e,t])}function Pk(s,{relative:e}={}){let{basename:t}=M.useContext(Ki),n=M.useContext(Qi);it(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Sp(s||".",{relative:e})},r=cr();if(s==null){a.search=r.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(h=>h==="")){o.delete("index"),u.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();a.search=h?`?${h}`:""}}return(!s||s===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Qa([t,a.pathname])),Sf(a)}function Bk(s,{relative:e}={}){let t=M.useContext(KE);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rC("useViewTransitionState"),i=Sp(s,{relative:e});if(!t.isTransitioning)return!1;let a=ar(t.currentLocation.pathname,n)||t.currentLocation.pathname,r=ar(t.nextLocation.pathname,n)||t.nextLocation.pathname;return M0(i.pathname,r)!=null||M0(i.pathname,a)!=null}function Ap({startup:s,onVote:e,onSwipeAway:t}){var k;const[n,i]=M.useState(!1),[a,r]=M.useState(null),[o,u]=M.useState(!1),[d,h]=M.useState(!1),[f,m]=M.useState(""),[p,y]=M.useState(!1),[b,A]=M.useState(!1),[x,v]=M.useState(!1),E=(R=>R===4?1:5)(s.stage||1),j=s.yesVotes||0,T=Math.min(j/E*100,100),C=R=>{n||(r(R),i(!0),R==="yes"&&(u(!0),setTimeout(()=>u(!1),800)),e(R),setTimeout(()=>{v(!0),setTimeout(()=>{A(!0),setTimeout(()=>{t&&t()},250)},150)},300))},_=()=>{if(["stupid","dumb","idiot","hate","terrible","awful","sucks","crap","shit","fuck"].some(q=>f.toLowerCase().includes(q))){alert(" Please keep comments constructive and professional.");return}if(f.trim().length<5){alert(" Comment must be at least 5 characters.");return}alert(" Comment posted!"),m(""),y(!1)},D=R=>{switch(R){case 1:return"Anonymous voting  Need 5 votes to advance";case 2:return"Review materials  Need 5 votes to advance";case 3:return"Meet founder  Need 5 votes to advance";case 4:return"Deal room access  Need 1 vote to close";default:return"Voting stage"}};return c.jsxs("div",{className:`relative transition-all duration-250 ease-out ${b?"transform -translate-x-full opacity-0":""} ${x?"animate-puff":""}`,children:[o&&c.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(12)].map((R,L)=>c.jsx("div",{className:"absolute text-2xl animate-float-up",style:{left:`${Math.random()*90+5}%`,bottom:"0%",animationDelay:`${L*.05}s`,animationDuration:"0.8s"},children:""},L))}),x&&c.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 flex items-center justify-center",children:[...Array(6)].map((R,L)=>c.jsx("div",{className:"absolute text-4xl animate-puff-cloud opacity-70",style:{animationDelay:`${L*.02}s`},children:""},L))}),c.jsxs("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-2xl p-5 shadow-2xl border-4 border-orange-500 relative w-[360px] h-[400px] flex flex-col",children:[c.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),c.jsxs("div",{className:"relative flex flex-col h-full",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight leading-none",children:s.name}),c.jsxs("p",{className:"text-blue-700 font-bold text-xs mt-0.5",children:["stage #",s.stage||1]}),c.jsx("p",{className:"text-[10px] text-gray-700 italic leading-tight mt-0.5",children:D(s.stage||1)})]}),c.jsx("button",{onClick:()=>h(!d),className:"text-3xl hover:scale-110 transition-transform flex-shrink-0",children:""})]}),d&&c.jsx("div",{className:"bg-yellow-200 border-2 border-yellow-400 rounded-lg p-1.5 mb-2",children:c.jsxs("p",{className:"text-[10px] font-bold text-gray-900 leading-tight",children:[" ",s.fivePoints&&s.fivePoints[4]?s.fivePoints[4]:"Traction data available"]})}),s.pitch&&c.jsxs("p",{className:"text-sm font-black text-gray-900 leading-tight tracking-tight mb-3",children:['"',s.pitch,'"']}),c.jsxs("div",{className:"mb-3 space-y-1.5",children:[(s.fivePoints||[]).slice(0,4).map((R,L)=>c.jsx("p",{className:`leading-tight tracking-tight ${L===0?"text-xs font-black text-gray-900":L===1||L===2?"text-sm font-black text-gray-900":"text-xs font-bold text-gray-800"}`,children:R},L)),s.raise&&c.jsxs("p",{className:"text-xs font-black text-gray-900 leading-tight tracking-tight",children:[" ",s.raise]})]}),c.jsx("div",{className:"flex-1"}),c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex justify-between text-[10px] text-gray-700 mb-1",children:[c.jsxs("span",{className:"font-bold",children:["Stage ",(s.stage||1)+1]}),c.jsxs("span",{className:"font-black",children:[j,"/",E," votes"]})]}),c.jsx("div",{className:"w-full bg-gray-300 rounded-full h-1.5",children:c.jsx("div",{className:"bg-green-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]}),c.jsxs("div",{className:"flex gap-3 mb-2",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-base",children:""}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:s.yesVotes||0})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-base",children:""}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:s.noVotes||0})]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"text-xl",children:""}),c.jsx("button",{onClick:()=>C("yes"),disabled:n,className:`flex-1 font-black py-2 px-3 rounded-xl text-sm shadow-lg transition-all ${a==="yes"?"bg-green-600 text-white scale-105":"bg-orange-500 hover:bg-orange-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"yes"}),c.jsx("button",{onClick:()=>C("no"),disabled:n,className:`flex-1 font-black py-2 px-3 rounded-xl text-sm shadow-lg transition-all ${a==="no"?"bg-gray-700 text-white opacity-50":"bg-gradient-to-br from-gray-300 via-gray-400 to-gray-300 hover:from-gray-400 hover:via-gray-500 hover:to-gray-400 text-gray-800 shadow-[inset_0_2px_4px_rgba(255,255,255,0.6)]"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"no"})]}),c.jsxs("button",{onClick:()=>y(!p),className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 px-4 rounded-xl text-xs transition-all",children:["comments (",((k=s.comments)==null?void 0:k.length)||0,")"]}),p&&c.jsxs("div",{className:"mt-2 bg-white rounded-xl p-2",children:[c.jsx("textarea",{value:f,onChange:R=>m(R.target.value),placeholder:"Share feedback...",className:"w-full px-2 py-1.5 border-2 border-orange-300 rounded-lg text-xs",rows:2,maxLength:500}),c.jsxs("div",{className:"flex justify-between items-center mt-1",children:[c.jsxs("span",{className:"text-[10px] text-gray-500",children:[f.length,"/500"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{m(""),y(!1)},className:"bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-1 px-3 rounded-lg text-xs",children:"Cancel"}),c.jsx("button",{onClick:_,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-1 px-3 rounded-lg text-xs",children:"Post"})]})]})]})]})]}),c.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) scale(1);
            opacity: 1;
          }
          100% {
            transform: translateY(-300px) scale(1.5);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation: float-up 0.8s ease-out forwards;
        }

        @keyframes puff {
          0% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.8;
          }
          100% {
            transform: scale(1.4);
            opacity: 0;
          }
        }
        .animate-puff {
          animation: puff 0.15s ease-out;
        }

        @keyframes puff-cloud {
          0% {
            transform: translate(0, 0) scale(0.5);
            opacity: 0;
          }
          50% {
            opacity: 1;
          }
          100% {
            transform: translate(var(--tx), var(--ty)) scale(1.8);
            opacity: 0;
          }
        }
        .animate-puff-cloud {
          --tx: calc(cos(var(--angle)) * 60px);
          --ty: calc(sin(var(--angle)) * 60px);
          animation: puff-cloud 0.4s ease-out forwards;
        }
        .animate-puff-cloud:nth-child(1) { --angle: 0deg; }
        .animate-puff-cloud:nth-child(2) { --angle: 60deg; }
        .animate-puff-cloud:nth-child(3) { --angle: 120deg; }
        .animate-puff-cloud:nth-child(4) { --angle: 180deg; }
        .animate-puff-cloud:nth-child(5) { --angle: 240deg; }
        .animate-puff-cloud:nth-child(6) { --angle: 300deg; }
      `})]})}function Ik({company:s,onComment:e}){const[t,n]=M.useState(!1),[i,a]=M.useState(""),[r,o]=M.useState(""),[u,d]=M.useState([]),h=()=>{i.trim()&&(d([...u,i]),e&&e(s.id,i),a(""))},p=((s==null?void 0:s.entityType)||"vc_firm")==="accelerator"?" ACCELERATOR":" VC FIRM",y=(s==null?void 0:s.investmentCount)||0,A=(x=>x>=10?{label:" MEGA INVESTOR",color:"text-red-400"}:x>=5?{label:" ACTIVE INVESTOR",color:"text-orange-400"}:x>=1?{label:" INVESTOR",color:"text-yellow-400"}:{label:" WATCHING",color:"text-gray-400"})(y);return c.jsxs("div",{className:"bg-gradient-to-br from-purple-700 via-purple-600 to-purple-800 rounded-3xl shadow-2xl overflow-hidden border-4 border-lime-400 relative",children:[c.jsx("div",{className:"absolute top-4 right-4 z-10",children:c.jsx("div",{className:"w-20 h-20 bg-lime-400 rounded-full flex items-center justify-center transform rotate-12 shadow-lg border-4 border-lime-500",children:c.jsxs("span",{className:"text-xs font-black text-gray-900 text-center leading-tight",children:[p.split(" ")[0],c.jsx("br",{}),p.split(" ")[1]]})})}),c.jsxs("div",{className:"p-8",children:[c.jsx("h2",{className:"text-4xl font-black text-lime-400 mb-2 pr-24",children:(s==null?void 0:s.name)||"Unknown Company"}),y>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("span",{className:`${A.color} font-bold text-sm`,children:A.label}),c.jsxs("span",{className:"text-lime-300 font-semibold text-sm ml-2",children:[" ",y," investment",y!==1?"s":""," on Hot Honey"]})]}),(s==null?void 0:s.tagline)&&c.jsxs("p",{className:"text-xl text-lime-300 font-bold mb-6 italic",children:['"',s.tagline,'"']}),y>0&&c.jsxs("div",{className:"bg-lime-400/20 backdrop-blur-sm rounded-xl p-4 border-2 border-lime-300 mb-6",children:[c.jsx("h3",{className:"text-lime-300 font-black text-lg mb-2",children:" Hot Honey Activity"}),c.jsxs("div",{className:"space-y-1 text-lime-200 text-sm",children:[c.jsxs("p",{children:[" Total Invested: ",(s==null?void 0:s.totalInvested)||"TBD"]}),c.jsxs("p",{children:[" Portfolio Companies: ",y]}),(s==null?void 0:s.recentInvestments)&&s.recentInvestments.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{className:"font-semibold text-lime-300",children:"Recent Investments:"}),c.jsx("ul",{className:"list-disc list-inside ml-2",children:s.recentInvestments.slice(0,3).map((x,v)=>c.jsx("li",{children:x},v))})]})]})]}),(s==null?void 0:s.fivePoints)&&s.fivePoints.length>0&&c.jsx("div",{className:"space-y-3 mb-6",children:s.fivePoints.map((x,v)=>c.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 border-2 border-lime-300",children:c.jsxs("p",{className:"text-lime-200 font-semibold",children:[c.jsxs("span",{className:"text-lime-400 font-black",children:[v+1,"."]})," ",x]})},v))}),(s==null?void 0:s.website)&&c.jsx("div",{className:"mb-6",children:c.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-lime-300 hover:text-lime-200 underline font-semibold",children:" Visit Website"})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-lime-300 font-bold mb-2",children:" Share Details About This Firm"}),c.jsx("input",{type:"text",value:r,onChange:x=>o(x.target.value),placeholder:"Add investment focus, portfolio companies, etc...",className:"w-full px-4 py-3 bg-white/20 border-2 border-lime-300 rounded-xl text-lime-100 placeholder-lime-300/50 focus:outline-none focus:border-lime-400 focus:ring-2 focus:ring-lime-400"})]}),c.jsxs("div",{className:"border-t-2 border-lime-300 pt-6",children:[c.jsxs("button",{onClick:()=>n(!t),className:"text-lime-300 hover:text-lime-200 font-bold mb-4 flex items-center gap-2",children:[" ",t?"Hide":"Show"," Comments (",u.length,")"]}),t&&c.jsxs("div",{className:"space-y-4",children:[u.length>0&&c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:u.map((x,v)=>c.jsxs("div",{className:"bg-lime-400/10 rounded-lg p-3 border border-lime-300/30",children:[c.jsx("p",{className:"text-lime-200 text-sm",children:x}),c.jsx("p",{className:"text-lime-400/50 text-xs mt-1",children:"Just now"})]},v))}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("textarea",{value:i,onChange:x=>a(x.target.value),placeholder:"Add your notes about this firm...",rows:3,className:"w-full px-4 py-3 bg-white/20 border-2 border-lime-300 rounded-xl text-lime-100 placeholder-lime-300/50 focus:outline-none focus:border-lime-400 resize-none"}),c.jsx("button",{onClick:h,disabled:!i.trim(),className:"bg-lime-400 hover:bg-lime-500 text-gray-900 font-bold py-2 px-6 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Post Comment"})]})]})]})]})]})}const Un=[{id:0,name:"GreenTech",description:"Sustainable energy solutions for smart cities.",pitch:"Sustainable energy solutions for smart cities",tagline:"Tesla for home solar systems",marketSize:"$180B renewable energy",unique:"Self-installing smart panels",raise:"$5M Series B",stage:2,yesVotes:7,noVotes:2,hotness:3.4,answersCount:5,comments:[{id:"1",userId:"investor1",userName:"John Doe",text:"Great potential in the renewable energy sector!",timestamp:new Date("2025-10-25")},{id:"2",userId:"investor2",userName:"Jane Smith",text:"Interested in learning more about the tech stack.",timestamp:new Date("2025-10-25")}],fivePoints:["Tesla for home solar systems","$180B renewable energy market","Self-installing smart panels","Ex-Tesla, SolarCity engineers","Raising $5M Series B"],teamLogos:["/logos/tesla.png","/logos/solarcity.png","/logos/apple.png"],video:"https://www.youtube.com/watch?v=greentech",deck:"https://example.com/greentech-deck.pdf",press:"https://techcrunch.com/greentech",tech:"ML + IoT smart grid integration"},{id:1,name:"NeuralNest",description:"AI-powered mental health therapy platform.",pitch:"AI-powered mental health therapy",tagline:"ChatGPT for mental health therapy",marketSize:"$240B mental health market",unique:"AI learns patient patterns",raise:"$2M Series A",stage:1,yesVotes:3,noVotes:3,hotness:3.2,answersCount:5,comments:[],fivePoints:["ChatGPT for mental health therapy","$280B mental health market","AI therapist available 24/7","Stanford psychologists + AI researchers","Raising $2M Series A"],teamLogos:["/logos/google.png","/logos/meta.png","/logos/openai.png"],video:"https://www.youtube.com/watch?v=neuralnest",deck:"https://example.com/neuralnest-deck.pdf",press:"https://techcrunch.com/neuralnest",tech:"GPT-4 + behavioral psychology models"},{id:2,name:"FinFlow",description:"Instant crypto-to-fiat conversion for payments.",pitch:"Instant crypto-to-fiat conversion",tagline:"Stripe for cryptocurrency payments",marketSize:"$125B crypto payments",unique:"Instant crypto-to-fiat conversion",raise:"$3M Seed",stage:1,yesVotes:4,noVotes:1,hotness:3.8,answersCount:5,comments:[],fivePoints:["Stripe for cryptocurrency payments","$1T+ crypto market","One-click crypto checkout","Ex-Stripe, Coinbase engineers","Raising $3M Seed"],teamLogos:["/logos/stripe.png","/logos/coinbase.png","/logos/paypal.png"],video:"https://www.youtube.com/watch?v=finflow",deck:"https://example.com/finflow-deck.pdf",press:"https://techcrunch.com/finflow",tech:"Blockchain APIs + real-time currency conversion"},{id:3,name:"BarkPark",description:"A social network and meetup app for dog owners.",pitch:"Connect dog owners and their furry friends in your neighborhood",tagline:"Social network for dogs",marketSize:"$2B+ pet care market",unique:"Gamified pet profiles and dog park rewards",raise:"$1.2M SAFE at $7M cap",stage:2,yesVotes:12,noVotes:3,hotness:4.1,answersCount:5,comments:[],fivePoints:["Tinder for dog playdates","$2B pet care market","Verified dog park reviews + scheduling","Ex-Airbnb, Google product managers","Raising $1.2M SAFE"],teamLogos:["/logos/google.png","/logos/meta.png","/logos/airbnb.png"],video:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",deck:"https://example.com/barkpark-deck.pdf",press:"https://techcrunch.com/barkpark",tech:"Built with Flutter and Firebase"},{id:4,name:"Chefie",description:"AI-powered cooking assistant with voice and visual guides.",pitch:"Your personal AI chef that helps you cook like a pro",tagline:"AI cooking assistant",marketSize:"$15B home cooking tech",unique:"Real-time cooking help and meal personalization",raise:"$1M SAFE at $10M cap",stage:1,yesVotes:5,noVotes:1,hotness:3.8,answersCount:5,comments:[],fivePoints:["AI sous chef in your kitchen","$15B home cooking tech market","Step-by-step voice + video guidance","Ex-YouTube, TikTok engineers + pro chefs","Raising $1M SAFE"],teamLogos:["/logos/apple.png","/logos/youtube.png","/logos/tiktok.png"],video:"https://www.youtube.com/watch?v=chefie-demo",deck:"https://example.com/chefie-deck.pdf",press:"https://techcrunch.com/chefie",tech:"React Native, GPT-4 Vision API"},{id:5,name:"HushRoom",description:"Portable soundproof work pods for remote workers.",pitch:"Work from anywhere with total privacy and quiet",tagline:"Soundproof pods for WFH",marketSize:"$2.5B workspace innovation market",unique:"No-permit setup, acoustic-grade privacy design",raise:"$2M Series A",stage:2,yesVotes:9,noVotes:4,hotness:3.6,answersCount:5,comments:[],fivePoints:["WeWork for your home","$2.5B workspace innovation market","Modular pods, 2-hour installation","Ex-WeWork, Microsoft designers","Raising $2M Series A"],teamLogos:["/logos/wework.png","/logos/microsoft.png","/logos/ikea.png"],video:"https://www.youtube.com/watch?v=hushroom",deck:"https://example.com/hushroom-deck.pdf",press:"https://techcrunch.com/hushroom",tech:"Modular architecture and AR layout planning"},{id:6,name:"PetPulse",description:"Wearable health trackers for pets.",pitch:"Monitor your pet's health in real-time",tagline:"Fitbit for pets",marketSize:"$9B pet tech industry",unique:"Vitals, mood, and fitness tracking for animals",raise:"$800K friends & family",stage:1,yesVotes:6,noVotes:2,hotness:3.2,answersCount:5,comments:[],fivePoints:["Fitbit for pets","$9B pet tech industry","Real-time vitals + activity tracking","Ex-Fitbit engineers + vets","Raising $800K seed"],teamLogos:["/logos/fitbit.png","/logos/apple.png","/logos/vetmed.png"],video:"https://www.youtube.com/watch?v=petpulse",deck:"https://example.com/petpulse-deck.pdf",press:"https://techcrunch.com/petpulse",tech:"BLE sensors + AI diagnostics"},{id:7,name:"Droply",description:"Scheduled water deliveries for off-grid homes.",pitch:"Never run out of water with smart delivery",tagline:"Smart water delivery",marketSize:"$1.8B off-grid utilities",unique:"IoT tank sensors + ML-based route planning",raise:"$1.5M pre-seed",stage:1,yesVotes:4,noVotes:1,hotness:2.9,answersCount:5,comments:[],fivePoints:["Uber for water delivery","$1.8B off-grid utilities market","IoT sensors predict refill needs","Ex-UPS logistics + SmartThings engineers","Raising $1.5M pre-seed"],teamLogos:["/logos/ups.png","/logos/smartthings.png","/logos/tesla.png"],video:"https://www.youtube.com/watch?v=droply",deck:"https://example.com/droply-deck.pdf",press:"https://techcrunch.com/droply",tech:"IoT, GPS routing, and solar billing integration"},{id:8,name:"MuseNet",description:"AI-generated ambient music for focus and sleep.",pitch:"Personalized AI music that adapts to your mood",tagline:"AI music for wellness",marketSize:"$3B wellness audio space",unique:"Realtime adaptive music based on biometrics",raise:"$600K angel round",stage:1,yesVotes:8,noVotes:2,hotness:3.7,answersCount:5,comments:[],fivePoints:["Spotify meets meditation","$3B wellness audio market","AI generates music from heart rate","Ex-Spotify engineers + neuroscientists","Raising $600K angel"],teamLogos:["/logos/spotify.png","/logos/deezer.png","/logos/apple.png"],video:"https://www.youtube.com/watch?v=muse-net",deck:"https://example.com/musenet-deck.pdf",press:"https://techcrunch.com/musenet",tech:"LLMs + real-time waveform synthesis"},{id:9,name:"ByteSize",description:"Snackable coding lessons in under 60 seconds.",pitch:"Learn to code in 60-second videos",tagline:"TikTok for coding education",marketSize:"$5B+ online learning market",unique:"TikTok-style swipe interface with live code previews",raise:"$500K pre-seed round",stage:1,yesVotes:11,noVotes:1,hotness:4.2,answersCount:5,comments:[],fivePoints:["TikTok for coding tutorials","$5B+ online learning market","60-second lessons with instant practice","Ex-Google, Meta engineers","Raising $500K pre-seed"],teamLogos:["/logos/amazon.png","/logos/google.png","/logos/meta.png"],video:"https://www.youtube.com/watch?v=abc123",deck:"https://example.com/bytesize-deck.pdf",press:"https://techcrunch.com/bytesize",tech:"React, Node.js, and WebAssembly"},{id:10,name:"SolarSync",description:"Smart solar optimization for small homes.",pitch:"AI-powered solar energy optimization",tagline:"Smart solar for homes",marketSize:"$10B+ residential solar market",unique:"Uses AI to shift energy loads for savings",raise:"$750K seed round at $5M valuation",stage:1,yesVotes:6,noVotes:3,hotness:3.3,answersCount:5,comments:[],fivePoints:["Nest for solar panels","$10B+ residential solar market","AI shifts energy to sunny hours","Ex-Tesla Energy, NASA engineers","Raising $750K seed"],teamLogos:["/logos/tesla.png","/logos/nasa.png","/logos/solarcity.png"],video:"https://www.youtube.com/watch?v=xyz789",deck:"https://example.com/solarsync-deck.pdf",press:"https://techcrunch.com/solarsync",tech:"IoT + ML with Raspberry Pi edge devices"}],Fk=()=>{const[s,e]=M.useState([]),[t,n]=M.useState(Un),[i,a]=M.useState(Un.length),[r,o]=M.useState(!1);M.useEffect(()=>{const h=localStorage.getItem("votedStartups"),f=localStorage.getItem("investorPreferences"),m=localStorage.getItem("uploadedStartups");let p=[...Un];if(m){const b=JSON.parse(m);p=[...p,...b]}a(p.length);let y=p;if(f){const b=JSON.parse(f);b.filterEnabled&&b.industries&&b.industries.length>0&&(o(!0),y=p.filter(A=>!A.industries||A.industries.length===0?!0:A.industries.some(x=>b.industries.includes(x))))}if(h){const b=JSON.parse(h);e(b);const A=y.filter(x=>!b.includes(x.id));n(A)}else n(y)},[]);const u=(h,f)=>{const m=[...s,h];if(e(m),localStorage.setItem("votedStartups",JSON.stringify(m)),f==="yes"){const p=localStorage.getItem("myYesVotes"),y=p?JSON.parse(p):[];let b=Un.find(A=>A.id===h);if(!b){const A=localStorage.getItem("uploadedStartups");A&&(b=JSON.parse(A).find(v=>v.id===h))}b&&(y.push({...b,votedAt:new Date().toISOString()}),localStorage.setItem("myYesVotes",JSON.stringify(y)))}n(p=>p.filter(y=>y.id!==h))},d=()=>{confirm(" Reset ALL votes? This will clear your voting history.")&&(localStorage.removeItem("votedStartups"),localStorage.removeItem("myYesVotes"),e([]),n(Un),alert(" Votes reset! You can now vote on all startups again."))};return t.length===0?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx(K,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up",children:""}),c.jsx(K,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:" Sign Up"}),c.jsx(K,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Home"}),c.jsx(K,{to:"/vote",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:" Vote"}),c.jsx(K,{to:"/dashboard",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Dashboard"}),c.jsx(K,{to:"/settings",className:"px-4 py-1.5 bg-purple-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-purple-600 transition-colors",children:" Settings"})]})}),c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-6xl font-bold text-white mb-4",children:""}),c.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"All Done!"}),c.jsxs("p",{className:"text-xl text-purple-200 mb-8",children:["You've voted on all ",i," startups!"]}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx(K,{to:"/dashboard",className:"px-8 py-3 bg-orange-500 text-white rounded-lg font-medium text-lg hover:bg-orange-600 transition-colors shadow-lg",children:"View My Hot Picks "}),c.jsx("button",{onClick:d,className:"px-8 py-3 bg-gray-500 text-white rounded-lg font-medium text-lg hover:bg-gray-600 transition-colors shadow-lg",children:" Reset & Vote Again"})]})]})})]}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx(K,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up",children:""}),c.jsx(K,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:" Sign Up"}),c.jsx(K,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Home"}),c.jsx(K,{to:"/vote",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:" Vote"}),c.jsx(K,{to:"/dashboard",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Dashboard"}),c.jsx(K,{to:"/settings",className:"px-4 py-1.5 bg-purple-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-purple-600 transition-colors",children:" Settings"})]})}),c.jsxs("div",{className:"pt-28 px-8 pb-16",children:[c.jsx("div",{className:"mb-8 text-center",children:c.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-5xl font-bold text-white mb-3",children:" Vote on Startups"}),c.jsxs("p",{className:"text-xl text-purple-200",children:[c.jsx("span",{className:"font-bold text-yellow-300",children:t.length})," of ",i," ",t.length===1?"startup":"startups"," remaining"]}),r&&c.jsx("div",{className:"mt-2 inline-block bg-purple-500 text-white px-4 py-2 rounded-full text-sm font-semibold",children:" Showing only your preferred industries"})]}),c.jsx("button",{onClick:d,className:"px-4 py-2 bg-gray-500 text-white rounded-lg font-medium text-sm hover:bg-gray-600 transition-colors shadow-lg",children:" Reset All Votes"})]})}),c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center",children:t.map(h=>{const f=h.entityType;return f==="vc_firm"||f==="accelerator"?c.jsx(Ik,{company:{id:h.id,name:h.name,pitch:h.pitch||h.tagline||"",fivePoints:h.fivePoints||[],entityType:f,website:h.website}},h.id):c.jsx(Ap,{startup:h,onVote:m=>u(h.id,m)},h.id)})})})]})]})};function c1(){const s=Ns(),e=cr(),[t,n]=M.useState([]),[i,a]=M.useState(!1);M.useEffect(()=>{const h=localStorage.getItem("myYesVotes");if(h){const p=JSON.parse(h).map(y=>{if(!y.fivePoints){const b=Un.find(A=>A.id===y.id);if(b)return{...y,fivePoints:b.fivePoints}}return y});localStorage.setItem("myYesVotes",JSON.stringify(p)),n(p)}const f=localStorage.getItem("userProfile");if(f){const m=JSON.parse(f);a(m.email==="admin@hotmoneyhoney.com"||m.isAdmin)}},[]);const r=h=>{console.log(`Voted ${h}`)},o=h=>{const f=localStorage.getItem("myYesVotes");if(f){const p=JSON.parse(f).filter(b=>b.id!==h);localStorage.setItem("myYesVotes",JSON.stringify(p)),n(p);const y=localStorage.getItem("votedStartups");if(y){const b=JSON.parse(y);delete b[h],localStorage.setItem("votedStartups",JSON.stringify(b))}}},u=h=>e.pathname===h,d=h=>u(h)?"text-lg py-3 px-6":"text-sm py-2 px-4";return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-3 items-center",children:[c.jsx(K,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Hot Money Honey",children:""}),c.jsx(K,{to:"/",className:`font-bold rounded-2xl transition-all ${d("/")} ${u("/")?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:" Home"}),c.jsx(K,{to:"/dashboard",className:`font-bold rounded-2xl transition-all ${u("/dashboard")?"text-lg py-3 px-7":"text-base py-2.5 px-5"} ${u("/dashboard")?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-xl scale-110":"bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white shadow-lg"}`,children:" Dashboard"}),c.jsx(K,{to:"/vote",className:`font-bold rounded-2xl transition-all ${d("/vote")} ${u("/vote")?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:" Vote"}),c.jsx(K,{to:"/portfolio",className:`font-bold rounded-2xl transition-all ${d("/portfolio")} ${u("/portfolio")?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:" Portfolio"}),i&&c.jsx(K,{to:"/admin/bulk-upload",className:`font-bold rounded-2xl transition-all ${d("/admin/bulk-upload")} ${u("/admin/bulk-upload")?"bg-gradient-to-r from-gray-500 to-gray-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-gray-400 to-gray-600 hover:from-gray-500 hover:to-gray-700 text-white"}`,children:" Bulk Upload"}),i&&c.jsx(K,{to:"/admin/document-upload",className:`font-bold rounded-2xl transition-all ${d("/admin/document-upload")} ${u("/admin/document-upload")?"bg-gradient-to-r from-green-500 to-purple-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-green-400 to-purple-600 hover:from-green-500 hover:to-purple-700 text-white"}`,children:" Scan Docs"})]})}),c.jsxs("div",{className:"max-w-4xl mx-auto pt-28",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-8xl mb-4",children:""}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-4",children:"Your Portfolio"}),c.jsx("p",{className:"text-xl text-white font-bold drop-shadow-lg",children:"Startups you've voted YES on"})]}),t.length===0?c.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center shadow-2xl",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No picks yet!"}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Start voting YES on startups to build your portfolio"}),c.jsx("button",{onClick:()=>s("/vote"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:" Go to Voting"})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-orange-400",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:[" ",t.length," Startup",t.length!==1?"s":""," in Your Portfolio"]}),c.jsx("p",{className:"text-purple-200",children:"These are the startups you've voted YES on!"})]}),c.jsx("div",{className:"space-y-8",children:t.map(h=>c.jsxs("div",{className:"relative",children:[c.jsx(Ap,{startup:h,onVote:r}),c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{onClick:()=>o(h.id),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded-xl transition-all",children:" Remove from Portfolio"})})]},h.id))}),c.jsxs("div",{className:"flex gap-4 justify-center mt-8",children:[c.jsx("button",{onClick:()=>s("/vote"),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 px-8 rounded-2xl shadow-lg transition-all",children:" Continue Voting"}),c.jsx("button",{onClick:()=>s("/dashboard"),className:"bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white font-bold py-3 px-8 rounded-2xl shadow-lg transition-all",children:" Back to Dashboard"})]})]})]})]})}const bs=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),My=[.001,0,0,.001,0,0],Nb=1.35,ln={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},br={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Af="pdfjs_internal_editor_",ae={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},xe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},zk={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Gt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Sg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},yt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Lc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Mx={ERRORS:0,WARNINGS:1,INFOS:5},Nf={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Xp={moveTo:0,lineTo:1,curveTo:2,closePath:3},Uk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Dx=Mx.WARNINGS;function Hk(s){Number.isInteger(s)&&(Dx=s)}function Vk(){return Dx}function kx(s){Dx>=Mx.INFOS&&console.info(`Info: ${s}`)}function ne(s){Dx>=Mx.WARNINGS&&console.warn(`Warning: ${s}`)}function Ue(s){throw new Error(s)}function be(s,e){s||Ue(e)}function Gk(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function lC(s,e=null,t=null){if(!s)return null;if(t&&typeof s=="string"){if(t.addDefaultProtocol&&s.startsWith("www.")){const i=s.match(/\./g);(i==null?void 0:i.length)>=2&&(s=`http://${s}`)}if(t.tryConvertEncoding)try{s=Wk(s)}catch{}}const n=e?URL.parse(s,e):URL.parse(s);return Gk(n)?n:null}function oC(s,e,t=!1){const n=URL.parse(s);return n?(n.hash=e,n.href):t&&lC(s,"http://example.com")?s.split("#",1)[0]+`${e?`#${e}`:""}`:""}function de(s,e,t,n=!1){return Object.defineProperty(s,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Cc=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class u1 extends Cc{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Eb extends Cc{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Dy extends Cc{constructor(e){super(e,"InvalidPDFException")}}class D0 extends Cc{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class $k extends Cc{constructor(e){super(e,"FormatError")}}class Dl extends Cc{constructor(e){super(e,"AbortException")}}function cC(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&Ue("Invalid argument for bytesToString");const e=s.length,t=8192;if(e<t)return String.fromCharCode.apply(null,s);const n=[];for(let i=0;i<e;i+=t){const a=Math.min(i+t,e),r=s.subarray(i,a);n.push(String.fromCharCode.apply(null,r))}return n.join("")}function Np(s){typeof s!="string"&&Ue("Invalid argument for stringToBytes");const e=s.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=s.charCodeAt(n)&255;return t}function Yk(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function qk(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function Xk(){try{return new Function(""),!0}catch{return!1}}class is{static get isLittleEndian(){return de(this,"isLittleEndian",qk())}static get isEvalSupported(){return de(this,"isEvalSupported",Xk())}static get isOffscreenCanvasSupported(){return de(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return de(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return de(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return de(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Cb=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var Za,Ag,ky;class G{static makeHexColor(e,t,n){return`#${Cb[e]}${Cb[t]}${Cb[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],a=e[n+1];e[n]=i*t[0]+a*t[2]+t[4],e[n+1]=i*t[1]+a*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],a=t[1],r=t[2],o=t[3],u=t[4],d=t[5];for(let h=0;h<6;h+=2){const f=e[n+h],m=e[n+h+1];e[n+h]=f*i+m*r+u,e[n+h+1]=f*a+m*o+d}}static applyInverseTransform(e,t){const n=e[0],i=e[1],a=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/a,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/a}static axialAlignedBoundingBox(e,t,n){const i=t[0],a=t[1],r=t[2],o=t[3],u=t[4],d=t[5],h=e[0],f=e[1],m=e[2],p=e[3];let y=i*h+u,b=y,A=i*m+u,x=A,v=o*f+d,w=v,E=o*p+d,j=E;if(a!==0||r!==0){const T=a*h,C=a*m,_=r*f,D=r*p;y+=_,x+=_,A+=D,b+=D,v+=T,j+=T,E+=C,w+=C}n[0]=Math.min(n[0],y,A,b,x),n[1]=Math.min(n[1],v,E,w,j),n[2]=Math.max(n[2],y,A,b,x),n[3]=Math.max(n[3],v,E,w,j)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],a=e[2],r=e[3],o=n**2+i**2,u=n*a+i*r,d=a**2+r**2,h=(o+d)/2,f=Math.sqrt(h**2-(o*d-u**2));t[0]=Math.sqrt(h+f||1),t[1]=Math.sqrt(h-f||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),r=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>r?null:[n,a,i,r]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,a){a[0]=Math.min(a[0],e,n),a[1]=Math.min(a[1],t,i),a[2]=Math.max(a[2],e,n),a[3]=Math.max(a[3],t,i)}static bezierBoundingBox(e,t,n,i,a,r,o,u,d){d[0]=Math.min(d[0],e,o),d[1]=Math.min(d[1],t,u),d[2]=Math.max(d[2],e,o),d[3]=Math.max(d[3],t,u),N(this,Za,ky).call(this,e,n,a,o,t,i,r,u,3*(-e+3*(n-a)+o),6*(e-2*n+a),3*(n-e),d),N(this,Za,ky).call(this,e,n,a,o,t,i,r,u,3*(-t+3*(i-r)+u),6*(t-2*i+r),3*(i-t),d)}}Za=new WeakSet,Ag=function(e,t,n,i,a,r,o,u,d,h){if(d<=0||d>=1)return;const f=1-d,m=d*d,p=m*d,y=f*(f*(f*e+3*d*t)+3*m*n)+p*i,b=f*(f*(f*a+3*d*r)+3*m*o)+p*u;h[0]=Math.min(h[0],y),h[1]=Math.min(h[1],b),h[2]=Math.max(h[2],y),h[3]=Math.max(h[3],b)},ky=function(e,t,n,i,a,r,o,u,d,h,f,m){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&N(this,Za,Ag).call(this,e,t,n,i,a,r,o,u,-f/h,m);return}const p=h**2-4*f*d;if(p<0)return;const y=Math.sqrt(p),b=2*d;N(this,Za,Ag).call(this,e,t,n,i,a,r,o,u,(-h+y)/b,m),N(this,Za,Ag).call(this,e,t,n,i,a,r,o,u,(-h-y)/b,m)},S(G,Za);function Wk(s){return decodeURIComponent(escape(s))}let jb=null,d1=null;function Kk(s){return jb||(jb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,d1=new Map([["","t"]])),s.replaceAll(jb,(e,t,n)=>t?t.normalize("NFKC"):d1.get(n))}function uC(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),cC(s)}const hS="pdfjs_internal_id_";function Qk(s,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...a]=t;if(!s(n)&&!Number.isInteger(n)||!e(i))return!1;const r=a.length;let o=!0;switch(i.name){case"XYZ":if(r<2||r>3)return!1;break;case"Fit":case"FitB":return r===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(r>1)return!1;break;case"FitR":if(r!==4)return!1;o=!1;break;default:return!1}for(const u of a)if(!(typeof u=="number"||o&&u===null))return!1;return!0}function ys(s,e,t){return Math.min(Math.max(s,e),t)}function dC(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(cC(s))}function Zk(s){return Uint8Array.fromBase64?Uint8Array.fromBase64(s):Np(atob(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...e){return new Promise(t=>{t(s(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(s){return s.reduce((e,t)=>e+t,0)});class Ef{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(a){var u;if(!a)return;let r=null;const o=a.name;if(o==="#text")r=a.value;else if(Ef.shouldBuildText(o))(u=a==null?void 0:a.attributes)!=null&&u.textContent?r=a.attributes.textContent:a.value&&(r=a.value);else return;if(r!==null&&t.push({str:r}),!!a.children)for(const d of a.children)i(d)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class hC{static setupStorage(e,t,n,i,a){const r=i.getValue(t,{value:null});switch(n.name){case"textarea":if(r.value!==null&&(e.textContent=r.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(r.value===n.attributes.xfaOn?e.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(r.value!==null&&e.setAttribute("value",r.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(r.value!==null){e.setAttribute("value",r.value);for(const o of n.children)o.attributes.value===r.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const u=o.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:a}){const{attributes:r}=t,o=e instanceof HTMLAnchorElement;r.type==="radio"&&(r.name=`${r.name}-${i}`);for(const[u,d]of Object.entries(r))if(d!=null)switch(u){case"class":d.length&&e.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!o||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,d)}o&&a.addLinkAttributes(e,r.href,r.newWindow),n&&r.dataId&&this.setupStorage(e,r.dataId,t,n)}static render(e){var f,m;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",r=document.createElement(i.name);i.attributes&&this.setAttributes({html:r,element:i,intent:a,linkService:n});const o=a!=="richText",u=e.div;if(u.append(r),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=p}o&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);r.append(p),o&&Ef.shouldBuildText(i.name)&&d.push(p)}return{textDivs:d}}const h=[[i,-1,r]];for(;h.length>0;){const[p,y,b]=h.at(-1);if(y+1===p.children.length){h.pop();continue}const A=p.children[++h.at(-1)[1]];if(A===null)continue;const{name:x}=A;if(x==="#text"){const w=document.createTextNode(A.value);d.push(w),b.append(w);continue}const v=(f=A==null?void 0:A.attributes)!=null&&f.xmlns?document.createElementNS(A.attributes.xmlns,x):document.createElement(x);if(b.append(v),A.attributes&&this.setAttributes({html:v,element:A,storage:t,intent:a,linkService:n}),((m=A.children)==null?void 0:m.length)>0)h.push([A,-1,v]);else if(A.value){const w=document.createTextNode(A.value);o&&Ef.shouldBuildText(x)&&d.push(w),v.append(w)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const na="http://www.w3.org/2000/svg",Yl=class Yl{};F(Yl,"CSS",96),F(Yl,"PDF",72),F(Yl,"PDF_TO_CSS_UNITS",Yl.CSS/Yl.PDF);let kl=Yl;async function Ep(s,e="text"){if(Ch(s,document.baseURI)){const t=await fetch(s);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",s,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class Cp{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:a=0,offsetY:r=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=a,this.offsetY=r,n*=t;const u=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let h,f,m,p;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,f=0,m=0,p=1;break;case 90:h=0,f=1,m=1,p=0;break;case 270:h=0,f=-1,m=-1,p=0;break;case 0:h=1,f=0,m=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(m=-m,p=-p);let y,b,A,x;h===0?(y=Math.abs(d-e[1])*n+a,b=Math.abs(u-e[0])*n+r,A=(e[3]-e[1])*n,x=(e[2]-e[0])*n):(y=Math.abs(u-e[0])*n+a,b=Math.abs(d-e[1])*n+r,A=(e[2]-e[0])*n,x=(e[3]-e[1])*n),this.transform=[h*n,f*n,m*n,p*n,y-h*n*u-m*n*d,b-f*n*u-p*n*d],this.width=A,this.height=x}get rawDims(){const e=this.viewBox;return de(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new Cp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:a})}convertToViewportPoint(e,t){const n=[e,t];return G.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];G.applyTransform(t,this.transform);const n=[e[2],e[3]];return G.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return G.applyInverseTransform(n,this.transform),n}}class fS extends Cc{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Rx(s){const e=s.length;let t=0;for(;t<e&&s[t].trim()==="";)t++;return s.substring(t,t+5).toLowerCase()==="data:"}function mS(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function Jk(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function eR(s,e="document.pdf"){if(typeof s!="string")return e;if(Rx(s))return ne('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(s);if(!n)return e;const i=o=>{try{let u=decodeURIComponent(o);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:o):u}catch{return o}},a=/\.pdf$/i,r=n.pathname.split("/").at(-1);if(a.test(r))return i(r);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const d of o)if(a.test(d))return i(d);const u=Array.from(n.searchParams.keys()).reverse();for(const d of u)if(a.test(d))return i(d)}if(n.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(u)return i(u[0])}return e}class h1{constructor(){F(this,"started",Object.create(null));F(this,"times",[])}time(e){e in this.started&&ne(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ne(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:a}of this.times)e.push(`${n.padEnd(t)} ${a-i}ms
`);return e.join("")}}function Ch(s,e){const t=e?URL.parse(s,e):URL.parse(s);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function qn(s){s.preventDefault()}function ht(s){s.preventDefault(),s.stopPropagation()}function tR(s){console.log("Deprecated API usage: "+s)}var Tf;class k0{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;l(this,Tf)||g(this,Tf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=l(this,Tf).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let r=parseInt(t[4],10);r=r>=0&&r<=23?r:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const d=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,d==="-"?(r+=h,o+=f):d==="+"&&(r-=h,o-=f),new Date(Date.UTC(n,i,a,r,o,u))}}Tf=new WeakMap,S(k0,Tf);function sR(s,{scale:e=1,rotation:t=0}){const{width:n,height:i}=s.attributes.style,a=[0,0,parseInt(n),parseInt(i)];return new Cp({viewBox:a,userUnit:1,scale:e,rotation:t})}function jp(s){if(s.startsWith("#")){const e=parseInt(s.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(e=>parseInt(e)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ne(`Not a valid color format: "${s}"`),[0,0,0])}function nR(s){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of s.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;s.set(t,jp(n))}e.remove()}function nt(s){const{a:e,b:t,c:n,d:i,e:a,f:r}=s.getTransform();return[e,t,n,i,a,r]}function mi(s){const{a:e,b:t,c:n,d:i,e:a,f:r}=s.getTransform().invertSelf();return[e,t,n,i,a,r]}function bc(s,e,t=!1,n=!0){if(e instanceof Cp){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:r}=s,o=is.isCSSRoundSupported,u=`var(--total-scale-factor) * ${i}px`,d=`var(--total-scale-factor) * ${a}px`,h=o?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,f=o?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!t||e.rotation%180===0?(r.width=h,r.height=f):(r.width=f,r.height=h)}n&&s.setAttribute("data-main-rotation",e.rotation)}class Yi{constructor(){const{pixelRatio:e}=Yi;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,a=-1){let r=1/0,o=1/0,u=1/0;n=Yi.capPixels(n,a),n>0&&(r=Math.sqrt(n/(e*t))),i!==-1&&(o=i/e,u=i/t);const d=Math.min(r,o,u);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const Ry=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class iR{static get isDarkMode(){var e;return de(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class aR{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),de(this,"commentForegroundColor",jp(n))}}function rR(s,e,t,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return s=Math.round(s*n+i),e=Math.round(e*n+i),t=Math.round(t*n+i),[s,e,t]}function f1(s,e){const t=s[0]/255,n=s[1]/255,i=s[2]/255,a=Math.max(t,n,i),r=Math.min(t,n,i),o=(a+r)/2;if(a===r)e[0]=e[1]=0;else{const u=a-r;switch(e[1]=o<.5?u/(a+r):u/(2-a-r),a){case t:e[0]=((n-i)/u+(n<i?6:0))*60;break;case n:e[0]=((i-t)/u+2)*60;break;case i:e[0]=((t-n)/u+4)*60;break}}e[2]=o}function Ly(s,e){const t=s[0],n=s[1],i=s[2],a=(1-Math.abs(2*i-1))*n,r=a*(1-Math.abs(t/60%2-1)),o=i-a/2;switch(Math.floor(t/60)){case 0:e[0]=a+o,e[1]=r+o,e[2]=o;break;case 1:e[0]=r+o,e[1]=a+o,e[2]=o;break;case 2:e[0]=o,e[1]=a+o,e[2]=r+o;break;case 3:e[0]=o,e[1]=r+o,e[2]=a+o;break;case 4:e[0]=r+o,e[1]=o,e[2]=a+o;break;case 5:case 6:e[0]=a+o,e[1]=o,e[2]=r+o;break}}function m1(s){return s<=.03928?s/12.92:((s+.055)/1.055)**2.4}function p1(s,e,t){Ly(s,t),t.map(m1);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];Ly(e,t),t.map(m1);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const g1=new Map;function lR(s,e){const t=s[0]+s[1]*256+s[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=g1.get(t);if(n)return n;const i=new Float32Array(9),a=i.subarray(0,3),r=i.subarray(3,6);f1(s,r);const o=i.subarray(6,9);f1(e,o);const u=o[2]<.5,d=u?12:4.5;if(r[2]=u?Math.sqrt(r[2]):1-Math.sqrt(1-r[2]),p1(r,o,a)<d){let h,f;u?(h=r[2],f=1):(h=0,f=r[2]);const m=.005;for(;f-h>m;){const p=r[2]=(h+f)/2;u===p1(r,o,a)<d?h=p:f=p}r[2]=u?f:h}return Ly(r,a),n=G.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),g1.set(t,n),n}function fC({html:s,dir:e,className:t},n){const i=document.createDocumentFragment();if(typeof s=="string"){const a=document.createElement("p");a.dir=e||"auto";const r=s.split(/(?:\r\n?|\n)/);for(let o=0,u=r.length;o<u;++o){const d=r[o];a.append(document.createTextNode(d)),o<u-1&&a.append(document.createElement("br"))}i.append(a)}else hC.render({xfaHtml:s,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),n.append(i)}var yr,vr,An,Nn,_f,wr,fu,mu,Mf,G0,mC,ts,pC,gC,Oc,jh;const ra=class ra{constructor(e){S(this,ts);S(this,yr,null);S(this,vr,null);S(this,An);S(this,Nn,null);S(this,_f,null);S(this,wr,null);S(this,fu,null);S(this,mu,null);g(this,An,e),l(ra,Mf)||g(ra,Mf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=g(this,yr,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=l(this,An)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",qn,{signal:t}),e.addEventListener("pointerdown",N(ra,G0,mC),{signal:t}));const n=g(this,Nn,document.createElement("div"));n.className="buttons",e.append(n);const i=l(this,An).toolbarPosition;if(i){const{style:a}=e,r=l(this,An)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return l(this,yr)}hide(){var e;l(this,yr).classList.add("hidden"),(e=l(this,vr))==null||e.hideDropdown()}show(){var e,t;l(this,yr).classList.remove("hidden"),(e=l(this,_f))==null||e.shown(),(t=l(this,wr))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=l(this,An),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",l(ra,Mf)[e]),N(this,ts,Oc).call(this,n)&&n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),l(this,Nn).append(n)}async addAltText(e){const t=await e.render();N(this,ts,Oc).call(this,t),l(this,Nn).append(t,l(this,ts,jh)),g(this,_f,e)}addComment(e,t=null){if(l(this,wr))return;const n=e.renderForToolbar();if(!n)return;N(this,ts,Oc).call(this,n);const i=g(this,fu,l(this,ts,jh));t?(l(this,Nn).insertBefore(n,t),l(this,Nn).insertBefore(i,t)):l(this,Nn).append(n,i),g(this,wr,e),e.toolbar=this}addColorPicker(e){if(l(this,vr))return;g(this,vr,e);const t=e.renderButton();N(this,ts,Oc).call(this,t),l(this,Nn).append(t,l(this,ts,jh))}async addEditSignatureButton(e){const t=g(this,mu,await e.renderEditButton(l(this,An)));N(this,ts,Oc).call(this,t),l(this,Nn).append(t,l(this,ts,jh))}removeButton(e){var t,n;switch(e){case"comment":(t=l(this,wr))==null||t.removeToolbarCommentButton(),g(this,wr,null),(n=l(this,fu))==null||n.remove(),g(this,fu,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,n){const i=l(this,Nn).querySelector(n);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){l(this,mu)&&(l(this,mu).title=e)}remove(){var e;l(this,yr).remove(),(e=l(this,vr))==null||e.destroy(),g(this,vr,null)}};yr=new WeakMap,vr=new WeakMap,An=new WeakMap,Nn=new WeakMap,_f=new WeakMap,wr=new WeakMap,fu=new WeakMap,mu=new WeakMap,Mf=new WeakMap,G0=new WeakSet,mC=function(e){e.stopPropagation()},ts=new WeakSet,pC=function(e){l(this,An)._focusEventsAllowed=!1,ht(e)},gC=function(e){l(this,An)._focusEventsAllowed=!0,ht(e)},Oc=function(e){const t=l(this,An)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",N(this,ts,pC).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",N(this,ts,gC).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",qn,{signal:t}),!0)},jh=function(){const e=document.createElement("div");return e.className="divider",e},S(ra,G0),S(ra,Mf,null);let Oy=ra;var Df,Wl,ca,rr,xC,bC,Py;class oR{constructor(e){S(this,rr);S(this,Df,null);S(this,Wl,null);S(this,ca);g(this,ca,e)}show(e,t,n){const[i,a]=N(this,rr,bC).call(this,t,n),{style:r}=l(this,Wl)||g(this,Wl,N(this,rr,xC).call(this));e.append(l(this,Wl)),r.insetInlineEnd=`${100*i}%`,r.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,Wl).remove()}}Df=new WeakMap,Wl=new WeakMap,ca=new WeakMap,rr=new WeakSet,xC=function(){const e=g(this,Wl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=l(this,ca)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",qn,{signal:t});const n=g(this,Df,document.createElement("div"));return n.className="buttons",e.append(n),l(this,ca).hasCommentManager()&&N(this,rr,Py).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{l(this,ca).commentSelection("floating_button")}),N(this,rr,Py).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{l(this,ca).highlightSelection("floating_button")}),e},bC=function(e,t){let n=0,i=0;for(const a of e){const r=a.y+a.height;if(r<n)continue;const o=a.x+(t?a.width:0);if(r>n){i=o,n=r;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},Py=function(e,t,n,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",t);const r=document.createElement("span");a.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id",n);const o=l(this,ca)._signal;o instanceof AbortSignal&&!o.aborted&&(a.addEventListener("contextmenu",qn,{signal:o}),a.addEventListener("click",i,{signal:o})),l(this,Df).append(a)};function yC(s,e,t){for(const n of t)e.addEventListener(n,s[n].bind(s))}var $0;class cR{constructor(){S(this,$0,0)}get id(){return`${Af}${Ct(this,$0)._++}`}}$0=new WeakMap;var pu,kf,rs,gu,Ng;const SS=class SS{constructor(){S(this,gu);S(this,pu,uC());S(this,kf,0);S(this,rs,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return de(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:a}=e;return N(this,gu,Ng).call(this,`${t}_${n}_${i}_${a}`,e)}async getFromUrl(e){return N(this,gu,Ng).call(this,e,e)}async getFromBlob(e,t){const n=await t;return N(this,gu,Ng).call(this,e,n)}async getFromId(e){l(this,rs)||g(this,rs,new Map);const t=l(this,rs).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,rs)||g(this,rs,new Map);let n=l(this,rs).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${l(this,pu)}_${Ct(this,kf)._++}`,refCounter:1,isSvg:!1},l(this,rs).set(e,n),l(this,rs).set(n.id,n),n}getSvgUrl(e){const t=l(this,rs).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;l(this,rs)||g(this,rs,new Map);const t=l(this,rs).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=a.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,pu)}_`)}};pu=new WeakMap,kf=new WeakMap,rs=new WeakMap,gu=new WeakSet,Ng=async function(e,t){l(this,rs)||g(this,rs,new Map);let n=l(this,rs).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${l(this,pu)}_${Ct(this,kf)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await Ep(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const a=SS._isSVGFittingCanvas,r=new FileReader,o=new Image,u=new Promise((d,h)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,d()},r.onload=async()=>{const f=n.svgUrl=r.result;o.src=await a?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=r.onerror=h});r.readAsDataURL(i),await u}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){ne(i),n=null}return l(this,rs).set(e,n),n&&l(this,rs).set(n.id,n),n};let By=SS;var mt,Sr,Rf,st;class uR{constructor(e=128){S(this,mt,[]);S(this,Sr,!1);S(this,Rf);S(this,st,-1);g(this,Rf,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:a=NaN,overwriteIfSameType:r=!1,keepUndo:o=!1}){if(i&&e(),l(this,Sr))return;const u={cmd:e,undo:t,post:n,type:a};if(l(this,st)===-1){l(this,mt).length>0&&(l(this,mt).length=0),g(this,st,0),l(this,mt).push(u);return}if(r&&l(this,mt)[l(this,st)].type===a){o&&(u.undo=l(this,mt)[l(this,st)].undo),l(this,mt)[l(this,st)]=u;return}const d=l(this,st)+1;d===l(this,Rf)?l(this,mt).splice(0,1):(g(this,st,d),d<l(this,mt).length&&l(this,mt).splice(d)),l(this,mt).push(u)}undo(){if(l(this,st)===-1)return;g(this,Sr,!0);const{undo:e,post:t}=l(this,mt)[l(this,st)];e(),t==null||t(),g(this,Sr,!1),g(this,st,l(this,st)-1)}redo(){if(l(this,st)<l(this,mt).length-1){g(this,st,l(this,st)+1),g(this,Sr,!0);const{cmd:e,post:t}=l(this,mt)[l(this,st)];e(),t==null||t(),g(this,Sr,!1)}}hasSomethingToUndo(){return l(this,st)!==-1}hasSomethingToRedo(){return l(this,st)<l(this,mt).length-1}cleanType(e){if(l(this,st)!==-1){for(let t=l(this,st);t>=0;t--)if(l(this,mt)[t].type!==e){l(this,mt).splice(t+1,l(this,st)-t),g(this,st,t);return}l(this,mt).length=0,g(this,st,-1)}}destroy(){g(this,mt,null)}}mt=new WeakMap,Sr=new WeakMap,Rf=new WeakMap,st=new WeakMap;var Y0,vC;class Tp{constructor(e){S(this,Y0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=is.platform;for(const[n,i,a={}]of e)for(const r of n){const o=r.startsWith("mac+");t&&o?(this.callbacks.set(r.slice(4),{callback:i,options:a}),this.allKeys.add(r.split("+").at(-1))):!t&&!o&&(this.callbacks.set(r,{callback:i,options:a}),this.allKeys.add(r.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(N(this,Y0,vC).call(this,t));if(!n)return;const{callback:i,options:{bubbles:a=!1,args:r=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...r,t)(),a||ht(t))}}Y0=new WeakSet,vC=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const q0=class q0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return nR(e),de(this,"_colors",e)}convert(e){const t=jp(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((a,r)=>a===t[r]))return q0._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?G.makeHexColor(...t):e}};F(q0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Iy=q0;var xu,Vs,bu,ot,_t,yu,En,vu,Cn,ls,Ar,Nr,wu,Er,xi,jn,Kl,Lf,Of,Su,Pf,bi,Cr,Au,jr,yi,X0,Tr,Nu,Bf,_r,Ql,Eu,Mr,If,vt,je,ua,Dr,kr,Ff,Cu,zf,Rr,vi,da,Uf,Hf,Tn,z,Eg,Fy,wC,SC,Th,AC,NC,EC,zy,CC,Uy,Hy,jC,hs,ia,TC,_C,Vy,MC,_h,Gy;const tu=class tu{constructor(e,t,n,i,a,r,o,u,d,h,f,m,p,y,b,A){S(this,z);S(this,xu,new AbortController);S(this,Vs,null);S(this,bu,null);S(this,ot,new Map);S(this,_t,new Map);S(this,yu,null);S(this,En,null);S(this,vu,null);S(this,Cn,new uR);S(this,ls,null);S(this,Ar,null);S(this,Nr,null);S(this,wu,0);S(this,Er,new Set);S(this,xi,null);S(this,jn,null);S(this,Kl,new Set);F(this,"_editorUndoBar",null);S(this,Lf,!1);S(this,Of,!1);S(this,Su,!1);S(this,Pf,null);S(this,bi,null);S(this,Cr,null);S(this,Au,null);S(this,jr,!1);S(this,yi,null);S(this,X0,new cR);S(this,Tr,!1);S(this,Nu,!1);S(this,Bf,!1);S(this,_r,null);S(this,Ql,null);S(this,Eu,null);S(this,Mr,null);S(this,If,null);S(this,vt,ae.NONE);S(this,je,new Set);S(this,ua,null);S(this,Dr,null);S(this,kr,null);S(this,Ff,null);S(this,Cu,null);S(this,zf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,Rr,[0,0]);S(this,vi,null);S(this,da,null);S(this,Uf,null);S(this,Hf,null);S(this,Tn,null);const x=this._signal=l(this,xu).signal;g(this,da,e),g(this,Uf,t),g(this,Hf,n),g(this,yu,i),g(this,ls,a),g(this,Dr,r),g(this,Cu,u),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:x}),window.addEventListener("pointerdown",()=>{g(this,Nu,!0)},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{g(this,Nu,!1)},{capture:!0,signal:x}),N(this,z,AC).call(this),N(this,z,jC).call(this),N(this,z,zy).call(this),g(this,En,u.annotationStorage),g(this,Pf,u.filterFactory),g(this,kr,d),g(this,Au,h||null),g(this,Lf,f),g(this,Of,m),g(this,Su,p),g(this,If,y||null),this.viewParameters={realScale:kl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=A!==!1,a==null||a.setSidebarUiManager(this)}static get _keyboardManager(){const e=tu.prototype,t=r=>l(r,da).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&r.hasSomethingToControl(),n=(r,{target:o})=>{if(o instanceof HTMLInputElement){const{type:u}=o;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return de(this,"_keyboardManager",new Tp([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(r,{target:o})=>!(o instanceof HTMLButtonElement)&&l(r,da).contains(o)&&!r.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(r,{target:o})=>!(o instanceof HTMLButtonElement)&&l(r,da).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}destroy(){var e,t,n,i,a,r,o,u,d;(e=l(this,Tn))==null||e.resolve(),g(this,Tn,null),(t=l(this,xu))==null||t.abort(),g(this,xu,null),this._signal=null;for(const h of l(this,_t).values())h.destroy();l(this,_t).clear(),l(this,ot).clear(),l(this,Kl).clear(),(n=l(this,Mr))==null||n.clear(),g(this,Vs,null),l(this,je).clear(),l(this,Cn).destroy(),(i=l(this,yu))==null||i.destroy(),(a=l(this,ls))==null||a.destroy(),(r=l(this,Dr))==null||r.destroy(),(o=l(this,yi))==null||o.hide(),g(this,yi,null),(u=l(this,Eu))==null||u.destroy(),g(this,Eu,null),g(this,bu,null),l(this,bi)&&(clearTimeout(l(this,bi)),g(this,bi,null)),l(this,vi)&&(clearTimeout(l(this,vi)),g(this,vi,null)),(d=this._editorUndoBar)==null||d.destroy(),g(this,Cu,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,If)}get useNewAltTextFlow(){return l(this,Of)}get useNewAltTextWhenAddingImage(){return l(this,Su)}get hcmFilter(){return de(this,"hcmFilter",l(this,kr)?l(this,Pf).addHCMFilter(l(this,kr).foreground,l(this,kr).background):"none")}get direction(){return de(this,"direction",getComputedStyle(l(this,da)).direction)}get _highlightColors(){return de(this,"_highlightColors",l(this,Au)?new Map(l(this,Au).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return de(this,"highlightColors",null);const t=new Map,n=!!l(this,kr);for(const[i,a]of e){const r=i.endsWith("_HCM");if(n&&r){t.set(i.replace("_HCM",""),a);continue}!n&&!r&&t.set(i,a)}return de(this,"highlightColors",t)}get highlightColorNames(){return de(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),g(this,Nr,e)}setMainHighlightColorPicker(e){g(this,Eu,e)}editAltText(e,t=!1){var n;(n=l(this,yu))==null||n.editAltText(this,e,t)}hasCommentManager(){return!!l(this,ls)}editComment(e,t,n,i){var a;(a=l(this,ls))==null||a.showDialog(this,e,t,n,i)}selectComment(e,t){const n=l(this,_t).get(e),i=n==null?void 0:n.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=l(this,ls))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=l(this,ls))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=l(this,ls))==null||t.removeComments([e.uid])}toggleComment(e,t,n=void 0){var i;(i=l(this,ls))==null||i.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){var n;return e&&((n=l(this,ls))==null?void 0:n.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=l(this,ls))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(l(this,_t).has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){var t;(t=l(this,Dr))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return l(this,Dr)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":g(this,Su,t);break}}onPageChanging({pageNumber:e}){g(this,wu,e-1)}focusMainContainer(){l(this,da).focus()}findParent(e,t){for(const n of l(this,_t).values()){const{x:i,y:a,width:r,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+r&&t>=a&&t<=a+o)return n}return null}disableUserSelect(e=!1){l(this,Uf).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,Kl).add(e)}removeShouldRescale(e){l(this,Kl).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*kl.PDF_TO_CSS_UNITS;for(const n of l(this,Kl))n.onScaleChanging();(t=l(this,Nr))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:o}=n,u=n.toString(),h=N(this,z,Eg).call(this,n).closest(".textLayer"),f=this.getSelectionBoxes(h);if(!f)return;n.empty();const m=N(this,z,Fy).call(this,h),p=l(this,vt)===ae.NONE,y=()=>{const b=m==null?void 0:m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:o,text:u});p&&this.showAllEditors("highlight",!0,!0),t&&(b==null||b.editComment())};if(p){this.switchToMode(ae.HIGHLIGHT,y);return}y()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!l(this,En))return null;const t=`${Af}${e}`,n=l(this,En).getRawValue(t);return n&&l(this,En).remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&l(this,En)&&!l(this,En).has(e.id)&&l(this,En).setValue(e.id,e)}a11yAlert(e,t=null){const n=l(this,Hf);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,jr)&&(g(this,jr,!1),N(this,z,Th).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,je))if(t.div.contains(e)){g(this,Ql,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,Ql))return;const[e,t]=l(this,Ql);g(this,Ql,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){N(this,z,zy).call(this),N(this,z,Uy).call(this)}removeEditListeners(){N(this,z,CC).call(this),N(this,z,Hy).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of l(this,jn))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of l(this,jn))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=l(this,Vs))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of l(this,je)){const a=i.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const r of l(this,jn))if(r.isHandlingMimeForPasting(a.type)){r.paste(a,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){ne(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const u of n){const d=await i.deserialize(u);if(!d)return;a.push(d)}const r=()=>{for(const u of a)N(this,z,Vy).call(this,u);N(this,z,Gy).call(this,a)},o=()=>{for(const u of a)u.remove()};this.addCommands({cmd:r,undo:o,mustExec:!0})}catch(a){ne(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,vt)!==ae.NONE&&!this.isEditorHandlingKeyboard&&tu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,jr)&&(g(this,jr,!1),N(this,z,Th).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(N(this,z,NC).call(this),N(this,z,Uy).call(this),N(this,z,hs).call(this,{isEditing:l(this,vt)!==ae.NONE,isEmpty:N(this,z,_h).call(this),hasSomethingToUndo:l(this,Cn).hasSomethingToUndo(),hasSomethingToRedo:l(this,Cn).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,z,EC).call(this),N(this,z,Hy).call(this),N(this,z,hs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,jn)){g(this,jn,e);for(const t of l(this,jn))N(this,z,ia).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,X0).id}get currentLayer(){return l(this,_t).get(l(this,wu))}getLayer(e){return l(this,_t).get(e)}get currentPageIndex(){return l(this,wu)}addLayer(e){l(this,_t).set(e.pageIndex,e),l(this,Tr)?e.enable():e.disable()}removeLayer(e){l(this,_t).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,a=!1){var r,o,u,d,h,f;if(l(this,vt)!==e&&!(l(this,Tn)&&(await l(this,Tn).promise,!l(this,Tn)))){if(g(this,Tn,Promise.withResolvers()),(r=l(this,Nr))==null||r.commitOrRemove(),l(this,vt)===ae.POPUP&&((o=l(this,ls))==null||o.hideSidebar()),(u=l(this,ls))==null||u.destroyPopup(),g(this,vt,e),e===ae.NONE){this.setEditingState(!1),N(this,z,_C).call(this);for(const m of l(this,ot).values())m.hideStandaloneCommentButton();(d=this._editorUndoBar)==null||d.hide(),this.toggleComment(null),l(this,Tn).resolve();return}for(const m of l(this,ot).values())m.addStandaloneCommentButton();e===ae.SIGNATURE&&await((h=l(this,Dr))==null?void 0:h.loadSignatures()),this.setEditingState(!0),await N(this,z,TC).call(this),this.unselectAll();for(const m of l(this,_t).values())m.updateMode(e);if(e===ae.POPUP){l(this,bu)||g(this,bu,await l(this,Cu).getAnnotationsByType(new Set(l(this,jn).map(y=>y._editorType))));const m=new Set,p=[];for(const y of l(this,ot).values()){const{annotationElementId:b,hasComment:A,deleted:x}=y;b&&m.add(b),A&&!x&&p.push(y.getData())}for(const y of l(this,bu)){const{id:b,popupRef:A,contentsObj:x}=y;A&&(x!=null&&x.str)&&!m.has(b)&&!l(this,Er).has(b)&&p.push(y)}(f=l(this,ls))==null||f.showSidebar(p)}if(!t){n&&this.addNewEditorFromKeyboard(),l(this,Tn).resolve();return}for(const m of l(this,ot).values())m.uid===t?(this.setSelected(m),a?m.editComment():i?m.enterInEditMode():m.focus()):m.unselect();l(this,Tn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==l(this,vt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(l(this,jn)){switch(e){case xe.CREATE:this.currentLayer.addNewEditor(t);return;case xe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,Ff)||g(this,Ff,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of l(this,je))n.updateParams(e,t);else for(const n of l(this,jn))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var a;for(const r of l(this,ot).values())r.editorType===e&&r.show(t);(((a=l(this,Ff))==null?void 0:a.get(xe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&N(this,z,ia).call(this,[[xe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,Bf)!==e){g(this,Bf,e);for(const t of l(this,_t).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of l(this,ot).values())t.pageIndex===e&&(yield t)}getEditor(e){return l(this,ot).get(e)}addEditor(e){l(this,ot).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(l(this,bi)&&clearTimeout(l(this,bi)),g(this,bi,setTimeout(()=>{this.focusMainContainer(),g(this,bi,null)},0))),l(this,ot).delete(e.id),e.annotationElementId&&((t=l(this,Mr))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!l(this,Er).has(e.annotationElementId))&&((n=l(this,En))==null||n.remove(e.id))}addDeletedAnnotationElement(e){l(this,Er).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,Er).has(e)}removeDeletedAnnotationElement(e){l(this,Er).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,Vs)!==e&&(g(this,Vs,e),e&&N(this,z,ia).call(this,e.propertiesToUpdate))}updateUI(e){l(this,z,MC)===e&&N(this,z,ia).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){N(this,z,ia).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(l(this,je).has(e)){l(this,je).delete(e),e.unselect(),N(this,z,hs).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,je).add(e),e.select(),N(this,z,ia).call(this,e.propertiesToUpdate),N(this,z,hs).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=l(this,Nr))==null||t.commitOrRemove();for(const n of l(this,je))n!==e&&n.unselect();l(this,je).clear(),l(this,je).add(e),e.select(),N(this,z,ia).call(this,e.propertiesToUpdate),N(this,z,hs).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,je).has(e)}get firstSelectedEditor(){return l(this,je).values().next().value}unselect(e){e.unselect(),l(this,je).delete(e),N(this,z,hs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,je).size!==0}get isEnterHandled(){return l(this,je).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;l(this,Cn).undo(),N(this,z,hs).call(this,{hasSomethingToUndo:l(this,Cn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,z,_h).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){l(this,Cn).redo(),N(this,z,hs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,Cn).hasSomethingToRedo(),isEmpty:N(this,z,_h).call(this)})}addCommands(e){l(this,Cn).add(e),N(this,z,hs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,z,_h).call(this)})}cleanUndoStack(e){l(this,Cn).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...l(this,je)],n=()=>{var r;(r=this._editorUndoBar)==null||r.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const r of t)N(this,z,Vy).call(this,r)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=l(this,Vs))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,Vs)||this.hasSelection}selectAll(){for(const e of l(this,je))e.commit();N(this,z,Gy).call(this,l(this,ot).values())}unselectAll(){var e;if(!(l(this,Vs)&&(l(this,Vs).commitOrRemove(),l(this,vt)!==ae.NONE))&&!((e=l(this,Nr))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of l(this,je))t.unselect();l(this,je).clear(),N(this,z,hs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;l(this,Rr)[0]+=e,l(this,Rr)[1]+=t;const[i,a]=l(this,Rr),r=[...l(this,je)],o=1e3;l(this,vi)&&clearTimeout(l(this,vi)),g(this,vi,setTimeout(()=>{g(this,vi,null),l(this,Rr)[0]=l(this,Rr)[1]=0,this.addCommands({cmd:()=>{for(const u of r)l(this,ot).has(u.id)&&(u.translateInPage(i,a),u.translationDone())},undo:()=>{for(const u of r)l(this,ot).has(u.id)&&(u.translateInPage(-i,-a),u.translationDone())},mustExec:!1})},o));for(const u of r)u.translateInPage(e,t),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),g(this,xi,new Map);for(const e of l(this,je))l(this,xi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,xi))return!1;this.disableUserSelect(!1);const e=l(this,xi);g(this,xi,null);let t=!1;for(const[{x:i,y:a,pageIndex:r},o]of e)o.newX=i,o.newY=a,o.newPageIndex=r,t||(t=i!==o.savedX||a!==o.savedY||r!==o.savedPageIndex);if(!t)return!1;const n=(i,a,r,o)=>{if(l(this,ot).has(i.id)){const u=l(this,_t).get(o);u?i._setParentAndPosition(u,a,r):(i.pageIndex=o,i.x=a,i.y=r)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:r,newPageIndex:o}]of e)n(i,a,r,o)},undo:()=>{for(const[i,{savedX:a,savedY:r,savedPageIndex:o}]of e)n(i,a,r,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,xi))for(const n of l(this,xi).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,je).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,Vs)===e}getActive(){return l(this,Vs)}getMode(){return l(this,vt)}isEditingMode(){return l(this,vt)!==ae.NONE}get imageManager(){return de(this,"imageManager",new By)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,h=t.rangeCount;d<h;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:i,width:a,height:r}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(d,h,f,m)=>({x:(h-i)/r,y:1-(d+f-n)/a,width:m/r,height:f/a});break;case"180":o=(d,h,f,m)=>({x:1-(d+f-n)/a,y:1-(h+m-i)/r,width:f/a,height:m/r});break;case"270":o=(d,h,f,m)=>({x:1-(h+m-i)/r,y:(d-n)/a,width:m/r,height:f/a});break;default:o=(d,h,f,m)=>({x:(d-n)/a,y:(h-i)/r,width:f/a,height:m/r});break}const u=[];for(let d=0,h=t.rangeCount;d<h;d++){const f=t.getRangeAt(d);if(!f.collapsed)for(const{x:m,y:p,width:y,height:b}of f.getClientRects())y===0||b===0||u.push(o(m,p,y,b))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,vu)||g(this,vu,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,vu))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=l(this,vu))==null?void 0:i.get(e.data.id);if(!t)return;const n=l(this,En).getRawValue(t);n&&(l(this,vt)===ae.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var a;const i=(a=l(this,Mr))==null?void 0:a.get(e);i&&(i.setCanvas(t,n),l(this,Mr).delete(e))}addMissingCanvas(e,t){(l(this,Mr)||g(this,Mr,new Map)).set(e,t)}};xu=new WeakMap,Vs=new WeakMap,bu=new WeakMap,ot=new WeakMap,_t=new WeakMap,yu=new WeakMap,En=new WeakMap,vu=new WeakMap,Cn=new WeakMap,ls=new WeakMap,Ar=new WeakMap,Nr=new WeakMap,wu=new WeakMap,Er=new WeakMap,xi=new WeakMap,jn=new WeakMap,Kl=new WeakMap,Lf=new WeakMap,Of=new WeakMap,Su=new WeakMap,Pf=new WeakMap,bi=new WeakMap,Cr=new WeakMap,Au=new WeakMap,jr=new WeakMap,yi=new WeakMap,X0=new WeakMap,Tr=new WeakMap,Nu=new WeakMap,Bf=new WeakMap,_r=new WeakMap,Ql=new WeakMap,Eu=new WeakMap,Mr=new WeakMap,If=new WeakMap,vt=new WeakMap,je=new WeakMap,ua=new WeakMap,Dr=new WeakMap,kr=new WeakMap,Ff=new WeakMap,Cu=new WeakMap,zf=new WeakMap,Rr=new WeakMap,vi=new WeakMap,da=new WeakMap,Uf=new WeakMap,Hf=new WeakMap,Tn=new WeakMap,z=new WeakSet,Eg=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Fy=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of l(this,_t).values())if(n.hasTextLayer(e))return n;return null},wC=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=N(this,z,Eg).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(l(this,yi)||g(this,yi,new oR(this)),l(this,yi).show(n,i,this.direction==="ltr"))},SC=function(){var a,r,o;const e=document.getSelection();if(!e||e.isCollapsed){l(this,ua)&&((a=l(this,yi))==null||a.hide(),g(this,ua,null),N(this,z,hs).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,ua))return;const i=N(this,z,Eg).call(this,e).closest(".textLayer");if(!i){l(this,ua)&&((r=l(this,yi))==null||r.hide(),g(this,ua,null),N(this,z,hs).call(this,{hasSelectedText:!1}));return}if((o=l(this,yi))==null||o.hide(),g(this,ua,t),N(this,z,hs).call(this,{hasSelectedText:!0}),!(l(this,vt)!==ae.HIGHLIGHT&&l(this,vt)!==ae.NONE)&&(l(this,vt)===ae.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),g(this,jr,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=l(this,vt)===ae.HIGHLIGHT?N(this,z,Fy).call(this,i):null;if(u==null||u.toggleDrawing(),l(this,Nu)){const d=new AbortController,h=this.combinedSignal(d),f=m=>{m.type==="pointerup"&&m.button!==0||(d.abort(),u==null||u.toggleDrawing(!0),m.type==="pointerup"&&N(this,z,Th).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("blur",f,{signal:h})}else u==null||u.toggleDrawing(!0),N(this,z,Th).call(this,"main_toolbar")}},Th=function(e=""){l(this,vt)===ae.HIGHLIGHT?this.highlightSelection(e):l(this,Lf)&&N(this,z,wC).call(this)},AC=function(){document.addEventListener("selectionchange",N(this,z,SC).bind(this),{signal:this._signal})},NC=function(){if(l(this,Cr))return;g(this,Cr,new AbortController);const e=this.combinedSignal(l(this,Cr));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},EC=function(){var e;(e=l(this,Cr))==null||e.abort(),g(this,Cr,null)},zy=function(){if(l(this,_r))return;g(this,_r,new AbortController);const e=this.combinedSignal(l(this,_r));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},CC=function(){var e;(e=l(this,_r))==null||e.abort(),g(this,_r,null)},Uy=function(){if(l(this,Ar))return;g(this,Ar,new AbortController);const e=this.combinedSignal(l(this,Ar));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Hy=function(){var e;(e=l(this,Ar))==null||e.abort(),g(this,Ar,null)},jC=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},hs=function(e){Object.entries(e).some(([n,i])=>l(this,zf)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,zf),e)}),l(this,vt)===ae.HIGHLIGHT&&e.hasSelectedEditor===!1&&N(this,z,ia).call(this,[[xe.HIGHLIGHT_FREE,!0]]))},ia=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},TC=async function(){if(!l(this,Tr)){g(this,Tr,!0);const e=[];for(const t of l(this,_t).values())e.push(t.enable());await Promise.all(e);for(const t of l(this,ot).values())t.enable()}},_C=function(){if(this.unselectAll(),l(this,Tr)){g(this,Tr,!1);for(const e of l(this,_t).values())e.disable();for(const e of l(this,ot).values())e.disable()}},Vy=function(e){const t=l(this,_t).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},MC=function(){let e=null;for(e of l(this,je));return e},_h=function(){if(l(this,ot).size===0)return!0;if(l(this,ot).size===1)for(const e of l(this,ot).values())return e.isEmpty();return!1},Gy=function(e){for(const t of l(this,je))t.unselect();l(this,je).clear();for(const t of e)t.isEmpty()||(l(this,je).add(t),t.select());N(this,z,hs).call(this,{hasSelectedEditor:this.hasSelection})},F(tu,"TRANSLATE_SMALL",1),F(tu,"TRANSLATE_BIG",10);let yc=tu;var Lt,wi,Zn,ju,Si,Gs,Tu,Ai,_s,ha,Zl,Ni,Lr,di,Mh,Cg;const fs=class fs{constructor(e){S(this,di);S(this,Lt,null);S(this,wi,!1);S(this,Zn,null);S(this,ju,null);S(this,Si,null);S(this,Gs,null);S(this,Tu,!1);S(this,Ai,null);S(this,_s,null);S(this,ha,null);S(this,Zl,null);S(this,Ni,!1);g(this,_s,e),g(this,Ni,e._uiManager.useNewAltTextFlow),l(fs,Lr)||g(fs,Lr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){fs._l10n??(fs._l10n=e)}async render(){const e=g(this,Zn,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=g(this,ju,document.createElement("span"));e.append(t),l(this,Ni)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(fs,Lr).missing),t.setAttribute("data-l10n-id",l(fs,Lr)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=l(this,_s)._uiManager._signal;e.addEventListener("contextmenu",qn,{signal:n}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const i=a=>{a.preventDefault(),l(this,_s)._uiManager.editAltText(l(this,_s)),l(this,Ni)&&l(this,_s)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,di,Mh)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(g(this,Tu,!0),i(a))},{signal:n}),await N(this,di,Cg).call(this),e}finish(){l(this,Zn)&&(l(this,Zn).focus({focusVisible:l(this,Tu)}),g(this,Tu,!1))}isEmpty(){return l(this,Ni)?l(this,Lt)===null:!l(this,Lt)&&!l(this,wi)}hasData(){return l(this,Ni)?l(this,Lt)!==null||!!l(this,ha):this.isEmpty()}get guessedText(){return l(this,ha)}async setGuessedText(e){l(this,Lt)===null&&(g(this,ha,e),g(this,Zl,await fs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),N(this,di,Cg).call(this))}toggleAltTextBadge(e=!1){var t;if(!l(this,Ni)||l(this,Lt)){(t=l(this,Ai))==null||t.remove(),g(this,Ai,null);return}if(!l(this,Ai)){const n=g(this,Ai,document.createElement("div"));n.className="noAltTextBadge",l(this,_s).div.append(n)}l(this,Ai).classList.toggle("hidden",!e)}serialize(e){let t=l(this,Lt);return!e&&l(this,ha)===t&&(t=l(this,Zl)),{altText:t,decorative:l(this,wi),guessedText:l(this,ha),textWithDisclaimer:l(this,Zl)}}get data(){return{altText:l(this,Lt),decorative:l(this,wi)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:a=!1}){n&&(g(this,ha,n),g(this,Zl,i)),!(l(this,Lt)===e&&l(this,wi)===t)&&(a||(g(this,Lt,e),g(this,wi,t)),N(this,di,Cg).call(this))}toggle(e=!1){l(this,Zn)&&(!e&&l(this,Gs)&&(clearTimeout(l(this,Gs)),g(this,Gs,null)),l(this,Zn).disabled=!e)}shown(){l(this,_s)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,di,Mh)}})}destroy(){var e,t;(e=l(this,Zn))==null||e.remove(),g(this,Zn,null),g(this,ju,null),g(this,Si,null),(t=l(this,Ai))==null||t.remove(),g(this,Ai,null)}};Lt=new WeakMap,wi=new WeakMap,Zn=new WeakMap,ju=new WeakMap,Si=new WeakMap,Gs=new WeakMap,Tu=new WeakMap,Ai=new WeakMap,_s=new WeakMap,ha=new WeakMap,Zl=new WeakMap,Ni=new WeakMap,Lr=new WeakMap,di=new WeakSet,Mh=function(){return l(this,Lt)&&"added"||l(this,Lt)===null&&this.guessedText&&"review"||"missing"},Cg=async function(){var i,a,r;const e=l(this,Zn);if(!e)return;if(l(this,Ni)){if(e.classList.toggle("done",!!l(this,Lt)),e.setAttribute("data-l10n-id",l(fs,Lr)[l(this,di,Mh)]),(i=l(this,ju))==null||i.setAttribute("data-l10n-id",l(fs,Lr)[`${l(this,di,Mh)}-label`]),!l(this,Lt)){(a=l(this,Si))==null||a.remove();return}}else{if(!l(this,Lt)&&!l(this,wi)){e.classList.remove("done"),(r=l(this,Si))==null||r.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,Si);if(!t){g(this,Si,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,_s).id}`;const o=100,u=l(this,_s)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(l(this,Gs)),g(this,Gs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{g(this,Gs,setTimeout(()=>{g(this,Gs,null),l(this,Si).classList.add("show"),l(this,_s)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:u}),e.addEventListener("mouseleave",()=>{var d;l(this,Gs)&&(clearTimeout(l(this,Gs)),g(this,Gs,null)),(d=l(this,Si))==null||d.classList.remove("show")},{signal:u})}l(this,wi)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,Lt)),t.parentNode||e.append(t);const n=l(this,_s).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},S(fs,Lr,null),F(fs,"_l10n",null);let R0=fs;var $t,_n,Jl,Ve,Vf,eo,Jn,to,so,no,Gf,$y;class Wp{constructor(e){S(this,Gf);S(this,$t,null);S(this,_n,null);S(this,Jl,!1);S(this,Ve,null);S(this,Vf,null);S(this,eo,null);S(this,Jn,null);S(this,to,null);S(this,so,!1);S(this,no,null);g(this,Ve,e)}renderForToolbar(){const e=g(this,_n,document.createElement("button"));return e.className="comment",N(this,Gf,$y).call(this,e,!1)}renderForStandalone(){const e=g(this,$t,document.createElement("button"));e.className="annotationCommentButton";const t=l(this,Ve).commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(l(this,Ve)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=l(this,Ve).commentButtonColor;i&&(n.backgroundColor=i)}return N(this,Gf,$y).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=l(this,$t)??l(this,_n))==null||e.focus()},0)}onUpdatedColor(){if(!l(this,$t))return;const e=l(this,Ve).commentButtonColor;e&&(l(this,$t).style.backgroundColor=e),l(this,Ve)._uiManager.updatePopupColor(l(this,Ve))}get commentButtonWidth(){var e;return(((e=l(this,$t))==null?void 0:e.getBoundingClientRect().width)??0)/l(this,Ve).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(l(this,no))return l(this,no);if(!l(this,$t))return null;const{x:e,y:t,height:n}=l(this,$t).getBoundingClientRect(),{x:i,y:a,width:r,height:o}=l(this,Ve).parent.boundingClientRect;return[(e-i)/r,(t+n-a)/o]}set commentPopupPositionInLayer(e){g(this,no,e)}hasDefaultPopupPosition(){return l(this,no)===null}removeStandaloneCommentButton(){var e;(e=l(this,$t))==null||e.remove(),g(this,$t,null)}removeToolbarCommentButton(){var e;(e=l(this,_n))==null||e.remove(),g(this,_n,null)}setCommentButtonStates({selected:e,hasPopup:t}){l(this,$t)&&(l(this,$t).classList.toggle("selected",e),l(this,$t).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let n,i;if(t)[n,i]=t;else{[n,i]=l(this,Ve).commentButtonPosition;const{width:h,height:f,x:m,y:p}=l(this,Ve);n=m+n*h,i=p+i*f}const a=l(this,Ve).parent.boundingClientRect,{x:r,y:o,width:u,height:d}=a;l(this,Ve)._uiManager.editComment(l(this,Ve),r+n*u,o+i*d,{...e,parentDimensions:a})}finish(){l(this,_n)&&(l(this,_n).focus({focusVisible:l(this,Jl)}),g(this,Jl,!1))}isDeleted(){return l(this,so)||l(this,Jn)===""}isEmpty(){return l(this,Jn)===null}hasBeenEdited(){return this.isDeleted()||l(this,Jn)!==l(this,Vf)}serialize(){return this.data}get data(){return{text:l(this,Jn),richText:l(this,eo),date:l(this,to),deleted:this.isDeleted()}}set data(e){if(e!==l(this,Jn)&&g(this,eo,null),e===null){g(this,Jn,""),g(this,so,!0);return}g(this,Jn,e),g(this,to,new Date),g(this,so,!1)}setInitialText(e,t=null){g(this,Vf,e),this.data=e,g(this,to,null),g(this,eo,t)}shown(){}destroy(){var e,t;(e=l(this,_n))==null||e.remove(),g(this,_n,null),(t=l(this,$t))==null||t.remove(),g(this,$t,null),g(this,Jn,""),g(this,eo,null),g(this,to,null),g(this,Ve,null),g(this,Jl,!1),g(this,so,!1)}}$t=new WeakMap,_n=new WeakMap,Jl=new WeakMap,Ve=new WeakMap,Vf=new WeakMap,eo=new WeakMap,Jn=new WeakMap,to=new WeakMap,so=new WeakMap,no=new WeakMap,Gf=new WeakSet,$y=function(e,t){if(!l(this,Ve)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[l(this,Ve)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=l(this,Ve)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",qn,{signal:n}),t&&(e.addEventListener("focusin",a=>{l(this,Ve)._focusEventsAllowed=!1,ht(a)},{capture:!0,signal:n}),e.addEventListener("focusout",a=>{l(this,Ve)._focusEventsAllowed=!0,ht(a)},{capture:!0,signal:n})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const i=a=>{a.preventDefault(),e===l(this,_n)?this.edit():l(this,Ve).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(g(this,Jl,!0),i(a))},{signal:n}),e.addEventListener("pointerenter",()=>{l(this,Ve).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{l(this,Ve).toggleComment(!1,!1)},{signal:n}),e};var _u,io,$f,Yf,qf,Xf,Wf,fa,ao,ma,ro,pa,Rl,DC,kC,RC;const AS=class AS{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:r=null,signal:o}){S(this,Rl);S(this,_u);S(this,io,!1);S(this,$f,null);S(this,Yf);S(this,qf);S(this,Xf);S(this,Wf);S(this,fa,null);S(this,ao);S(this,ma,null);S(this,ro);S(this,pa,null);g(this,_u,e),g(this,$f,n),g(this,Yf,t),g(this,qf,i),g(this,Xf,a),g(this,Wf,r),g(this,ro,new AbortController),g(this,ao,AbortSignal.any([o,l(this,ro).signal])),e.addEventListener("touchstart",N(this,Rl,DC).bind(this),{passive:!1,signal:l(this,ao)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Yi.pixelRatio}destroy(){var e,t;(e=l(this,ro))==null||e.abort(),g(this,ro,null),(t=l(this,fa))==null||t.abort(),g(this,fa,null)}};_u=new WeakMap,io=new WeakMap,$f=new WeakMap,Yf=new WeakMap,qf=new WeakMap,Xf=new WeakMap,Wf=new WeakMap,fa=new WeakMap,ao=new WeakMap,ma=new WeakMap,ro=new WeakMap,pa=new WeakMap,Rl=new WeakSet,DC=function(e){var i,a,r;if((i=l(this,Yf))!=null&&i.call(this))return;if(e.touches.length===1){if(l(this,fa))return;const o=g(this,fa,new AbortController),u=AbortSignal.any([l(this,ao),o.signal]),d=l(this,_u),h={capture:!0,signal:u,passive:!1},f=m=>{var p;m.pointerType==="touch"&&((p=l(this,fa))==null||p.abort(),g(this,fa,null))};d.addEventListener("pointerdown",m=>{m.pointerType==="touch"&&(ht(m),f(m))},h),d.addEventListener("pointerup",f,h),d.addEventListener("pointercancel",f,h);return}if(!l(this,pa)){g(this,pa,new AbortController);const o=AbortSignal.any([l(this,ao),l(this,pa).signal]),u=l(this,_u),d={signal:o,capture:!1,passive:!1};u.addEventListener("touchmove",N(this,Rl,kC).bind(this),d);const h=N(this,Rl,RC).bind(this);u.addEventListener("touchend",h,d),u.addEventListener("touchcancel",h,d),d.capture=!0,u.addEventListener("pointerdown",ht,d),u.addEventListener("pointermove",ht,d),u.addEventListener("pointercancel",ht,d),u.addEventListener("pointerup",ht,d),(a=l(this,qf))==null||a.call(this)}if(ht(e),e.touches.length!==2||(r=l(this,$f))!=null&&r.call(this)){g(this,ma,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),g(this,ma,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},kC=function(e){var E;if(!l(this,ma)||e.touches.length!==2)return;ht(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:a}=t,{screenX:r,screenY:o}=n,u=l(this,ma),{touch0X:d,touch0Y:h,touch1X:f,touch1Y:m}=u,p=f-d,y=m-h,b=r-i,A=o-a,x=Math.hypot(b,A)||1,v=Math.hypot(p,y)||1;if(!l(this,io)&&Math.abs(v-x)<=AS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=i,u.touch0Y=a,u.touch1X=r,u.touch1Y=o,!l(this,io)){g(this,io,!0);return}const w=[(i+r)/2,(a+o)/2];(E=l(this,Xf))==null||E.call(this,w,v,x)},RC=function(e){var t;e.touches.length>=2||(l(this,pa)&&(l(this,pa).abort(),g(this,pa,null),(t=l(this,Wf))==null||t.call(this)),l(this,ma)&&(ht(e),g(this,ma,null),g(this,io,!1)))};let L0=AS;var lo,ei,Ze,Ie,ga,Mu,Or,Kf,Yt,oo,xa,Ei,Pr,Qf,co,$s,Zf,uo,ba,Ci,Du,ku,Mn,ho,Jf,W0,Z,Yy,em,qy,jg,LC,OC,Xy,Tg,Wy,PC,BC,IC,Ky,FC,Qy,zC,UC,HC,Zy,Dh;const ie=class ie{constructor(e){S(this,Z);S(this,lo,null);S(this,ei,null);S(this,Ze,null);S(this,Ie,null);S(this,ga,null);S(this,Mu,!1);S(this,Or,null);S(this,Kf,"");S(this,Yt,null);S(this,oo,null);S(this,xa,null);S(this,Ei,null);S(this,Pr,null);S(this,Qf,"");S(this,co,!1);S(this,$s,null);S(this,Zf,!1);S(this,uo,!1);S(this,ba,!1);S(this,Ci,null);S(this,Du,0);S(this,ku,0);S(this,Mn,null);S(this,ho,null);F(this,"isSelected",!1);F(this,"_isCopy",!1);F(this,"_editToolbar",null);F(this,"_initialOptions",Object.create(null));F(this,"_initialData",null);F(this,"_isVisible",!0);F(this,"_uiManager",null);F(this,"_focusEventsAllowed",!0);S(this,Jf,!1);S(this,W0,ie._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:r}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,r];const[o,u]=this.parentDimensions;this.x=e.x/o,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ie.prototype._resizeWithKeyboard,t=yc.TRANSLATE_SMALL,n=yc.TRANSLATE_BIG;return de(this,"_resizerKeyboardManager",new Tp([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],ie.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return de(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new dR({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ie._l10n??(ie._l10n=e),ie._l10nResizer||(ie._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ie._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);ie._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ue("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,Jf)}set _isDraggable(e){var t;g(this,Jf,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,W0)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(N(this,Z,Dh).call(this),(t=l(this,Ei))==null||t.remove(),g(this,Ei,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,co)?g(this,co,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[a,r]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/a,this.y=(t+i)/r,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){N(this,Z,Yy).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,$s)||g(this,$s,[this.x,this.y,this.width,this.height]),N(this,Z,Yy).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){l(this,$s)||g(this,$s,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:o}=this;const[u,d]=this.getBaseTranslation();r+=u,o+=d;const{style:h}=n;h.left=`${(100*r).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(r,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!l(this,$s)&&(l(this,$s)[0]!==this.x||l(this,$s)[1]!==this.y)}get _hasBeenResized(){return!!l(this,$s)&&(l(this,$s)[2]!==this.width||l(this,$s)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=ie,i=n/e,a=n/t;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:a,y:r,width:o,height:u}=this;if(o*=n,u*=i,a*=n,r*=i,this._mustFixPosition)switch(e){case 0:a=ys(a,0,n-o),r=ys(r,0,i-u);break;case 90:a=ys(a,0,n-u),r=ys(r,o,i);break;case 180:a=ys(a,o,n),r=ys(r,u,i);break;case 270:a=ys(a,u,n),r=ys(r,0,i-o);break}this.x=a/=n,this.y=r/=i;const[d,h]=this.getBaseTranslation();a+=d,r+=h,t.left=`${(100*a).toFixed(2)}%`,t.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return N(n=ie,em,qy).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return N(n=ie,em,qy).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=l(this,Ze))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,uo))return this._editToolbar;this._editToolbar=new Oy(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=l(this,Ze))==null||t.destroy()}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,Ze)||(R0.initialize(ie._l10n),g(this,Ze,new R0(this)),l(this,lo)&&(l(this,Ze).data=l(this,lo),g(this,lo,null))),l(this,Ze)}get altTextData(){var e;return(e=l(this,Ze))==null?void 0:e.data}set altTextData(e){l(this,Ze)&&(l(this,Ze).data=e)}get guessedAltText(){var e;return(e=l(this,Ze))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=l(this,Ze))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=l(this,Ze))==null?void 0:t.serialize(e)}hasAltText(){return!!l(this,Ze)&&!l(this,Ze).isEmpty()}hasAltTextData(){var e;return((e=l(this,Ze))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=l(this,Ie))==null||e.focusButton()}addCommentButton(){return l(this,Ie)||g(this,Ie,new Wp(this))}addStandaloneCommentButton(){if(l(this,ga)){this._uiManager.isEditingMode()&&l(this,ga).classList.remove("hidden");return}this.hasComment&&(g(this,ga,l(this,Ie).renderForStandalone()),this.div.append(l(this,ga)))}removeStandaloneCommentButton(){l(this,Ie).removeStandaloneCommentButton(),g(this,ga,null)}hideStandaloneCommentButton(){var e;(e=l(this,ga))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:i}}=l(this,Ie);return{text:t,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){l(this,Ie)||g(this,Ie,new Wp(this)),l(this,Ie).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(l(this,Ie)||g(this,Ie,new Wp(this)),l(this,Ie).setInitialText(e,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=l(this,Ie))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=l(this,Ie))==null?void 0:e.isDeleted()}get hasComment(){return!!l(this,Ie)&&!l(this,Ie).isEmpty()&&!l(this,Ie).isDeleted()}async editComment(e){l(this,Ie)||g(this,Ie,new Wp(this)),l(this,Ie).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){l(this,Ie).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[r]=this.pageTranslation,o=r+a+1,u=i-100,d=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,u,d,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){l(this,Ie).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var r;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=l(this,Mu)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),N(this,Z,Qy).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),yC(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,ho)||g(this,ho,new L0({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:N(this,Z,PC).bind(this),onPinching:N(this,Z,BC).bind(this),onPinchEnd:N(this,Z,IC).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(r=this._uiManager._editorUndoBar)==null||r.hide(),e}pointerdown(e){const{isMac:t}=is.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(g(this,co,!0),this._isDraggable){N(this,Z,FC).call(this,e);return}N(this,Z,Ky).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,Ci)&&clearTimeout(l(this,Ci)),g(this,Ci,setTimeout(()=>{var e;g(this,Ci,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[a,r]=this.pageDimensions,[o,u]=this.pageTranslation,d=e/i,h=t/i,f=this.x*a,m=this.y*r,p=this.width*a,y=this.height*r;switch(n){case 0:return[f+d+o,r-m-h-y+u,f+d+p+o,r-m-h+u];case 90:return[f+h+o,r-m+d+u,f+h+y+o,r-m+d+p+u];case 180:return[f-d-p+o,r-m+h+u,f-d+o,r-m+h+y+u];case 270:return[f-h-y+o,r-m-d-p+u,f-h+o,r-m-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,a,r]=e,o=a-n,u=r-i;switch(this.rotation){case 0:return[n,t-r,o,u];case 90:return[n,t-i,u,o];case 180:return[a,t-i,o,u];case 270:return[a,t-r,u,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ie._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=l(this,Ie))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:i,deleted:a,richText:r},uid:o,pageIndex:u,creationDate:d,modificationDate:h}=this;return{id:o,pageIndex:u,rect:this.getPDFRect(),richText:r,contentsObj:{str:e},creationDate:d,modificationDate:n||h,popupRef:!a,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),g(this,uo,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),g(this,uo,!1),!0):!1}isInEditMode(){return l(this,uo)}shouldGetKeyboardEvents(){return l(this,ba)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:r}=window;return t<r&&i>0&&e<a&&n>0}rebuild(){N(this,Z,Qy).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,g(i,lo,e.accessibilityData),i._isCopy=e.isCopy||!1;const[a,r]=i.pageDimensions,[o,u,d,h]=i.getRectInCurrentCoords(e.rect,r);return i.x=o/a,i.y=u/r,i.width=d/a,i.height=h/r,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=l(this,Pr))==null||e.abort(),g(this,Pr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Ci)&&(clearTimeout(l(this,Ci)),g(this,Ci,null)),N(this,Z,Dh).call(this),this.removeEditToolbar(),l(this,Mn)){for(const n of l(this,Mn).values())clearTimeout(n);g(this,Mn,null)}this.parent=null,(t=l(this,ho))==null||t.destroy(),g(this,ho,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,Z,LC).call(this),l(this,Yt).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,i,a,r]=this.getPDFRect();return[ie._round(n+(a-n)*e),ie._round(i+(r-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return l(this,Ie).commentPopupPositionInLayer}set commentPopupPosition(e){l(this,Ie).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return l(this,Ie).hasDefaultPopupPosition()}get commentButtonWidth(){return l(this,Ie).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){l(this,Ie).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),g(this,xa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,Yt).children;if(!l(this,ei)){g(this,ei,Array.from(t));const r=N(this,Z,zC).bind(this),o=N(this,Z,UC).bind(this),u=this._uiManager._signal;for(const d of l(this,ei)){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",r,{signal:u}),d.addEventListener("blur",o,{signal:u}),d.addEventListener("focus",N(this,Z,HC).bind(this,h),{signal:u}),d.setAttribute("data-l10n-id",ie._l10nResizer[h])}}const n=l(this,ei)[0];let i=0;for(const r of t){if(r===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(l(this,ei).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)l(this,Yt).append(l(this,Yt).firstChild);else if(a>i)for(let o=0;o<a-i;o++)l(this,Yt).firstChild.before(l(this,Yt).lastChild);let r=0;for(const o of t){const d=l(this,ei)[r++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",ie._l10nResizer[d])}}N(this,Z,Zy).call(this,0),g(this,ba,!0),l(this,Yt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,ba)&&N(this,Z,Wy).call(this,l(this,Qf),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){N(this,Z,Dh).call(this),this.div.focus()}select(){var e,t,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(t=this._editToolbar)==null||t.show(),(n=l(this,Ze))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,n,i,a;this.isSelected&&(this.isSelected=!1,(e=l(this,Yt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=l(this,Ze))==null||a.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,Zf)}set isEditing(e){g(this,Zf,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,Mn)||g(this,Mn,new Map);const{action:n}=e;let i=l(this,Mn).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),l(this,Mn).delete(n),l(this,Mn).size===0&&g(this,Mn,null)},ie._telemetryTimeout),l(this,Mn).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),g(this,Mu,!1)}disable(){this.div&&(this.div.tabIndex=-1),g(this,Mu,!0)}updateFakeAnnotationElement(e){if(!l(this,Ei)&&!this.deleted){g(this,Ei,e.addFakeAnnotation(this));return}if(this.deleted){l(this,Ei).remove(),g(this,Ei,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&l(this,Ei).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};lo=new WeakMap,ei=new WeakMap,Ze=new WeakMap,Ie=new WeakMap,ga=new WeakMap,Mu=new WeakMap,Or=new WeakMap,Kf=new WeakMap,Yt=new WeakMap,oo=new WeakMap,xa=new WeakMap,Ei=new WeakMap,Pr=new WeakMap,Qf=new WeakMap,co=new WeakMap,$s=new WeakMap,Zf=new WeakMap,uo=new WeakMap,ba=new WeakMap,Ci=new WeakMap,Du=new WeakMap,ku=new WeakMap,Mn=new WeakMap,ho=new WeakMap,Jf=new WeakMap,W0=new WeakMap,Z=new WeakSet,Yy=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},em=new WeakSet,qy=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},jg=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},LC=function(){if(l(this,Yt))return;g(this,Yt,document.createElement("div")),l(this,Yt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");l(this,Yt).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",N(this,Z,OC).bind(this,n),{signal:t}),i.addEventListener("contextmenu",qn,{signal:t}),i.tabIndex=-1}this.div.prepend(l(this,Yt))},OC=function(e,t){var h;t.preventDefault();const{isMac:n}=is.platform;if(t.button!==0||t.ctrlKey&&n)return;(h=l(this,Ze))==null||h.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,g(this,oo,[t.screenX,t.screenY]);const a=new AbortController,r=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",N(this,Z,Wy).bind(this,e),{passive:!0,capture:!0,signal:r}),window.addEventListener("touchmove",ht,{passive:!1,signal:r}),window.addEventListener("contextmenu",qn,{signal:r}),g(this,xa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const d=()=>{var f;a.abort(),this.parent.togglePointerEvents(!0),(f=l(this,Ze))==null||f.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=u,N(this,Z,Tg).call(this)};window.addEventListener("pointerup",d,{signal:r}),window.addEventListener("blur",d,{signal:r})},Xy=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Tg=function(){if(!l(this,xa))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=l(this,xa);g(this,xa,null);const a=this.x,r=this.y,o=this.width,u=this.height;a===e&&r===t&&o===n&&u===i||this.addCommands({cmd:N(this,Z,Xy).bind(this,a,r,o,u),undo:N(this,Z,Xy).bind(this,e,t,n,i),mustExec:!0})},Wy=function(e,t){const[n,i]=this.parentDimensions,a=this.x,r=this.y,o=this.width,u=this.height,d=ie.MIN_SIZE/n,h=ie.MIN_SIZE/i,f=N(this,Z,jg).call(this,this.rotation),m=(O,I)=>[f[0]*O+f[2]*I,f[1]*O+f[3]*I],p=N(this,Z,jg).call(this,360-this.rotation),y=(O,I)=>[p[0]*O+p[2]*I,p[1]*O+p[3]*I];let b,A,x=!1,v=!1;switch(e){case"topLeft":x=!0,b=(O,I)=>[0,0],A=(O,I)=>[O,I];break;case"topMiddle":b=(O,I)=>[O/2,0],A=(O,I)=>[O/2,I];break;case"topRight":x=!0,b=(O,I)=>[O,0],A=(O,I)=>[0,I];break;case"middleRight":v=!0,b=(O,I)=>[O,I/2],A=(O,I)=>[0,I/2];break;case"bottomRight":x=!0,b=(O,I)=>[O,I],A=(O,I)=>[0,0];break;case"bottomMiddle":b=(O,I)=>[O/2,I],A=(O,I)=>[O/2,0];break;case"bottomLeft":x=!0,b=(O,I)=>[0,I],A=(O,I)=>[O,0];break;case"middleLeft":v=!0,b=(O,I)=>[0,I/2],A=(O,I)=>[O,I/2];break}const w=b(o,u),E=A(o,u);let j=m(...E);const T=ie._round(a+j[0]),C=ie._round(r+j[1]);let _=1,D=1,k,R;if(t.fromKeyboard)({deltaX:k,deltaY:R}=t);else{const{screenX:O,screenY:I}=t,[U,P]=l(this,oo);[k,R]=this.screenToPageTranslation(O-U,I-P),l(this,oo)[0]=O,l(this,oo)[1]=I}if([k,R]=y(k/n,R/i),x){const O=Math.hypot(o,u);_=D=Math.max(Math.min(Math.hypot(E[0]-w[0]-k,E[1]-w[1]-R)/O,1/o,1/u),d/o,h/u)}else v?_=ys(Math.abs(E[0]-w[0]-k),d,1)/o:D=ys(Math.abs(E[1]-w[1]-R),h,1)/u;const L=ie._round(o*_),q=ie._round(u*D);j=m(...A(L,q));const X=T-j[0],ee=C-j[1];l(this,$s)||g(this,$s,[this.x,this.y,this.width,this.height]),this.width=L,this.height=q,this.x=X,this.y=ee,this.setDims(),this.fixAndSetPosition(),this._onResizing()},PC=function(){var e;g(this,xa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=l(this,Ze))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},BC=function(e,t,n){let a=.7*(n/t)+1-.7;if(a===1)return;const r=N(this,Z,jg).call(this,this.rotation),o=(T,C)=>[r[0]*T+r[2]*C,r[1]*T+r[3]*C],[u,d]=this.parentDimensions,h=this.x,f=this.y,m=this.width,p=this.height,y=ie.MIN_SIZE/u,b=ie.MIN_SIZE/d;a=Math.max(Math.min(a,1/m,1/p),y/m,b/p);const A=ie._round(m*a),x=ie._round(p*a);if(A===m&&x===p)return;l(this,$s)||g(this,$s,[h,f,m,p]);const v=o(m/2,p/2),w=ie._round(h+v[0]),E=ie._round(f+v[1]),j=o(A/2,x/2);this.x=w-j[0],this.y=E-j[1],this.width=A,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()},IC=function(){var e;(e=l(this,Ze))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),N(this,Z,Tg).call(this)},Ky=function(e){const{isMac:t}=is.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},FC=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),r={capture:!0,passive:!1,signal:a},o=d=>{i.abort(),g(this,Or,null),g(this,co,!1),this._uiManager.endDragSession()||N(this,Z,Ky).call(this,d),n&&this._onStopDragging()};t&&(g(this,Du,e.clientX),g(this,ku,e.clientY),g(this,Or,e.pointerId),g(this,Kf,e.pointerType),window.addEventListener("pointermove",d=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:f,pointerId:m}=d;if(m!==l(this,Or)){ht(d);return}const[p,y]=this.screenToPageTranslation(h-l(this,Du),f-l(this,ku));g(this,Du,h),g(this,ku,f),this._uiManager.dragSelectedEditors(p,y)},r),window.addEventListener("touchmove",ht,r),window.addEventListener("pointerdown",d=>{d.pointerType===l(this,Kf)&&(l(this,ho)||d.isPrimary)&&o(d),ht(d)},r));const u=d=>{if(!l(this,Or)||l(this,Or)===d.pointerId){o(d);return}ht(d)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},Qy=function(){if(l(this,Pr)||!this.div)return;g(this,Pr,new AbortController);const e=this._uiManager.combinedSignal(l(this,Pr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},zC=function(e){ie._resizerKeyboardManager.exec(this,e)},UC=function(e){var t;l(this,ba)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,Yt)&&N(this,Z,Dh).call(this)},HC=function(e){g(this,Qf,l(this,ba)?e:"")},Zy=function(e){if(l(this,ei))for(const t of l(this,ei))t.tabIndex=e},Dh=function(){g(this,ba,!1),N(this,Z,Zy).call(this,-1),N(this,Z,Tg).call(this)},S(ie,em),F(ie,"_l10n",null),F(ie,"_l10nResizer",null),F(ie,"_borderLineWidth",-1),F(ie,"_colorManager",new Iy),F(ie,"_zIndex",1),F(ie,"_telemetryTimeout",1e3);let Ge=ie;class dR extends Ge{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const x1=3285377520,wn=4294901760,pi=65535;class VC{constructor(e){this.h1=e?e&4294967295:x1,this.h2=e?e&4294967295:x1}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let b=0,A=e.length;b<A;b++){const x=e.charCodeAt(b);x<=255?t[n++]=x:(t[n++]=x>>>8,t[n++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,a=n-i*4,r=new Uint32Array(t.buffer,0,i);let o=0,u=0,d=this.h1,h=this.h2;const f=3432918353,m=461845907,p=f&pi,y=m&pi;for(let b=0;b<i;b++)b&1?(o=r[b],o=o*f&wn|o*p&pi,o=o<<15|o>>>17,o=o*m&wn|o*y&pi,d^=o,d=d<<13|d>>>19,d=d*5+3864292196):(u=r[b],u=u*f&wn|u*p&pi,u=u<<15|u>>>17,u=u*m&wn|u*y&pi,h^=u,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,a){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*f&wn|o*p&pi,o=o<<15|o>>>17,o=o*m&wn|o*y&pi,i&1?d^=o:h^=o}this.h1=d,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&wn|e*36045&pi,t=t*4283543511&wn|((t<<16|e>>>16)*2950163797&wn)>>>16,e^=t>>>1,e=e*444984403&wn|e*60499&pi,t=t*3301882366&wn|((t<<16|e>>>16)*3120437893&wn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Jy=Object.freeze({map:null,hash:"",transfer:void 0});var fo,mo,ya,qt,K0,GC;class pS{constructor(){S(this,K0);S(this,fo,!1);S(this,mo,null);S(this,ya,null);S(this,qt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=l(this,qt).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return l(this,qt).get(e)}remove(e){const t=l(this,qt).get(e);if(t!==void 0&&(t instanceof Ge&&l(this,ya).delete(t.annotationElementId),l(this,qt).delete(e),l(this,qt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of l(this,qt).values())if(n instanceof Ge)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=l(this,qt).get(e);let i=!1;if(n!==void 0)for(const[a,r]of Object.entries(t))n[a]!==r&&(i=!0,n[a]=r);else i=!0,l(this,qt).set(e,t);i&&N(this,K0,GC).call(this),t instanceof Ge&&((l(this,ya)||g(this,ya,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return l(this,qt).has(e)}get size(){return l(this,qt).size}resetModified(){l(this,fo)&&(g(this,fo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new $C(this)}get serializable(){if(l(this,qt).size===0)return Jy;const e=new Map,t=new VC,n=[],i=Object.create(null);let a=!1;for(const[r,o]of l(this,qt)){const u=o instanceof Ge?o.serialize(!1,i):o;u&&(e.set(r,u),t.update(`${r}:${JSON.stringify(u)}`),a||(a=!!u.bitmap))}if(a)for(const r of e.values())r.bitmap&&n.push(r.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Jy}get editorStats(){let e=null;const t=new Map;let n=0,i=0;for(const a of l(this,qt).values()){if(!(a instanceof Ge)){a.popup&&(a.popup.deleted?i+=1:n+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(n+=1);const r=a.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const u=e[o]||(e[o]=new Map);for(const[d,h]of Object.entries(r)){if(d==="type")continue;let f=u.get(d);f||(f=new Map,u.set(d,f));const m=f.get(h)??0;f.set(h,m+1)}}if((i>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:n}),!e)return null;for(const[a,r]of t)e[a]=r.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){g(this,mo,null)}updateEditor(e,t){var i;const n=(i=l(this,ya))==null?void 0:i.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=l(this,ya))==null?void 0:t.get(e))||null}get modifiedIds(){if(l(this,mo))return l(this,mo);const e=[];if(l(this,ya))for(const t of l(this,ya).values())t.serialize()&&e.push(t.annotationElementId);return g(this,mo,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return l(this,qt).entries()}}fo=new WeakMap,mo=new WeakMap,ya=new WeakMap,qt=new WeakMap,K0=new WeakSet,GC=function(){l(this,fo)||(g(this,fo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var tm;class $C extends pS{constructor(t){super();S(this,tm);const{map:n,hash:i,transfer:a}=t.serializable,r=structuredClone(n,a?{transfer:a}:null);g(this,tm,{map:r,hash:i,transfer:a})}get print(){Ue("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,tm)}get modifiedIds(){return de(this,"modifiedIds",{ids:new Set,hash:""})}}tm=new WeakMap;var Ru;class hR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,Ru,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,Ru).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||l(this,Ru).has(e.loadedName))){if(be(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:r}=e,o=new FontFace(i,a,r);this.addNativeFontFace(o);try{await o.load(),l(this,Ru).add(i),n==null||n(e)}catch{ne(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ue("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw ne(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return de(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return de(this,"isSyncFontLoadingSupported",bs||is.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(be(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return de(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(E,j){return E.charCodeAt(j)<<24|E.charCodeAt(j+1)<<16|E.charCodeAt(j+2)<<8|E.charCodeAt(j+3)&255}function i(E,j,T,C){const _=E.substring(0,j),D=E.substring(j+T);return _+C+D}let a,r;const o=this._document.createElement("canvas");o.width=1,o.height=1;const u=o.getContext("2d");let d=0;function h(E,j){if(++d>30){ne("Load test font never loaded."),j();return}if(u.font="30px "+E,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){j();return}setTimeout(h.bind(null,E,j))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,f.length,f);const y=16,b=1482184792;let A=n(m,y);for(a=0,r=f.length-3;a<r;a+=4)A=A-b+n(f,a)|0;a<f.length&&(A=A-b+n(f+"XXX",a)|0),m=i(m,y,4,Yk(A));const x=`url(data:font/opentype;base64,${btoa(m)});`,v=`@font-face {font-family:"${f}";src:${x}}`;this.insertRule(v);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const E of[e.loadedName,f]){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=E,w.append(j)}this._document.body.append(w),h(f,()=>{w.remove(),t.complete()})}}Ru=new WeakMap;var De;class fR{constructor(e,t=null,n,i){S(this,De);this.compiledGlyphs=Object.create(null),g(this,De,e),this._inspectFont=t,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${dC(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(r){ne(`getPathGenerator - ignoring character: "${r}".`)}const a=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=a}get black(){return l(this,De).black}get bold(){return l(this,De).bold}get disableFontFace(){return l(this,De).disableFontFace??!1}get fontExtraProperties(){return l(this,De).fontExtraProperties??!1}get isInvalidPDFjsFont(){return l(this,De).isInvalidPDFjsFont}get isType3Font(){return l(this,De).isType3Font}get italic(){return l(this,De).italic}get missingFile(){return l(this,De).missingFile}get remeasure(){return l(this,De).remeasure}get vertical(){return l(this,De).vertical}get ascent(){return l(this,De).ascent}get defaultWidth(){return l(this,De).defaultWidth}get descent(){return l(this,De).descent}get bbox(){return l(this,De).bbox}get fontMatrix(){return l(this,De).fontMatrix}get fallbackName(){return l(this,De).fallbackName}get loadedName(){return l(this,De).loadedName}get mimetype(){return l(this,De).mimetype}get name(){return l(this,De).name}get data(){return l(this,De).data}clearData(){l(this,De).clearData()}get cssFontInfo(){return l(this,De).cssFontInfo}get systemFontInfo(){return l(this,De).systemFontInfo}get defaultVMetrics(){return l(this,De).defaultVMetrics}}De=new WeakMap;function mR(s){if(s instanceof URL)return s.href;if(typeof s=="string"){if(bs)return s;const e=URL.parse(s,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function pR(s){if(bs&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return Np(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Kp(s){if(typeof s!="string")return null;if(s.endsWith("/"))return s;throw new Error(`Invalid factory url: "${s}" must include trailing slash.`)}const ev=s=>typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0,gR=s=>typeof s=="object"&&typeof(s==null?void 0:s.name)=="string",xR=Qk.bind(null,ev,gR);var va,Q0;class bR{constructor(){S(this,va,new Map);S(this,Q0,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};l(this,Q0).then(()=>{for(const[i]of l(this,va))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){ne("LoopbackPort - cannot use an `aborted` signal.");return}const r=()=>this.removeEventListener(e,t);i=()=>a.removeEventListener("abort",r),a.addEventListener("abort",r)}l(this,va).set(t,i)}removeEventListener(e,t){const n=l(this,va).get(t);n==null||n(),l(this,va).delete(t)}terminate(){for(const[,e]of l(this,va))e==null||e();l(this,va).clear()}}va=new WeakMap,Q0=new WeakMap;const Qp={DATA:1,ERROR:2},bt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function b1(){}function js(s){if(s instanceof Dl||s instanceof Dy||s instanceof u1||s instanceof D0||s instanceof Eb)return s;switch(s instanceof Error||typeof s=="object"&&s!==null||Ue('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new Dl(s.message);case"InvalidPDFException":return new Dy(s.message);case"PasswordException":return new u1(s.message,s.code);case"ResponseException":return new D0(s.message,s.status,s.missing);case"UnknownErrorException":return new Eb(s.message,s.details)}return new Eb(s.message,s.toString())}var Lu,$n,YC,qC,XC,_g;class kh{constructor(e,t,n){S(this,$n);S(this,Lu,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",N(this,$n,YC).bind(this),{signal:l(this,Lu).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(r){a.reject(r)}return a.promise}sendWithStream(e,t,n,i){const a=this.streamId++,r=this.sourceName,o=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[a]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:r,targetName:o,action:e,streamId:a,data:t,desiredSize:d.desiredSize},i),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[a].pullCall=h,u.postMessage({sourceName:r,targetName:o,stream:bt.PULL,streamId:a,desiredSize:d.desiredSize}),h.promise},cancel:d=>{be(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[a].cancelCall=h,this.streamControllers[a].isClosed=!0,u.postMessage({sourceName:r,targetName:o,stream:bt.CANCEL,streamId:a,reason:js(d)}),h.promise}},n)}destroy(){var e;(e=l(this,Lu))==null||e.abort(),g(this,Lu,null)}}Lu=new WeakMap,$n=new WeakSet,YC=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){N(this,$n,XC).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Qp.DATA)i.resolve(e.data);else if(e.callback===Qp.ERROR)i.reject(js(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(t,e.data).then(function(r){a.postMessage({sourceName:n,targetName:i,callback:Qp.DATA,callbackId:e.callbackId,data:r})},function(r){a.postMessage({sourceName:n,targetName:i,callback:Qp.ERROR,callbackId:e.callbackId,reason:js(r)})});return}if(e.streamId){N(this,$n,qC).call(this,e);return}t(e.data)},qC=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,r=this,o=this.actionHandler[e.action],u={enqueue(d,h=1,f){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=h,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:bt.ENQUEUE,streamId:t,chunk:d},f)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:bt.CLOSE,streamId:t}),delete r.streamSinks[t])},error(d){be(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:bt.ERROR,streamId:t,reason:js(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,Promise.try(o,e.data,u).then(function(){a.postMessage({sourceName:n,targetName:i,stream:bt.START_COMPLETE,streamId:t,success:!0})},function(d){a.postMessage({sourceName:n,targetName:i,stream:bt.START_COMPLETE,streamId:t,reason:js(d)})})},XC=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,r=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case bt.START_COMPLETE:e.success?r.startCall.resolve():r.startCall.reject(js(e.reason));break;case bt.PULL_COMPLETE:e.success?r.pullCall.resolve():r.pullCall.reject(js(e.reason));break;case bt.PULL:if(!o){a.postMessage({sourceName:n,targetName:i,stream:bt.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||b1).then(function(){a.postMessage({sourceName:n,targetName:i,stream:bt.PULL_COMPLETE,streamId:t,success:!0})},function(d){a.postMessage({sourceName:n,targetName:i,stream:bt.PULL_COMPLETE,streamId:t,reason:js(d)})});break;case bt.ENQUEUE:if(be(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(e.chunk);break;case bt.CLOSE:if(be(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),N(this,$n,_g).call(this,r,t);break;case bt.ERROR:be(r,"error should have stream controller"),r.controller.error(js(e.reason)),N(this,$n,_g).call(this,r,t);break;case bt.CANCEL_COMPLETE:e.success?r.cancelCall.resolve():r.cancelCall.reject(js(e.reason)),N(this,$n,_g).call(this,r,t);break;case bt.CANCEL:if(!o)break;const u=js(e.reason);Promise.try(o.onCancel||b1,u).then(function(){a.postMessage({sourceName:n,targetName:i,stream:bt.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){a.postMessage({sourceName:n,targetName:i,stream:bt.CANCEL_COMPLETE,streamId:t,reason:js(d)})}),o.sinkCapability.reject(u),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},_g=async function(e,t){var n,i,a;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[t]};var sm;class WC{constructor({enableHWA:e=!1}){S(this,sm,!1);g(this,sm,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!l(this,sm)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ue("Abstract method `_createCanvas` called.")}}sm=new WeakMap;class yR extends WC{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class KC{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ue("Abstract method `_fetch` called.")}}class y1 extends KC{async _fetch(e){const t=await Ep(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Np(t)}}class QC{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,a){return"none"}destroy(e=!1){}}var po,Ou,wa,Sa,os,go,xo,H,as,Rh,Pc,Mg,Bc,ZC,tv,Ic,Lh,Oh,sv,Ph;class vR extends QC{constructor({docId:t,ownerDocument:n=globalThis.document}){super();S(this,H);S(this,po);S(this,Ou);S(this,wa);S(this,Sa);S(this,os);S(this,go);S(this,xo,0);g(this,Sa,t),g(this,os,n)}addFilter(t){if(!t)return"none";let n=l(this,H,as).get(t);if(n)return n;const[i,a,r]=N(this,H,Mg).call(this,t),o=t.length===1?i:`${i}${a}${r}`;if(n=l(this,H,as).get(o),n)return l(this,H,as).set(t,n),n;const u=`g_${l(this,Sa)}_transfer_map_${Ct(this,xo)._++}`,d=N(this,H,Bc).call(this,u);l(this,H,as).set(t,d),l(this,H,as).set(o,d);const h=N(this,H,Ic).call(this,u);return N(this,H,Oh).call(this,i,a,r,h),d}addHCMFilter(t,n){var y;const i=`${t}-${n}`,a="base";let r=l(this,H,Rh).get(a);if((r==null?void 0:r.key)===i||(r?((y=r.filter)==null||y.remove(),r.key=i,r.url="none",r.filter=null):(r={key:i,url:"none",filter:null},l(this,H,Rh).set(a,r)),!t||!n))return r.url;const o=N(this,H,Ph).call(this,t);t=G.makeHexColor(...o);const u=N(this,H,Ph).call(this,n);if(n=G.makeHexColor(...u),l(this,H,Pc).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return r.url;const d=new Array(256);for(let b=0;b<=255;b++){const A=b/255;d[b]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const h=d.join(","),f=`g_${l(this,Sa)}_hcm_filter`,m=r.filter=N(this,H,Ic).call(this,f);N(this,H,Oh).call(this,h,h,h,m),N(this,H,tv).call(this,m);const p=(b,A)=>{const x=o[b]/255,v=u[b]/255,w=new Array(A+1);for(let E=0;E<=A;E++)w[E]=x+E/A*(v-x);return w.join(",")};return N(this,H,Oh).call(this,p(0,5),p(1,5),p(2,5),m),r.url=N(this,H,Bc).call(this,f),r.url}addAlphaFilter(t){let n=l(this,H,as).get(t);if(n)return n;const[i]=N(this,H,Mg).call(this,[t]),a=`alpha_${i}`;if(n=l(this,H,as).get(a),n)return l(this,H,as).set(t,n),n;const r=`g_${l(this,Sa)}_alpha_map_${Ct(this,xo)._++}`,o=N(this,H,Bc).call(this,r);l(this,H,as).set(t,o),l(this,H,as).set(a,o);const u=N(this,H,Ic).call(this,r);return N(this,H,sv).call(this,i,u),o}addLuminosityFilter(t){let n=l(this,H,as).get(t||"luminosity");if(n)return n;let i,a;if(t?([i]=N(this,H,Mg).call(this,[t]),a=`luminosity_${i}`):a="luminosity",n=l(this,H,as).get(a),n)return l(this,H,as).set(t,n),n;const r=`g_${l(this,Sa)}_luminosity_map_${Ct(this,xo)._++}`,o=N(this,H,Bc).call(this,r);l(this,H,as).set(t,o),l(this,H,as).set(a,o);const u=N(this,H,Ic).call(this,r);return N(this,H,ZC).call(this,u),t&&N(this,H,sv).call(this,i,u),o}addHighlightHCMFilter(t,n,i,a,r){var v;const o=`${n}-${i}-${a}-${r}`;let u=l(this,H,Rh).get(t);if((u==null?void 0:u.key)===o||(u?((v=u.filter)==null||v.remove(),u.key=o,u.url="none",u.filter=null):(u={key:o,url:"none",filter:null},l(this,H,Rh).set(t,u)),!n||!i))return u.url;const[d,h]=[n,i].map(N(this,H,Ph).bind(this));let f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,y]=[a,r].map(N(this,H,Ph).bind(this));m<f&&([f,m,p,y]=[m,f,y,p]),l(this,H,Pc).style.color="";const b=(w,E,j)=>{const T=new Array(256),C=(m-f)/j,_=w/255,D=(E-w)/(255*j);let k=0;for(let R=0;R<=j;R++){const L=Math.round(f+R*C),q=_+R*D;for(let X=k;X<=L;X++)T[X]=q;k=L+1}for(let R=k;R<256;R++)T[R]=T[k-1];return T.join(",")},A=`g_${l(this,Sa)}_hcm_${t}_filter`,x=u.filter=N(this,H,Ic).call(this,A);return N(this,H,tv).call(this,x),N(this,H,Oh).call(this,b(p[0],y[0],5),b(p[1],y[1],5),b(p[2],y[2],5),x),u.url=N(this,H,Bc).call(this,A),u.url}destroy(t=!1){var n,i,a,r;t&&((n=l(this,go))!=null&&n.size)||((i=l(this,wa))==null||i.parentNode.parentNode.remove(),g(this,wa,null),(a=l(this,Ou))==null||a.clear(),g(this,Ou,null),(r=l(this,go))==null||r.clear(),g(this,go,null),g(this,xo,0))}}po=new WeakMap,Ou=new WeakMap,wa=new WeakMap,Sa=new WeakMap,os=new WeakMap,go=new WeakMap,xo=new WeakMap,H=new WeakSet,as=function(){return l(this,Ou)||g(this,Ou,new Map)},Rh=function(){return l(this,go)||g(this,go,new Map)},Pc=function(){if(!l(this,wa)){const t=l(this,os).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=l(this,os).createElementNS(na,"svg");i.setAttribute("width",0),i.setAttribute("height",0),g(this,wa,l(this,os).createElementNS(na,"defs")),t.append(i),i.append(l(this,wa)),l(this,os).body.append(t)}return l(this,wa)},Mg=function(t){if(t.length===1){const d=t[0],h=new Array(256);for(let m=0;m<256;m++)h[m]=d[m]/255;const f=h.join(",");return[f,f,f]}const[n,i,a]=t,r=new Array(256),o=new Array(256),u=new Array(256);for(let d=0;d<256;d++)r[d]=n[d]/255,o[d]=i[d]/255,u[d]=a[d]/255;return[r.join(","),o.join(","),u.join(",")]},Bc=function(t){if(l(this,po)===void 0){g(this,po,"");const n=l(this,os).URL;n!==l(this,os).baseURI&&(Rx(n)?ne('#createUrl: ignore "data:"-URL for performance reasons.'):g(this,po,oC(n,"")))}return`url(${l(this,po)}#${t})`},ZC=function(t){const n=l(this,os).createElementNS(na,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},tv=function(t){const n=l(this,os).createElementNS(na,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Ic=function(t){const n=l(this,os).createElementNS(na,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),l(this,H,Pc).append(n),n},Lh=function(t,n,i){const a=l(this,os).createElementNS(na,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)},Oh=function(t,n,i,a){const r=l(this,os).createElementNS(na,"feComponentTransfer");a.append(r),N(this,H,Lh).call(this,r,"feFuncR",t),N(this,H,Lh).call(this,r,"feFuncG",n),N(this,H,Lh).call(this,r,"feFuncB",i)},sv=function(t,n){const i=l(this,os).createElementNS(na,"feComponentTransfer");n.append(i),N(this,H,Lh).call(this,i,"feFuncA",t)},Ph=function(t){return l(this,H,Pc).style.color=t,jp(getComputedStyle(l(this,H,Pc)).getPropertyValue("color"))};class JC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ue("Abstract method `_fetch` called.")}}class v1 extends JC{async _fetch(e){const t=await Ep(e,"arraybuffer");return new Uint8Array(t)}}class ej{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ue("Abstract method `_fetch` called.")}}class w1 extends ej{async _fetch(e){const t=await Ep(e,"arraybuffer");return new Uint8Array(t)}}bs&&ne("Please use the `legacy` build in Node.js environments.");async function gS(s){const t=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(t)}class wR extends QC{}class SR extends WC{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class AR extends KC{async _fetch(e){return gS(e)}}class NR extends JC{async _fetch(e){return gS(e)}}class ER extends ej{async _fetch(e){return gS(e)}}const Mc="__forcedDependency",{floor:S1,ceil:A1}=Math;function Zp(s,e,t,n,i,a){s[e*4+0]=Math.min(s[e*4+0],t),s[e*4+1]=Math.min(s[e*4+1],n),s[e*4+2]=Math.max(s[e*4+2],i),s[e*4+3]=Math.max(s[e*4+3],a)}const nv=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Pu,Br;class CR{constructor(e,t){S(this,Pu);S(this,Br);g(this,Pu,e),g(this,Br,t)}get length(){return l(this,Pu).length}isEmpty(e){return l(this,Pu)[e]===nv}minX(e){return l(this,Br)[e*4+0]/256}minY(e){return l(this,Br)[e*4+1]/256}maxX(e){return(l(this,Br)[e*4+2]+1)/256}maxY(e){return(l(this,Br)[e*4+3]+1)/256}}Pu=new WeakMap,Br=new WeakMap;const Jp=(s,e)=>{if(!s)return;let t=s.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},s.set(e,t)),t};var Ms,Ds,bo,ti,yo,Aa,Te,ke,Na,ks,nm,Bu,vo,wo,Ea,cs,ji,im,iv;class jR{constructor(e,t,n=!1){S(this,im);S(this,Ms,{__proto__:null});S(this,Ds,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Mc]:[]});S(this,bo,new Map);S(this,ti,[]);S(this,yo,[]);S(this,Aa,[[1,0,0,1,0,0]]);S(this,Te,[-1/0,-1/0,1/0,1/0]);S(this,ke,new Float64Array([1/0,1/0,-1/0,-1/0]));S(this,Na,-1);S(this,ks,new Set);S(this,nm,new Map);S(this,Bu,new Map);S(this,vo);S(this,wo);S(this,Ea);S(this,cs);S(this,ji);g(this,vo,e.width),g(this,wo,e.height),N(this,im,iv).call(this,t),n&&g(this,ji,new Map)}growOperationsCount(e){e>=l(this,cs).length&&N(this,im,iv).call(this,e,l(this,cs))}save(e){return g(this,Ms,{__proto__:l(this,Ms)}),g(this,Ds,{__proto__:l(this,Ds),transform:{__proto__:l(this,Ds).transform},moveText:{__proto__:l(this,Ds).moveText},sameLineText:{__proto__:l(this,Ds).sameLineText},[Mc]:{__proto__:l(this,Ds)[Mc]}}),g(this,Te,{__proto__:l(this,Te)}),l(this,ti).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(l(this,Ms));if(t===null)return this;g(this,Ms,t),g(this,Ds,Object.getPrototypeOf(l(this,Ds))),g(this,Te,Object.getPrototypeOf(l(this,Te)));const n=l(this,ti).pop();return n!==void 0&&((i=Jp(l(this,ji),e))==null||i.dependencies.add(n),l(this,cs)[e]=l(this,cs)[n]),this}recordOpenMarker(e){return l(this,ti).push(e),this}getOpenMarker(){return l(this,ti).length===0?null:l(this,ti).at(-1)}recordCloseMarker(e){var n;const t=l(this,ti).pop();return t!==void 0&&((n=Jp(l(this,ji),e))==null||n.dependencies.add(t),l(this,cs)[e]=l(this,cs)[t]),this}beginMarkedContent(e){return l(this,yo).push(e),this}endMarkedContent(e){var n;const t=l(this,yo).pop();return t!==void 0&&((n=Jp(l(this,ji),e))==null||n.dependencies.add(t),l(this,cs)[e]=l(this,cs)[t]),this}pushBaseTransform(e){return l(this,Aa).push(G.multiplyByDOMMatrix(l(this,Aa).at(-1),e.getTransform())),this}popBaseTransform(){return l(this,Aa).length>1&&l(this,Aa).pop(),this}recordSimpleData(e,t){return l(this,Ms)[e]=t,this}recordIncrementalData(e,t){return l(this,Ds)[e].push(t),this}resetIncrementalData(e,t){return l(this,Ds)[e].length=0,this}recordNamedData(e,t){return l(this,bo).set(e,t),this}recordSimpleDataFromNamed(e,t,n){l(this,Ms)[e]=l(this,bo).get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Mc,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in l(this,Ms)&&this.recordFutureForcedDependency(t,l(this,Ms)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of l(this,ks))this.recordFutureForcedDependency(Mc,e);return this}resetBBox(e){return l(this,Na)!==e&&(g(this,Na,e),l(this,ke)[0]=1/0,l(this,ke)[1]=1/0,l(this,ke)[2]=-1/0,l(this,ke)[3]=-1/0),this}recordClipBox(e,t,n,i,a,r){const o=G.multiplyByDOMMatrix(l(this,Aa).at(-1),t.getTransform()),u=[1/0,1/0,-1/0,-1/0];G.axialAlignedBoundingBox([n,a,i,r],o,u);const d=G.intersect(l(this,Te),u);return d?(l(this,Te)[0]=d[0],l(this,Te)[1]=d[1],l(this,Te)[2]=d[2],l(this,Te)[3]=d[3]):(l(this,Te)[0]=l(this,Te)[1]=1/0,l(this,Te)[2]=l(this,Te)[3]=-1/0),this}recordBBox(e,t,n,i,a,r){const o=l(this,Te);if(o[0]===1/0)return this;const u=G.multiplyByDOMMatrix(l(this,Aa).at(-1),t.getTransform());if(o[0]===-1/0)return G.axialAlignedBoundingBox([n,a,i,r],u,l(this,ke)),this;const d=[1/0,1/0,-1/0,-1/0];return G.axialAlignedBoundingBox([n,a,i,r],u,d),l(this,ke)[0]=Math.min(l(this,ke)[0],Math.max(d[0],o[0])),l(this,ke)[1]=Math.min(l(this,ke)[1],Math.max(d[1],o[1])),l(this,ke)[2]=Math.max(l(this,ke)[2],Math.min(d[2],o[2])),l(this,ke)[3]=Math.max(l(this,ke)[3],Math.min(d[3],o[3])),this}recordCharacterBBox(e,t,n,i=1,a=0,r=0,o){const u=n.bbox;let d,h;if(u&&(d=u[2]!==u[0]&&u[3]!==u[1]&&l(this,Bu).get(n),d!==!1&&(h=[0,0,0,0],G.axialAlignedBoundingBox(u,n.fontMatrix,h),(i!==1||a!==0||r!==0)&&G.scaleMinMax([i,0,0,-i,a,r],h),d)))return this.recordBBox(e,t,h[0],h[2],h[1],h[3]);if(!o)return this.recordFullPageBBox(e);const f=o();return u&&h&&d===void 0&&(d=h[0]<=a-f.actualBoundingBoxLeft&&h[2]>=a+f.actualBoundingBoxRight&&h[1]<=r-f.actualBoundingBoxAscent&&h[3]>=r+f.actualBoundingBoxDescent,l(this,Bu).set(n,d),d)?this.recordBBox(e,t,h[0],h[2],h[1],h[3]):this.recordBBox(e,t,a-f.actualBoundingBoxLeft,a+f.actualBoundingBoxRight,r-f.actualBoundingBoxAscent,r+f.actualBoundingBoxDescent)}recordFullPageBBox(e){return l(this,ke)[0]=Math.max(0,l(this,Te)[0]),l(this,ke)[1]=Math.max(0,l(this,Te)[1]),l(this,ke)[2]=Math.min(l(this,vo),l(this,Te)[2]),l(this,ke)[3]=Math.min(l(this,wo),l(this,Te)[3]),this}getSimpleIndex(e){return l(this,Ms)[e]}recordDependencies(e,t){const n=l(this,ks),i=l(this,Ms),a=l(this,Ds);for(const r of t)r in l(this,Ms)?n.add(i[r]):r in a&&a[r].forEach(n.add,n);return this}recordNamedDependency(e,t){return l(this,bo).has(t)&&l(this,ks).add(l(this,bo).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Mc]),l(this,ji)){const n=Jp(l(this,ji),e),{dependencies:i}=n;l(this,ks).forEach(i.add,i),l(this,ti).forEach(i.add,i),l(this,yo).forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(l(this,Na)===e){const n=S1(l(this,ke)[0]*256/l(this,vo)),i=S1(l(this,ke)[1]*256/l(this,wo)),a=A1(l(this,ke)[2]*256/l(this,vo)),r=A1(l(this,ke)[3]*256/l(this,wo));Zp(l(this,Ea),e,n,i,a,r);for(const o of l(this,ks))o!==e&&Zp(l(this,Ea),o,n,i,a,r);for(const o of l(this,ti))o!==e&&Zp(l(this,Ea),o,n,i,a,r);for(const o of l(this,yo))o!==e&&Zp(l(this,Ea),o,n,i,a,r);t||(l(this,ks).clear(),g(this,Na,-1))}return this}recordShowTextOperation(e,t=!1){const n=Array.from(l(this,ks));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return l(this,Na)===e&&(g(this,Na,-1),l(this,Te)[0]=Math.max(l(this,Te)[0],l(this,ke)[0]),l(this,Te)[1]=Math.max(l(this,Te)[1],l(this,ke)[1]),l(this,Te)[2]=Math.min(l(this,Te)[2],l(this,ke)[2]),l(this,Te)[3]=Math.min(l(this,Te)[3],l(this,ke)[3]),t||l(this,ks).clear()),this}_takePendingDependencies(){const e=l(this,ks);return g(this,ks,new Set),e}_extractOperation(e){const t=l(this,nm).get(e);return l(this,nm).delete(e),t}_pushPendingDependencies(e){for(const t of e)l(this,ks).add(t)}take(){return l(this,Bu).clear(),new CR(l(this,cs),l(this,Ea))}takeDebugMetadata(){return l(this,ji)}}Ms=new WeakMap,Ds=new WeakMap,bo=new WeakMap,ti=new WeakMap,yo=new WeakMap,Aa=new WeakMap,Te=new WeakMap,ke=new WeakMap,Na=new WeakMap,ks=new WeakMap,nm=new WeakMap,Bu=new WeakMap,vo=new WeakMap,wo=new WeakMap,Ea=new WeakMap,cs=new WeakMap,ji=new WeakMap,im=new WeakSet,iv=function(e,t){const n=new ArrayBuffer(e*4);g(this,Ea,new Uint8ClampedArray(n)),g(this,cs,new Uint32Array(n)),t&&t.length>0?(l(this,cs).set(t),l(this,cs).fill(nv,t.length)):l(this,cs).fill(nv)};var Fe,ct,si,Iu,Fu;const NS=class NS{constructor(e,t,n){S(this,Fe);S(this,ct);S(this,si);S(this,Iu,0);S(this,Fu,0);if(e instanceof NS&&l(e,si)===!!n)return e;g(this,Fe,e),g(this,ct,t),g(this,si,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Ct(this,Fu)._++,l(this,Fe).save(l(this,ct)),this}restore(e){return l(this,Fu)>0&&(l(this,Fe).restore(l(this,ct)),Ct(this,Fu)._--),this}recordOpenMarker(e){return Ct(this,Iu)._++,this}getOpenMarker(){return l(this,Iu)>0?l(this,ct):l(this,Fe).getOpenMarker()}recordCloseMarker(e){return Ct(this,Iu)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return l(this,Fe).pushBaseTransform(e),this}popBaseTransform(){return l(this,Fe).popBaseTransform(),this}recordSimpleData(e,t){return l(this,Fe).recordSimpleData(e,l(this,ct)),this}recordIncrementalData(e,t){return l(this,Fe).recordIncrementalData(e,l(this,ct)),this}resetIncrementalData(e,t){return l(this,Fe).resetIncrementalData(e,l(this,ct)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return l(this,Fe).recordSimpleDataFromNamed(e,t,l(this,ct)),this}recordFutureForcedDependency(e,t){return l(this,Fe).recordFutureForcedDependency(e,l(this,ct)),this}inheritSimpleDataAsFutureForcedDependencies(e){return l(this,Fe).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return l(this,Fe).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return l(this,si)||l(this,Fe).resetBBox(l(this,ct)),this}recordClipBox(e,t,n,i,a,r){return l(this,si)||l(this,Fe).recordClipBox(l(this,ct),t,n,i,a,r),this}recordBBox(e,t,n,i,a,r){return l(this,si)||l(this,Fe).recordBBox(l(this,ct),t,n,i,a,r),this}recordCharacterBBox(e,t,n,i,a,r,o){return l(this,si)||l(this,Fe).recordCharacterBBox(l(this,ct),t,n,i,a,r,o),this}recordFullPageBBox(e){return l(this,si)||l(this,Fe).recordFullPageBBox(l(this,ct)),this}getSimpleIndex(e){return l(this,Fe).getSimpleIndex(e)}recordDependencies(e,t){return l(this,Fe).recordDependencies(l(this,ct),t),this}recordNamedDependency(e,t){return l(this,Fe).recordNamedDependency(l(this,ct),t),this}recordOperation(e){return l(this,Fe).recordOperation(l(this,ct),!0),this}recordShowTextOperation(e){return l(this,Fe).recordShowTextOperation(l(this,ct),!0),this}bboxToClipBoxDropOperation(e){return l(this,si)||l(this,Fe).bboxToClipBoxDropOperation(l(this,ct),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Fe=new WeakMap,ct=new WeakMap,si=new WeakMap,Iu=new WeakMap,Fu=new WeakMap;let O0=NS;const Sn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Qt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function av(s,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),s.clip(i)}class xS{isModifyingCurrentTransform(){return!1}getPattern(){Ue("Abstract method `getPattern` called.")}}class TR extends xS{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let a;if(i===Qt.STROKE||i===Qt.FILL){const r=t.current.getClippedPathBoundingBox(i,nt(e))||[0,0,0,0],o=Math.ceil(r[2]-r[0])||1,u=Math.ceil(r[3]-r[1])||1,d=t.cachedCanvases.getCanvas("pattern",o,u),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-r[0],-r[1]),n=G.transform(n,[1,0,0,1,r[0],r[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),av(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),a=e.createPattern(d.canvas,"no-repeat");const f=new DOMMatrix(n);a.setTransform(f)}else av(e,this._bbox),a=this._createGradient(e);return a}}function Tb(s,e,t,n,i,a,r,o){const u=e.coords,d=e.colors,h=s.data,f=s.width*4;let m;u[t+1]>u[n+1]&&(m=t,t=n,n=m,m=a,a=r,r=m),u[n+1]>u[i+1]&&(m=n,n=i,i=m,m=r,r=o,o=m),u[t+1]>u[n+1]&&(m=t,t=n,n=m,m=a,a=r,r=m);const p=(u[t]+e.offsetX)*e.scaleX,y=(u[t+1]+e.offsetY)*e.scaleY,b=(u[n]+e.offsetX)*e.scaleX,A=(u[n+1]+e.offsetY)*e.scaleY,x=(u[i]+e.offsetX)*e.scaleX,v=(u[i+1]+e.offsetY)*e.scaleY;if(y>=v)return;const w=d[a],E=d[a+1],j=d[a+2],T=d[r],C=d[r+1],_=d[r+2],D=d[o],k=d[o+1],R=d[o+2],L=Math.round(y),q=Math.round(v);let X,ee,O,I,U,P,$,te;for(let Q=L;Q<=q;Q++){if(Q<A){const he=Q<y?0:(y-Q)/(y-A);X=p-(p-b)*he,ee=w-(w-T)*he,O=E-(E-C)*he,I=j-(j-_)*he}else{let he;Q>v?he=1:A===v?he=0:he=(A-Q)/(A-v),X=b-(b-x)*he,ee=T-(T-D)*he,O=C-(C-k)*he,I=_-(_-R)*he}let se;Q<y?se=0:Q>v?se=1:se=(y-Q)/(y-v),U=p-(p-x)*se,P=w-(w-D)*se,$=E-(E-k)*se,te=j-(j-R)*se;const ve=Math.round(Math.min(X,U)),rt=Math.round(Math.max(X,U));let Xn=f*Q+ve*4;for(let he=ve;he<=rt;he++)se=(X-he)/(X-U),se<0?se=0:se>1&&(se=1),h[Xn++]=ee-(ee-P)*se|0,h[Xn++]=O-(O-$)*se|0,h[Xn++]=I-(I-te)*se|0,h[Xn++]=255}}function _R(s,e,t){const n=e.coords,i=e.colors;let a,r;switch(e.type){case"lattice":const o=e.verticesPerRow,u=Math.floor(n.length/o)-1,d=o-1;for(a=0;a<u;a++){let h=a*o;for(let f=0;f<d;f++,h++)Tb(s,t,n[h],n[h+1],n[h+o],i[h],i[h+1],i[h+o]),Tb(s,t,n[h+o+1],n[h+1],n[h+o],i[h+o+1],i[h+1],i[h+o])}break;case"triangles":for(a=0,r=n.length;a<r;a+=3)Tb(s,t,n[a],n[a+1],n[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class MR extends xS{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-u,f=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=d/f,y=h/m,b={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-u,scaleX:1/p,scaleY:1/y},A=f+2*2,x=m+2*2,v=n.getCanvas("mesh",A,x),w=v.context,E=w.createImageData(f,m);if(t){const T=E.data;for(let C=0,_=T.length;C<_;C+=4)T[C]=t[0],T[C+1]=t[1],T[C+2]=t[2],T[C+3]=255}for(const T of this._figures)_R(E,T,b);return w.putImageData(E,2,2),{canvas:v.canvas,offsetX:o-2*p,offsetY:u-2*y,scaleX:p,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){av(e,this._bbox);const a=new Float32Array(2);if(i===Qt.SHADING)G.singularValueDecompose2dScale(nt(e),a);else if(this.matrix){G.singularValueDecompose2dScale(this.matrix,a);const[o,u]=a;G.singularValueDecompose2dScale(t.baseTransform,a),a[0]*=o,a[1]*=u}else G.singularValueDecompose2dScale(t.baseTransform,a);const r=this._createMeshCanvas(a,i===Qt.SHADING?null:this._background,t.cachedCanvases);return i!==Qt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(r.offsetX,r.offsetY),e.scale(r.scaleX,r.scaleY),e.createPattern(r.canvas,"no-repeat")}}class DR extends xS{getPattern(){return"hotpink"}}function kR(s){switch(s[0]){case"RadialAxial":return new TR(s);case"Mesh":return new MR(s);case"Dummy":return new DR}throw new Error(`Unknown IR type: ${s[0]}`)}const N1={COLORED:1,UNCOLORED:2},Z0=class Z0{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,t){var P,$;const{bbox:n,operatorList:i,paintType:a,tilingType:r,color:o,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:h}=this;d=Math.abs(d),h=Math.abs(h),kx("TilingType: "+r);const f=n[0],m=n[1],p=n[2],y=n[3],b=p-f,A=y-m,x=new Float32Array(2);G.singularValueDecompose2dScale(this.matrix,x);const[v,w]=x;G.singularValueDecompose2dScale(this.baseTransform,x);const E=v*x[0],j=w*x[1];let T=b,C=A,_=!1,D=!1;const k=Math.ceil(d*E),R=Math.ceil(h*j),L=Math.ceil(b*E),q=Math.ceil(A*j);k>=L?T=d:_=!0,R>=q?C=h:D=!0;const X=this.getSizeAndScale(T,this.ctx.canvas.width,E),ee=this.getSizeAndScale(C,this.ctx.canvas.height,j),O=e.cachedCanvases.getCanvas("pattern",X.size,ee.size),I=O.context,U=u.createCanvasGraphics(I,t);if(U.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(U,a,o),I.translate(-X.scale*f,-ee.scale*m),U.transform(0,X.scale,0,0,ee.scale,0,0),I.save(),(P=U.dependencyTracker)==null||P.save(),this.clipBbox(U,f,m,p,y),U.baseTransform=nt(U.ctx),U.executeOperatorList(i),U.endDrawing(),($=U.dependencyTracker)==null||$.restore(),I.restore(),_||D){const te=O.canvas;_&&(T=d),D&&(C=h);const Q=this.getSizeAndScale(T,this.ctx.canvas.width,E),se=this.getSizeAndScale(C,this.ctx.canvas.height,j),ve=Q.size,rt=se.size,Xn=e.cachedCanvases.getCanvas("pattern-workaround",ve,rt),he=Xn.context,ah=_?Math.floor(b/d):0,Px=D?Math.floor(A/h):0;for(let rh=0;rh<=ah;rh++)for(let Bl=0;Bl<=Px;Bl++)he.drawImage(te,ve*rh,rt*Bl,ve,rt,0,0,ve,rt);return{canvas:Xn.canvas,scaleX:Q.scale,scaleY:se.scale,offsetX:f,offsetY:m}}return{canvas:O.canvas,scaleX:X.scale,scaleY:ee.scale,offsetX:f,offsetY:m}}getSizeAndScale(e,t,n){const i=Math.max(Z0.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*n);return a>=i?a=i:n=a/e,{scale:n,size:a}}clipBbox(e,t,n,i,a){const r=i-t,o=a-n;e.ctx.rect(t,n,r,o),G.axialAlignedBoundingBox([t,n,i,a],nt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,a=e.current;switch(t){case N1.COLORED:const{fillStyle:r,strokeStyle:o}=this.ctx;i.fillStyle=a.fillColor=r,i.strokeStyle=a.strokeColor=o;break;case N1.UNCOLORED:i.fillStyle=i.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new $k(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i,a){let r=n;i!==Qt.SHADING&&(r=G.transform(r,t.baseTransform),this.matrix&&(r=G.transform(r,this.matrix)));const o=this.createPatternCanvas(t,a);let u=new DOMMatrix(r);u=u.translate(o.offsetX,o.offsetY),u=u.scale(1/o.scaleX,1/o.scaleY);const d=e.createPattern(o.canvas,"repeat");return d.setTransform(u),d}};F(Z0,"MAX_PATTERN_SIZE",3e3);let rv=Z0;function RR({src:s,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:a=4294967295,inverseDecode:r=!1}){const o=is.isLittleEndian?4278190080:255,[u,d]=r?[a,o]:[o,a],h=n>>3,f=n&7,m=s.length;t=new Uint32Array(t.buffer);let p=0;for(let y=0;y<i;y++){for(const A=e+h;e<A;e++){const x=e<m?s[e]:255;t[p++]=x&128?d:u,t[p++]=x&64?d:u,t[p++]=x&32?d:u,t[p++]=x&16?d:u,t[p++]=x&8?d:u,t[p++]=x&4?d:u,t[p++]=x&2?d:u,t[p++]=x&1?d:u}if(f===0)continue;const b=e<m?s[e++]:255;for(let A=0;A<f;A++)t[p++]=b&1<<7-A?d:u}return{srcPos:e,destPos:p}}const E1=16,C1=100,LR=15,j1=10,Is=16,_b=new DOMMatrix,cn=new Float32Array(2),eu=new Float32Array([1/0,1/0,-1/0,-1/0]);function OR(s,e){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){e.save(),this.__originalSave()},s.restore=function(){e.restore(),this.__originalRestore()},s.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},s.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},s.transform=function(t,n,i,a,r,o){e.transform(t,n,i,a,r,o),this.__originalTransform(t,n,i,a,r,o)},s.setTransform=function(t,n,i,a,r,o){e.setTransform(t,n,i,a,r,o),this.__originalSetTransform(t,n,i,a,r,o)},s.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},s.rotate=function(t){e.rotate(t),this.__originalRotate(t)},s.clip=function(t){e.clip(t),this.__originalClip(t)},s.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},s.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},s.bezierCurveTo=function(t,n,i,a,r,o){e.bezierCurveTo(t,n,i,a,r,o),this.__originalBezierCurveTo(t,n,i,a,r,o)},s.rect=function(t,n,i,a){e.rect(t,n,i,a),this.__originalRect(t,n,i,a)},s.closePath=function(){e.closePath(),this.__originalClosePath()},s.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class PR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function eg(s,e,t,n,i,a,r,o,u,d){const[h,f,m,p,y,b]=nt(s);if(f===0&&m===0){const v=r*h+y,w=Math.round(v),E=o*p+b,j=Math.round(E),T=(r+u)*h+y,C=Math.abs(Math.round(T)-w)||1,_=(o+d)*p+b,D=Math.abs(Math.round(_)-j)||1;return s.setTransform(Math.sign(h),0,0,Math.sign(p),w,j),s.drawImage(e,t,n,i,a,0,0,C,D),s.setTransform(h,f,m,p,y,b),[C,D]}if(h===0&&p===0){const v=o*m+y,w=Math.round(v),E=r*f+b,j=Math.round(E),T=(o+d)*m+y,C=Math.abs(Math.round(T)-w)||1,_=(r+u)*f+b,D=Math.abs(Math.round(_)-j)||1;return s.setTransform(0,Math.sign(f),Math.sign(m),0,w,j),s.drawImage(e,t,n,i,a,0,0,D,C),s.setTransform(h,f,m,p,y,b),[D,C]}s.drawImage(e,t,n,i,a,r,o,u,d);const A=Math.hypot(h,f),x=Math.hypot(m,p);return[A*u,x*d]}class T1{constructor(e,t,n){F(this,"alphaIsShape",!1);F(this,"fontSize",0);F(this,"fontSizeScale",1);F(this,"textMatrix",null);F(this,"textMatrixScale",1);F(this,"fontMatrix",My);F(this,"leading",0);F(this,"x",0);F(this,"y",0);F(this,"lineX",0);F(this,"lineY",0);F(this,"charSpacing",0);F(this,"wordSpacing",0);F(this,"textHScale",1);F(this,"textRenderingMode",Gt.FILL);F(this,"textRise",0);F(this,"fillColor","#000000");F(this,"strokeColor","#000000");F(this,"patternFill",!1);F(this,"patternStroke",!1);F(this,"fillAlpha",1);F(this,"strokeAlpha",1);F(this,"lineWidth",1);F(this,"activeSMask",null);F(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=eu.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Qt.FILL,t=null){const n=this.minMax.slice();if(e===Qt.STROKE){t||Ue("Stroke bounding box must include transform."),G.singularValueDecompose2dScale(t,cn);const i=cn[0]*this.lineWidth/2,a=cn[1]*this.lineWidth/2;n[0]-=i,n[1]-=a,n[2]+=i,n[3]+=a}return n}updateClipFromPath(){const e=G.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(eu,0)}getClippedPathBoundingBox(e=Qt.FILL,t=null){return G.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function _1(s,e){if(e instanceof ImageData){s.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%Is,a=(t-i)/Is,r=i===0?a:a+1,o=s.createImageData(n,Is);let u=0,d;const h=e.data,f=o.data;let m,p,y,b;if(e.kind===Sg.GRAYSCALE_1BPP){const A=h.byteLength,x=new Uint32Array(f.buffer,0,f.byteLength>>2),v=x.length,w=n+7>>3,E=4294967295,j=is.isLittleEndian?4278190080:255;for(m=0;m<r;m++){for(y=m<a?Is:i,d=0,p=0;p<y;p++){const T=A-u;let C=0;const _=T>w?n:T*8-7,D=_&-8;let k=0,R=0;for(;C<D;C+=8)R=h[u++],x[d++]=R&128?E:j,x[d++]=R&64?E:j,x[d++]=R&32?E:j,x[d++]=R&16?E:j,x[d++]=R&8?E:j,x[d++]=R&4?E:j,x[d++]=R&2?E:j,x[d++]=R&1?E:j;for(;C<_;C++)k===0&&(R=h[u++],k=128),x[d++]=R&k?E:j,k>>=1}for(;d<v;)x[d++]=0;s.putImageData(o,0,m*Is)}}else if(e.kind===Sg.RGBA_32BPP){for(p=0,b=n*Is*4,m=0;m<a;m++)f.set(h.subarray(u,u+b)),u+=b,s.putImageData(o,0,p),p+=Is;m<r&&(b=n*i*4,f.set(h.subarray(u,u+b)),s.putImageData(o,0,p))}else if(e.kind===Sg.RGB_24BPP)for(y=Is,b=n*y,m=0;m<r;m++){for(m>=a&&(y=i,b=n*y),d=0,p=b;p--;)f[d++]=h[u++],f[d++]=h[u++],f[d++]=h[u++],f[d++]=255;s.putImageData(o,0,m*Is)}else throw new Error(`bad image kind: ${e.kind}`)}function M1(s,e){if(e.bitmap){s.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%Is,a=(t-i)/Is,r=i===0?a:a+1,o=s.createImageData(n,Is);let u=0;const d=e.data,h=o.data;for(let f=0;f<r;f++){const m=f<a?Is:i;({srcPos:u}=RR({src:d,srcPos:u,dest:h,width:n,height:m,nonBlackColor:0})),s.putImageData(o,0,f*Is)}}function ph(s,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)s[n]!==void 0&&(e[n]=s[n]);s.setLineDash!==void 0&&(e.setLineDash(s.getLineDash()),e.lineDashOffset=s.lineDashOffset)}function tg(s){s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0);const{filter:e}=s;e!=="none"&&e!==""&&(s.filter="none")}function D1(s,e){if(e)return!0;G.singularValueDecompose2dScale(s,cn);const t=Math.fround(Yi.pixelRatio*kl.PDF_TO_CSS_UNITS);return cn[0]<=t&&cn[1]<=t}const BR=["butt","round","square"],IR=["miter","round","bevel"],FR={},k1={};var hi,lv,ov,cv;const ES=class ES{constructor(e,t,n,i,a,{optionalContentConfig:r,markedContentStack:o=null},u,d,h){S(this,hi);this.ctx=e,this.current=new T1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=r,this.cachedCanvases=new PR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,t,n=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const a=this.ctx.canvas.width,r=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,r),this.ctx.fillStyle=o,n){const u=this.cachedCanvases.getCanvas("transparent",a,r);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...nt(this.compositeCtx))}this.ctx.save(),tg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=nt(this.ctx)}executeOperatorList(e,t,n,i,a){var x;const r=e.argsArray,o=e.fnArray;let u=t||0;const d=r.length;if(d===u)return u;const h=d-u>j1&&typeof n=="function",f=h?Date.now()+LR:0;let m=0;const p=this.commonObjs,y=this.objs;let b,A;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,n),u;if(!a||a(u))if(b=o[u],A=r[u]??null,b!==Nf.dependency)A===null?this[b](u):this[b](u,...A);else for(const v of A){(x=this.dependencyTracker)==null||x.recordNamedData(v,u);const w=v.startsWith("g_")?p:y;if(!w.has(v))return w.get(v,n),u}if(u++,u===d)return u;if(h&&++m>j1){if(Date.now()>f)return n(),u;m=0}}}endDrawing(){N(this,hi,lv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),N(this,hi,ov).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),r=Math.max(Math.hypot(t[2],t[3]),1),o=n,u=i,d="prescale1",h,f;for(;a>2&&o>1||r>2&&u>1;){let m=o,p=u;a>2&&o>1&&(m=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/m),r>2&&u>1&&(p=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,r/=u/p),h=this.cachedCanvases.getCanvas(d,m,p),f=h.context,f.clearRect(0,0,m,p),f.drawImage(e,0,0,o,u,0,0,m,p),e=h.canvas,o=m,u=p,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:u}}_createMaskCanvas(e,t){var k,R;const n=this.ctx,{width:i,height:a}=t,r=this.current.fillColor,o=this.current.patternFill,u=nt(n);let d,h,f,m;if((t.bitmap||t.data)&&t.count>1){const L=t.bitmap||t.data.buffer;h=JSON.stringify(o?u:[u.slice(0,4),r]),d=this._cachedBitmapsMap.get(L),d||(d=new Map,this._cachedBitmapsMap.set(L,d));const q=d.get(h);if(q&&!o){const X=Math.round(Math.min(u[0],u[2])+u[4]),ee=Math.round(Math.min(u[1],u[3])+u[5]);return(k=this.dependencyTracker)==null||k.recordDependencies(e,Sn.transformAndFill),{canvas:q,offsetX:X,offsetY:ee}}f=q}f||(m=this.cachedCanvases.getCanvas("maskCanvas",i,a),M1(m.context,t));let p=G.transform(u,[1/i,0,0,-1/a,0,0]);p=G.transform(p,[1,0,0,1,0,-a]);const y=eu.slice();G.axialAlignedBoundingBox([0,0,i,a],p,y);const[b,A,x,v]=y,w=Math.round(x-b)||1,E=Math.round(v-A)||1,j=this.cachedCanvases.getCanvas("fillCanvas",w,E),T=j.context,C=b,_=A;T.translate(-C,-_),T.transform(...p),f||(f=this._scaleImage(m.canvas,mi(T)),f=f.img,d&&o&&d.set(h,f)),T.imageSmoothingEnabled=D1(nt(T),t.interpolate),eg(T,f,0,0,f.width,f.height,0,0,i,a),T.globalCompositeOperation="source-in";const D=G.transform(mi(T),[1,0,0,1,-C,-_]);return T.fillStyle=o?r.getPattern(n,this,D,Qt.FILL,e):r,T.fillRect(0,0,i,a),d&&!o&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,j.canvas)),(R=this.dependencyTracker)==null||R.recordDependencies(e,Sn.transformAndFill),{canvas:j.canvas,offsetX:Math.round(C),offsetY:Math.round(_)}}setLineWidth(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=BR[t]}setLineJoin(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=IR[t]}setMiterLimit(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,i,a,r,o;for(const[u,d]of t)switch(u){case"LW":this.setLineWidth(e,d);break;case"LC":this.setLineCap(e,d);break;case"LJ":this.setLineJoin(e,d);break;case"ML":this.setMiterLimit(e,d);break;case"D":this.setDash(e,d[0],d[1]);break;case"RI":this.setRenderingIntent(e,d);break;case"FL":this.setFlatness(e,d);break;case"Font":this.setFont(e,d[0],d[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=d;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=d;break;case"BM":(a=this.dependencyTracker)==null||a.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=d;break;case"SMask":(r=this.dependencyTracker)==null||r.recordSimpleData("SMask",e),this.current.activeSMask=d?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(d);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const r=this.ctx=a.context;r.setTransform(this.suspendedCtx.getTransform()),ph(this.suspendedCtx,r),OR(r,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ph(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const a=i[0],r=i[1],o=i[2]-a,u=i[3]-r;o===0||u===0||(this.genericComposeSMask(t.context,n,o,u,t.subtype,t.backdrop,t.transferMap,a,r,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,a,r,o,u,d,h,f){let m=e.canvas,p=u-h,y=d-f;if(r)if(p<0||y<0||p+n>m.width||y+i>m.height){const A=this.cachedCanvases.getCanvas("maskExtension",n,i),x=A.context;x.drawImage(m,-p,-y),x.globalCompositeOperation="destination-atop",x.fillStyle=r,x.fillRect(0,0,n,i),x.globalCompositeOperation="source-over",m=A.canvas,p=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(p,y,n,i),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=r,e.fillRect(p,y,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const b=new Path2D;b.rect(u,d,n,i),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(m,p,y,n,i,u,d,n,i),t.restore()}save(e){var n;this.inSMaskMode&&ph(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ph(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,a,r,o){var u;(u=this.dependencyTracker)==null||u.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,a,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[a]=n;if(!i){a||(a=n[0]=new Path2D),this[t](e,a);return}if(this.dependencyTracker!==null){const r=t===Nf.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-r,i[2]+r,i[1]-r,i[3]+r).recordDependencies(e,["transform"])}if(!(a instanceof Path2D)){const r=n[0]=new Path2D;for(let o=0,u=a.length;o<u;)switch(a[o++]){case Xp.moveTo:r.moveTo(a[o++],a[o++]);break;case Xp.lineTo:r.lineTo(a[o++],a[o++]);break;case Xp.curveTo:r.bezierCurveTo(a[o++],a[o++],a[o++],a[o++],a[o++],a[o++]);break;case Xp.closePath:r.closePath();break;default:ne(`Unrecognized drawing path operator: ${a[o-1]}`);break}a=r}G.axialAlignedBoundingBox(i,nt(this.ctx),this.current.minMax),this[t](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){var r;const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const o=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,mi(i),Qt.STROKE,e),o){const u=new Path2D;u.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=u}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(r=this.dependencyTracker)==null||r.recordDependencies(e,Sn.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Qt.STROKE,nt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){var d,h,f;const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;let o=!1;if(r){const m=a.isModifyingCurrentTransform()?i.getTransform():null;if((d=this.dependencyTracker)==null||d.save(e),i.save(),i.fillStyle=a.getPattern(i,this,mi(i),Qt.FILL,e),m){const p=new Path2D;p.addPath(t,i.getTransform().invertSelf().multiplySelf(m)),t=p}o=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(h=this.dependencyTracker)==null||h.recordDependencies(e,Sn.fill),o&&(i.restore(),(f=this.dependencyTracker)==null||f.restore(e)),n&&this.consumePath(e,t,u)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),(n=this.dependencyTracker)==null||n.recordDependencies(e,Sn.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=FR}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=k1}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,a=n.getTransform().invertSelf();for(const{transform:r,x:o,y:u,fontSize:d,path:h}of t)h&&i.addPath(h,new DOMMatrix(r).preMultiplySelf(a).translate(o,u).scale(d,-d));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var f,m;(f=this.dependencyTracker)==null||f.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||My,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&ne("Invalid font matrix for font "+t),n<0?(n=-n,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const r=i.loadedName||"sans-serif",o=((m=i.systemFontInfo)==null?void 0:m.css)||`"${r}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const d=i.italic?"italic":"normal";let h=n;n<E1?h=E1:n>C1&&(h=C1),this.current.fontSizeScale=n/h,this.ctx.font=`${d} ${u} ${h}px ${o}`}setTextRenderingMode(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,n,i,a,r){var x,v,w,E;const o=this.ctx,u=this.current,d=u.font,h=u.textRenderingMode,f=u.fontSize/u.fontSizeScale,m=h&Gt.FILL_STROKE_MASK,p=!!(h&Gt.ADD_TO_PATH_FLAG),y=u.patternFill&&!d.missingFile,b=u.patternStroke&&!d.missingFile;let A;if((d.disableFontFace||p||y||b)&&!d.missingFile&&(A=d.getPathGenerator(this.commonObjs,t)),A&&(d.disableFontFace||y||b)){o.save(),o.translate(n,i),o.scale(f,-f),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,d);let j;if(m===Gt.FILL||m===Gt.FILL_STROKE)if(a){j=o.getTransform(),o.setTransform(...a);const T=N(this,hi,cv).call(this,A,j,a);o.fill(T)}else o.fill(A);if(m===Gt.STROKE||m===Gt.FILL_STROKE)if(r){j||(j=o.getTransform()),o.setTransform(...r);const{a:T,b:C,c:_,d:D}=j,k=G.inverseTransform(r),R=G.transform([T,C,_,D,0,0],k);G.singularValueDecompose2dScale(R,cn),o.lineWidth*=Math.max(cn[0],cn[1])/f,o.stroke(N(this,hi,cv).call(this,A,j,r))}else o.lineWidth/=f,o.stroke(A);o.restore()}else(m===Gt.FILL||m===Gt.FILL_STROKE)&&(o.fillText(t,n,i),(v=this.dependencyTracker)==null||v.recordCharacterBBox(e,o,d,f,n,i,()=>o.measureText(t))),(m===Gt.STROKE||m===Gt.FILL_STROKE)&&(this.dependencyTracker&&((w=this.dependencyTracker)==null||w.recordCharacterBBox(e,o,d,f,n,i,()=>o.measureText(t)).recordDependencies(e,Sn.stroke)),o.strokeText(t,n,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:nt(o),x:n,y:i,fontSize:f,path:A}),(E=this.dependencyTracker)==null||E.recordCharacterBBox(e,o,d,f,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return de(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var _,D,k,R;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Sn.showText).resetBBox(e),this.current.textRenderingMode&Gt.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,t),(_=this.dependencyTracker)==null||_.recordShowTextOperation(e);return}const a=n.fontSize;if(a===0){(D=this.dependencyTracker)==null||D.recordOperation(e);return}const r=this.ctx,o=n.fontSizeScale,u=n.charSpacing,d=n.wordSpacing,h=n.fontDirection,f=n.textHScale*h,m=t.length,p=i.vertical,y=p?1:-1,b=i.defaultVMetrics,A=a*n.fontMatrix[0],x=n.textRenderingMode===Gt.FILL&&!i.disableFontFace&&!n.patternFill;r.save(),n.textMatrix&&r.transform(...n.textMatrix),r.translate(n.x,n.y+n.textRise),h>0?r.scale(f,-1):r.scale(f,1);let v,w;if(n.patternFill){r.save();const L=n.fillColor.getPattern(r,this,mi(r),Qt.FILL,e);v=nt(r),r.restore(),r.fillStyle=L}if(n.patternStroke){r.save();const L=n.strokeColor.getPattern(r,this,mi(r),Qt.STROKE,e);w=nt(r),r.restore(),r.strokeStyle=L}let E=n.lineWidth;const j=n.textMatrixScale;if(j===0||E===0){const L=n.textRenderingMode&Gt.FILL_STROKE_MASK;(L===Gt.STROKE||L===Gt.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=j;if(o!==1&&(r.scale(o,o),E/=o),r.lineWidth=E,i.isInvalidPDFjsFont){const L=[];let q=0;for(const ee of t)L.push(ee.unicode),q+=ee.width;const X=L.join("");if(r.fillText(X,0,0),this.dependencyTracker!==null){const ee=r.measureText(X);this.dependencyTracker.recordBBox(e,this.ctx,-ee.actualBoundingBoxLeft,ee.actualBoundingBoxRight,-ee.actualBoundingBoxAscent,ee.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=q*A*f,r.restore(),this.compose();return}let T=0,C;for(C=0;C<m;++C){const L=t[C];if(typeof L=="number"){T+=y*L*a/1e3;continue}let q=!1;const X=(L.isSpace?d:0)+u,ee=L.fontChar,O=L.accent;let I,U,P=L.width;if(p){const Q=L.vmetric||b,se=-(L.vmetric?Q[1]:P*.5)*A,ve=Q[2]*A;P=Q?-Q[0]:P,I=se/o,U=(T+ve)/o}else I=T/o,U=0;let $;if(i.remeasure&&P>0){$=r.measureText(ee);const Q=$.width*1e3/a*o;if(P<Q&&this.isFontSubpixelAAEnabled){const se=P/Q;q=!0,r.save(),r.scale(se,1),I/=se}else P!==Q&&(I+=(P-Q)/2e3*a/o)}if(this.contentVisible&&(L.isInFont||i.missingFile)){if(x&&!O)r.fillText(ee,I,U),(k=this.dependencyTracker)==null||k.recordCharacterBBox(e,r,$?{bbox:null}:i,a/o,I,U,()=>$??r.measureText(ee));else if(this.paintChar(e,ee,I,U,v,w),O){const Q=I+a*O.offset.x/o,se=U-a*O.offset.y/o;this.paintChar(e,O.fontChar,Q,se,v,w)}}const te=p?P*A-X*h:P*A+X*h;T+=te,q&&r.restore()}p?n.y-=T:n.x+=T*f,r.restore(),this.compose(),(R=this.dependencyTracker)==null||R.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,i=this.current,a=i.font,r=i.fontSize,o=i.fontDirection,u=a.vertical?1:-1,d=i.charSpacing,h=i.wordSpacing,f=i.textHScale*o,m=i.fontMatrix||My,p=t.length,y=i.textRenderingMode===Gt.INVISIBLE;let b,A,x,v;if(y||r===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(f,o);const w=this.dependencyTracker;for(this.dependencyTracker=w?new O0(w,e):null,b=0;b<p;++b){if(A=t[b],typeof A=="number"){v=u*A*r/1e3,this.ctx.translate(v,0),i.x+=v*f;continue}const E=(A.isSpace?h:0)+d,j=a.charProcOperatorList[A.operatorListId];j?this.contentVisible&&(this.save(),n.scale(r,r),n.transform(...m),this.executeOperatorList(j),this.restore()):ne(`Type3 character "${A.operatorListId}" is not available.`);const T=[A.width,0];G.applyTransform(T,m),x=T[0]*r+E,n.translate(x,0),i.x+=x*f}n.restore(),w&&(this.dependencyTracker=w)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,a,r,o){var d;const u=new Path2D;u.rect(i,a,r-i,o-a),this.ctx.clip(u),(d=this.dependencyTracker)==null||d.recordBBox(e,this.ctx,i,r,a,o).recordClipBox(e,this.ctx,i,r,a,o),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||nt(this.ctx),a={createCanvasGraphics:(r,o)=>new ES(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new O0(this.dependencyTracker,o,!0):null)};n=new rv(t,this.ctx,a,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=kR(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){var r;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,mi(n),Qt.SHADING,e);const a=mi(n);if(a){const{width:o,height:u}=n.canvas,d=eu.slice();G.axialAlignedBoundingBox([0,0,o,u],a,d);const[h,f,m,p]=d;this.ctx.fillRect(h,f,m-h,p-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(r=this.dependencyTracker)==null||r.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Sn.transform).recordDependencies(e,Sn.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Ue("Should not call beginInlineImage")}beginImageData(){Ue("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=nt(this.ctx),n)){G.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[a,r,o,u]=n,d=new Path2D;d.rect(a,r,o-a,u-r),this.ctx.clip(d),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,a,o,r,u),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var w;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||kx("TODO: Support non-isolated groups."),t.knockout&&ne("Knockout groups not supported.");const i=nt(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=eu.slice();G.axialAlignedBoundingBox(t.bbox,nt(n),a);const r=[0,0,n.canvas.width,n.canvas.height];a=G.intersect(a,r)||[0,0,0,0];const o=Math.floor(a[0]),u=Math.floor(a[1]),d=Math.max(Math.ceil(a[2])-o,1),h=Math.max(Math.ceil(a[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,h]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(f,d,h),p=m.context;p.translate(-o,-u),p.transform(...i);let y=new Path2D;const[b,A,x,v]=t.bbox;if(y.rect(b,A,x-b,v-A),t.matrix){const E=new Path2D;E.addPath(y,new DOMMatrix(t.matrix)),y=E}p.clip(y),t.smask&&this.smaskStack.push({canvas:m.canvas,context:p,offsetX:o,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(o,u),n.save()),ph(n,p),this.ctx=p,(w=this.dependencyTracker)==null||w.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){var a;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(a=this.dependencyTracker)==null||a.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const r=nt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...r);const o=eu.slice();G.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],r,o),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,n,i,a,r){if(N(this,hi,lv).call(this),tg(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],u=n[3]-n[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=u,G.singularValueDecompose2dScale(nt(this.ctx),cn);const{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(u*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:m,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(cn[0],0,0,-cn[1],0,u*cn[1]),tg(this.ctx)}else{tg(this.ctx),this.endPath(e);const d=new Path2D;d.rect(n[0],n[1],o,u),this.ctx.clip(d)}}this.current=new T1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),N(this,hi,ov).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const i=this.ctx,a=this._createMaskCanvas(e,t),r=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,a.offsetX,a.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+r.width,a.offsetY,a.offsetY+r.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,a=0,r,o){var f,m,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const u=this.ctx;u.save();const d=nt(u);u.transform(n,i,a,r,0,0);const h=this._createMaskCanvas(e,t);u.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]),(f=this.dependencyTracker)==null||f.resetBBox(e);for(let y=0,b=o.length;y<b;y+=2){const A=G.transform(d,[n,i,a,r,o[y],o[y+1]]);u.drawImage(h.canvas,A[4],A[5]),(m=this.dependencyTracker)==null||m.recordBBox(e,this.ctx,A[4],A[4]+h.canvas.width,A[5],A[5]+h.canvas.height)}u.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var r,o,u;if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,a=this.current.patternFill;(r=this.dependencyTracker)==null||r.resetBBox(e).recordDependencies(e,Sn.transformAndFill);for(const d of t){const{data:h,width:f,height:m,transform:p}=d,y=this.cachedCanvases.getCanvas("maskCanvas",f,m),b=y.context;b.save();const A=this.getObject(e,h,d);M1(b,A),b.globalCompositeOperation="source-in",b.fillStyle=a?i.getPattern(b,this,mi(n),Qt.FILL,e):i,b.fillRect(0,0,f,m),b.restore(),n.save(),n.transform(...p),n.scale(1,-1),eg(n,y.canvas,0,0,f,m,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,n,0,f,0,m),n.restore()}this.compose(),(u=this.dependencyTracker)==null||u.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){ne("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,a){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){ne("Dependent image isn't ready yet");return}const o=r.width,u=r.height,d=[];for(let h=0,f=a.length;h<f;h+=2)d.push({transform:[n,0,0,i,a[h],a[h+1]],x:0,y:0,w:o,h:u});this.paintInlineImageXObjectGroup(e,r,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,i),r=a.context;return r.filter=this.current.transferMaps,r.drawImage(t,0,0),r.filter="none",a.canvas}paintInlineImageXObject(e,t){var d;if(!this.contentVisible)return;const n=t.width,i=t.height,a=this.ctx;this.save(e);const{filter:r}=a;r!=="none"&&r!==""&&(a.filter="none"),a.scale(1/n,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",n,i).context;_1(f,t),o=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(o,mi(a));a.imageSmoothingEnabled=D1(nt(a),t.interpolate),(d=this.dependencyTracker)==null||d.resetBBox(e).recordBBox(e,a,0,n,-i,0).recordDependencies(e,Sn.imageXObject).recordOperation(e),eg(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var r,o,u;if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const d=t.width,h=t.height,m=this.cachedCanvases.getCanvas("inlineImage",d,h).context;_1(m,t),a=this.applyTransferMapsToCanvas(m)}(r=this.dependencyTracker)==null||r.resetBBox(e);for(const d of n)i.save(),i.transform(...d.transform),i.scale(1,-1),eg(i,a,d.x,d.y,d.w,d.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(u=this.dependencyTracker)==null||u.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Sn.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){var r,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===k1?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null,(r=this.dependencyTracker)==null||r.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=nt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:a}=this.ctx.getTransform();let r,o;if(n===0&&i===0){const u=Math.abs(t),d=Math.abs(a);if(u===d)if(e===0)r=o=1/u;else{const h=u*e;r=o=h<1?1/h:1}else if(e===0)r=1/u,o=1/d;else{const h=u*e,f=d*e;r=h<1?1/h:1,o=f<1?1/f:1}}else{const u=Math.abs(t*a-n*i),d=Math.hypot(t,n),h=Math.hypot(i,a);if(e===0)r=h/u,o=d/u;else{const f=e*u;r=h>f?h/f:1,o=d>f?d/f:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[a,r]=this.getScaleForStroking();if(a===r){n.lineWidth=(i||1)*a,n.stroke(e);return}const o=n.getLineDash();t&&n.save(),n.scale(a,r),_b.a=1/a,_b.d=1/r;const u=new Path2D;if(u.addPath(e,_b),o.length>0){const d=Math.max(a,r);n.setLineDash(o.map(h=>h/d)),n.lineDashOffset/=d}n.lineWidth=i||1,n.stroke(u),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};hi=new WeakSet,lv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},ov=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},cv=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let hu=ES;for(const s in Nf)hu.prototype[s]!==void 0&&(hu.prototype[Nf[s]]=hu.prototype[s]);var zu,Uu,am,Hu,Dg;const su=class su{constructor(e){S(this,Hu);S(this,zu);S(this,Uu);S(this,am);g(this,zu,e),g(this,Uu,new DataView(l(this,zu))),g(this,am,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const d of su.strings){const h=t.encode(e[d]);n[d]=h,i+=4+h.length}const a=new ArrayBuffer(i),r=new Uint8Array(a),o=new DataView(a);let u=0;for(const d of su.strings){const h=n[d],f=h.length;o.setUint32(u,f),r.set(h,u+4),u+=4+f}return be(u===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}get fontFamily(){return N(this,Hu,Dg).call(this,0)}get fontWeight(){return N(this,Hu,Dg).call(this,1)}get italicAngle(){return N(this,Hu,Dg).call(this,2)}};zu=new WeakMap,Uu=new WeakMap,am=new WeakMap,Hu=new WeakSet,Dg=function(e){be(e<su.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=l(this,Uu).getUint32(t)+4;const n=l(this,Uu).getUint32(t);return l(this,am).decode(new Uint8Array(l(this,zu),t+4,n))},F(su,"strings",["fontFamily","fontWeight","italicAngle"]);let P0=su;var Ir,Ti,So,Ao,Bh;const nu=class nu{constructor(e){S(this,Ao);S(this,Ir);S(this,Ti);S(this,So);g(this,Ir,e),g(this,Ti,new DataView(l(this,Ir))),g(this,So,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const m of nu.strings){const p=t.encode(e[m]);n[m]=p,i+=4+p.length}i+=4;let a,r,o=1+i;e.style&&(a=t.encode(e.style.style),r=t.encode(e.style.weight),o+=4+a.length+4+r.length);const u=new ArrayBuffer(o),d=new Uint8Array(u),h=new DataView(u);let f=0;h.setUint8(f++,e.guessFallback?1:0),h.setUint32(f,0),f+=4,i=0;for(const m of nu.strings){const p=n[m],y=p.length;i+=4+y,h.setUint32(f,y),d.set(p,f+4),f+=4+y}return h.setUint32(f-i-4,i),e.style&&(h.setUint32(f,a.length),d.set(a,f+4),f+=4+a.length,h.setUint32(f,r.length),d.set(r,f+4),f+=4+r.length),be(f<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(f)}get guessFallback(){return l(this,Ti).getUint8(0)!==0}get css(){return N(this,Ao,Bh).call(this,0)}get loadedName(){return N(this,Ao,Bh).call(this,1)}get baseFontName(){return N(this,Ao,Bh).call(this,2)}get src(){return N(this,Ao,Bh).call(this,3)}get style(){let e=1;e+=4+l(this,Ti).getUint32(e);const t=l(this,Ti).getUint32(e),n=l(this,So).decode(new Uint8Array(l(this,Ir),e+4,t));e+=4+t;const i=l(this,Ti).getUint32(e),a=l(this,So).decode(new Uint8Array(l(this,Ir),e+4,i));return{style:n,weight:a}}};Ir=new WeakMap,Ti=new WeakMap,So=new WeakMap,Ao=new WeakSet,Bh=function(e){be(e<nu.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=l(this,Ti).getUint32(t)+4;const n=l(this,Ti).getUint32(t);return l(this,So).decode(new Uint8Array(l(this,Ir),t+4,n))},F(nu,"strings",["css","loadedName","baseFontName","src"]);let B0=nu;var Vu,Gu,$u,Yu,Ys,_i,rm,Re,dt,Kn,kg,Ih;const le=class le{constructor({data:e,extra:t}){S(this,dt);S(this,_i);S(this,rm);S(this,Re);g(this,_i,e),g(this,rm,new TextDecoder),g(this,Re,new DataView(l(this,_i))),t&&Object.assign(this,t)}get black(){return N(this,dt,Kn).call(this,0)}get bold(){return N(this,dt,Kn).call(this,1)}get disableFontFace(){return N(this,dt,Kn).call(this,2)}get fontExtraProperties(){return N(this,dt,Kn).call(this,3)}get isInvalidPDFjsFont(){return N(this,dt,Kn).call(this,4)}get isType3Font(){return N(this,dt,Kn).call(this,5)}get italic(){return N(this,dt,Kn).call(this,6)}get missingFile(){return N(this,dt,Kn).call(this,7)}get remeasure(){return N(this,dt,Kn).call(this,8)}get vertical(){return N(this,dt,Kn).call(this,9)}get ascent(){return N(this,dt,kg).call(this,0)}get defaultWidth(){return N(this,dt,kg).call(this,1)}get descent(){return N(this,dt,kg).call(this,2)}get bbox(){let e=l(le,Gu);if(l(this,Re).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<4;i++)n.push(l(this,Re).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=l(le,$u);if(l(this,Re).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<6;i++)n.push(l(this,Re).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=l(le,Yu);if(l(this,Re).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<3;i++)n.push(l(this,Re).getInt16(e,!0)),e+=2;return n}get fallbackName(){return N(this,dt,Ih).call(this,0)}get loadedName(){return N(this,dt,Ih).call(this,1)}get mimetype(){return N(this,dt,Ih).call(this,2)}get name(){return N(this,dt,Ih).call(this,3)}get data(){let e=l(le,Ys);const t=l(this,Re).getUint32(e);e+=4+t;const n=l(this,Re).getUint32(e);e+=4+n;const i=l(this,Re).getUint32(e);e+=4+i;const a=l(this,Re).getUint32(e);if(a!==0)return new Uint8Array(l(this,_i),e+4,a)}clearData(){let e=l(le,Ys);const t=l(this,Re).getUint32(e);e+=4+t;const n=l(this,Re).getUint32(e);e+=4+n;const i=l(this,Re).getUint32(e);e+=4+i;const a=l(this,Re).getUint32(e);new Uint8Array(l(this,_i),e+4,a).fill(0),l(this,Re).setUint32(e,0)}get cssFontInfo(){let e=l(le,Ys);const t=l(this,Re).getUint32(e);e+=4+t;const n=l(this,Re).getUint32(e);e+=4+n;const i=l(this,Re).getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(l(this,_i),e+4,i)),new P0(a.buffer)}get systemFontInfo(){let e=l(le,Ys);const t=l(this,Re).getUint32(e);e+=4+t;const n=l(this,Re).getUint32(e);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(l(this,_i),e+4,n)),new B0(i.buffer)}static write(e){const t=e.systemFontInfo?B0.write(e.systemFontInfo):null,n=e.cssFontInfo?P0.write(e.cssFontInfo):null,i=new TextEncoder,a={};let r=0;for(const b of le.strings)a[b]=i.encode(e[b]),r+=4+a[b].length;const o=l(le,Ys)+4+r+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(o),d=new Uint8Array(u),h=new DataView(u);let f=0;const m=le.bools.length;let p=0,y=0;for(let b=0;b<m;b++){const A=e[le.bools[b]];p|=(A===void 0?0:A?2:1)<<y,y+=2,(y===8||b===m-1)&&(h.setUint8(f++,p),p=0,y=0)}be(f===l(le,Vu),"FontInfo.write: Boolean properties offset mismatch");for(const b of le.numbers)h.setFloat64(f,e[b]),f+=8;if(be(f===l(le,Gu),"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(f++,4);for(const b of e.bbox)h.setInt16(f,b,!0),f+=2}else h.setUint8(f++,0),f+=2*4;if(be(f===l(le,$u),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(f++,6);for(const b of e.fontMatrix)h.setFloat64(f,b,!0),f+=8}else h.setUint8(f++,0),f+=8*6;if(be(f===l(le,Yu),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(f++,1);for(const b of e.defaultVMetrics)h.setInt16(f,b,!0),f+=2}else h.setUint8(f++,0),f+=3*2;be(f===l(le,Ys),"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(l(le,Ys),0),f+=4;for(const b of le.strings){const A=a[b],x=A.length;h.setUint32(f,x),d.set(A,f+4),f+=4+x}if(h.setUint32(l(le,Ys),f-l(le,Ys)-4),!t)h.setUint32(f,0),f+=4;else{const b=t.byteLength;h.setUint32(f,b),be(f+4+b<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(t),f+4),f+=4+b}if(!n)h.setUint32(f,0),f+=4;else{const b=n.byteLength;h.setUint32(f,b),be(f+4+b<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(n),f+4),f+=4+b}return e.data===void 0?(h.setUint32(f,0),f+=4):(h.setUint32(f,e.data.length),d.set(e.data,f+4),f+=4+e.data.length),be(f<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(f)}};Vu=new WeakMap,Gu=new WeakMap,$u=new WeakMap,Yu=new WeakMap,Ys=new WeakMap,_i=new WeakMap,rm=new WeakMap,Re=new WeakMap,dt=new WeakSet,Kn=function(e){be(e<le.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,i=l(this,Re).getUint8(t)>>n&3;return i===0?void 0:i===2},kg=function(e){return be(e<le.numbers.length,"Invalid number index"),l(this,Re).getFloat64(l(le,Vu)+e*8)},Ih=function(e){be(e<le.strings.length,"Invalid string index");let t=l(le,Ys)+4;for(let a=0;a<e;a++)t+=l(this,Re).getUint32(t)+4;const n=l(this,Re).getUint32(t),i=new Uint8Array(n);return i.set(new Uint8Array(l(this,_i),t+4,n)),l(this,rm).decode(i)},F(le,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),F(le,"numbers",["ascent","defaultWidth","descent"]),F(le,"strings",["fallbackName","loadedName","mimetype","name"]),S(le,Vu,Math.ceil(le.bools.length*2/8)),S(le,Gu,l(le,Vu)+le.numbers.length*8),S(le,$u,l(le,Gu)+1+2*4),S(le,Yu,l(le,$u)+1+8*6),S(le,Ys,l(le,Yu)+1+2*3);let uv=le;var lm,om;class zi{static get workerPort(){return l(this,lm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");g(this,lm,e)}static get workerSrc(){return l(this,om)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");g(this,om,e)}}lm=new WeakMap,om=new WeakMap,S(zi,lm,null),S(zi,om,"");var qu,cm;class zR{constructor({parsedData:e,rawData:t}){S(this,qu);S(this,cm);g(this,qu,e),g(this,cm,t)}getRaw(){return l(this,cm)}get(e){return l(this,qu).get(e)??null}[Symbol.iterator](){return l(this,qu).entries()}}qu=new WeakMap,cm=new WeakMap;const Fc=Symbol("INTERNAL");var um,dm,hm,Xu;class UR{constructor(e,{name:t,intent:n,usage:i,rbGroups:a}){S(this,um,!1);S(this,dm,!1);S(this,hm,!1);S(this,Xu,!0);g(this,um,!!(e&ln.DISPLAY)),g(this,dm,!!(e&ln.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=a}get visible(){if(l(this,hm))return l(this,Xu);if(!l(this,Xu))return!1;const{print:e,view:t}=this.usage;return l(this,um)?(t==null?void 0:t.viewState)!=="OFF":l(this,dm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Fc&&Ue("Internal method `_setVisible` called."),g(this,hm,n),g(this,Xu,t)}}um=new WeakMap,dm=new WeakMap,hm=new WeakMap,Xu=new WeakMap;var Fr,Le,Wu,Ku,fm,dv;class HR{constructor(e,t=ln.DISPLAY){S(this,fm);S(this,Fr,null);S(this,Le,new Map);S(this,Wu,null);S(this,Ku,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,g(this,Ku,e.order);for(const n of e.groups)l(this,Le).set(n.id,new UR(t,n));if(e.baseState==="OFF")for(const n of l(this,Le).values())n._setVisible(Fc,!1);for(const n of e.on)l(this,Le).get(n)._setVisible(Fc,!0);for(const n of e.off)l(this,Le).get(n)._setVisible(Fc,!1);g(this,Wu,this.getHash())}}isVisible(e){if(l(this,Le).size===0)return!0;if(!e)return kx("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,Le).has(e.id)?l(this,Le).get(e.id).visible:(ne(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return N(this,fm,dv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,Le).has(t))return ne(`Optional content group not found: ${t}`),!0;if(l(this,Le).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,Le).has(t))return ne(`Optional content group not found: ${t}`),!0;if(!l(this,Le).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,Le).has(t))return ne(`Optional content group not found: ${t}`),!0;if(!l(this,Le).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,Le).has(t))return ne(`Optional content group not found: ${t}`),!0;if(l(this,Le).get(t).visible)return!1}return!0}return ne(`Unknown optional content policy ${e.policy}.`),!0}return ne(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var a;const i=l(this,Le).get(e);if(!i){ne(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const r of i.rbGroups)for(const o of r)o!==e&&((a=l(this,Le).get(o))==null||a._setVisible(Fc,!1,!0));i._setVisible(Fc,!!t,!0),g(this,Fr,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const a=l(this,Le).get(i);if(a)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!a.visible,t);break}}g(this,Fr,null)}get hasInitialVisibility(){return l(this,Wu)===null||this.getHash()===l(this,Wu)}getOrder(){return l(this,Le).size?l(this,Ku)?l(this,Ku).slice():[...l(this,Le).keys()]:null}getGroup(e){return l(this,Le).get(e)||null}getHash(){if(l(this,Fr)!==null)return l(this,Fr);const e=new VC;for(const[t,n]of l(this,Le))e.update(`${t}:${n.visible}`);return g(this,Fr,e.hexdigest())}[Symbol.iterator](){return l(this,Le).entries()}}Fr=new WeakMap,Le=new WeakMap,Wu=new WeakMap,Ku=new WeakMap,fm=new WeakSet,dv=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const a=e[i];let r;if(Array.isArray(a))r=N(this,fm,dv).call(this,a);else if(l(this,Le).has(a))r=l(this,Le).get(a).visible;else return ne(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return n==="And"};class VR{constructor(e,{disableRange:t=!1,disableStream:n=!1}){be(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:r,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const u=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),e.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(n),!0)});be(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,a;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){be(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new GR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new $R(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class GR{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=mS(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class $R{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function YR(s){let e=!0,t=n("filename\\*","i").exec(s);if(t){t=t[1];let h=o(t);return h=unescape(h),h=u(h),h=d(h),a(h)}if(t=r(s),t){const h=d(t);return a(h)}if(t=n("filename","i").exec(s),t){t=t[1];let h=o(t);return h=d(h),a(h)}function n(h,f){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(h,f){if(h){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const m=new TextDecoder(h,{fatal:!0}),p=Np(f);f=m.decode(p),e=!1}catch{}}return f}function a(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function r(h){const f=[];let m;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=p.exec(h))!==null;){let[,b,A,x]=m;if(b=parseInt(b,10),b in f){if(b===0)break;continue}f[b]=[A,x]}const y=[];for(let b=0;b<f.length&&b in f;++b){let[A,x]=f[b];x=o(x),A&&(x=unescape(x),b===0&&(x=u(x))),y.push(x)}return y.join("")}function o(h){if(h.startsWith('"')){const f=h.slice(1).split('\\"');for(let m=0;m<f.length;++m){const p=f[m].indexOf('"');p!==-1&&(f[m]=f[m].slice(0,p),f.length=m+1),f[m]=f[m].replaceAll(/\\(.)/g,"$1")}h=f.join('"')}return h}function u(h){const f=h.indexOf("'");if(f===-1)return h;const m=h.slice(0,f),y=h.slice(f+1).replace(/^[^']*'/,"");return i(m,y)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,m,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,A){return String.fromCharCode(parseInt(A,16))}),i(m,y);try{y=atob(y)}catch{}return i(m,y)})}return""}function tj(s,e){const t=new Headers;if(!s||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function Lx(s){var e;return((e=URL.parse(s))==null?void 0:e.origin)??null}function sj({responseHeaders:s,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(s.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*t)||n||!e||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function nj(s){const e=s.get("Content-Disposition");if(e){let t=YR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(mS(t))return t}return null}function _p(s,e){return new D0(`Unexpected server response (${s}) while retrieving PDF "${e}".`,s,s===404||s===0&&e.startsWith("file:"))}function ij(s){return s===200||s===206}function aj(s,e,t){return{method:"GET",headers:s,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function rj(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(ne(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class qR{constructor(e){F(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=tj(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return be(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new XR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new WR(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class XR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,aj(n,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=Lx(a.url),!ij(a.status))throw _p(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const r=a.headers,{allowRangeRequests:o,suggestedLength:u}=sj({responseHeaders:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=u||this._contentLength,this._filename=nj(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Dl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:rj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class WR{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${n-1}`);const r=i.url;fetch(r,aj(a,this._withCredentials,this._abortController)).then(o=>{const u=Lx(o.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!ij(o.status))throw _p(o.status,r);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:rj(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Mb=200,Db=206;function KR(s){const e=s.response;return typeof e!="string"?e:Np(e).buffer}class QR{constructor({url:e,httpHeaders:t,withCredentials:n}){F(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=tj(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,r]of this.headers)t.setRequestHeader(a,r);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Db):i.expectedStatus=Mb,t.responseType="arraybuffer",be(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const a=i.status||Mb;if(!(a===Mb&&n.expectedStatus===Db)&&a!==n.expectedStatus){n.onError(i.status);return}const o=KR(i);if(a===Db){const u=i.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);d?n.onDone({begin:parseInt(d[1],10),chunk:o}):(ne('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class ZR{constructor(e){this._source=e,this._manager=new QR(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return be(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new JR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new e3(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class JR{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Lx(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[u,...d]=o.split(": ");return[u,d.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:r}=sj({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=nj(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=_p(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class e3{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Lx((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=_p(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const t3=/^[a-z][a-z0-9\-+.]+:/i;function s3(s){if(t3.test(s))return new URL(s);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(s))}class n3{constructor(e){this.source=e,this.url=s3(e.url),be(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return be(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new i3(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new a3(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class i3{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=_p(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Dl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class a3{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const gh=Symbol("INITIAL_DATA");var qs,mm,hv;class lj{constructor(){S(this,mm);S(this,qs,Object.create(null))}get(e,t=null){if(t){const i=N(this,mm,hv).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=l(this,qs)[e];if(!n||n.data===gh)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=l(this,qs)[e];return!!t&&t.data!==gh}delete(e){const t=l(this,qs)[e];return!t||t.data===gh?!1:(delete l(this,qs)[e],!0)}resolve(e,t=null){const n=N(this,mm,hv).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in l(this,qs)){const{data:n}=l(this,qs)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}g(this,qs,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,qs)){const{data:t}=l(this,qs)[e];t!==gh&&(yield[e,t])}}}qs=new WeakMap,mm=new WeakSet,hv=function(e){var t;return(t=l(this,qs))[e]||(t[e]={...Promise.withResolvers(),data:gh})};const r3=1e5,R1=30;var z1,zr,Rs,pm,gm,No,Ca,xm,bm,Eo,Qu,Zu,Ur,Ju,ym,ed,Co,vm,wm,td,jo,Sm,Hr,sd,lr,oj,cj,fv,bn,Rg,mv,uj,dj;const jt=class jt{constructor({textContentSource:e,container:t,viewport:n}){S(this,lr);S(this,zr,Promise.withResolvers());S(this,Rs,null);S(this,pm,!1);S(this,gm,!!((z1=globalThis.FontInspector)!=null&&z1.enabled));S(this,No,null);S(this,Ca,null);S(this,xm,0);S(this,bm,0);S(this,Eo,null);S(this,Qu,null);S(this,Zu,0);S(this,Ur,0);S(this,Ju,Object.create(null));S(this,ym,[]);S(this,ed,null);S(this,Co,[]);S(this,vm,new WeakMap);S(this,wm,null);var u;if(e instanceof ReadableStream)g(this,ed,e);else if(typeof e=="object")g(this,ed,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');g(this,Rs,g(this,Qu,t)),g(this,Ur,n.scale*Yi.pixelRatio),g(this,Zu,n.rotation),g(this,Ca,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:r,pageY:o}=n.rawDims;g(this,wm,[1,0,0,-1,-r,o+a]),g(this,bm,i),g(this,xm,a),N(u=jt,bn,uj).call(u),bc(t,n),l(this,zr).promise.finally(()=>{l(jt,sd).delete(this),g(this,Ca,null),g(this,Ju,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=is.platform;return de(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{l(this,Eo).read().then(({value:t,done:n})=>{if(n){l(this,zr).resolve();return}l(this,No)??g(this,No,t.lang),Object.assign(l(this,Ju),t.styles),N(this,lr,oj).call(this,t.items),e()},l(this,zr).reject)};return g(this,Eo,l(this,ed).getReader()),l(jt,sd).add(this),e(),l(this,zr).promise}update({viewport:e,onBefore:t=null}){var a;const n=e.scale*Yi.pixelRatio,i=e.rotation;if(i!==l(this,Zu)&&(t==null||t(),g(this,Zu,i),bc(l(this,Qu),{rotation:i})),n!==l(this,Ur)){t==null||t(),g(this,Ur,n);const r={div:null,properties:null,ctx:N(a=jt,bn,Rg).call(a,l(this,No))};for(const o of l(this,Co))r.properties=l(this,vm).get(o),r.div=o,N(this,lr,fv).call(this,r)}}cancel(){var t;const e=new Dl("TextLayer task cancelled.");(t=l(this,Eo))==null||t.cancel(e).catch(()=>{}),g(this,Eo,null),l(this,zr).reject(e)}get textDivs(){return l(this,Co)}get textContentItemsStr(){return l(this,ym)}static cleanup(){if(!(l(this,sd).size>0)){l(this,td).clear();for(const{canvas:e}of l(this,jo).values())e.remove();l(this,jo).clear()}}};zr=new WeakMap,Rs=new WeakMap,pm=new WeakMap,gm=new WeakMap,No=new WeakMap,Ca=new WeakMap,xm=new WeakMap,bm=new WeakMap,Eo=new WeakMap,Qu=new WeakMap,Zu=new WeakMap,Ur=new WeakMap,Ju=new WeakMap,ym=new WeakMap,ed=new WeakMap,Co=new WeakMap,vm=new WeakMap,wm=new WeakMap,td=new WeakMap,jo=new WeakMap,Sm=new WeakMap,Hr=new WeakMap,sd=new WeakMap,lr=new WeakSet,oj=function(e){var i,a;if(l(this,pm))return;(a=l(this,Ca)).ctx??(a.ctx=N(i=jt,bn,Rg).call(i,l(this,No)));const t=l(this,Co),n=l(this,ym);for(const r of e){if(t.length>r3){ne("Ignoring additional textDivs for performance reasons."),g(this,pm,!0);return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=l(this,Rs);g(this,Rs,document.createElement("span")),l(this,Rs).classList.add("markedContent"),r.id&&l(this,Rs).setAttribute("id",`${r.id}`),o.append(l(this,Rs))}else r.type==="endMarkedContent"&&g(this,Rs,l(this,Rs).parentNode);continue}n.push(r.str),N(this,lr,cj).call(this,r)}},cj=function(e){var b;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,Co).push(t);const i=G.transform(l(this,wm),e.transform);let a=Math.atan2(i[1],i[0]);const r=l(this,Ju)[e.fontName];r.vertical&&(a+=Math.PI/2);let o=l(this,gm)&&r.fontSubstitution||r.fontFamily;o=jt.fontFamilyMap.get(o)||o;const u=Math.hypot(i[2],i[3]),d=u*N(b=jt,bn,dj).call(b,o,r,l(this,No));let h,f;a===0?(h=i[4],f=i[5]-d):(h=i[4]+d*Math.sin(a),f=i[5]-d*Math.cos(a));const m="calc(var(--total-scale-factor) *",p=t.style;l(this,Rs)===l(this,Qu)?(p.left=`${(100*h/l(this,bm)).toFixed(2)}%`,p.top=`${(100*f/l(this,xm)).toFixed(2)}%`):(p.left=`${m}${h.toFixed(2)}px)`,p.top=`${m}${f.toFixed(2)}px)`),p.fontSize=`${m}${(l(jt,Hr)*u).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,gm)&&(t.dataset.fontName=r.fontSubstitutionLoadedName||e.fontName),a!==0&&(n.angle=a*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);A!==x&&Math.max(A,x)/Math.min(A,x)>1.5&&(y=!0)}if(y&&(n.canvasWidth=r.vertical?e.height:e.width),l(this,vm).set(t,n),l(this,Ca).div=t,l(this,Ca).properties=n,N(this,lr,fv).call(this,l(this,Ca)),n.hasText&&l(this,Rs).append(t),n.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),l(this,Rs).append(A)}},fv=function(e){var o;const{div:t,properties:n,ctx:i}=e,{style:a}=t;let r="";if(l(jt,Hr)>1&&(r=`scale(${1/l(jt,Hr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=a,{canvasWidth:d,fontSize:h}=n;N(o=jt,bn,mv).call(o,i,h*l(this,Ur),u);const{width:f}=i.measureText(t.textContent);f>0&&(r=`scaleX(${d*l(this,Ur)/f}) ${r}`)}n.angle!==0&&(r=`rotate(${n.angle}deg) ${r}`),r.length>0&&(a.transform=r)},bn=new WeakSet,Rg=function(e=null){let t=l(this,jo).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,jo).set(e,t),l(this,Sm).set(t,{size:0,family:""})}return t},mv=function(e,t,n){const i=l(this,Sm).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},uj=function(){if(l(this,Hr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),g(this,Hr,e.getBoundingClientRect().height),e.remove()},dj=function(e,t,n){const i=l(this,td).get(e);if(i)return i;const a=N(this,bn,Rg).call(this,n);a.canvas.width=a.canvas.height=R1,N(this,bn,mv).call(this,a,R1,e);const r=a.measureText(""),o=r.fontBoundingBoxAscent,u=Math.abs(r.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let d=.8;return o?d=o/(o+u):(is.platform.isFirefox&&ne("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?d=t.ascent:t.descent&&(d=1+t.descent)),l(this,td).set(e,d),d},S(jt,bn),S(jt,td,new Map),S(jt,jo,new Map),S(jt,Sm,new WeakMap),S(jt,Hr,null),S(jt,sd,new Set);let Cf=jt;const l3=100;function hj(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const e=new pv,{docId:t}=e,n=s.url?mR(s.url):null,i=s.data?pR(s.data):null,a=s.httpHeaders||null,r=s.withCredentials===!0,o=s.password??null,u=s.range instanceof fj?s.range:null,d=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:2**16;let h=s.worker instanceof jf?s.worker:null;const f=s.verbosity,m=typeof s.docBaseUrl=="string"&&!Rx(s.docBaseUrl)?s.docBaseUrl:null,p=Kp(s.cMapUrl),y=s.cMapPacked!==!1,b=s.CMapReaderFactory||(bs?AR:y1),A=Kp(s.iccUrl),x=Kp(s.standardFontDataUrl),v=s.StandardFontDataFactory||(bs?NR:v1),w=Kp(s.wasmUrl),E=s.WasmFactory||(bs?ER:w1),j=s.stopAtErrors!==!0,T=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,C=s.isEvalSupported!==!1,_=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!bs,D=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!bs&&(is.platform.isFirefox||!globalThis.chrome),k=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,R=typeof s.disableFontFace=="boolean"?s.disableFontFace:bs,L=s.fontExtraProperties===!0,q=s.enableXfa===!0,X=s.ownerDocument||globalThis.document,ee=s.disableRange===!0,O=s.disableStream===!0,I=s.disableAutoFetch===!0,U=s.pdfBug===!0,P=s.CanvasFactory||(bs?SR:yR),$=s.FilterFactory||(bs?wR:vR),te=s.enableHWA===!0,Q=s.useWasm!==!1,se=u?u.length:s.length??NaN,ve=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!bs&&!R,rt=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:!!(b===y1&&v===v1&&E===w1&&p&&x&&w&&Ch(p,document.baseURI)&&Ch(x,document.baseURI)&&Ch(w,document.baseURI)),Xn=null;Hk(f);const he={canvasFactory:new P({ownerDocument:X,enableHWA:te}),filterFactory:new $({docId:t,ownerDocument:X}),cMapReaderFactory:rt?null:new b({baseUrl:p,isCompressed:y}),standardFontDataFactory:rt?null:new v({baseUrl:x}),wasmFactory:rt?null:new E({baseUrl:w})};h||(h=jf.create({verbosity:f,port:zi.workerPort}),e._worker=h);const ah={docId:t,apiVersion:"5.4.296",data:i,password:o,disableAutoFetch:I,rangeChunkSize:d,length:se,docBaseUrl:m,enableXfa:q,evaluatorOptions:{maxImageSize:T,disableFontFace:R,ignoreErrors:j,isEvalSupported:C,isOffscreenCanvasSupported:_,isImageDecoderSupported:D,canvasMaxAreaInBytes:k,fontExtraProperties:L,useSystemFonts:ve,useWasm:Q,useWorkerFetch:rt,cMapUrl:p,iccUrl:A,standardFontDataUrl:x,wasmUrl:w}},Px={ownerDocument:X,pdfBug:U,styleElement:Xn,loadingParams:{disableAutoFetch:I,enableXfa:q}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const rh=h.messageHandler.sendWithPromise("GetDocRequest",ah,i?[i.buffer]:null);let Bl;if(u)Bl=new VR(u,{disableRange:ee,disableStream:O});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Bx=Ch(n)?qR:bs?n3:ZR;Bl=new Bx({url:n,length:se,httpHeaders:a,withCredentials:r,rangeChunkSize:d,disableRange:ee,disableStream:O})}return rh.then(Bx=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const TS=new kh(t,Bx,h.port),pT=new u3(TS,e,Bl,Px,he,te);e._transport=pT,TS.send("Ready",null)})}).catch(e._capability.reject),e}var J0;const ex=class ex{constructor(){F(this,"_capability",Promise.withResolvers());F(this,"_transport",null);F(this,"_worker",null);F(this,"docId",`d${Ct(ex,J0)._++}`);F(this,"destroyed",!1);F(this,"onPassword",null);F(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(a){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,a}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};J0=new WeakMap,S(ex,J0,0);let pv=ex;var To,Am,Nm,Em,Cm;class fj{constructor(e,t,n=!1,i=null){S(this,To,Promise.withResolvers());S(this,Am,[]);S(this,Nm,[]);S(this,Em,[]);S(this,Cm,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){l(this,Cm).push(e)}addProgressListener(e){l(this,Em).push(e)}addProgressiveReadListener(e){l(this,Nm).push(e)}addProgressiveDoneListener(e){l(this,Am).push(e)}onDataRange(e,t){for(const n of l(this,Cm))n(e,t)}onDataProgress(e,t){l(this,To).promise.then(()=>{for(const n of l(this,Em))n(e,t)})}onDataProgressiveRead(e){l(this,To).promise.then(()=>{for(const t of l(this,Nm))t(e)})}onDataProgressiveDone(){l(this,To).promise.then(()=>{for(const e of l(this,Am))e()})}transportReady(){l(this,To).resolve()}requestDataRange(e,t){Ue("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}To=new WeakMap,Am=new WeakMap,Nm=new WeakMap,Em=new WeakMap,Cm=new WeakMap;class o3{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ja,_o,Fh;class c3{constructor(e,t,n,i=!1){S(this,_o);S(this,ja,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new h1:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new lj,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:a=!1}={}){return new Cp({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:a=br.ENABLE,transform:r=null,background:o=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:h=null,printAnnotationStorage:f=null,isEditing:m=!1,recordOperations:p=!1,operationsFilter:y=null}){var D,k,R;(D=this._stats)==null||D.time("Overall");const b=this._transport.getRenderingIntent(i,a,f,m),{renderingIntent:A,cacheKey:x}=b;g(this,ja,!1),u||(u=this._transport.getOptionalContentConfig(A));let v=this._intentStates.get(x);v||(v=Object.create(null),this._intentStates.set(x,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const w=!!(A&ln.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(k=this._stats)==null||k.time("Page Request"),this._pumpOperatorList(b));const E=!!(this._pdfBug&&((R=globalThis.StepperManager)!=null&&R.enabled)),j=!this.recordedBBoxes&&(p||E),T=L=>{var q,X;if(v.renderTasks.delete(C),j){const ee=(q=C.gfx)==null?void 0:q.dependencyTracker.take();ee&&(C.stepper&&C.stepper.setOperatorBBoxes(ee,C.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=ee))}w&&g(this,ja,!0),N(this,_o,Fh).call(this),L?(C.capability.reject(L),this._abortOperatorList({intentState:v,reason:L instanceof Error?L:new Error(L)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(X=globalThis.Stats)!=null&&X.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new gv({callback:T,params:{canvas:t,canvasContext:e,dependencyTracker:j?new jR(t,v.operatorList.length,E):null,viewport:n,transform:r,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:y});(v.renderTasks||(v.renderTasks=new Set)).add(C);const _=C.task;return Promise.all([v.displayReadyCapability.promise,u]).then(([L,q])=>{var X;if(this.destroyed){T();return}if((X=this._stats)==null||X.time("Rendering"),!(q.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:L,optionalContentConfig:q}),C.operatorListChanged()}).catch(T),_}getOperatorList({intent:e="display",annotationMode:t=br.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var d;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(u))}const r=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(r.cacheKey);o||(o=Object.create(null),this._intentStates.set(r.cacheKey,o));let u;return o.opListReadCapability||(u=Object.create(null),u.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(u),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(r)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ef.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function a(){r.read().then(function({value:u,done:d}){if(d){n(o);return}o.lang??(o.lang=u.lang),Object.assign(o.styles,u.styles),o.items.push(...u.items),a()},i)}const r=t.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),g(this,ja,!1),Promise.all(e)}cleanup(e=!1){g(this,ja,!0);const t=N(this,_o,Fh).call(this);return e&&t&&this._stats&&(this._stats=new h1),t}_startRenderPage(e,t){var i,a;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&N(this,_o,Fh).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:a,transfer:r}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:i},r).getReader(),d=this._intentStates.get(t);d.streamReader=u;const h=()=>{u.read().then(({value:f,done:m})=>{if(m){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,d),h())},f=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const m of d.renderTasks)m.operatorListChanged();N(this,_o,Fh).call(this)}if(d.displayReadyCapability)d.displayReadyCapability.reject(f);else if(d.opListReadCapability)d.opListReadCapability.reject(f);else throw f}})};h()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof fS){let i=l3;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Dl(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ja=new WeakMap,_o=new WeakSet,Fh=function(){if(!l(this,ja)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),g(this,ja,!1),!0};var Vr,ni,Ta,Mo,tx,Do,ko,ws,Lg,mj,pj,zh,nd,Og;const Qe=class Qe{constructor({name:e=null,port:t=null,verbosity:n=Vk()}={}){S(this,ws);S(this,Vr,Promise.withResolvers());S(this,ni,null);S(this,Ta,null);S(this,Mo,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(l(Qe,ko).has(t))throw new Error("Cannot use more than one PDFWorker per port.");l(Qe,ko).set(t,this),N(this,ws,mj).call(this,t)}else N(this,ws,pj).call(this)}get promise(){return l(this,Vr).promise}get port(){return l(this,Ta)}get messageHandler(){return l(this,ni)}destroy(){var e,t;this.destroyed=!0,(e=l(this,Mo))==null||e.terminate(),g(this,Mo,null),l(Qe,ko).delete(l(this,Ta)),g(this,Ta,null),(t=l(this,ni))==null||t.destroy(),g(this,ni,null)}static create(e){const t=l(this,ko).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Qe(e)}static get workerSrc(){if(zi.workerSrc)return zi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return de(this,"_setupFakeWorkerGlobal",(async()=>l(this,nd,Og)?l(this,nd,Og):(await import(this.workerSrc)).WorkerMessageHandler)())}};Vr=new WeakMap,ni=new WeakMap,Ta=new WeakMap,Mo=new WeakMap,tx=new WeakMap,Do=new WeakMap,ko=new WeakMap,ws=new WeakSet,Lg=function(){l(this,Vr).resolve(),l(this,ni).send("configure",{verbosity:this.verbosity})},mj=function(e){g(this,Ta,e),g(this,ni,new kh("main","worker",e)),l(this,ni).on("ready",()=>{}),N(this,ws,Lg).call(this)},pj=function(){if(l(Qe,Do)||l(Qe,nd,Og)){N(this,ws,zh).call(this);return}let{workerSrc:e}=Qe;try{Qe._isSameOrigin(window.location,e)||(e=Qe._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new kh("main","worker",t),i=()=>{a.abort(),n.destroy(),t.terminate(),this.destroyed?l(this,Vr).reject(new Error("Worker was destroyed")):N(this,ws,zh).call(this)},a=new AbortController;t.addEventListener("error",()=>{l(this,Mo)||i()},{signal:a.signal}),n.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}g(this,ni,n),g(this,Ta,t),g(this,Mo,t),N(this,ws,Lg).call(this)}),n.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{r()}catch{N(this,ws,zh).call(this)}});const r=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};r();return}catch{kx("The worker has been disabled.")}N(this,ws,zh).call(this)},zh=function(){l(Qe,Do)||(ne("Setting up fake worker."),g(Qe,Do,!0)),Qe._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){l(this,Vr).reject(new Error("Worker was destroyed"));return}const t=new bR;g(this,Ta,t);const n=`fake${Ct(Qe,tx)._++}`,i=new kh(n+"_worker",n,t);e.setup(i,t),g(this,ni,new kh(n,n+"_worker",t)),N(this,ws,Lg).call(this)}).catch(e=>{l(this,Vr).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},nd=new WeakSet,Og=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(Qe,nd),S(Qe,tx,0),S(Qe,Do,!1),S(Qe,ko,new WeakMap),bs&&(g(Qe,Do,!0),zi.workerSrc||(zi.workerSrc="./pdf.worker.mjs")),Qe._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},Qe._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Qe.fromPort=e=>{if(tR("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Qe.create(e)};let jf=Qe;var _a,Mi,id,ad,Ma,Ro,Uh;class u3{constructor(e,t,n,i,a,r){S(this,Ro);S(this,_a,new Map);S(this,Mi,new Map);S(this,id,new Map);S(this,ad,new Map);S(this,Ma,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new lj,this.fontLoader=new hR({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=r,this.setupMessageHandler()}get annotationStorage(){return de(this,"annotationStorage",new pS)}getRenderingIntent(e,t=br.ENABLE,n=null,i=!1,a=!1){let r=ln.DISPLAY,o=Jy;switch(e){case"any":r=ln.ANY;break;case"display":break;case"print":r=ln.PRINT;break;default:ne(`getRenderingIntent - invalid intent: ${e}`)}const u=r&ln.PRINT&&n instanceof $C?n:this.annotationStorage;switch(t){case br.DISABLE:r+=ln.ANNOTATIONS_DISABLE;break;case br.ENABLE:break;case br.ENABLE_FORMS:r+=ln.ANNOTATIONS_FORMS;break;case br.ENABLE_STORAGE:r+=ln.ANNOTATIONS_STORAGE,o=u.serializable;break;default:ne(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(r+=ln.IS_EDITING),a&&(r+=ln.OPLIST);const{ids:d,hash:h}=u.modifiedIds,f=[r,o.hash,h];return{renderingIntent:r,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:d}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=l(this,Ma))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of l(this,Mi).values())e.push(i._destroy());l(this,Mi).clear(),l(this,id).clear(),l(this,ad).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,a;this.commonObjs.clear(),this.fontLoader.clear(),l(this,_a).clear(),this.filterFactory.destroy(),Cf.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Dl("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{be(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:r}){if(r){i.close();return}be(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(r=>{if(!this.destroyed)throw r})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:r}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=u=>{var d;(d=t.onProgress)==null||d.call(t,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:r}}),e.on("GetRangeReader",(n,i)=>{be(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:r,done:o}){if(o){i.close();return}be(r instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{a.cancel(r),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new o3(n,this))}),e.on("DocException",n=>{t._capability.reject(js(n))}),e.on("PasswordRequest",n=>{g(this,Ma,Promise.withResolvers());try{if(!t.onPassword)throw js(n);const i=a=>{a instanceof Error?l(this,Ma).reject(a):l(this,Ma).resolve({password:a})};t.onPassword(i,n.code)}catch(i){l(this,Ma).reject(i)}return l(this,Ma).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;l(this,Mi).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,a])=>{var r;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in a){const f=a.error;ne(`Error during font loading: ${f}`),this.commonObjs.resolve(n,f);break}const o=new uv(a),u=this._params.pdfBug&&((r=globalThis.FontInspector)!=null&&r.enabled)?(f,m)=>globalThis.FontInspector.fontAdded(f,m):null,d=new fR(o,u,a.extra,a.charProcOperatorList);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:h}=a;be(h,"The imageRef must be defined.");for(const f of l(this,Mi).values())for(const[,m]of f.objs)if((m==null?void 0:m.ref)===h)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,a,r])=>{var u;if(this.destroyed)return;const o=l(this,Mi).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(u=r==null?void 0:r.bitmap)==null||u.close();return}switch(a){case"Image":case"Pattern":o.objs.resolve(n,r);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&ne("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=l(this,id).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&l(this,ad).set(a.refStr,e);const r=new c3(t,a,this,this._params.pdfBug);return l(this,Mi).set(t,r),r});return l(this,id).set(t,i),i}getPageIndex(e){return ev(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return N(this,Ro,Uh).call(this,"GetFieldObjects")}hasJSActions(){return N(this,Ro,Uh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return N(this,Ro,Uh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return N(this,Ro,Uh).call(this,"GetOptionalContentConfig").then(t=>new HR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,_a).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,r;return{info:i[0],metadata:i[1]?new zR(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((r=this._fullReader)==null?void 0:r.contentLength)??null}});return l(this,_a).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,Mi).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,_a).clear(),this.filterFactory.destroy(!0),Cf.cleanup()}}cachedPageNumber(e){if(!ev(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,ad).get(t)??null}}_a=new WeakMap,Mi=new WeakMap,id=new WeakMap,ad=new WeakMap,Ma=new WeakMap,Ro=new WeakSet,Uh=function(e,t=null){const n=l(this,_a).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return l(this,_a).set(e,i),i};var Gr;class d3{constructor(e){S(this,Gr,null);F(this,"onContinue",null);F(this,"onError",null);g(this,Gr,e)}get promise(){return l(this,Gr).capability.promise}cancel(e=0){l(this,Gr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,Gr).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,Gr);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Gr=new WeakMap;var $r,Lo;const ql=class ql{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:a,operatorList:r,pageIndex:o,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:f=!1,pageColors:m=null,enableHWA:p=!1,operationsFilter:y=null}){S(this,$r,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=o,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=f,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new d3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=y}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var u,d;if(this.cancelled)return;if(this._canvas){if(l(ql,Lo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(ql,Lo).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:a,dependencyTracker:r}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new hu(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,r),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var n,i,a;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),l(this,$r)&&(window.cancelAnimationFrame(l(this,$r)),g(this,$r,null)),l(ql,Lo).delete(this._canvas),e||(e=new fS(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(a=(i=this.task).onError)==null||a.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?g(this,$r,window.requestAnimationFrame(()=>{g(this,$r,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(ql,Lo).delete(this._canvas),this.callback())))}};$r=new WeakMap,Lo=new WeakMap,S(ql,Lo,new WeakSet);let gv=ql;const h3="5.4.296",f3="f56dc8601";var Xs,Oo,rd,Mt,jm,ld,Da,Tm,Yr,ii,_m,Be,xv,bv,yv,Vl,gj,dr;const Ts=class Ts{constructor({editor:e=null,uiManager:t=null}){S(this,Be);S(this,Xs,null);S(this,Oo,null);S(this,rd);S(this,Mt,null);S(this,jm,!1);S(this,ld,!1);S(this,Da,null);S(this,Tm);S(this,Yr,null);S(this,ii,null);var n,i;e?(g(this,ld,!1),g(this,Da,e)):g(this,ld,!0),g(this,ii,(e==null?void 0:e._uiManager)||t),g(this,Tm,l(this,ii)._eventBus),g(this,rd,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=l(this,ii))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),l(Ts,_m)||g(Ts,_m,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return de(this,"_keyboardManager",new Tp([[["Escape","mac+Escape"],Ts.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ts.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ts.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ts.prototype._moveToPrevious],[["Home","mac+Home"],Ts.prototype._moveToBeginning],[["End","mac+End"],Ts.prototype._moveToEnd]]))}renderButton(){const e=g(this,Xs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",l(this,Da)&&(e.ariaControls=`${l(this,Da).id}_colorpicker_dropdown`);const t=l(this,ii)._signal;e.addEventListener("click",N(this,Be,Vl).bind(this),{signal:t}),e.addEventListener("keydown",N(this,Be,yv).bind(this),{signal:t});const n=g(this,Oo,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=l(this,rd),e.append(n),e}renderMainDropdown(){const e=g(this,Mt,N(this,Be,xv).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===l(this,Xs)){N(this,Be,Vl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&N(this,Be,bv).call(this,t,e)}_moveToNext(e){var t,n;if(!l(this,Be,dr)){N(this,Be,Vl).call(this,e);return}if(e.target===l(this,Xs)){(t=l(this,Mt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=l(this,Mt))==null?void 0:t.firstChild)||e.target===l(this,Xs)){l(this,Be,dr)&&this._hideDropdownFromKeyboard();return}l(this,Be,dr)||N(this,Be,Vl).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!l(this,Be,dr)){N(this,Be,Vl).call(this,e);return}(t=l(this,Mt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,Be,dr)){N(this,Be,Vl).call(this,e);return}(t=l(this,Mt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=l(this,Mt))==null||e.classList.add("hidden"),l(this,Xs).ariaExpanded="false",(t=l(this,Yr))==null||t.abort(),g(this,Yr,null)}_hideDropdownFromKeyboard(){var e;if(!l(this,ld)){if(!l(this,Be,dr)){(e=l(this,Da))==null||e.unselect();return}this.hideDropdown(),l(this,Xs).focus({preventScroll:!0,focusVisible:l(this,jm)})}}updateColor(e){if(l(this,Oo)&&(l(this,Oo).style.backgroundColor=e),!l(this,Mt))return;const t=l(this,ii).highlightColors.values();for(const n of l(this,Mt).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=l(this,Xs))==null||e.remove(),g(this,Xs,null),g(this,Oo,null),(t=l(this,Mt))==null||t.remove(),g(this,Mt,null)}};Xs=new WeakMap,Oo=new WeakMap,rd=new WeakMap,Mt=new WeakMap,jm=new WeakMap,ld=new WeakMap,Da=new WeakMap,Tm=new WeakMap,Yr=new WeakMap,ii=new WeakMap,_m=new WeakMap,Be=new WeakSet,xv=function(){const e=document.createElement("div"),t=l(this,ii)._signal;e.addEventListener("contextmenu",qn,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,Da)&&(e.id=`${l(this,Da).id}_colorpicker_dropdown`);for(const[n,i]of l(this,ii).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=n,a.setAttribute("data-l10n-id",l(Ts,_m)[n]);const r=document.createElement("span");a.append(r),r.className="swatch",r.style.backgroundColor=i,a.ariaSelected=i===l(this,rd),a.addEventListener("click",N(this,Be,bv).bind(this,i),{signal:t}),e.append(a)}return e.addEventListener("keydown",N(this,Be,yv).bind(this),{signal:t}),e},bv=function(e,t){t.stopPropagation(),l(this,Tm).dispatch("switchannotationeditorparams",{source:this,type:xe.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},yv=function(e){Ts._keyboardManager.exec(this,e)},Vl=function(e){if(l(this,Be,dr)){this.hideDropdown();return}if(g(this,jm,e.detail===0),l(this,Yr)||(g(this,Yr,new AbortController),window.addEventListener("pointerdown",N(this,Be,gj).bind(this),{signal:l(this,ii).combinedSignal(l(this,Yr))})),l(this,Xs).ariaExpanded="true",l(this,Mt)){l(this,Mt).classList.remove("hidden");return}const t=g(this,Mt,N(this,Be,xv).call(this));l(this,Xs).append(t)},gj=function(e){var t;(t=l(this,Mt))!=null&&t.contains(e.target)||this.hideDropdown()},dr=function(){return l(this,Mt)&&!l(this,Mt).classList.contains("hidden")},S(Ts,_m,null);let I0=Ts;var Di,Mm,od,Dm;const Xl=class Xl{constructor(e){S(this,Di,null);S(this,Mm,null);S(this,od,null);g(this,Mm,e),g(this,od,e._uiManager),l(Xl,Dm)||g(Xl,Dm,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(l(this,Di))return l(this,Di);const{editorType:e,colorType:t,colorValue:n}=l(this,Mm),i=g(this,Di,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",l(Xl,Dm)[e]),i.addEventListener("input",()=>{l(this,od).updateParams(t,i.value)},{signal:l(this,od)._signal}),i}update(e){l(this,Di)&&(l(this,Di).value=e)}destroy(){var e;(e=l(this,Di))==null||e.remove(),g(this,Di,null)}hideDropdown(){}};Di=new WeakMap,Mm=new WeakMap,od=new WeakMap,Dm=new WeakMap,S(Xl,Dm,null);let F0=Xl;function L1(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function xh(s){return Math.max(0,Math.min(255,255*s))}class O1{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=xh(e),[e,e,e]}static G_HTML([e]){const t=L1(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(xh)}static RGB_HTML(e){return`#${e.map(L1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[xh(1-Math.min(1,e+i)),xh(1-Math.min(1,n+i)),xh(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,a=1-t,r=1-n,o=Math.min(i,a,r);return["CMYK",i,a,r,o]}}class m3{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ue("Abstract method `_createSVG` called.")}}class z0 extends m3{_createSVG(e){return document.createElementNS(na,e)}}const p3=9,vc=new WeakSet,g3=new Date().getTimezoneOffset()*60*1e3;class P1{static create(e){switch(e.data.annotationType){case yt.LINK:return new bS(e);case yt.TEXT:return new b3(e);case yt.WIDGET:switch(e.data.fieldType){case"Tx":return new y3(e);case"Btn":return e.data.radioButton?new yj(e):e.data.checkBox?new w3(e):new S3(e);case"Ch":return new A3(e);case"Sig":return new v3(e)}return new jc(e);case yt.POPUP:return new wv(e);case yt.FREETEXT:return new Nj(e);case yt.LINE:return new E3(e);case yt.SQUARE:return new C3(e);case yt.CIRCLE:return new j3(e);case yt.POLYLINE:return new Ej(e);case yt.CARET:return new _3(e);case yt.INK:return new yS(e);case yt.POLYGON:return new T3(e);case yt.HIGHLIGHT:return new Cj(e);case yt.UNDERLINE:return new M3(e);case yt.SQUIGGLY:return new D3(e);case yt.STRIKEOUT:return new k3(e);case yt.STAMP:return new jj(e);case yt.FILEATTACHMENT:return new R3(e);default:return new at(e)}}}var Po,cd,Dn,km,vv;const CS=class CS{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){S(this,km);S(this,Po,null);S(this,cd,!1);S(this,Dn,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return CS._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,t=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:i}=this.data;let a=-1/0,r=-1/0;if((t==null?void 0:t.length)>=8){for(let u=0;u<t.length;u+=8)t[u+1]>r?(r=t[u+1],a=t[u+2]):t[u+1]===r&&(a=Math.max(a,t[u+2]));return[a,r]}if((n==null?void 0:n.length)>=1){for(const u of n)for(let d=0,h=u.length;d<h;d+=2)u[d+1]>r?(r=u[d+1],a=u[d]):u[d+1]===r&&(a=Math.max(a,u[d]));if(a!==1/0)return[a,r]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:r}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-a)/n,e[1]=100*(e[1]-r)/i,e}get commentText(){var t,n,i;const{data:e}=this;return((n=(t=this.annotationStorage.getRawValue(`${Af}${e.id}`))==null?void 0:t.popup)==null?void 0:n.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${Af}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=l(this,Dn))==null?void 0:e.popup)||this.popup)==null||t.remove(),g(this,Dn,this.popup=null)}updateEdited(e){var a;if(!this.container)return;e.rect&&(l(this,Po)||g(this,Po,{rect:this.data.rect.slice(0)}));const{rect:t,popup:n}=e;t&&N(this,km,vv).call(this,t);let i=((a=l(this,Dn))==null?void 0:a.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=l(this,Dn).popup),i&&(i.updateEdited(e),n!=null&&n.deleted&&(i.remove(),g(this,Dn,null),this.popup=null))}resetEdited(){var e;l(this,Po)&&(N(this,km,vv).call(this,l(this,Po).rect),(e=l(this,Dn))==null||e.popup.resetEdited(),g(this,Po,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),!(this instanceof jc)&&!(this instanceof bS)&&(a.tabIndex=0);const{style:r}=a;if(r.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof wv){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,a),a}const{width:o,height:u}=this;if(!e&&t.borderStyle.width>0){r.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(b>0||A>0){const v=`calc(${b}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;r.borderRadius=v}else if(this instanceof yj){const v=`calc(${o}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;r.borderRadius=v}switch(t.borderStyle.style){case Lc.SOLID:r.borderStyle="solid";break;case Lc.DASHED:r.borderStyle="dashed";break;case Lc.BEVELED:ne("Unimplemented border style: beveled");break;case Lc.INSET:ne("Unimplemented border style: inset");break;case Lc.UNDERLINE:r.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(g(this,cd,!0),r.borderColor=G.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):r.borderWidth=0}const d=G.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:f,pageX:m,pageY:p}=i.rawDims;r.left=`${100*(d[0]-m)/h}%`,r.top=`${100*(d[1]-p)/f}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(r.width=`${100*o/h}%`,r.height=`${100*u/f}%`):this.setRotation(y,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:r}=this;e%180!==0&&([a,r]=[r,a]),t.style.width=`${100*a/n}%`,t.style.height=`${100*r/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const a=i.detail[t],r=a[0],o=a.slice(1);i.target.style[n]=O1[`${r}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:O1[`${r}_rgb`](o)})};return de(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const a=e[i]||n[i];a==null||a(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,a]of Object.entries(t)){const r=n[i];if(r){const o={detail:{[i]:a},target:e};r(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,a]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,A,x,v]=e.subarray(2,6);if(i===b&&a===A&&t===x&&n===v)return}const{style:r}=this.container;let o;if(l(this,cd)){const{borderColor:b,borderWidth:A}=r;r.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const u=i-t,d=a-n,{svgFactory:h}=this,f=h.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const m=h.createElement("defs");f.append(m);const p=h.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),m.append(p);for(let b=2,A=e.length;b<A;b+=8){const x=e[b],v=e[b+1],w=e[b+2],E=e[b+3],j=h.createElement("rect"),T=(w-t)/u,C=(a-v)/d,_=(x-w)/u,D=(v-E)/d;j.setAttribute("x",T),j.setAttribute("y",C),j.setAttribute("width",_),j.setAttribute("height",D),p.append(j),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${C}" width="${_}" height="${D}"/>`)}l(this,cd)&&(o.push("</g></svg>')"),r.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${y})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate);const a=g(this,Dn,new wv({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(a.render())}get hasPopupElement(){return!!(l(this,Dn)||this.popup||this.data.popupRef)}get extraPopupElement(){return l(this,Dn)}render(){Ue("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:r,exportValues:o}of i){if(a===-1||r===t)continue;const u=typeof o=="string"?o:null,d=document.querySelector(`[data-element-id="${r}"]`);if(d&&!vc.has(d)){ne(`_getElementsByName - element not allowed: ${r}`);continue}n.push({id:r,exportValue:u,domElement:d})}return n}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,r=i.getAttribute("data-element-id");r!==t&&vc.has(i)&&n.push({id:r,exportValue:a,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Po=new WeakMap,cd=new WeakMap,Dn=new WeakMap,km=new WeakSet,vv=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:r,pageX:o,pageY:u}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-o)/a}%`,t.top=`${100*(r-e[3]+u)/r}%`,i===0?(t.width=`${100*(e[2]-e[0])/a}%`,t.height=`${100*(e[3]-e[1])/r}%`):this.setRotation(i)};let at=CS;class x3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var dn,Gl,xj,bj;class bS extends at{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});S(this,dn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),a=!0):t.attachment?(N(this,dn,xj).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),a=!0):t.setOCGState?(N(this,dn,bj).call(this,i,t.setOCGState,t.overlaidText),a=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(t,n,i=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&N(this,dn,Gl).call(this),i&&(t.title=i)}_bindNamedAction(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(t.title=i),N(this,dn,Gl).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const r=i.get(a);r&&(t[r]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),N(this,dn,Gl).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),N(this,dn,Gl).call(this),!this._fieldObjects){ne('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var f;i==null||i();const{fields:a,refs:r,include:o}=n,u=[];if(a.length!==0||r.length!==0){const m=new Set(r);for(const p of a){const y=this._fieldObjects[p]||[];for(const{id:b}of y)m.add(b)}for(const p of Object.values(this._fieldObjects))for(const y of p)m.has(y.id)===o&&u.push(y)}else for(const m of Object.values(this._fieldObjects))u.push(...m);const d=this.annotationStorage,h=[];for(const m of u){const{id:p}=m;switch(h.push(p),m.type){case"text":{const b=m.defaultValue||"";d.setValue(p,{value:b});break}case"checkbox":case"radiobutton":{const b=m.defaultValue===m.exportValues;d.setValue(p,{value:b});break}case"combobox":case"listbox":{const b=m.defaultValue||"";d.setValue(p,{value:b});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!vc.has(y)){ne(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}dn=new WeakSet,Gl=function(){this.container.setAttribute("data-internal-link","")},xj=function(t,n,i="",a=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:i&&(t.title=i),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(n.content,n.filename,a),!1},N(this,dn,Gl).call(this)},bj=function(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(t.title=i),N(this,dn,Gl).call(this)};class b3 extends at{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class jc extends at{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return is.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,a){n.includes("mouse")?e.addEventListener(n,r=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):e.addEventListener(n,r=>{var o;if(n==="blur"){if(!t.focused||!r.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(r)}}))})}_setEventListeners(e,t,n,i){var a,r,o;for(const[u,d]of n)(d==="Action"||(a=this.data.actions)!=null&&a[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,u,d,i),d==="Focus"&&!((r=this.data.actions)!=null&&r.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":G.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||p3,a=e.style;let r;const o=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(d/(Nb*i))||1,f=d/h;r=Math.min(i,u(f/Nb))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o);r=Math.min(i,u(d/Nb))}a.fontSize=`calc(${r}px * var(--total-scale-factor))`,a.color=G.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class y3 extends jc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const a=this.annotationStorage;for(const r of this._getElementsByName(e.name,e.id))r.domElement&&(r.domElement[t]=n),a.setValue(r.id,{[i]:n})}render(){var i,a;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let o=r.value||"";const u=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&o.length>u&&(o=o.slice(0,u));let d=r.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=d??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",d??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),vc.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:m,timeStep:p}=this.data,y=!!m&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),u&&(n.maxLength=u),n.addEventListener("input",A=>{e.setValue(t,{value:A.target.value}),this.setPropertyOnSiblings(n,"value",A.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",A=>{const x=this.data.defaultFieldValue??"";n.value=h.userValue=x,h.formattedValue=null});let b=A=>{const{formattedValue:x}=h;x!=null&&(A.target.value=x),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",x=>{var w;if(h.focused)return;const{target:v}=x;if(y&&(v.type=m,p&&(v.step=p)),h.userValue){const E=h.userValue;if(y)if(m==="time"){const j=new Date(E),T=[j.getHours(),j.getMinutes(),j.getSeconds()];v.value=T.map(C=>C.toString().padStart(2,"0")).join(":")}else v.value=new Date(E-g3).toISOString().split(m==="date"?"T":".",1)[0];else v.value=E}h.lastCommittedValue=v.value,h.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const v={value(w){h.userValue=w.detail.value??"",y||e.setValue(t,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:E}=w.detail;h.formattedValue=E,E!=null&&w.target!==document.activeElement&&(w.target.value=E);const j={formattedValue:E};y&&(j.value=E),e.setValue(t,j)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var C;const{charLimit:E}=w.detail,{target:j}=w;if(E===0){j.removeAttribute("maxLength");return}j.setAttribute("maxLength",E);let T=h.userValue;!T||T.length<=E||(T=T.slice(0,E),j.value=h.userValue=T,e.setValue(t,{value:T}),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:j.selectionStart,selEnd:j.selectionEnd}}))}};this._dispatchEventFromSandbox(v,x)}),n.addEventListener("keydown",x=>{var E;h.commitKey=1;let v=-1;if(x.key==="Escape"?v=0:x.key==="Enter"&&!this.data.multiLine?v=2:x.key==="Tab"&&(h.commitKey=3),v===-1)return;const{value:w}=x.target;h.lastCommittedValue!==w&&(h.lastCommittedValue=w,h.userValue=w,(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:v,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const A=b;b=null,n.addEventListener("blur",x=>{var E,j;if(!h.focused||!x.relatedTarget)return;(E=this.data.actions)!=null&&E.Blur||(h.focused=!1);const{target:v}=x;let{value:w}=v;if(y){if(w&&m==="time"){const T=w.split(":").map(C=>parseInt(C,10));w=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),v.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();v.type="text"}h.userValue=w,h.lastCommittedValue!==w&&((j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:h.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),A(x)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",x=>{var D;h.lastCommittedValue=null;const{data:v,target:w}=x,{value:E,selectionStart:j,selectionEnd:T}=w;let C=j,_=T;switch(x.inputType){case"deleteWordBackward":{const k=E.substring(0,j).match(/\w*[^\w]*$/);k&&(C-=k[0].length);break}case"deleteWordForward":{const k=E.substring(j).match(/^[^\w]*\w*/);k&&(_+=k[0].length);break}case"deleteContentBackward":j===T&&(C-=1);break;case"deleteContentForward":j===T&&(_+=1);break}x.preventDefault(),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,change:v||"",willCommit:!1,selStart:C,selEnd:_}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(b&&n.addEventListener("blur",b),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/u;n.classList.add("comb"),n.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class v3 extends jc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class w3 extends jc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return vc.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=0,a.addEventListener("change",r=>{const{name:o,checked:u}=r.target;for(const d of this._getElementsByName(o,n)){const h=u&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}e.setValue(n,{value:u})}),a.addEventListener("resetform",r=>{const o=t.defaultFieldValue||"Off";r.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",r=>{const o={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(o,r)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class yj extends jc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const r of this._getElementsByName(t.fieldName,n))e.setValue(r.id,{value:!1});const a=document.createElement("input");if(vc.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",r=>{const{name:o,checked:u}=r.target;for(const d of this._getElementsByName(o,n))e.setValue(d.id,{value:!1});e.setValue(n,{value:u})}),a.addEventListener("resetform",r=>{const o=t.defaultFieldValue;r.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;a.addEventListener("updatefromsandbox",o=>{const u={value:d=>{const h=r===d.detail.value;for(const f of this._getElementsByName(d.target.name)){const m=h&&f.id===n;f.domElement&&(f.domElement.checked=m),e.setValue(f.id,{value:m})}}};this._dispatchEventFromSandbox(u,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class S3 extends bS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class A3 extends jc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");vc.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===f});for(const h of this.data.options){const f=document.createElement("option");f.textContent=h.displayValue,f.value=h.exportValue,n.value.includes(h.exportValue)&&(f.setAttribute("selected",!0),a=!1),i.append(f)}let r=null;if(a){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),r=()=>{h.remove(),i.removeEventListener("input",r),r=null},i.addEventListener("input",r)}const o=h=>{const f=h?"value":"textContent",{options:m,multiple:p}=i;return p?Array.prototype.filter.call(m,y=>y.selected).map(y=>y[f]):m.selectedIndex===-1?null:m[m.selectedIndex][f]};let u=o(!1);const d=h=>{const f=h.target.options;return Array.prototype.map.call(f,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const f={value(m){r==null||r();const p=m.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const b of i.options)b.selected=y.has(b.value);e.setValue(t,{value:o(!0)}),u=o(!1)},multipleSelection(m){i.multiple=!0},remove(m){const p=i.options,y=m.detail.remove;p[y].selected=!1,i.remove(y),p.length>0&&Array.prototype.findIndex.call(p,A=>A.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:d(m)}),u=o(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),u=o(!1)},insert(m){const{index:p,displayValue:y,exportValue:b}=m.detail.insert,A=i.children[p],x=document.createElement("option");x.textContent=y,x.value=b,A?A.before(x):i.append(x),e.setValue(t,{value:o(!0),items:d(m)}),u=o(!1)},items(m){const{items:p}=m.detail;for(;i.length!==0;)i.remove(0);for(const y of p){const{displayValue:b,exportValue:A}=y,x=document.createElement("option");x.textContent=b,x.value=A,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:d(m)}),u=o(!1)},indices(m){const p=new Set(m.detail.indices);for(const y of m.target.options)y.selected=p.has(y.index);e.setValue(t,{value:o(!0)}),u=o(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(f,h)}),i.addEventListener("input",h=>{var p;const f=o(!0),m=o(!1);e.setValue(t,{value:f}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:m,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Rm,Sv;class wv extends at{constructor(t){const{data:n,elements:i,parent:a}=t,r=!!a._commentManager;super(t,{isRenderable:!r&&at._hasPopupData(n)});S(this,Rm);if(this.elements=i,r&&at._hasPopupData(n)){const o=this.popup=N(this,Rm,Sv).call(this);for(const u of i)u.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=N(this,Rm,Sv).call(this),i=[];for(const a of this.elements)a.popup=n,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${hS}${a}`).join(",")),this.container}}Rm=new WeakSet,Sv=function(){return new N3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ws,qr,sx,nx,ud,dd,ut,ki,Xr,Bo,hd,fd,Ri,Ks,ka,Ra,Ot,La,Wr,Lm,Oa,md,Io,Kr,us,Qr,ue,Pg,Av,Nv,Ev,Bg,Cv,vj,wj,Sj,Aj,Ig,Fg,jv;class N3{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:a,contentsObj:r,richText:o,parent:u,rect:d,parentRect:h,open:f,commentManager:m=null}){S(this,ue);S(this,Ws,null);S(this,qr,N(this,ue,Sj).bind(this));S(this,sx,N(this,ue,jv).bind(this));S(this,nx,N(this,ue,Fg).bind(this));S(this,ud,N(this,ue,Ig).bind(this));S(this,dd,null);S(this,ut,null);S(this,ki,null);S(this,Xr,null);S(this,Bo,null);S(this,hd,null);S(this,fd,null);S(this,Ri,!1);S(this,Ks,null);S(this,ka,null);S(this,Ra,null);S(this,Ot,null);S(this,La,null);S(this,Wr,null);S(this,Lm,null);S(this,Oa,null);S(this,md,null);S(this,Io,null);S(this,Kr,!1);S(this,us,null);S(this,Qr,null);g(this,ut,e),g(this,md,i),g(this,ki,r),g(this,Oa,o),g(this,hd,u),g(this,dd,t),g(this,Lm,d),g(this,fd,h),g(this,Bo,n),g(this,Ws,m),g(this,us,n[0]),g(this,Xr,k0.toDateObject(a)),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup()),m?this.renderCommentButton():(N(this,ue,Pg).call(this),l(this,ut).hidden=!0,f&&N(this,ue,Ig).call(this))}renderCommentButton(){if(l(this,Ot)||(l(this,La)||N(this,ue,Av).call(this),!l(this,La)))return;const{signal:e}=g(this,ka,new AbortController),t=!!l(this,us).extraPopupElement,n=()=>{l(this,Ws).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{l(this,Ws).toggleCommentPopup(this,!1,!0,!t)},a=()=>{l(this,Ws).toggleCommentPopup(this,!1,!1)};if(t){g(this,Ot,l(this,us).container);for(const r of this.trigger)r.ariaHasPopup="dialog",r.ariaControls="commentPopup",r.addEventListener("keydown",l(this,qr),{signal:e}),r.addEventListener("click",n,{signal:e}),r.addEventListener("pointerenter",i,{signal:e}),r.addEventListener("pointerleave",a,{signal:e}),r.classList.add("popupTriggerArea")}else{const r=g(this,Ot,document.createElement("button"));r.className="annotationCommentButton";const o=l(this,us).container;r.style.zIndex=o.style.zIndex+1,r.tabIndex=0,r.ariaHasPopup="dialog",r.ariaControls="commentPopup",r.setAttribute("data-l10n-id","pdfjs-show-comment-button"),N(this,ue,Ev).call(this),N(this,ue,Nv).call(this),r.addEventListener("keydown",l(this,qr),{signal:e}),r.addEventListener("click",n,{signal:e}),r.addEventListener("pointerenter",i,{signal:e}),r.addEventListener("pointerleave",a,{signal:e}),o.after(r)}}get commentButtonColor(){const{color:e,opacity:t}=l(this,us).commentData;return e?l(this,hd)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=l(this,Ot))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:i,modificationDate:a}=l(this,us).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:i,modificationDate:a}}get elementBeforePopup(){return l(this,Ot)}get comment(){return l(this,Qr)||g(this,Qr,l(this,us).commentText),l(this,Qr)}set comment(e){e!==this.comment&&(l(this,us).commentText=g(this,Qr,e))}get parentBoundingClientRect(){return l(this,us).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){l(this,Ot)&&(l(this,Ot).classList.toggle("selected",e),l(this,Ot).ariaExpanded=t)}setSelectedCommentButton(e){l(this,Ot).classList.toggle("selected",e)}get commentPopupPosition(){if(l(this,Wr))return l(this,Wr);const{x:e,y:t,height:n}=l(this,Ot).getBoundingClientRect(),{x:i,y:a,width:r,height:o}=l(this,us).layer.getBoundingClientRect();return[(e-i)/r,(t+n-a)/o]}set commentPopupPosition(e){g(this,Wr,e)}hasDefaultPopupPosition(){return l(this,Wr)===null}get commentButtonPosition(){return l(this,La)}get commentButtonWidth(){return l(this,Ot).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=l(this,Wr)||this.commentButtonPosition.map(d=>d/100),i=this.parentBoundingClientRect,{x:a,y:r,width:o,height:u}=i;l(this,Ws).showDialog(null,this,a+t*o,r+n*u,{...e,parentDimensions:i})}render(){var n,i;if(l(this,Ks))return;const e=g(this,Ks,document.createElement("div"));if(e.className="popup",l(this,dd)){const a=e.style.outlineColor=G.makeHexColor(...l(this,dd));e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const t=document.createElement("span");if(t.className="header",(n=l(this,md))!=null&&n.str){const a=document.createElement("span");a.className="title",t.append(a),{dir:a.dir,str:a.textContent}=l(this,md)}if(e.append(t),l(this,Xr)){const a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,Xr).valueOf()})),a.dateTime=l(this,Xr).toISOString(),t.append(a)}fC({html:l(this,ue,Bg)||l(this,ki).str,dir:(i=l(this,ki))==null?void 0:i.dir,className:"popupContent"},e),l(this,ut).append(e)}updateEdited({rect:e,popup:t,deleted:n}){var i;if(l(this,Ws)){n?(this.remove(),g(this,Qr,null)):t&&(t.deleted?this.remove():(N(this,ue,Ev).call(this),g(this,Qr,t.text))),e&&(g(this,La,null),N(this,ue,Av).call(this),N(this,ue,Nv).call(this));return}if(n||t!=null&&t.deleted){this.remove();return}N(this,ue,Pg).call(this),l(this,Io)||g(this,Io,{contentsObj:l(this,ki),richText:l(this,Oa)}),e&&g(this,Ra,null),t&&t.text&&(g(this,Oa,N(this,ue,wj).call(this,t.text)),g(this,Xr,k0.toDateObject(t.date)),g(this,ki,null)),(i=l(this,Ks))==null||i.remove(),g(this,Ks,null)}resetEdited(){var e;l(this,Io)&&({contentsObj:Ct(this,ki)._,richText:Ct(this,Oa)._}=l(this,Io),g(this,Io,null),(e=l(this,Ks))==null||e.remove(),g(this,Ks,null),g(this,Ra,null))}remove(){var e,t,n;if((e=l(this,ka))==null||e.abort(),g(this,ka,null),(t=l(this,Ks))==null||t.remove(),g(this,Ks,null),g(this,Kr,!1),g(this,Ri,!1),(n=l(this,Ot))==null||n.remove(),g(this,Ot,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){g(this,Kr,this.isVisible),l(this,Kr)&&(l(this,ut).hidden=!0)}maybeShow(){l(this,Ws)||(N(this,ue,Pg).call(this),l(this,Kr)&&(l(this,Ks)||N(this,ue,Fg).call(this),g(this,Kr,!1),l(this,ut).hidden=!1))}get isVisible(){return l(this,Ws)?!1:l(this,ut).hidden===!1}}Ws=new WeakMap,qr=new WeakMap,sx=new WeakMap,nx=new WeakMap,ud=new WeakMap,dd=new WeakMap,ut=new WeakMap,ki=new WeakMap,Xr=new WeakMap,Bo=new WeakMap,hd=new WeakMap,fd=new WeakMap,Ri=new WeakMap,Ks=new WeakMap,ka=new WeakMap,Ra=new WeakMap,Ot=new WeakMap,La=new WeakMap,Wr=new WeakMap,Lm=new WeakMap,Oa=new WeakMap,md=new WeakMap,Io=new WeakMap,Kr=new WeakMap,us=new WeakMap,Qr=new WeakMap,ue=new WeakSet,Pg=function(){var t;if(l(this,ka))return;g(this,ka,new AbortController);const{signal:e}=l(this,ka);for(const n of this.trigger)n.addEventListener("click",l(this,ud),{signal:e}),n.addEventListener("pointerenter",l(this,nx),{signal:e}),n.addEventListener("pointerleave",l(this,sx),{signal:e}),n.classList.add("popupTriggerArea");for(const n of l(this,Bo))(t=n.container)==null||t.addEventListener("keydown",l(this,qr),{signal:e})},Av=function(){const e=l(this,Bo).find(t=>t.hasCommentButton);e&&g(this,La,e._normalizePoint(e.commentButtonPosition))},Nv=function(){if(l(this,us).extraPopupElement&&!l(this,us).editor)return;this.renderCommentButton();const[e,t]=l(this,La),{style:n}=l(this,Ot);n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`},Ev=function(){l(this,us).extraPopupElement||(this.renderCommentButton(),l(this,Ot).style.backgroundColor=this.commentButtonColor||"")},Bg=function(){const e=l(this,Oa),t=l(this,ki);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,Oa).html||null},Cv=function(){var e,t,n;return((n=(t=(e=l(this,ue,Bg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},vj=function(){var e,t,n;return((n=(t=(e=l(this,ue,Bg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},wj=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:l(this,ue,vj),fontSize:l(this,ue,Cv)?`calc(${l(this,ue,Cv)}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:i});return n},Sj=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,Ri))&&N(this,ue,Ig).call(this)},Aj=function(){if(l(this,Ra)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:a}}}=l(this,hd);let r=!!l(this,fd),o=r?l(this,fd):l(this,Lm);for(const y of l(this,Bo))if(!o||G.intersect(y.data.rect,o)!==null){o=y.data.rect,r=!0;break}const u=G.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=r?o[2]-o[0]+5:0,f=u[0]+h,m=u[1];g(this,Ra,[100*(f-i)/t,100*(m-a)/n]);const{style:p}=l(this,ut);p.left=`${l(this,Ra)[0]}%`,p.top=`${l(this,Ra)[1]}%`},Ig=function(){if(l(this,Ws)){l(this,Ws).toggleCommentPopup(this,!1);return}g(this,Ri,!l(this,Ri)),l(this,Ri)?(N(this,ue,Fg).call(this),l(this,ut).addEventListener("click",l(this,ud)),l(this,ut).addEventListener("keydown",l(this,qr))):(N(this,ue,jv).call(this),l(this,ut).removeEventListener("click",l(this,ud)),l(this,ut).removeEventListener("keydown",l(this,qr)))},Fg=function(){l(this,Ks)||this.render(),this.isVisible?l(this,Ri)&&l(this,ut).classList.add("focused"):(N(this,ue,Aj).call(this),l(this,ut).hidden=!1,l(this,ut).style.zIndex=parseInt(l(this,ut).style.zIndex)+1e3)},jv=function(){l(this,ut).classList.remove("focused"),!(l(this,Ri)||!this.isVisible)&&(l(this,ut).hidden=!0,l(this,ut).style.zIndex=parseInt(l(this,ut).style.zIndex)-1e3)};class Nj extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ae.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Om;class E3 extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Om,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=g(this,Om,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Om)}addHighlightArea(){this.container.classList.add("highlightArea")}}Om=new WeakMap;var Pm;class C3 extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Pm,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=t.borderStyle.width,o=g(this,Pm,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",r/2),o.setAttribute("y",r/2),o.setAttribute("width",n-r),o.setAttribute("height",i-r),o.setAttribute("stroke-width",r||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Pm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pm=new WeakMap;var Bm;class j3 extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Bm,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=t.borderStyle.width,o=g(this,Bm,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-r/2),o.setAttribute("ry",i/2-r/2),o.setAttribute("stroke-width",r||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Bm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bm=new WeakMap;var Im;class Ej extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Im,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:a},width:r,height:o}=this;if(!n)return this.container;const u=this.svgFactory.create(r,o,!0);let d=[];for(let f=0,m=n.length;f<m;f+=2){const p=n[f]-t[0],y=t[3]-n[f+1];d.push(`${p},${y}`)}d=d.join(" ");const h=g(this,Im,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),u.append(h),this.container.append(u),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Im)}addHighlightArea(){this.container.classList.add("highlightArea")}}Im=new WeakMap;class T3 extends Ej{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Fm,Fo,zm,Tv;class yS extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,zm);S(this,Fm,null);S(this,Fo,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ae.HIGHLIGHT:ae.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:a,popupRef:r}}=this,{transform:o,width:u,height:d}=N(this,zm,Tv).call(this,n,t),h=this.svgFactory.create(u,d,!0),f=g(this,Fm,this.svgFactory.createElement("svg:g"));h.append(f),f.setAttribute("stroke-width",a.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let m=0,p=i.length;m<p;m++){const y=this.svgFactory.createElement(this.svgElementName);l(this,Fo).push(y),y.setAttribute("points",i[m].join(",")),f.append(y)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:a}=t,r=l(this,Fm);if(n>=0&&r.setAttribute("stroke-width",n||1),i)for(let o=0,u=l(this,Fo).length;o<u;o++)l(this,Fo)[o].setAttribute("points",i[o].join(","));if(a){const{transform:o,width:u,height:d}=N(this,zm,Tv).call(this,this.data.rotation,a);r.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),r.setAttribute("transform",o)}}getElementsToTriggerPopup(){return l(this,Fo)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fm=new WeakMap,Fo=new WeakMap,zm=new WeakSet,Tv=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class Cj extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ae.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class M3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class D3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class k3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class jj extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ae.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Um,Hm,_v;class R3 extends at{constructor(t){var i;super(t,{isRenderable:!0});S(this,Hm);S(this,Um,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",N(this,Hm,_v).bind(this)),g(this,Um,i);const{isMac:a}=is.platform;return t.addEventListener("keydown",r=>{r.key==="Enter"&&(a?r.metaKey:r.ctrlKey)&&N(this,Hm,_v).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return l(this,Um)}addHighlightArea(){this.container.classList.add("highlightArea")}}Um=new WeakMap,Hm=new WeakSet,_v=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var pd,zo,gd,Zr,Vm,Uo,Ll,Dv,kv;const jS=class jS{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:a,viewport:r,structTreeLayer:o,commentManager:u,linkService:d,annotationStorage:h}){S(this,Ll);S(this,pd,null);S(this,zo,null);S(this,gd,null);S(this,Zr,new Map);S(this,Vm,null);S(this,Uo,null);this.div=e,g(this,pd,t),g(this,zo,n),g(this,Vm,o||null),g(this,Uo,d||null),g(this,gd,h||new pS),this.page=a,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=u||null}hasEditableAnnotations(){return l(this,Zr).size>0}async render(e){var r,o,u;const{annotations:t}=e,n=this.div;bc(n,this.viewport);const i=new Map,a={data:null,layer:n,linkService:l(this,Uo),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new z0,annotationStorage:l(this,gd),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const d of t){if(d.noHTML)continue;const h=d.annotationType===yt.POPUP;if(h){const p=i.get(d.id);if(!p)continue;a.elements=p}else if(d.rect[2]===d.rect[0]||d.rect[3]===d.rect[1])continue;a.data=d;const f=P1.create(a);if(!f.isRenderable)continue;if(!h&&d.popupRef){const p=i.get(d.popupRef);p?p.push(f):i.set(d.popupRef,[f])}const m=f.render();d.hidden&&(m.style.visibility="hidden"),await N(this,Ll,Dv).call(this,m,d.id,a.elements),(o=(r=f.extraPopupElement)==null?void 0:r.popup)==null||o.renderCommentButton(),f._isEditable&&(l(this,Zr).set(f.data.id,f),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(f))}N(this,Ll,kv).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:l(this,Uo),svgFactory:new z0,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=jS._defaultBorderStyle),t.data=n;const i=P1.create(t);if(!i.isRenderable)continue;const a=i.render();await N(this,Ll,Dv).call(this,a,n.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,bc(t,{rotation:e.rotation}),N(this,Ll,kv).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,Zr).values())}getEditableAnnotation(e){return l(this,Zr).get(e)}addFakeAnnotation(e){var o;const{div:t}=this,{id:n,rotation:i}=e,a=new x3({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:l(this,Uo),annotationStorage:l(this,gd)}),r=a.render();return t.append(r),(o=l(this,pd))==null||o.moveElementInDOM(t,r,r,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return de(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Lc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};pd=new WeakMap,zo=new WeakMap,gd=new WeakMap,Zr=new WeakMap,Vm=new WeakMap,Uo=new WeakMap,Ll=new WeakSet,Dv=async function(e,t,n){var o,u;const i=e.firstChild||e,a=i.id=`${hS}${t}`,r=await((o=l(this,Vm))==null?void 0:o.getAriaAttributes(a));if(r)for(const[d,h]of r)i.setAttribute(d,h);n?n.at(-1).container.after(e):(this.div.append(e),(u=l(this,pd))==null||u.moveElementInDOM(this.div,e,i,!1))},kv=function(){var t;if(!l(this,zo))return;const e=this.div;for(const[n,i]of l(this,zo)){const a=e.querySelector(`[data-annotation-id="${n}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:r}=a;r?r.nodeName==="CANVAS"?r.replaceWith(i):r.classList.contains("annotationContent")?r.after(i):r.before(i):a.append(i);const o=l(this,Zr).get(n);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,a.id,i),o._hasNoCanvas=!1):o.canvas=i)}l(this,zo).clear()};let Mv=jS;const sg=/\r\n?|\n/g;var Qs,Gm,Ho,Zs,Et,Tj,_j,Mj,zg,Ja,Ug,Hg,Dj,Lv,kj;const qe=class qe extends Ge{constructor(t){super({...t,name:"freeTextEditor"});S(this,Et);S(this,Qs,"");S(this,Gm,`${this.id}-editor`);S(this,Ho,null);S(this,Zs);F(this,"_colorPicker",null);this.color=t.color||qe._defaultColor||Ge._defaultLineColor,g(this,Zs,t.fontSize||qe._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=qe.prototype,n=r=>r.isEmpty(),i=yc.TRANSLATE_SMALL,a=yc.TRANSLATE_BIG;return de(this,"_keyboardManager",new Tp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(t,n){Ge.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case xe.FREETEXT_SIZE:qe._defaultFontSize=n;break;case xe.FREETEXT_COLOR:qe._defaultColor=n;break}}updateParams(t,n){switch(t){case xe.FREETEXT_SIZE:N(this,Et,Tj).call(this,n);break;case xe.FREETEXT_COLOR:N(this,Et,_j).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[xe.FREETEXT_SIZE,qe._defaultFontSize],[xe.FREETEXT_COLOR,qe._defaultColor||Ge._defaultLineColor]]}get propertiesToUpdate(){return[[xe.FREETEXT_SIZE,l(this,Zs)],[xe.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new F0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return xe.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-qe._internalPadding*t,-(qe._internalPadding+l(this,Zs))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),g(this,Ho,new AbortController);const t=this._uiManager.combinedSignal(l(this,Ho));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,Gm)),this._isDraggable=!0,(t=l(this,Ho))==null||t.abort(),g(this,Ho,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,Qs),n=g(this,Qs,N(this,Et,Mj).call(this).trimEnd());if(t===n)return;const i=a=>{if(g(this,Qs,a),!a){this.remove();return}N(this,Et,Hg).call(this),this._uiManager.rebuild(this),N(this,Et,zg).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),N(this,Et,zg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){qe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,Gm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${l(this,Zs)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,r]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[h,f]=this.pageDimensions,[m,p]=this.pageTranslation;let y,b;switch(this.rotation){case 0:y=t+(o[0]-m)/h,b=n+this.height-(o[1]-p)/f;break;case 90:y=t+(o[0]-m)/h,b=n-(o[1]-p)/f,[u,d]=[d,-u];break;case 180:y=t-this.width+(o[0]-m)/h,b=n-(o[1]-p)/f,[u,d]=[-u,-d];break;case 270:y=t+(o[0]-m-this.height*f)/h,b=n+(o[1]-p-this.width*h)/f,[u,d]=[-d,u];break}this.setAt(y*a,b*r,u,d)}else this._moveAfterPaste(t,n);N(this,Et,Hg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,b,A;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=N(y=qe,Ja,Lv).call(y,n.getData("text")||"").replaceAll(sg,`
`);if(!a)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const o=r.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:u,startOffset:d}=o,h=[],f=[];if(u.nodeType===Node.TEXT_NODE){const x=u.parentElement;if(f.push(u.nodeValue.slice(d).replaceAll(sg,"")),x!==this.editorDiv){let v=h;for(const w of this.editorDiv.childNodes){if(w===x){v=f;continue}v.push(N(b=qe,Ja,Ug).call(b,w))}}h.push(u.nodeValue.slice(0,d).replaceAll(sg,""))}else if(u===this.editorDiv){let x=h,v=0;for(const w of this.editorDiv.childNodes)v++===d&&(x=f),x.push(N(A=qe,Ja,Ug).call(A,w))}g(this,Qs,`${h.join(`
`)}${a}${f.join(`
`)}`),N(this,Et,Hg).call(this);const m=new Range;let p=Math.sumPrecise(h.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const v=x.nodeValue.length;if(p<=v){m.setStart(x,p),m.setEnd(x,p);break}p-=v}r.removeAllRanges(),r.addRange(m)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=qe._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,i){var o;let a=null;if(t instanceof Nj){const{data:{defaultAppearanceData:{fontSize:u,fontColor:d},rect:h,rotation:f,id:m,popupRef:p,richText:y,contentsObj:b,creationDate:A,modificationDate:x},textContent:v,textPosition:w,parent:{page:{pageNumber:E}}}=t;if(!v||v.length===0)return null;a=t={annotationType:ae.FREETEXT,color:Array.from(d),fontSize:u,value:v.join(`
`),position:w,pageIndex:E-1,rect:h.slice(0),rotation:f,annotationElementId:m,id:m,deleted:!1,popupRef:p,comment:(b==null?void 0:b.str)||null,richText:y,creationDate:A,modificationDate:x}}const r=await super.deserialize(t,n,i);return g(r,Zs,t.fontSize),r.color=G.makeHexColor(...t.color),g(r,Qs,N(o=qe,Ja,Lv).call(o,t.value)),r._initialData=a,t.comment&&r.setCommentData(t),r}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Ge._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:n,fontSize:l(this,Zs),value:N(this,Et,Dj).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!N(this,Et,kj).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${l(this,Zs)}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const a of l(this,Qs).split(`
`)){const r=document.createElement("div");r.append(a?document.createTextNode(a):document.createElement("br")),n.append(r)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:l(this,Qs)}}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Qs=new WeakMap,Gm=new WeakMap,Ho=new WeakMap,Zs=new WeakMap,Et=new WeakSet,Tj=function(t){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-l(this,Zs))*this.parentScale),g(this,Zs,a),N(this,Et,zg).call(this)},i=l(this,Zs);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_j=function(t){const n=a=>{this.color=a,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Mj=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(t.push(N(i=qe,Ja,Ug).call(i,a)),n=a);return t.join(`
`)},zg=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:r}=this,o=r.style.display,u=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",a.div.append(this.div),i=r.getBoundingClientRect(),r.remove(),r.style.display=o,r.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},Ja=new WeakSet,Ug=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(sg,"")},Hg=function(){if(this.editorDiv.replaceChildren(),!!l(this,Qs))for(const t of l(this,Qs).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},Dj=function(){return l(this,Qs).replaceAll(""," ")},Lv=function(t){return t.replaceAll(" ","")},kj=function(t){const{value:n,fontSize:i,color:a,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,u)=>o!==a[u])||t.pageIndex!==r},S(qe,Ja),F(qe,"_freeTextDefaultContent",""),F(qe,"_internalPadding",0),F(qe,"_defaultColor",null),F(qe,"_defaultFontSize",10),F(qe,"_type","freetext"),F(qe,"_editorType",ae.FREETEXT);let Rv=qe;class V{toSVGPath(){Ue("Abstract method `toSVGPath` must be implemented.")}get box(){Ue("Abstract getter `box` must be implemented.")}serialize(e,t){Ue("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,a,r){r||(r=new Float32Array(e.length));for(let o=0,u=e.length;o<u;o+=2)r[o]=t+e[o]*i,r[o+1]=n+e[o+1]*a;return r}static _rescaleAndSwap(e,t,n,i,a,r){r||(r=new Float32Array(e.length));for(let o=0,u=e.length;o<u;o+=2)r[o]=t+e[o+1]*i,r[o+1]=n+e[o]*a;return r}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let a=0,r=e.length;a<r;a+=2)i[a]=t+e[a],i[a+1]=n+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,a){switch(a){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,a,r){return[(e+5*n)/6,(t+5*i)/6,(5*n+a)/6,(5*i+r)/6,(n+a)/2,(i+r)/2]}}F(V,"PRECISION",1e-4);var Js,ai,xd,bd,Li,fe,Vo,Go,$m,Ym,yd,vd,Jr,qm,ix,ax,kt,Hh,Rj,Lj,Oj,Pj,Bj,Ij;const la=class la{constructor({x:e,y:t},n,i,a,r,o=0){S(this,kt);S(this,Js);S(this,ai,[]);S(this,xd);S(this,bd);S(this,Li,[]);S(this,fe,new Float32Array(18));S(this,Vo);S(this,Go);S(this,$m);S(this,Ym);S(this,yd);S(this,vd);S(this,Jr,[]);g(this,Js,n),g(this,vd,a*i),g(this,bd,r),l(this,fe).set([NaN,NaN,NaN,NaN,e,t],6),g(this,xd,o),g(this,Ym,l(la,qm)*i),g(this,$m,l(la,ax)*i),g(this,yd,i),l(this,Jr).push(e,t)}isEmpty(){return isNaN(l(this,fe)[8])}add({x:e,y:t}){var D;g(this,Vo,e),g(this,Go,t);const[n,i,a,r]=l(this,Js);let[o,u,d,h]=l(this,fe).subarray(8,12);const f=e-d,m=t-h,p=Math.hypot(f,m);if(p<l(this,$m))return!1;const y=p-l(this,Ym),b=y/p,A=b*f,x=b*m;let v=o,w=u;o=d,u=h,d+=A,h+=x,(D=l(this,Jr))==null||D.push(e,t);const E=-x/y,j=A/y,T=E*l(this,vd),C=j*l(this,vd);return l(this,fe).set(l(this,fe).subarray(2,8),0),l(this,fe).set([d+T,h+C],4),l(this,fe).set(l(this,fe).subarray(14,18),12),l(this,fe).set([d-T,h-C],16),isNaN(l(this,fe)[6])?(l(this,Li).length===0&&(l(this,fe).set([o+T,u+C],2),l(this,Li).push(NaN,NaN,NaN,NaN,(o+T-n)/a,(u+C-i)/r),l(this,fe).set([o-T,u-C],14),l(this,ai).push(NaN,NaN,NaN,NaN,(o-T-n)/a,(u-C-i)/r)),l(this,fe).set([v,w,o,u,d,h],6),!this.isEmpty()):(l(this,fe).set([v,w,o,u,d,h],6),Math.abs(Math.atan2(w-u,v-o)-Math.atan2(x,A))<Math.PI/2?([o,u,d,h]=l(this,fe).subarray(2,6),l(this,Li).push(NaN,NaN,NaN,NaN,((o+d)/2-n)/a,((u+h)/2-i)/r),[o,u,v,w]=l(this,fe).subarray(14,18),l(this,ai).push(NaN,NaN,NaN,NaN,((v+o)/2-n)/a,((w+u)/2-i)/r),!0):([v,w,o,u,d,h]=l(this,fe).subarray(0,6),l(this,Li).push(((v+5*o)/6-n)/a,((w+5*u)/6-i)/r,((5*o+d)/6-n)/a,((5*u+h)/6-i)/r,((o+d)/2-n)/a,((u+h)/2-i)/r),[d,h,o,u,v,w]=l(this,fe).subarray(12,18),l(this,ai).push(((v+5*o)/6-n)/a,((w+5*u)/6-i)/r,((5*o+d)/6-n)/a,((5*u+h)/6-i)/r,((o+d)/2-n)/a,((u+h)/2-i)/r),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,Li),t=l(this,ai);if(isNaN(l(this,fe)[6])&&!this.isEmpty())return N(this,kt,Rj).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);N(this,kt,Oj).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return N(this,kt,Lj).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,a,r){return new Fj(e,t,n,i,a,r)}getOutlines(){var f;const e=l(this,Li),t=l(this,ai),n=l(this,fe),[i,a,r,o]=l(this,Js),u=new Float32Array((((f=l(this,Jr))==null?void 0:f.length)??0)+2);for(let m=0,p=u.length-2;m<p;m+=2)u[m]=(l(this,Jr)[m]-i)/r,u[m+1]=(l(this,Jr)[m+1]-a)/o;if(u[u.length-2]=(l(this,Vo)-i)/r,u[u.length-1]=(l(this,Go)-a)/o,isNaN(n[6])&&!this.isEmpty())return N(this,kt,Pj).call(this,u);const d=new Float32Array(l(this,Li).length+24+l(this,ai).length);let h=e.length;for(let m=0;m<h;m+=2){if(isNaN(e[m])){d[m]=d[m+1]=NaN;continue}d[m]=e[m],d[m+1]=e[m+1]}h=N(this,kt,Ij).call(this,d,h);for(let m=t.length-6;m>=6;m-=6)for(let p=0;p<6;p+=2){if(isNaN(t[m+p])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=t[m+p],d[h+1]=t[m+p+1],h+=2}return N(this,kt,Bj).call(this,d,h),this.newFreeDrawOutline(d,u,l(this,Js),l(this,yd),l(this,xd),l(this,bd))}};Js=new WeakMap,ai=new WeakMap,xd=new WeakMap,bd=new WeakMap,Li=new WeakMap,fe=new WeakMap,Vo=new WeakMap,Go=new WeakMap,$m=new WeakMap,Ym=new WeakMap,yd=new WeakMap,vd=new WeakMap,Jr=new WeakMap,qm=new WeakMap,ix=new WeakMap,ax=new WeakMap,kt=new WeakSet,Hh=function(){const e=l(this,fe).subarray(4,6),t=l(this,fe).subarray(16,18),[n,i,a,r]=l(this,Js);return[(l(this,Vo)+(e[0]-t[0])/2-n)/a,(l(this,Go)+(e[1]-t[1])/2-i)/r,(l(this,Vo)+(t[0]-e[0])/2-n)/a,(l(this,Go)+(t[1]-e[1])/2-i)/r]},Rj=function(){const[e,t,n,i]=l(this,Js),[a,r,o,u]=N(this,kt,Hh).call(this);return`M${(l(this,fe)[2]-e)/n} ${(l(this,fe)[3]-t)/i} L${(l(this,fe)[4]-e)/n} ${(l(this,fe)[5]-t)/i} L${a} ${r} L${o} ${u} L${(l(this,fe)[16]-e)/n} ${(l(this,fe)[17]-t)/i} L${(l(this,fe)[14]-e)/n} ${(l(this,fe)[15]-t)/i} Z`},Lj=function(e){const t=l(this,ai);e.push(`L${t[4]} ${t[5]} Z`)},Oj=function(e){const[t,n,i,a]=l(this,Js),r=l(this,fe).subarray(4,6),o=l(this,fe).subarray(16,18),[u,d,h,f]=N(this,kt,Hh).call(this);e.push(`L${(r[0]-t)/i} ${(r[1]-n)/a} L${u} ${d} L${h} ${f} L${(o[0]-t)/i} ${(o[1]-n)/a}`)},Pj=function(e){const t=l(this,fe),[n,i,a,r]=l(this,Js),[o,u,d,h]=N(this,kt,Hh).call(this),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-n)/a,(t[3]-i)/r,NaN,NaN,NaN,NaN,(t[4]-n)/a,(t[5]-i)/r,NaN,NaN,NaN,NaN,o,u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(t[16]-n)/a,(t[17]-i)/r,NaN,NaN,NaN,NaN,(t[14]-n)/a,(t[15]-i)/r],0),this.newFreeDrawOutline(f,e,l(this,Js),l(this,yd),l(this,xd),l(this,bd))},Bj=function(e,t){const n=l(this,ai);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},Ij=function(e,t){const n=l(this,fe).subarray(4,6),i=l(this,fe).subarray(16,18),[a,r,o,u]=l(this,Js),[d,h,f,m]=N(this,kt,Hh).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/o,(n[1]-r)/u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-r)/u],t),t+=24},S(la,qm,8),S(la,ix,2),S(la,ax,l(la,qm)+l(la,ix));let U0=la;var wd,$o,Pa,Xm,en,Wm,pt,rx,zj;class Fj extends V{constructor(t,n,i,a,r,o){super();S(this,rx);S(this,wd);S(this,$o,new Float32Array(4));S(this,Pa);S(this,Xm);S(this,en);S(this,Wm);S(this,pt);g(this,pt,t),g(this,en,n),g(this,wd,i),g(this,Wm,a),g(this,Pa,r),g(this,Xm,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],N(this,rx,zj).call(this,o);const[u,d,h,f]=l(this,$o);for(let m=0,p=t.length;m<p;m+=2)t[m]=(t[m]-u)/h,t[m+1]=(t[m+1]-d)/f;for(let m=0,p=n.length;m<p;m+=2)n[m]=(n[m]-u)/h,n[m+1]=(n[m+1]-d)/f}toSVGPath(){const t=[`M${l(this,pt)[4]} ${l(this,pt)[5]}`];for(let n=6,i=l(this,pt).length;n<i;n+=6){if(isNaN(l(this,pt)[n])){t.push(`L${l(this,pt)[n+4]} ${l(this,pt)[n+5]}`);continue}t.push(`C${l(this,pt)[n]} ${l(this,pt)[n+1]} ${l(this,pt)[n+2]} ${l(this,pt)[n+3]} ${l(this,pt)[n+4]} ${l(this,pt)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,a],r){const o=i-t,u=a-n;let d,h;switch(r){case 0:d=V._rescale(l(this,pt),t,a,o,-u),h=V._rescale(l(this,en),t,a,o,-u);break;case 90:d=V._rescaleAndSwap(l(this,pt),t,n,o,u),h=V._rescaleAndSwap(l(this,en),t,n,o,u);break;case 180:d=V._rescale(l(this,pt),i,n,-o,u),h=V._rescale(l(this,en),i,n,-o,u);break;case 270:d=V._rescaleAndSwap(l(this,pt),i,a,-o,-u),h=V._rescaleAndSwap(l(this,en),i,a,-o,-u);break}return{outline:Array.from(d),points:[Array.from(h)]}}get box(){return l(this,$o)}newOutliner(t,n,i,a,r,o=0){return new U0(t,n,i,a,r,o)}getNewOutline(t,n){const[i,a,r,o]=l(this,$o),[u,d,h,f]=l(this,wd),m=r*h,p=o*f,y=i*h+u,b=a*f+d,A=this.newOutliner({x:l(this,en)[0]*m+y,y:l(this,en)[1]*p+b},l(this,wd),l(this,Wm),t,l(this,Xm),n??l(this,Pa));for(let x=2;x<l(this,en).length;x+=2)A.add({x:l(this,en)[x]*m+y,y:l(this,en)[x+1]*p+b});return A.getOutlines()}}wd=new WeakMap,$o=new WeakMap,Pa=new WeakMap,Xm=new WeakMap,en=new WeakMap,Wm=new WeakMap,pt=new WeakMap,rx=new WeakSet,zj=function(t){const n=l(this,pt);let i=n[4],a=n[5];const r=[i,a,i,a];let o=i,u=a,d=i,h=a;const f=t?Math.max:Math.min,m=new Float32Array(4);for(let y=6,b=n.length;y<b;y+=6){const A=n[y+4],x=n[y+5];isNaN(n[y])?(G.pointBoundingBox(A,x,r),u>x?(o=A,u=x):u===x&&(o=f(o,A)),h<x?(d=A,h=x):h===x&&(d=f(d,A))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,G.bezierBoundingBox(i,a,...n.slice(y,y+6),m),G.rectBoundingBox(m[0],m[1],m[2],m[3],r),u>m[1]?(o=m[0],u=m[1]):u===m[1]&&(o=f(o,m[0])),h<m[3]?(d=m[2],h=m[3]):h===m[3]&&(d=f(d,m[2]))),i=A,a=x}const p=l(this,$o);p[0]=r[0]-l(this,Pa),p[1]=r[1]-l(this,Pa),p[2]=r[2]-r[0]+2*l(this,Pa),p[3]=r[3]-r[1]+2*l(this,Pa),this.firstPoint=[o,u],this.lastPoint=[d,h]};var Km,Qm,Zm,el,ri,Ss,Uj,Vg,Hj,Vj,Pv;class Ov{constructor(e,t=0,n=0,i=!0){S(this,Ss);S(this,Km);S(this,Qm);S(this,Zm);S(this,el,[]);S(this,ri,[]);const a=[1/0,1/0,-1/0,-1/0],r=10**-4;for(const{x:b,y:A,width:x,height:v}of e){const w=Math.floor((b-t)/r)*r,E=Math.ceil((b+x+t)/r)*r,j=Math.floor((A-t)/r)*r,T=Math.ceil((A+v+t)/r)*r,C=[w,j,T,!0],_=[E,j,T,!1];l(this,el).push(C,_),G.rectBoundingBox(w,j,E,T,a)}const o=a[2]-a[0]+2*n,u=a[3]-a[1]+2*n,d=a[0]-n,h=a[1]-n;let f=i?-1/0:1/0,m=1/0;const p=l(this,el).at(i?-1:-2),y=[p[0],p[2]];for(const b of l(this,el)){const[A,x,v,w]=b;!w&&i?x<m?(m=x,f=A):x===m&&(f=Math.max(f,A)):w&&!i&&(x<m?(m=x,f=A):x===m&&(f=Math.min(f,A))),b[0]=(A-d)/o,b[1]=(x-h)/u,b[2]=(v-h)/u}g(this,Km,new Float32Array([d,h,o,u])),g(this,Qm,[f,m]),g(this,Zm,y)}getOutlines(){l(this,el).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of l(this,el))t[3]?(e.push(...N(this,Ss,Pv).call(this,t)),N(this,Ss,Hj).call(this,t)):(N(this,Ss,Vj).call(this,t),e.push(...N(this,Ss,Pv).call(this,t)));return N(this,Ss,Uj).call(this,e)}}Km=new WeakMap,Qm=new WeakMap,Zm=new WeakMap,el=new WeakMap,ri=new WeakMap,Ss=new WeakSet,Uj=function(e){const t=[],n=new Set;for(const r of e){const[o,u,d]=r;t.push([o,u,r],[o,d,r])}t.sort((r,o)=>r[1]-o[1]||r[0]-o[0]);for(let r=0,o=t.length;r<o;r+=2){const u=t[r][2],d=t[r+1][2];u.push(d),d.push(u),n.add(u),n.add(d)}const i=[];let a;for(;n.size>0;){const r=n.values().next().value;let[o,u,d,h,f]=r;n.delete(r);let m=o,p=u;for(a=[o,d],i.push(a);;){let y;if(n.has(h))y=h;else if(n.has(f))y=f;else break;n.delete(y),[o,u,d,h,f]=y,m!==o&&(a.push(m,p,o,p===u?u:d),m=o),p=p===u?d:u}a.push(m,p)}return new L3(i,l(this,Km),l(this,Qm),l(this,Zm))},Vg=function(e){const t=l(this,ri);let n=0,i=t.length-1;for(;n<=i;){const a=n+i>>1,r=t[a][0];if(r===e)return a;r<e?n=a+1:i=a-1}return i+1},Hj=function([,e,t]){const n=N(this,Ss,Vg).call(this,e);l(this,ri).splice(n,0,[e,t])},Vj=function([,e,t]){const n=N(this,Ss,Vg).call(this,e);for(let i=n;i<l(this,ri).length;i++){const[a,r]=l(this,ri)[i];if(a!==e)break;if(a===e&&r===t){l(this,ri).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[a,r]=l(this,ri)[i];if(a!==e)break;if(a===e&&r===t){l(this,ri).splice(i,1);return}}},Pv=function(e){const[t,n,i]=e,a=[[t,n,i]],r=N(this,Ss,Vg).call(this,i);for(let o=0;o<r;o++){const[u,d]=l(this,ri)[o];for(let h=0,f=a.length;h<f;h++){const[,m,p]=a[h];if(!(d<=m||p<=u)){if(m>=u){if(p>d)a[h][1]=d;else{if(f===1)return[];a.splice(h,1),h--,f--}continue}a[h][2]=u,p>d&&a.push([t,d,p])}}}return a};var Jm,Sd;class L3 extends V{constructor(t,n,i,a){super();S(this,Jm);S(this,Sd);g(this,Sd,t),g(this,Jm,n),this.firstPoint=i,this.lastPoint=a}toSVGPath(){const t=[];for(const n of l(this,Sd)){let[i,a]=n;t.push(`M${i} ${a}`);for(let r=2;r<n.length;r+=2){const o=n[r],u=n[r+1];o===i?(t.push(`V${u}`),a=u):u===a&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,a],r){const o=[],u=i-t,d=a-n;for(const h of l(this,Sd)){const f=new Array(h.length);for(let m=0;m<h.length;m+=2)f[m]=t+h[m]*u,f[m+1]=a-h[m+1]*d;o.push(f)}return o}get box(){return l(this,Jm)}get classNamesForOutlining(){return["highlightOutline"]}}Jm=new WeakMap,Sd=new WeakMap;class Bv extends U0{newFreeDrawOutline(e,t,n,i,a,r){return new O3(e,t,n,i,a,r)}}class O3 extends Fj{newOutliner(e,t,n,i,a,r=0){return new Bv(e,t,n,i,a,r)}}var Ad,ep,Ba,Yo,tp,Ls,sp,np,qo,tn,sn,Xt,Nd,Ed,ds,Cd,kn,ip,ce,Iv,Gg,Gj,$j,Yj,Fv,$l,Hn,zc,qj,$g,Yg,Xj,Wj,Kj,Qj,Zj;const Ae=class Ae extends Ge{constructor(t){super({...t,name:"highlightEditor"});S(this,ce);S(this,Ad,null);S(this,ep,0);S(this,Ba);S(this,Yo,null);S(this,tp,null);S(this,Ls,null);S(this,sp,null);S(this,np,0);S(this,qo,null);S(this,tn,null);S(this,sn,null);S(this,Xt,!1);S(this,Nd,null);S(this,Ed,null);S(this,ds,null);S(this,Cd,"");S(this,kn);S(this,ip,"");this.color=t.color||Ae._defaultColor,g(this,kn,t.thickness||Ae._defaultThickness),this.opacity=t.opacity||Ae._defaultOpacity,g(this,Ba,t.boxes||null),g(this,ip,t.methodOfCreation||""),g(this,Cd,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(g(this,Xt,!0),N(this,ce,Gg).call(this,t),N(this,ce,$l).call(this)):l(this,Ba)&&(g(this,Ad,t.anchorNode),g(this,ep,t.anchorOffset),g(this,sp,t.focusNode),g(this,np,t.focusOffset),N(this,ce,Iv).call(this),N(this,ce,$l).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ae.prototype;return de(this,"_keyboardManager",new Tp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,Xt)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:l(this,kn),methodOfCreation:l(this,ip)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;Ge.initialize(t,n),Ae._defaultColor||(Ae._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case xe.HIGHLIGHT_COLOR:Ae._defaultColor=n;break;case xe.HIGHLIGHT_THICKNESS:Ae._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return l(this,Ed)}get commentButtonPosition(){return l(this,Nd)}updateParams(t,n){switch(t){case xe.HIGHLIGHT_COLOR:N(this,ce,Gj).call(this,n);break;case xe.HIGHLIGHT_THICKNESS:N(this,ce,$j).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[xe.HIGHLIGHT_COLOR,Ae._defaultColor],[xe.HIGHLIGHT_THICKNESS,Ae._defaultThickness]]}get propertiesToUpdate(){return[[xe.HIGHLIGHT_COLOR,this.color||Ae._defaultColor],[xe.HIGHLIGHT_THICKNESS,l(this,kn)||Ae._defaultThickness],[xe.HIGHLIGHT_FREE,l(this,Xt)]]}onUpdatedColor(){var t,n;(t=this.parent)==null||t.drawLayer.updateProperties(l(this,sn),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=l(this,tp))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",g(this,tp,new I0({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,ce,Yg).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,N(this,ce,Yg).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){N(this,ce,Fv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,ce,$l).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?N(this,ce,Fv).call(this):t&&(N(this,ce,$l).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var a,r,o;const{drawLayer:n}=this.parent;let i;l(this,Xt)?(t=(t-this.rotation+360)%360,i=N(a=Ae,Hn,zc).call(a,l(this,tn).box,t)):i=N(r=Ae,Hn,zc).call(r,[this.x,this.y,this.width,this.height],t),n.updateProperties(l(this,sn),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(l(this,ds),{bbox:N(o=Ae,Hn,zc).call(o,l(this,Ls).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();l(this,Cd)&&(t.setAttribute("aria-label",l(this,Cd)),t.setAttribute("role","mark")),l(this,Xt)?t.classList.add("free"):this.div.addEventListener("keydown",N(this,ce,qj).bind(this),{signal:this._uiManager._signal});const n=g(this,qo,document.createElement("div"));return t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=l(this,Yo),this.setDims(this.width,this.height),yC(this,l(this,qo),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,ds),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,ds),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:N(this,ce,$g).call(this,!0);break;case 1:case 3:N(this,ce,$g).call(this,!1);break}}select(){var t;super.select(),l(this,ds)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,ds),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),l(this,ds)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,ds),{rootClass:{selected:!1}}),l(this,Xt)||N(this,ce,$g).call(this,!1))}get _mustFixPosition(){return!l(this,Xt)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(l(this,sn),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(l(this,ds),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:a,y:r}){const{x:o,y:u,width:d,height:h}=i.getBoundingClientRect(),f=new AbortController,m=t.combinedSignal(f),p=y=>{f.abort(),N(this,Hn,Qj).call(this,t,y)};window.addEventListener("blur",p,{signal:m}),window.addEventListener("pointerup",p,{signal:m}),window.addEventListener("pointerdown",ht,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",qn,{signal:m}),i.addEventListener("pointermove",N(this,Hn,Kj).bind(this,t),{signal:m}),this._freeHighlight=new Bv({x:a,y:r},[o,u,d,h],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var b,A,x,v;let a=null;if(t instanceof Cj){const{data:{quadPoints:w,rect:E,rotation:j,id:T,color:C,opacity:_,popupRef:D,richText:k,contentsObj:R,creationDate:L,modificationDate:q},parent:{page:{pageNumber:X}}}=t;a=t={annotationType:ae.HIGHLIGHT,color:Array.from(C),opacity:_,quadPoints:w,boxes:null,pageIndex:X-1,rect:E.slice(0),rotation:j,annotationElementId:T,id:T,deleted:!1,popupRef:D,richText:k,comment:(R==null?void 0:R.str)||null,creationDate:L,modificationDate:q}}else if(t instanceof yS){const{data:{inkLists:w,rect:E,rotation:j,id:T,color:C,borderStyle:{rawWidth:_},popupRef:D,richText:k,contentsObj:R,creationDate:L,modificationDate:q},parent:{page:{pageNumber:X}}}=t;a=t={annotationType:ae.HIGHLIGHT,color:Array.from(C),thickness:_,inkLists:w,boxes:null,pageIndex:X-1,rect:E.slice(0),rotation:j,annotationElementId:T,id:T,deleted:!1,popupRef:D,richText:k,comment:(R==null?void 0:R.str)||null,creationDate:L,modificationDate:q}}const{color:r,quadPoints:o,inkLists:u,opacity:d}=t,h=await super.deserialize(t,n,i);h.color=G.makeHexColor(...r),h.opacity=d||1,u&&g(h,kn,t.thickness),h._initialData=a,t.comment&&h.setCommentData(t);const[f,m]=h.pageDimensions,[p,y]=h.pageTranslation;if(o){const w=g(h,Ba,[]);for(let E=0;E<o.length;E+=8)w.push({x:(o[E]-p)/f,y:1-(o[E+1]-y)/m,width:(o[E+2]-o[E])/f,height:(o[E+1]-o[E+5])/m});N(b=h,ce,Iv).call(b),N(A=h,ce,$l).call(A),h.rotate(h.rotation)}else if(u){g(h,Xt,!0);const w=u[0],E={x:w[0]-p,y:m-(w[1]-y)},j=new Bv(E,[0,0,f,m],1,l(h,kn)/2,!0,.001);for(let _=0,D=w.length;_<D;_+=2)E.x=w[_]-p,E.y=m-(w[_+1]-y),j.add(E);const{id:T,clipPathId:C}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:j.toSVGPath()}},!0,!0);N(x=h,ce,Gg).call(x,{highlightOutlines:j.getOutlines(),highlightId:T,clipPathId:C}),N(v=h,ce,$l).call(v),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=Ge._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:n,opacity:this.opacity,thickness:l(this,kn),quadPoints:N(this,ce,Xj).call(this),outlines:N(this,ce,Wj).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!N(this,ce,Zj).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Ad=new WeakMap,ep=new WeakMap,Ba=new WeakMap,Yo=new WeakMap,tp=new WeakMap,Ls=new WeakMap,sp=new WeakMap,np=new WeakMap,qo=new WeakMap,tn=new WeakMap,sn=new WeakMap,Xt=new WeakMap,Nd=new WeakMap,Ed=new WeakMap,ds=new WeakMap,Cd=new WeakMap,kn=new WeakMap,ip=new WeakMap,ce=new WeakSet,Iv=function(){const t=new Ov(l(this,Ba),.001);g(this,tn,t.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,tn).box;const n=new Ov(l(this,Ba),.0025,.001,this._uiManager.direction==="ltr");g(this,Ls,n.getOutlines());const{firstPoint:i}=l(this,tn);g(this,Nd,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:a}=l(this,Ls);g(this,Ed,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},Gg=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var m,p;if(g(this,tn,t),g(this,Ls,t.getNewOutline(l(this,kn)/2+1.5,.0025)),n>=0)g(this,sn,n),g(this,Yo,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),g(this,ds,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,Ls).box,path:{d:l(this,Ls).toSVGPath()}},!0));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,sn),{bbox:N(m=Ae,Hn,zc).call(m,l(this,tn).box,(y-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,ds),{bbox:N(p=Ae,Hn,zc).call(p,l(this,Ls).box,y),path:{d:l(this,Ls).toSVGPath()}})}const[r,o,u,d]=t.box;switch(this.rotation){case 0:this.x=r,this.y=o,this.width=u,this.height=d;break;case 90:{const[y,b]=this.parentDimensions;this.x=o,this.y=1-r,this.width=u*b/y,this.height=d*y/b;break}case 180:this.x=1-r,this.y=1-o,this.width=u,this.height=d;break;case 270:{const[y,b]=this.parentDimensions;this.x=1-o,this.y=r,this.width=u*b/y,this.height=d*y/b;break}}const{firstPoint:h}=t;g(this,Nd,[(h[0]-r)/u,(h[1]-o)/d]);const{lastPoint:f}=l(this,Ls);g(this,Ed,[(f[0]-r)/u,(f[1]-o)/d])},Gj=function(t){const n=(r,o)=>{this.color=r,this.opacity=o,this.onUpdatedColor()},i=this.color,a=this.opacity;this.addCommands({cmd:n.bind(this,t,Ae._defaultOpacity),undo:n.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},$j=function(t){const n=l(this,kn),i=a=>{g(this,kn,a),N(this,ce,Yj).call(this,a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},Yj=function(t){l(this,Xt)&&(N(this,ce,Gg).call(this,{highlightOutlines:l(this,tn).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},Fv=function(){l(this,sn)===null||!this.parent||(this.parent.drawLayer.remove(l(this,sn)),g(this,sn,null),this.parent.drawLayer.remove(l(this,ds)),g(this,ds,null))},$l=function(t=this.parent){l(this,sn)===null&&({id:Ct(this,sn)._,clipPathId:Ct(this,Yo)._}=t.drawLayer.draw({bbox:l(this,tn).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:l(this,Xt)},path:{d:l(this,tn).toSVGPath()}},!1,!0),g(this,ds,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,Xt)},bbox:l(this,Ls).box,path:{d:l(this,Ls).toSVGPath()}},l(this,Xt))),l(this,qo)&&(l(this,qo).style.clipPath=l(this,Yo)))},Hn=new WeakSet,zc=function([t,n,i,a],r){switch(r){case 90:return[1-n-a,t,a,i];case 180:return[1-t-i,1-n-a,i,a];case 270:return[n,1-t-i,a,i]}return[t,n,i,a]},qj=function(t){Ae._keyboardManager.exec(this,t)},$g=function(t){if(!l(this,Ad))return;const n=window.getSelection();t?n.setPosition(l(this,Ad),l(this,ep)):n.setPosition(l(this,sp),l(this,np))},Yg=function(){return l(this,Xt)?this.rotation:0},Xj=function(){if(l(this,Xt))return null;const[t,n]=this.pageDimensions,[i,a]=this.pageTranslation,r=l(this,Ba),o=new Float32Array(r.length*8);let u=0;for(const{x:d,y:h,width:f,height:m}of r){const p=d*t+i,y=(1-h)*n+a;o[u]=o[u+4]=p,o[u+1]=o[u+3]=y,o[u+2]=o[u+6]=p+f*t,o[u+5]=o[u+7]=y-m*n,u+=8}return o},Wj=function(t){return l(this,tn).serialize(t,N(this,ce,Yg).call(this))},Kj=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Qj=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Zj=function(t){const{color:n}=this._initialData;return this.hasEditedComment||t.color.some((i,a)=>i!==n[a])},S(Ae,Hn),F(Ae,"_defaultColor",null),F(Ae,"_defaultOpacity",1),F(Ae,"_defaultThickness",12),F(Ae,"_type","highlight"),F(Ae,"_editorType",ae.HIGHLIGHT),F(Ae,"_freeHighlightId",-1),F(Ae,"_freeHighlight",null),F(Ae,"_freeHighlightClipId","");let H0=Ae;var Xo;class Jj{constructor(){S(this,Xo,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){l(this,Xo)[e]=t}toSVGProperties(){const e=l(this,Xo);return g(this,Xo,Object.create(null)),{root:e}}reset(){g(this,Xo,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ue("Not implemented")}}Xo=new WeakMap;var nn,jd,Pt,Wo,Ko,tl,sl,nl,Qo,we,zv,Uv,Hv,Vh,eT,qg,Gh,Uc;const Y=class Y extends Ge{constructor(t){super(t);S(this,we);S(this,nn,null);S(this,jd);F(this,"_colorPicker",null);F(this,"_drawId",null);g(this,jd,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(N(this,we,zv).call(this,t),N(this,we,Vh).call(this))}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[a,r]of Object.entries(n))i.has(a)?Object.assign(t[a],r):t[a]=r;return t}static getDefaultDrawingOptions(t){Ue("Not implemented")}static get typesMap(){Ue("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(l(Y,Pt).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,n[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,n[a]]);return t}_updateProperty(t,n,i){const a=this._drawingOptions,r=a[n],o=u=>{var h;a.updateProperty(n,u);const d=l(this,nn).updateProperty(n,u);d&&N(this,we,Gh).call(this,d),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(l(this,nn).getPathResizingSVGProperties(N(this,we,qg).call(this)),{bbox:N(this,we,Uc).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(l(this,nn).getPathResizedSVGProperties(N(this,we,qg).call(this)),{bbox:N(this,we,Uc).call(this)}))}_onTranslating(t,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:N(this,we,Uc).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(l(this,nn).getPathTranslatedSVGProperties(N(this,we,qg).call(this),this.parentDimensions),{bbox:N(this,we,Uc).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,jd)&&(g(this,jd,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){N(this,we,Hv).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,we,Vh).call(this),N(this,we,Gh).call(this,l(this,nn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),N(this,we,Hv).call(this)):t&&(this._uiManager.addShouldRescale(this),N(this,we,Vh).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties({bbox:N(this,we,Uc).call(this)},l(this,nn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&N(this,we,Gh).call(this,l(this,nn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");return i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,a,r){Ue("Not implemented")}static startDrawing(t,n,i,a){var A;const{target:r,offsetX:o,offsetY:u,pointerId:d,pointerType:h}=a;if(l(Y,sl)&&l(Y,sl)!==h)return;const{viewport:{rotation:f}}=t,{width:m,height:p}=r.getBoundingClientRect(),y=g(Y,Wo,new AbortController),b=t.combinedSignal(y);if(l(Y,tl)||g(Y,tl,d),l(Y,sl)??g(Y,sl,h),window.addEventListener("pointerup",x=>{var v;l(Y,tl)===x.pointerId?this._endDraw(x):(v=l(Y,nl))==null||v.delete(x.pointerId)},{signal:b}),window.addEventListener("pointercancel",x=>{var v;l(Y,tl)===x.pointerId?this._currentParent.endDrawingSession():(v=l(Y,nl))==null||v.delete(x.pointerId)},{signal:b}),window.addEventListener("pointerdown",x=>{l(Y,sl)===x.pointerType&&((l(Y,nl)||g(Y,nl,new Set)).add(x.pointerId),l(Y,Pt).isCancellable()&&(l(Y,Pt).removeLastElement(),l(Y,Pt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",qn,{signal:b}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),r.addEventListener("touchmove",x=>{x.timeStamp===l(Y,Qo)&&ht(x)},{signal:b}),t.toggleDrawing(),(A=n._editorUndoBar)==null||A.hide(),l(Y,Pt)){t.drawLayer.updateProperties(this._currentDrawId,l(Y,Pt).startNew(o,u,m,p,f));return}n.updateUIForDefaultProperties(this),g(Y,Pt,this.createDrawerInstance(o,u,m,p,f)),g(Y,Ko,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(l(Y,Ko).toSVGProperties(),l(Y,Pt).defaultSVGProperties),!0,!1)}static _drawMove(t){var r;if(g(Y,Qo,-1),!l(Y,Pt))return;const{offsetX:n,offsetY:i,pointerId:a}=t;if(l(Y,tl)===a){if(((r=l(Y,nl))==null?void 0:r.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(Y,Pt).add(n,i)),g(Y,Qo,t.timeStamp),ht(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,g(Y,Pt,null),g(Y,Ko,null),g(Y,sl,null),g(Y,Qo,NaN)),l(Y,Wo)&&(l(Y,Wo).abort(),g(Y,Wo,null),g(Y,tl,NaN),g(Y,nl,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,l(Y,Pt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=l(Y,Pt),a=this._currentDrawId,r=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(a,i.setLastElement(r))},undo:()=>{n.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:xe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(xe.DRAW_STEP),!l(Y,Pt).isEmpty()){const{pageDimensions:[i,a],scale:r}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(Y,Pt).getOutlines(i*r,a*r,r,this._INNER_MARGIN),drawingOptions:l(Y,Ko),mustBeCommitted:!t});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,a,r,o){Ue("Not implemented")}static async deserialize(t,n,i){var f,m;const{rawDims:{pageWidth:a,pageHeight:r,pageX:o,pageY:u}}=n.viewport,d=this.deserializeDraw(o,u,a,r,this._INNER_MARGIN,t),h=await super.deserialize(t,n,i);return h.createDrawingOptions(t),N(f=h,we,zv).call(f,{drawOutlines:d}),N(m=h,we,Vh).call(m),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[n,i]=this.pageTranslation,[a,r]=this.pageDimensions;return l(this,nn).serialize([n,i,a,r],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};nn=new WeakMap,jd=new WeakMap,Pt=new WeakMap,Wo=new WeakMap,Ko=new WeakMap,tl=new WeakMap,sl=new WeakMap,nl=new WeakMap,Qo=new WeakMap,we=new WeakSet,zv=function({drawOutlines:t,drawId:n,drawingOptions:i}){g(this,nn,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=N(this,we,Uv).call(this,t,this.parent),N(this,we,Gh).call(this,t.box)},Uv=function(t,n){const{id:i}=n.drawLayer.draw(Y._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},Hv=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Vh=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=N(this,we,Uv).call(this,l(this,nn),t)}},eT=function([t,n,i,a]){const{parentDimensions:[r,o],rotation:u}=this;switch(u){case 90:return[n,1-t,i*(o/r),a*(r/o)];case 180:return[1-t,1-n,i,a];case 270:return[1-n,t,i*(o/r),a*(r/o)];default:return[t,n,i,a]}},qg=function(){const{x:t,y:n,width:i,height:a,parentDimensions:[r,o],rotation:u}=this;switch(u){case 90:return[1-n,t,i*(r/o),a*(o/r)];case 180:return[1-t,1-n,i,a];case 270:return[n,1-t,i*(r/o),a*(o/r)];default:return[t,n,i,a]}},Gh=function(t){[this.x,this.y,this.width,this.height]=N(this,we,eT).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Uc=function(){const{x:t,y:n,width:i,height:a,rotation:r,parentRotation:o,parentDimensions:[u,d]}=this;switch((r*4+o)/90){case 1:return[1-n-a,t,a,i];case 2:return[1-t-i,1-n-a,i,a];case 3:return[n,1-t-i,a,i];case 4:return[t,n-i*(u/d),a*(d/u),i*(u/d)];case 5:return[1-n,t,i*(u/d),a*(d/u)];case 6:return[1-t-a*(d/u),1-n,a*(d/u),i*(u/d)];case 7:return[n-i*(u/d),1-t-a*(d/u),i*(u/d),a*(d/u)];case 8:return[t-i,n-a,i,a];case 9:return[1-n,t-i,a,i];case 10:return[1-t,1-n,i,a];case 11:return[n-a,1-t,a,i];case 12:return[t-a*(d/u),n,a*(d/u),i*(u/d)];case 13:return[1-n-i*(u/d),t-a*(d/u),i*(u/d),a*(d/u)];case 14:return[1-t,1-n-i*(u/d),a*(d/u),i*(u/d)];case 15:return[n,1-t,i*(u/d),a*(d/u)];default:return[t,n,i,a]}},F(Y,"_currentDrawId",-1),F(Y,"_currentParent",null),S(Y,Pt,null),S(Y,Wo,null),S(Y,Ko,null),S(Y,tl,NaN),S(Y,sl,null),S(Y,nl,null),S(Y,Qo,NaN),F(Y,"_INNER_MARGIN",3);let V0=Y;var Oi,Bt,It,Zo,Td,ms,Wt,Rn,Jo,ec,tc,_d,Xg;class P3{constructor(e,t,n,i,a,r){S(this,_d);S(this,Oi,new Float64Array(6));S(this,Bt);S(this,It);S(this,Zo);S(this,Td);S(this,ms);S(this,Wt,"");S(this,Rn,0);S(this,Jo,new Mp);S(this,ec);S(this,tc);g(this,ec,n),g(this,tc,i),g(this,Zo,a),g(this,Td,r),[e,t]=N(this,_d,Xg).call(this,e,t);const o=g(this,Bt,[NaN,NaN,NaN,NaN,e,t]);g(this,ms,[e,t]),g(this,It,[{line:o,points:l(this,ms)}]),l(this,Oi).set(o,0)}updateProperty(e,t){e==="stroke-width"&&g(this,Td,t)}isEmpty(){return!l(this,It)||l(this,It).length===0}isCancellable(){return l(this,ms).length<=10}add(e,t){[e,t]=N(this,_d,Xg).call(this,e,t);const[n,i,a,r]=l(this,Oi).subarray(2,6),o=e-a,u=t-r;return Math.hypot(l(this,ec)*o,l(this,tc)*u)<=2?null:(l(this,ms).push(e,t),isNaN(n)?(l(this,Oi).set([a,r,e,t],2),l(this,Bt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(l(this,Oi)[0])&&l(this,Bt).splice(6,6),l(this,Oi).set([n,i,a,r,e,t],0),l(this,Bt).push(...V.createBezierPoints(n,i,a,r,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(l(this,ms).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,a){g(this,ec,n),g(this,tc,i),g(this,Zo,a),[e,t]=N(this,_d,Xg).call(this,e,t);const r=g(this,Bt,[NaN,NaN,NaN,NaN,e,t]);g(this,ms,[e,t]);const o=l(this,It).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),l(this,It).push({line:r,points:l(this,ms)}),l(this,Oi).set(r,0),g(this,Rn,0),this.toSVGPath(),null}getLastElement(){return l(this,It).at(-1)}setLastElement(e){return l(this,It)?(l(this,It).push(e),g(this,Bt,e.line),g(this,ms,e.points),g(this,Rn,0),{path:{d:this.toSVGPath()}}):l(this,Jo).setLastElement(e)}removeLastElement(){if(!l(this,It))return l(this,Jo).removeLastElement();l(this,It).pop(),g(this,Wt,"");for(let e=0,t=l(this,It).length;e<t;e++){const{line:n,points:i}=l(this,It)[e];g(this,Bt,n),g(this,ms,i),g(this,Rn,0),this.toSVGPath()}return{path:{d:l(this,Wt)}}}toSVGPath(){const e=V.svgRound(l(this,Bt)[4]),t=V.svgRound(l(this,Bt)[5]);if(l(this,ms).length===2)return g(this,Wt,`${l(this,Wt)} M ${e} ${t} Z`),l(this,Wt);if(l(this,ms).length<=6){const i=l(this,Wt).lastIndexOf("M");g(this,Wt,`${l(this,Wt).slice(0,i)} M ${e} ${t}`),g(this,Rn,6)}if(l(this,ms).length===4){const i=V.svgRound(l(this,Bt)[10]),a=V.svgRound(l(this,Bt)[11]);return g(this,Wt,`${l(this,Wt)} L ${i} ${a}`),g(this,Rn,12),l(this,Wt)}const n=[];l(this,Rn)===0&&(n.push(`M ${e} ${t}`),g(this,Rn,6));for(let i=l(this,Rn),a=l(this,Bt).length;i<a;i+=6){const[r,o,u,d,h,f]=l(this,Bt).slice(i,i+6).map(V.svgRound);n.push(`C${r} ${o} ${u} ${d} ${h} ${f}`)}return g(this,Wt,l(this,Wt)+n.join(" ")),g(this,Rn,l(this,Bt).length),l(this,Wt)}getOutlines(e,t,n,i){const a=l(this,It).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),l(this,Jo).build(l(this,It),e,t,n,l(this,Zo),l(this,Td),i),g(this,Oi,null),g(this,Bt,null),g(this,It,null),g(this,Wt,null),l(this,Jo)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Oi=new WeakMap,Bt=new WeakMap,It=new WeakMap,Zo=new WeakMap,Td=new WeakMap,ms=new WeakMap,Wt=new WeakMap,Rn=new WeakMap,Jo=new WeakMap,ec=new WeakMap,tc=new WeakMap,_d=new WeakSet,Xg=function(e,t){return V._normalizePoint(e,t,l(this,ec),l(this,tc),l(this,Zo))};var ps,ap,rp,an,Pi,Bi,Md,Dd,sc,Zt,aa,tT,sT,nT;class Mp extends V{constructor(){super(...arguments);S(this,Zt);S(this,ps);S(this,ap,0);S(this,rp);S(this,an);S(this,Pi);S(this,Bi);S(this,Md);S(this,Dd);S(this,sc)}build(t,n,i,a,r,o,u){g(this,Pi,n),g(this,Bi,i),g(this,Md,a),g(this,Dd,r),g(this,sc,o),g(this,rp,u??0),g(this,an,t),N(this,Zt,sT).call(this)}get thickness(){return l(this,sc)}setLastElement(t){return l(this,an).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,an).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of l(this,an)){if(t.push(`M${V.svgRound(n[4])} ${V.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${V.svgRound(n[10])} ${V.svgRound(n[11])}`);continue}for(let i=6,a=n.length;i<a;i+=6){const[r,o,u,d,h,f]=n.subarray(i,i+6).map(V.svgRound);t.push(`C${r} ${o} ${u} ${d} ${h} ${f}`)}}return t.join("")}serialize([t,n,i,a],r){const o=[],u=[],[d,h,f,m]=N(this,Zt,tT).call(this);let p,y,b,A,x,v,w,E,j;switch(l(this,Dd)){case 0:j=V._rescale,p=t,y=n+a,b=i,A=-a,x=t+d*i,v=n+(1-h-m)*a,w=t+(d+f)*i,E=n+(1-h)*a;break;case 90:j=V._rescaleAndSwap,p=t,y=n,b=i,A=a,x=t+h*i,v=n+d*a,w=t+(h+m)*i,E=n+(d+f)*a;break;case 180:j=V._rescale,p=t+i,y=n,b=-i,A=a,x=t+(1-d-f)*i,v=n+h*a,w=t+(1-d)*i,E=n+(h+m)*a;break;case 270:j=V._rescaleAndSwap,p=t+i,y=n+a,b=-i,A=-a,x=t+(1-h-m)*i,v=n+(1-d-f)*a,w=t+(1-h)*i,E=n+(1-d)*a;break}for(const{line:T,points:C}of l(this,an))o.push(j(T,p,y,b,A,r?new Array(T.length):null)),u.push(j(C,p,y,b,A,r?new Array(C.length):null));return{lines:o,points:u,rect:[x,v,w,E]}}static deserialize(t,n,i,a,r,{paths:{lines:o,points:u},rotation:d,thickness:h}){const f=[];let m,p,y,b,A;switch(d){case 0:A=V._rescale,m=-t/i,p=n/a+1,y=1/i,b=-1/a;break;case 90:A=V._rescaleAndSwap,m=-n/a,p=-t/i,y=1/a,b=1/i;break;case 180:A=V._rescale,m=t/i+1,p=-n/a,y=-1/i,b=1/a;break;case 270:A=V._rescaleAndSwap,m=n/a+1,p=t/i+1,y=-1/a,b=-1/i;break}if(!o){o=[];for(const v of u){const w=v.length;if(w===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1]]));continue}if(w===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,v[0],v[1],NaN,NaN,NaN,NaN,v[2],v[3]]));continue}const E=new Float32Array(3*(w-2));o.push(E);let[j,T,C,_]=v.subarray(0,4);E.set([NaN,NaN,NaN,NaN,j,T],0);for(let D=4;D<w;D+=2){const k=v[D],R=v[D+1];E.set(V.createBezierPoints(j,T,C,_,k,R),(D-2)*3),[j,T,C,_]=[C,_,k,R]}}}for(let v=0,w=o.length;v<w;v++)f.push({line:A(o[v].map(E=>E??NaN),m,p,y,b),points:A(u[v].map(E=>E??NaN),m,p,y,b)});const x=new this.prototype.constructor;return x.build(f,i,a,1,d,h,r),x}get box(){return l(this,ps)}updateProperty(t,n){return t==="stroke-width"?N(this,Zt,nT).call(this,n):null}updateParentDimensions([t,n],i){const[a,r]=N(this,Zt,aa).call(this);g(this,Pi,t),g(this,Bi,n),g(this,Md,i);const[o,u]=N(this,Zt,aa).call(this),d=o-a,h=u-r,f=l(this,ps);return f[0]-=d,f[1]-=h,f[2]+=2*d,f[3]+=2*h,f}updateRotation(t){return g(this,ap,t),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,ps).map(V.svgRound).join(" ")}get defaultProperties(){const[t,n]=l(this,ps);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${V.svgRound(t)} ${V.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=l(this,ps);let i=0,a=0,r=0,o=0,u=0,d=0;switch(l(this,ap)){case 90:a=n/t,r=-t/n,u=t;break;case 180:i=-1,o=-1,u=t,d=n;break;case 270:a=-n/t,r=t/n,d=n;break;default:return""}return`matrix(${i} ${a} ${r} ${o} ${V.svgRound(u)} ${V.svgRound(d)})`}getPathResizingSVGProperties([t,n,i,a]){const[r,o]=N(this,Zt,aa).call(this),[u,d,h,f]=l(this,ps);if(Math.abs(h-r)<=V.PRECISION||Math.abs(f-o)<=V.PRECISION){const A=t+i/2-(u+h/2),x=n+a/2-(d+f/2);return{path:{"transform-origin":`${V.svgRound(t)} ${V.svgRound(n)}`,transform:`${this.rotationTransform} translate(${A} ${x})`}}}const m=(i-2*r)/(h-2*r),p=(a-2*o)/(f-2*o),y=h/i,b=f/a;return{path:{"transform-origin":`${V.svgRound(u)} ${V.svgRound(d)}`,transform:`${this.rotationTransform} scale(${y} ${b}) translate(${V.svgRound(r)} ${V.svgRound(o)}) scale(${m} ${p}) translate(${V.svgRound(-r)} ${V.svgRound(-o)})`}}}getPathResizedSVGProperties([t,n,i,a]){const[r,o]=N(this,Zt,aa).call(this),u=l(this,ps),[d,h,f,m]=u;if(u[0]=t,u[1]=n,u[2]=i,u[3]=a,Math.abs(f-r)<=V.PRECISION||Math.abs(m-o)<=V.PRECISION){const x=t+i/2-(d+f/2),v=n+a/2-(h+m/2);for(const{line:w,points:E}of l(this,an))V._translate(w,x,v,w),V._translate(E,x,v,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${V.svgRound(t)} ${V.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*r)/(f-2*r),y=(a-2*o)/(m-2*o),b=-p*(d+r)+t+r,A=-y*(h+o)+n+o;if(p!==1||y!==1||b!==0||A!==0)for(const{line:x,points:v}of l(this,an))V._rescale(x,b,A,p,y,x),V._rescale(v,b,A,p,y,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${V.svgRound(t)} ${V.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[a,r]=i,o=l(this,ps),u=t-o[0],d=n-o[1];if(l(this,Pi)===a&&l(this,Bi)===r)for(const{line:h,points:f}of l(this,an))V._translate(h,u,d,h),V._translate(f,u,d,f);else{const h=l(this,Pi)/a,f=l(this,Bi)/r;g(this,Pi,a),g(this,Bi,r);for(const{line:m,points:p}of l(this,an))V._rescale(m,u,d,h,f,m),V._rescale(p,u,d,h,f,p);o[2]*=h,o[3]*=f}return o[0]=t,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${V.svgRound(t)} ${V.svgRound(n)}`}}}get defaultSVGProperties(){const t=l(this,ps);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${V.svgRound(t[0])} ${V.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}ps=new WeakMap,ap=new WeakMap,rp=new WeakMap,an=new WeakMap,Pi=new WeakMap,Bi=new WeakMap,Md=new WeakMap,Dd=new WeakMap,sc=new WeakMap,Zt=new WeakSet,aa=function(t=l(this,sc)){const n=l(this,rp)+t/2*l(this,Md);return l(this,Dd)%180===0?[n/l(this,Pi),n/l(this,Bi)]:[n/l(this,Bi),n/l(this,Pi)]},tT=function(){const[t,n,i,a]=l(this,ps),[r,o]=N(this,Zt,aa).call(this,0);return[t+r,n+o,i-2*r,a-2*o]},sT=function(){const t=g(this,ps,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of l(this,an)){if(a.length<=12){for(let u=4,d=a.length;u<d;u+=6)G.pointBoundingBox(a[u],a[u+1],t);continue}let r=a[4],o=a[5];for(let u=6,d=a.length;u<d;u+=6){const[h,f,m,p,y,b]=a.subarray(u,u+6);G.bezierBoundingBox(r,o,h,f,m,p,y,b,t),r=y,o=b}}const[n,i]=N(this,Zt,aa).call(this);t[0]=ys(t[0]-n,0,1),t[1]=ys(t[1]-i,0,1),t[2]=ys(t[2]+n,0,1),t[3]=ys(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},nT=function(t){const[n,i]=N(this,Zt,aa).call(this);g(this,sc,t);const[a,r]=N(this,Zt,aa).call(this),[o,u]=[a-n,r-i],d=l(this,ps);return d[0]-=o,d[1]-=u,d[2]+=2*o,d[3]+=2*u,d};class Ox extends Jj{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ge._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Ox(this._viewParameters);return e.updateAll(this),e}}var lx,iT;const iu=class iu extends V0{constructor(t){super({...t,name:"inkEditor"});S(this,lx);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){Ge.initialize(t,n),this._defaultDrawingOptions=new Ox(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return de(this,"typesMap",new Map([[xe.INK_THICKNESS,"stroke-width"],[xe.INK_COLOR,"stroke"],[xe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,a,r){return new P3(t,n,i,a,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,a,r,o){return Mp.deserialize(t,n,i,a,r,o)}static async deserialize(t,n,i){let a=null;if(t instanceof yS){const{data:{inkLists:o,rect:u,rotation:d,id:h,color:f,opacity:m,borderStyle:{rawWidth:p},popupRef:y,richText:b,contentsObj:A,creationDate:x,modificationDate:v},parent:{page:{pageNumber:w}}}=t;a=t={annotationType:ae.INK,color:Array.from(f),thickness:p,opacity:m,paths:{points:o},boxes:null,pageIndex:w-1,rect:u.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:y,richText:b,comment:(A==null?void 0:A.str)||null,creationDate:x,modificationDate:v}}const r=await super.deserialize(t,n,i);return r._initialData=a,t.comment&&r.setCommentData(t),r}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new F0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return xe.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=iu.getDefaultDrawingOptions({stroke:G.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":r,"stroke-width":o}}=this,u=Object.assign(super.serialize(t),{color:Ge._colorManager.convert(a),opacity:r,thickness:o,paths:{lines:n,points:i}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!N(this,lx,iT).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};lx=new WeakSet,iT=function(t){const{color:n,thickness:i,opacity:a,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,u)=>o!==n[u])||t.thickness!==i||t.opacity!==a||t.pageIndex!==r},F(iu,"_type","ink"),F(iu,"_editorType",ae.INK),F(iu,"_defaultDrawingOptions",null);let Vv=iu;class Gv extends Mp{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const ng=8,bh=3;var nc,Ce,$v,li,aT,rT,Yv,Wg,lT,oT,cT,qv,Xv,uT;class Ga{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},a,r,o,u){let d=new OffscreenCanvas(1,1),h=d.getContext("2d",{alpha:!1});const f=200,m=h.font=`${n} ${i} ${f}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:y,actualBoundingBoxAscent:b,actualBoundingBoxDescent:A,fontBoundingBoxAscent:x,fontBoundingBoxDescent:v,width:w}=h.measureText(e),E=1.5,j=Math.ceil(Math.max(Math.abs(p)+Math.abs(y)||0,w)*E),T=Math.ceil(Math.max(Math.abs(b)+Math.abs(A)||f,Math.abs(x)+Math.abs(v)||f)*E);d=new OffscreenCanvas(j,T),h=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=m,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,j,T),h.fillStyle="black",h.fillText(e,j*(E-1)/2,T*(3-E)/2);const C=N(this,Ce,qv).call(this,h.getImageData(0,0,j,T).data),_=N(this,Ce,cT).call(this,C),D=N(this,Ce,Xv).call(this,_),k=N(this,Ce,Yv).call(this,C,j,T,D);return this.processDrawnLines({lines:{curves:k,width:j,height:T},pageWidth:a,pageHeight:r,rotation:o,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,a){const[r,o,u]=N(this,Ce,uT).call(this,e),[d,h]=N(this,Ce,oT).call(this,r,o,u,Math.hypot(o,u)*l(this,nc).sigmaSFactor,l(this,nc).sigmaR,l(this,nc).kernelSize),f=N(this,Ce,Xv).call(this,h),m=N(this,Ce,Yv).call(this,d,o,u,f);return this.processDrawnLines({lines:{curves:m,width:o,height:u},pageWidth:t,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:r,areContours:o}){i%180!==0&&([t,n]=[n,t]);const{curves:u,width:d,height:h}=e,f=e.thickness??0,m=[],p=Math.min(t/d,n/h),y=p/t,b=p/n,A=[];for(const{points:v}of u){const w=r?N(this,Ce,lT).call(this,v):v;if(!w)continue;A.push(w);const E=w.length,j=new Float32Array(E),T=new Float32Array(3*(E===2?2:E-2));if(m.push({line:T,points:j}),E===2){j[0]=w[0]*y,j[1]=w[1]*b,T.set([NaN,NaN,NaN,NaN,j[0],j[1]],0);continue}let[C,_,D,k]=w;C*=y,_*=b,D*=y,k*=b,j.set([C,_,D,k],0),T.set([NaN,NaN,NaN,NaN,C,_],0);for(let R=4;R<E;R+=2){const L=j[R]=w[R]*y,q=j[R+1]=w[R+1]*b;T.set(V.createBezierPoints(C,_,D,k,L,q),(R-2)*3),[C,_,D,k]=[D,k,L,q]}}if(m.length===0)return null;const x=o?new Gv:new Mp;return x.build(m,t,n,1,i,o?0:f,a),{outline:x,newCurves:A,areContours:o,thickness:f,width:d,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:a}){let r=1/0,o=-1/0,u=0;for(const w of e){u+=w.length;for(let E=2,j=w.length;E<j;E++){const T=w[E]-w[E-2];r=Math.min(r,T),o=Math.max(o,T)}}let d;r>=-128&&o<=127?d=Int8Array:r>=-32768&&o<=32767?d=Int16Array:d=Int32Array;const h=e.length,f=ng+bh*h,m=new Uint32Array(f);let p=0;m[p++]=f*Uint32Array.BYTES_PER_ELEMENT+(u-2*h)*d.BYTES_PER_ELEMENT,m[p++]=0,m[p++]=i,m[p++]=a,m[p++]=t?0:1,m[p++]=Math.max(0,Math.floor(n??0)),m[p++]=h,m[p++]=d.BYTES_PER_ELEMENT;for(const w of e)m[p++]=w.length-2,m[p++]=w[0],m[p++]=w[1];const y=new CompressionStream("deflate-raw"),b=y.writable.getWriter();await b.ready,b.write(m);const A=d.prototype.constructor;for(const w of e){const E=new A(w.length-2);for(let j=2,T=w.length;j<T;j++)E[j-2]=w[j]-w[j-2];b.write(E)}b.close();const x=await new Response(y.readable).arrayBuffer(),v=new Uint8Array(x);return dC(v)}static async decompressSignature(e){try{const t=Zk(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(t).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let r=null,o=0;for await(const w of n)r||(r=new Uint8Array(new Uint32Array(w.buffer,0,4)[0])),r.set(w,o),o+=w.length;const u=new Uint32Array(r.buffer,0,r.length>>2),d=u[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const h=u[2],f=u[3],m=u[4]===0,p=u[5],y=u[6],b=u[7],A=[],x=(ng+bh*y)*Uint32Array.BYTES_PER_ELEMENT;let v;switch(b){case Int8Array.BYTES_PER_ELEMENT:v=new Int8Array(r.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:v=new Int16Array(r.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:v=new Int32Array(r.buffer,x);break}o=0;for(let w=0;w<y;w++){const E=u[bh*w+ng],j=new Float32Array(E+2);A.push(j);for(let T=0;T<bh-1;T++)j[T]=u[bh*w+ng+T+1];for(let T=0;T<E;T++)j[T+2]=j[T]+v[o++]}return{areContours:m,thickness:p,outlines:A,width:h,height:f}}catch(t){return ne(`decompressSignature: ${t}`),null}}}nc=new WeakMap,Ce=new WeakSet,$v=function(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i},li=new WeakMap,aT=function(e,t,n,i,a,r,o){const u=N(this,Ce,$v).call(this,n,i,a,r);for(let d=0;d<8;d++){const h=(-d+u-o+16)%8,f=l(this,li)[2*h],m=l(this,li)[2*h+1];if(e[(n+f)*t+(i+m)]!==0)return h}return-1},rT=function(e,t,n,i,a,r,o){const u=N(this,Ce,$v).call(this,n,i,a,r);for(let d=0;d<8;d++){const h=(d+u+o+16)%8,f=l(this,li)[2*h],m=l(this,li)[2*h+1];if(e[(n+f)*t+(i+m)]!==0)return h}return-1},Yv=function(e,t,n,i){const a=e.length,r=new Int32Array(a);for(let h=0;h<a;h++)r[h]=e[h]<=i?1:0;for(let h=1;h<n-1;h++)r[h*t]=r[h*t+t-1]=0;for(let h=0;h<t;h++)r[h]=r[t*n-1-h]=0;let o=1,u;const d=[];for(let h=1;h<n-1;h++){u=1;for(let f=1;f<t-1;f++){const m=h*t+f,p=r[m];if(p===0)continue;let y=h,b=f;if(p===1&&r[m-1]===0)o+=1,b-=1;else if(p>=1&&r[m+1]===0)o+=1,b+=1,p>1&&(u=p);else{p!==1&&(u=Math.abs(p));continue}const A=[f,h],x=b===f+1,v={isHole:x,points:A,id:o,parent:0};d.push(v);let w;for(const R of d)if(R.id===u){w=R;break}w?w.isHole?v.parent=x?w.parent:u:v.parent=x?u:w.parent:v.parent=x?u:0;const E=N(this,Ce,aT).call(this,r,t,h,f,y,b,0);if(E===-1){r[m]=-o,r[m]!==1&&(u=Math.abs(r[m]));continue}let j=l(this,li)[2*E],T=l(this,li)[2*E+1];const C=h+j,_=f+T;y=C,b=_;let D=h,k=f;for(;;){const R=N(this,Ce,rT).call(this,r,t,D,k,y,b,1);j=l(this,li)[2*R],T=l(this,li)[2*R+1];const L=D+j,q=k+T;A.push(q,L);const X=D*t+k;if(r[X+1]===0?r[X]=-o:r[X]===1&&(r[X]=o),L===h&&q===f&&D===C&&k===_){r[m]!==1&&(u=Math.abs(r[m]));break}else y=D,b=k,D=L,k=q}}}return d},Wg=function(e,t,n,i){if(n-t<=4){for(let C=t;C<n-2;C+=2)i.push(e[C],e[C+1]);return}const a=e[t],r=e[t+1],o=e[n-4]-a,u=e[n-3]-r,d=Math.hypot(o,u),h=o/d,f=u/d,m=h*r-f*a,p=u/o,y=1/d,b=Math.atan(p),A=Math.cos(b),x=Math.sin(b),v=y*(Math.abs(A)+Math.abs(x)),w=y*(1-v+v**2),E=Math.max(Math.atan(Math.abs(x+A)*w),Math.atan(Math.abs(x-A)*w));let j=0,T=t;for(let C=t+2;C<n-2;C+=2){const _=Math.abs(m-h*e[C+1]+f*e[C]);_>j&&(T=C,j=_)}j>(d*E)**2?(N(this,Ce,Wg).call(this,e,t,T+2,i),N(this,Ce,Wg).call(this,e,T,n,i)):i.push(a,r)},lT=function(e){const t=[],n=e.length;return N(this,Ce,Wg).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},oT=function(e,t,n,i,a,r){const o=new Float32Array(r**2),u=-2*i**2,d=r>>1;for(let b=0;b<r;b++){const A=(b-d)**2;for(let x=0;x<r;x++)o[b*r+x]=Math.exp((A+(x-d)**2)/u)}const h=new Float32Array(256),f=-2*a**2;for(let b=0;b<256;b++)h[b]=Math.exp(b**2/f);const m=e.length,p=new Uint8Array(m),y=new Uint32Array(256);for(let b=0;b<n;b++)for(let A=0;A<t;A++){const x=b*t+A,v=e[x];let w=0,E=0;for(let T=0;T<r;T++){const C=b+T-d;if(!(C<0||C>=n))for(let _=0;_<r;_++){const D=A+_-d;if(D<0||D>=t)continue;const k=e[C*t+D],R=o[T*r+_]*h[Math.abs(k-v)];w+=k*R,E+=R}}const j=p[x]=Math.round(w/E);y[j]++}return[p,y]},cT=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},qv=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,a=1/0;for(let o=0,u=n.length;o<u;o++){const d=n[o]=e[o<<2];i=Math.max(i,d),a=Math.min(a,d)}const r=255/(i-a);for(let o=0,u=n.length;o<u;o++)n[o]=(n[o]-a)*r;return n},Xv=function(e){let t,n=-1/0,i=-1/0;const a=e.findIndex(u=>u!==0);let r=a,o=a;for(t=a;t<256;t++){const u=e[t];u>n&&(t-r>i&&(i=t-r,o=t-1),n=u,r=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},uT=function(e){const t=e,{width:n,height:i}=e,{maxDim:a}=l(this,nc);let r=n,o=i;if(n>a||i>a){let m=n,p=i,y=Math.log2(Math.max(n,i)/a);const b=Math.floor(y);y=y===b?b-1:b;for(let x=0;x<y;x++){r=Math.ceil(m/2),o=Math.ceil(p/2);const v=new OffscreenCanvas(r,o);v.getContext("2d").drawImage(e,0,0,m,p,0,0,r,o),m=r,p=o,e!==t&&e.close(),e=v.transferToImageBitmap()}const A=Math.min(a/r,a/o);r=Math.round(r*A),o=Math.round(o*A)}const d=new OffscreenCanvas(r,o).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,r,o),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,r,o);const h=d.getImageData(0,0,r,o).data;return[N(this,Ce,qv).call(this,h),r,o]},S(Ga,Ce),S(Ga,nc,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),S(Ga,li,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class vS extends Jj{constructor(){super(),super.updateProperties({fill:Ge._defaultLineColor,"stroke-width":0})}clone(){const e=new vS;return e.updateAll(this),e}}class wS extends Ox{constructor(e){super(e),super.updateProperties({stroke:Ge._defaultLineColor,"stroke-width":1})}clone(){const e=new wS(this._viewParameters);return e.updateAll(this),e}}var il,Ii,al,ic;const Hs=class Hs extends V0{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});S(this,il,!1);S(this,Ii,null);S(this,al,null);S(this,ic,null);this._willKeepAspectRatio=!0,g(this,al,t.signatureData||null),g(this,Ii,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){Ge.initialize(t,n),this._defaultDrawingOptions=new vS,this._defaultDrawnSignatureOptions=new wS(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return de(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,Ii)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(l(this,al)){const{lines:a,mustSmooth:r,areContours:o,description:u,uuid:d,heightInPage:h}=l(this,al),{rawDims:{pageWidth:f,pageHeight:m},rotation:p}=this.parent.viewport,y=Ga.processDrawnLines({lines:a,pageWidth:f,pageHeight:m,rotation:p,innerMargin:Hs._INNER_MARGIN,mustSmooth:r,areContours:o});this.addSignature(y,h,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:l(this,Ii)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){g(this,ic,t),this.addEditToolbar()}getUuid(){return l(this,ic)}get description(){return l(this,Ii)}set description(t){g(this,Ii,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:a,height:r}=l(this,al),o=Math.max(a,r),u=Ga.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:i,width:a,height:r},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,a){const{x:r,y:o}=this,{outline:u}=g(this,al,t);g(this,il,u instanceof Gv),this.description=i;let d;l(this,il)?d=Hs.getDefaultDrawingOptions():(d=Hs._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,h]=this.pageDimensions;let f=n/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=r,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return Ga.process(t,n,i,a,Hs._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:a},rotation:r}=this.parent.viewport;return Ga.extractContoursFromText(t,n,i,a,r,Hs._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return Ga.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:a,innerMargin:Hs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Hs.getDefaultDrawingOptions():(this._drawingOptions=Hs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,r=Object.assign(super.serialize(t),{isSignature:!0,areContours:l(this,il),color:[0,0,0],thickness:l(this,il)?0:a});return this.addComment(r),t?(r.paths={lines:n,points:i},r.uuid=l(this,ic),r.isCopy=!0):r.lines=n,l(this,Ii)&&(r.accessibilityData={type:"Figure",alt:l(this,Ii)}),r}static deserializeDraw(t,n,i,a,r,o){return o.areContours?Gv.deserialize(t,n,i,a,r,o):Mp.deserialize(t,n,i,a,r,o)}static async deserialize(t,n,i){var r;const a=await super.deserialize(t,n,i);return g(a,il,t.areContours),a.description=((r=t.accessibilityData)==null?void 0:r.alt)||"",g(a,ic,t.uuid),a}};il=new WeakMap,Ii=new WeakMap,al=new WeakMap,ic=new WeakMap,F(Hs,"_type","signature"),F(Hs,"_editorType",ae.SIGNATURE),F(Hs,"_defaultDrawingOptions",null);let Wv=Hs;var Je,Ft,rl,Ia,ll,kd,Fa,ac,Fi,rn,Rd,Se,$h,Yh,Kg,Qg,Zg,Qv,Jg,dT;class Kv extends Ge{constructor(t){super({...t,name:"stampEditor"});S(this,Se);S(this,Je,null);S(this,Ft,null);S(this,rl,null);S(this,Ia,null);S(this,ll,null);S(this,kd,"");S(this,Fa,null);S(this,ac,!1);S(this,Fi,null);S(this,rn,!1);S(this,Rd,!1);g(this,Ia,t.bitmapUrl),g(this,ll,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){Ge.initialize(t,n)}static isHandlingMimeForPasting(t){return Ry.includes(t)}static paste(t,n){n.pasteEditor({mode:ae.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:r,height:o}=t||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:a,width:r,height:o,channels:a.length/(r*o)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var t;l(this,Ft)&&(g(this,Je,null),this._uiManager.imageManager.deleteId(l(this,Ft)),(t=l(this,Fa))==null||t.remove(),g(this,Fa,null),l(this,Fi)&&(clearTimeout(l(this,Fi)),g(this,Fi,null))),super.remove()}rebuild(){if(!this.parent){l(this,Ft)&&N(this,Se,Kg).call(this);return}super.rebuild(),this.div!==null&&(l(this,Ft)&&l(this,Fa)===null&&N(this,Se,Kg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(l(this,rl)||l(this,Je)||l(this,Ia)||l(this,ll)||l(this,Ft)||l(this,ac))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,ac)||(l(this,Je)?N(this,Se,Qg).call(this):N(this,Se,Kg).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(g(this,Ft,i),a&&g(this,Je,a),g(this,ac,!1),N(this,Se,Qg).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,Fi)!==null&&clearTimeout(l(this,Fi)),g(this,Fi,setTimeout(()=>{g(this,Fi,null),N(this,Se,Qv).call(this)},200))}copyCanvas(t,n,i=!1){t||(t=224);const{width:a,height:r}=l(this,Je),o=new Yi;let u=l(this,Je),d=a,h=r,f=null;if(n){if(a>n||r>n){const C=Math.min(n/a,n/r);d=Math.floor(a*C),h=Math.floor(r*C)}f=document.createElement("canvas");const p=f.width=Math.ceil(d*o.sx),y=f.height=Math.ceil(h*o.sy);l(this,rn)||(u=N(this,Se,Zg).call(this,p,y));const b=f.getContext("2d");b.filter=this._uiManager.hcmFilter;let A="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":iR.isDarkMode&&(A="#8f8f9d",x="#42414d");const v=15,w=v*o.sx,E=v*o.sy,j=new OffscreenCanvas(w*2,E*2),T=j.getContext("2d");T.fillStyle=A,T.fillRect(0,0,w*2,E*2),T.fillStyle=x,T.fillRect(0,0,w,E),T.fillRect(w,E,w,E),b.fillStyle=b.createPattern(j,"repeat"),b.fillRect(0,0,p,y),b.drawImage(u,0,0,u.width,u.height,0,0,p,y)}let m=null;if(i){let p,y;if(o.symmetric&&u.width<t&&u.height<t)p=u.width,y=u.height;else if(u=l(this,Je),a>t||r>t){const x=Math.min(t/a,t/r);p=Math.floor(a*x),y=Math.floor(r*x),l(this,rn)||(u=N(this,Se,Zg).call(this,p,y))}const A=new OffscreenCanvas(p,y).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,p,y),m={width:p,height:y,data:A.getImageData(0,0,p,y).data}}return{canvas:f,width:d,height:h,imageData:m}}static async deserialize(t,n,i){var A;let a=null,r=!1;if(t instanceof jj){const{data:{rect:x,rotation:v,id:w,structParent:E,popupRef:j,richText:T,contentsObj:C,creationDate:_,modificationDate:D},container:k,parent:{page:{pageNumber:R}},canvas:L}=t;let q,X;L?(delete t.canvas,{id:q,bitmap:X}=i.imageManager.getFromCanvas(k.id,L),L.remove()):(r=!0,t._hasNoCanvas=!0);const ee=((A=await n._structTree.getAriaAttributes(`${hS}${w}`))==null?void 0:A.get("aria-label"))||"";a=t={annotationType:ae.STAMP,bitmapId:q,bitmap:X,pageIndex:R-1,rect:x.slice(0),rotation:v,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:ee},isSvg:!1,structParent:E,popupRef:j,richText:T,comment:(C==null?void 0:C.str)||null,creationDate:_,modificationDate:D}}const o=await super.deserialize(t,n,i),{rect:u,bitmap:d,bitmapUrl:h,bitmapId:f,isSvg:m,accessibilityData:p}=t;r?(i.addMissingCanvas(t.id,o),g(o,ac,!0)):f&&i.imageManager.isValidId(f)?(g(o,Ft,f),d&&g(o,Je,d)):g(o,Ia,h),g(o,rn,m);const[y,b]=o.pageDimensions;return o.width=(u[2]-u[0])/y,o.height=(u[3]-u[1])/b,p&&(o.altTextData=p),o._initialData=a,t.comment&&o.setCommentData(t),g(o,Rd,!!a),o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:l(this,Ft),isSvg:l(this,rn)});if(this.addComment(i),t)return i.bitmapUrl=N(this,Se,Jg).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:r}=this.serializeAltText(!1);if(!a&&r&&(i.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const u=N(this,Se,dT).call(this,i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||(n.stamps=new Map);const o=l(this,rn)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(l(this,Ft)))n.stamps.set(l(this,Ft),{area:o,serialized:i}),i.bitmap=N(this,Se,Jg).call(this,!1);else if(l(this,rn)){const u=n.stamps.get(l(this,Ft));o>u.area&&(u.area=o,u.serialized.bitmap.close(),u.serialized.bitmap=N(this,Se,Jg).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Je=new WeakMap,Ft=new WeakMap,rl=new WeakMap,Ia=new WeakMap,ll=new WeakMap,kd=new WeakMap,Fa=new WeakMap,ac=new WeakMap,Fi=new WeakMap,rn=new WeakMap,Rd=new WeakMap,Se=new WeakSet,$h=function(t,n=!1){if(!t){this.remove();return}g(this,Je,t.bitmap),n||(g(this,Ft,t.id),g(this,rn,t.isSvg)),t.file&&g(this,kd,t.file.name),N(this,Se,Qg).call(this)},Yh=function(){if(g(this,rl,null),this._uiManager.enableWaiting(!1),!!l(this,Fa)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Je)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Je)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Kg=function(){if(l(this,Ft)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,Ft)).then(i=>N(this,Se,$h).call(this,i,!0)).finally(()=>N(this,Se,Yh).call(this));return}if(l(this,Ia)){const i=l(this,Ia);g(this,Ia,null),this._uiManager.enableWaiting(!0),g(this,rl,this._uiManager.imageManager.getFromUrl(i).then(a=>N(this,Se,$h).call(this,a)).finally(()=>N(this,Se,Yh).call(this)));return}if(l(this,ll)){const i=l(this,ll);g(this,ll,null),this._uiManager.enableWaiting(!0),g(this,rl,this._uiManager.imageManager.getFromFile(i).then(a=>N(this,Se,$h).call(this,a)).finally(()=>N(this,Se,Yh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Ry.join(",");const n=this._uiManager._signal;g(this,rl,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),N(this,Se,$h).call(this,a)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>N(this,Se,Yh).call(this))),t.click()},Qg=function(){var d;const{div:t}=this;let{width:n,height:i}=l(this,Je);const[a,r]=this.pageDimensions,o=.75;if(this.width)n=this.width*a,i=this.height*r;else if(n>o*a||i>o*r){const h=Math.min(o*a/n,o*r/i);n*=h,i*=h}this._uiManager.enableWaiting(!1);const u=g(this,Fa,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=n/a,this.height=i/r,this.setDims(),(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),N(this,Se,Qv).call(this),l(this,Rd)||(this.parent.addUndoableEditor(this),g(this,Rd,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,kd)&&this.div.setAttribute("aria-description",l(this,kd)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Zg=function(t,n){const{width:i,height:a}=l(this,Je);let r=i,o=a,u=l(this,Je);for(;r>2*t||o>2*n;){const d=r,h=o;r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(r,o);f.getContext("2d").drawImage(u,0,0,d,h,0,0,r,o),u=f.transferToImageBitmap()}return u},Qv=function(){const[t,n]=this.parentDimensions,{width:i,height:a}=this,r=new Yi,o=Math.ceil(i*t*r.sx),u=Math.ceil(a*n*r.sy),d=l(this,Fa);if(!d||d.width===o&&d.height===u)return;d.width=o,d.height=u;const h=l(this,rn)?l(this,Je):N(this,Se,Zg).call(this,o,u),f=d.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,u)},Jg=function(t){if(t){if(l(this,rn)){const a=this._uiManager.imageManager.getSvgUrl(l(this,Ft));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=l(this,Je),n.getContext("2d").drawImage(l(this,Je),0,0),n.toDataURL()}if(l(this,rn)){const[n,i]=this.pageDimensions,a=Math.round(this.width*n*kl.PDF_TO_CSS_UNITS),r=Math.round(this.height*i*kl.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,r);return o.getContext("2d").drawImage(l(this,Je),0,0,l(this,Je).width,l(this,Je).height,0,0,a,r),o.transferToImageBitmap()}return structuredClone(l(this,Je))},dT=function(t){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===n,r=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&r,isSameAltText:r}},F(Kv,"_type","stamp"),F(Kv,"_editorType",ae.STAMP);var rc,Ld,ol,cl,za,Os,ul,Od,Pd,oi,Ua,zt,Ha,dl,Bd,W,hl,ze,Jv,hT,gi,ew,tw,e0;const Qn=class Qn{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:a,annotationLayer:r,drawLayer:o,textLayer:u,viewport:d,l10n:h}){S(this,ze);S(this,rc);S(this,Ld,!1);S(this,ol,null);S(this,cl,null);S(this,za,null);S(this,Os,new Map);S(this,ul,!1);S(this,Od,!1);S(this,Pd,!1);S(this,oi,null);S(this,Ua,null);S(this,zt,null);S(this,Ha,null);S(this,dl,null);S(this,Bd,-1);S(this,W);const f=[...l(Qn,hl).values()];if(!Qn._initialized){Qn._initialized=!0;for(const m of f)m.initialize(h,e)}e.registerEditorTypes(f),g(this,W,e),this.pageIndex=t,this.div=n,g(this,rc,a),g(this,ol,r),this.viewport=d,g(this,zt,u),this.drawLayer=o,this._structTree=i,l(this,W).addLayer(this)}get isEmpty(){return l(this,Os).size===0}get isInvisible(){return this.isEmpty&&l(this,W).getMode()===ae.NONE}updateToolbar(e){l(this,W).updateToolbar(e)}updateMode(e=l(this,W).getMode()){switch(N(this,ze,e0).call(this),e){case ae.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ae.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ae.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ae.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of l(Qn,hl).values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,zt))==null?void 0:t.div)}setEditingState(e){l(this,W).setEditingState(e)}addCommands(e){l(this,W).addCommands(e)}cleanUndoStack(e){l(this,W).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,ol))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;g(this,Pd,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=l(this,dl))==null||n.abort(),g(this,dl,null);const e=new Set;for(const i of l(this,ze,Jv))i.enableEditing(),i.show(!0),i.annotationElementId&&(l(this,W).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=l(this,ol);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),l(this,W).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}g(this,Pd,!1),l(this,W)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var n;if(g(this,Od,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),l(this,zt)&&!l(this,dl)){g(this,dl,new AbortController);const i=l(this,W).combinedSignal(l(this,dl));l(this,zt).div.addEventListener("pointerdown",a=>{const{clientX:o,clientY:u,timeStamp:d}=a,h=l(this,Bd);if(d-h>500){g(this,Bd,d);return}g(this,Bd,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const m=document.elementsFromPoint(o,u);if(f.toggle("getElements",!1),!this.div.contains(m[0]))return;let p;const y=new RegExp(`^${Af}[0-9]+$`);for(const A of m)if(y.test(A.id)){p=A.id;break}if(!p)return;const b=l(this,Os).get(p);(b==null?void 0:b.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),b.dblclick(a))},{signal:i,capture:!0})}const e=l(this,ol);if(e){const i=new Map,a=new Map;for(const o of l(this,ze,Jv)){if(o.disableEditing(),!o.annotationElementId){o.updateFakeAnnotationElement(e);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else a.set(o.annotationElementId,o);(n=this.getEditableAnnotation(o.annotationElementId))==null||n.show(),o.remove()}const r=e.getEditableAnnotations();for(const o of r){const{id:u}=o.data;if(l(this,W).isDeletedAnnotationElement(u)){o.updateEdited({deleted:!0});continue}let d=a.get(u);if(d){d.resetAnnotationElement(o),d.show(!1),o.show();continue}d=i.get(u),d&&(l(this,W).addChangedExistingAnnotation(d),d.renderAnnotationElement(o)&&d.show(!1)),o.show()}}N(this,ze,e0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const i of l(Qn,hl).values())t.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),g(this,Od,!1)}getEditableAnnotation(e){var t;return((t=l(this,ol))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,W).getActive()!==e&&l(this,W).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=l(this,zt))!=null&&e.div&&!l(this,Ha)){g(this,Ha,new AbortController);const t=l(this,W).combinedSignal(l(this,Ha));l(this,zt).div.addEventListener("pointerdown",N(this,ze,hT).bind(this),{signal:t}),l(this,zt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,zt))!=null&&e.div&&l(this,Ha)&&(l(this,Ha).abort(),g(this,Ha,null),l(this,zt).div.classList.remove("highlighting"))}enableClick(){if(l(this,cl))return;g(this,cl,new AbortController);const e=l(this,W).combinedSignal(l(this,cl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=l(this,cl))==null||e.abort(),g(this,cl,null)}attach(e){l(this,Os).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,W).isDeletedAnnotationElement(t)&&l(this,W).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,Os).delete(e.id),(t=l(this,rc))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,Od)&&e.annotationElementId&&l(this,W).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,W).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,W).addDeletedAnnotationElement(e.annotationElementId),Ge.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,W).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!l(this,Pd)),l(this,W).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,za)&&(e._focusEventsAllowed=!1,g(this,za,setTimeout(()=>{g(this,za,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,W)._signal}),t.focus())},0))),e._structTreeParentId=(n=l(this,rc))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of l(this,Os).values())if(t.uid===e)return t;return null}getNextId(){return l(this,W).getId()}combinedSignal(e){return l(this,W).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=l(this,ze,gi))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await l(this,W).updateMode(e.mode);const{offsetX:n,offsetY:i}=N(this,ze,tw).call(this),a=this.getNextId(),r=N(this,ze,ew).call(this,{parent:this,id:a,x:n,y:i,uiManager:l(this,W),isCentered:!0,...t});r&&this.add(r)}async deserialize(e){var t;return await((t=l(Qn,hl).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,W)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),a=N(this,ze,ew).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:l(this,W),isCentered:t,...n});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(N(this,ze,tw).call(this),!0,e)}setSelected(e){l(this,W).setSelected(e)}toggleSelected(e){l(this,W).toggleSelected(e)}unselect(e){l(this,W).unselect(e)}pointerup(e){var i;const{isMac:t}=is.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!l(this,ul)||(g(this,ul,!1),(i=l(this,ze,gi))!=null&&i.isDrawer&&l(this,ze,gi).supportMultipleDrawings))return;if(!l(this,Ld)){g(this,Ld,!0);return}const n=l(this,W).getMode();if(n===ae.STAMP||n===ae.SIGNATURE){l(this,W).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(l(this,W).getMode()===ae.HIGHLIGHT&&this.enableTextSelection(),l(this,ul)){g(this,ul,!1);return}const{isMac:t}=is.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(g(this,ul,!0),(i=l(this,ze,gi))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=l(this,W).getActive();g(this,Ld,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),l(this,oi)){l(this,ze,gi).startDrawing(this,l(this,W),!1,e);return}l(this,W).setCurrentDrawingSession(this),g(this,oi,new AbortController);const t=l(this,W).combinedSignal(l(this,oi));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(g(this,Ua,null),this.commitOrRemove())},{signal:t}),l(this,ze,gi).startDrawing(this,l(this,W),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&g(this,Ua,t);return}l(this,Ua)&&setTimeout(()=>{var t;(t=l(this,Ua))==null||t.focus(),g(this,Ua,null)},0)}endDrawingSession(e=!1){return l(this,oi)?(l(this,W).setCurrentDrawingSession(null),l(this,oi).abort(),g(this,oi,null),g(this,Ua,null),l(this,ze,gi).endDrawing(e)):null}findNewParent(e,t,n){const i=l(this,W).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return l(this,oi)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,oi)&&l(this,ze,gi).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=l(this,W).getActive())==null?void 0:e.parent)===this&&(l(this,W).commitOrRemove(),l(this,W).setActiveEditor(null)),l(this,za)&&(clearTimeout(l(this,za)),g(this,za,null));for(const n of l(this,Os).values())(t=l(this,rc))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,l(this,Os).clear(),l(this,W).removeLayer(this)}render({viewport:e}){this.viewport=e,bc(this.div,e);for(const t of l(this,W).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,W).commitOrRemove(),N(this,ze,e0).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,bc(this.div,{rotation:n}),t!==n)for(const i of l(this,Os).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,W).viewParameters.realScale}};rc=new WeakMap,Ld=new WeakMap,ol=new WeakMap,cl=new WeakMap,za=new WeakMap,Os=new WeakMap,ul=new WeakMap,Od=new WeakMap,Pd=new WeakMap,oi=new WeakMap,Ua=new WeakMap,zt=new WeakMap,Ha=new WeakMap,dl=new WeakMap,Bd=new WeakMap,W=new WeakMap,hl=new WeakMap,ze=new WeakSet,Jv=function(){return l(this,Os).size!==0?l(this,Os).values():l(this,W).getEditors(this.pageIndex)},hT=function(e){l(this,W).unselectAll();const{target:t}=e;if(t===l(this,zt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,zt).div.contains(t)){const{isMac:n}=is.platform;if(e.button!==0||e.ctrlKey&&n)return;l(this,W).showAllEditors("highlight",!0,!0),l(this,zt).div.classList.add("free"),this.toggleDrawing(),H0.startHighlighting(this,l(this,W).direction==="ltr",{target:l(this,zt).div,x:e.x,y:e.y}),l(this,zt).div.addEventListener("pointerup",()=>{l(this,zt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,W)._signal}),e.preventDefault()}},gi=function(){return l(Qn,hl).get(l(this,W).getMode())},ew=function(e){const t=l(this,ze,gi);return t?new t.prototype.constructor(e):null},tw=function(){const{x:e,y:t,width:n,height:i}=this.boundingClientRect,a=Math.max(0,e),r=Math.max(0,t),o=Math.min(window.innerWidth,e+n),u=Math.min(window.innerHeight,t+i),d=(a+o)/2-e,h=(r+u)/2-t,[f,m]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:f,offsetY:m}},e0=function(){for(const e of l(this,Os).values())e.isEmpty()&&e.remove()},F(Qn,"_initialized",!1),S(Qn,hl,new Map([Rv,Vv,Kv,H0,Wv].map(e=>[e._editorType,e])));let Zv=Qn;var ci,gs,lc,lp,ox,fT,qi,nw,mT,iw;const Tt=class Tt{constructor({pageIndex:e}){S(this,qi);S(this,ci,null);S(this,gs,new Map);S(this,lc,new Map);this.pageIndex=e}setParent(e){if(!l(this,ci)){g(this,ci,e);return}if(l(this,ci)!==e){if(l(this,gs).size>0)for(const t of l(this,gs).values())t.remove(),e.append(t);g(this,ci,e)}}static get _svgFactory(){return de(this,"_svgFactory",new z0)}draw(e,t=!1,n=!1){const i=Ct(Tt,lp)._++,a=N(this,qi,nw).call(this),r=Tt._svgFactory.createElement("defs");a.append(r);const o=Tt._svgFactory.createElement("path");r.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("vector-effect","non-scaling-stroke"),t&&l(this,lc).set(i,o);const d=n?N(this,qi,mT).call(this,r,u):null,h=Tt._svgFactory.createElement("use");return a.append(h),h.setAttribute("href",`#${u}`),this.updateProperties(a,e),l(this,gs).set(i,a),{id:i,clipPathId:`url(#${d})`}}drawOutline(e,t){const n=Ct(Tt,lp)._++,i=N(this,qi,nw).call(this),a=Tt._svgFactory.createElement("defs");i.append(a);const r=Tt._svgFactory.createElement("path");a.append(r);const o=`path_p${this.pageIndex}_${n}`;r.setAttribute("id",o),r.setAttribute("vector-effect","non-scaling-stroke");let u;if(t){const f=Tt._svgFactory.createElement("mask");a.append(f),u=`mask_p${this.pageIndex}_${n}`,f.setAttribute("id",u),f.setAttribute("maskUnits","objectBoundingBox");const m=Tt._svgFactory.createElement("rect");f.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const p=Tt._svgFactory.createElement("use");f.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const d=Tt._svgFactory.createElement("use");i.append(d),d.setAttribute("href",`#${o}`),u&&d.setAttribute("mask",`url(#${u})`);const h=d.cloneNode();return i.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),l(this,gs).set(n,i),n}finalizeDraw(e,t){l(this,lc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var u;if(!t)return;const{root:n,bbox:i,rootClass:a,path:r}=t,o=typeof e=="number"?l(this,gs).get(e):e;if(o){if(n&&N(this,qi,iw).call(this,o,n),i&&N(u=Tt,ox,fT).call(u,o,i),a){const{classList:d}=o;for(const[h,f]of Object.entries(a))d.toggle(h,f)}if(r){const h=o.firstChild.firstChild;N(this,qi,iw).call(this,h,r)}}}updateParent(e,t){if(t===this)return;const n=l(this,gs).get(e);n&&(l(t,ci).append(n),l(this,gs).delete(e),l(t,gs).set(e,n))}remove(e){l(this,lc).delete(e),l(this,ci)!==null&&(l(this,gs).get(e).remove(),l(this,gs).delete(e))}destroy(){g(this,ci,null);for(const e of l(this,gs).values())e.remove();l(this,gs).clear(),l(this,lc).clear()}};ci=new WeakMap,gs=new WeakMap,lc=new WeakMap,lp=new WeakMap,ox=new WeakSet,fT=function(e,[t,n,i,a]){const{style:r}=e;r.top=`${100*n}%`,r.left=`${100*t}%`,r.width=`${100*i}%`,r.height=`${100*a}%`},qi=new WeakSet,nw=function(){const e=Tt._svgFactory.create(1,1,!0);return l(this,ci).append(e),e.setAttribute("aria-hidden",!0),e},mT=function(e,t){const n=Tt._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const a=Tt._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),i},iw=function(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},S(Tt,ox),S(Tt,lp,0);let sw=Tt;globalThis._pdfjsTestingUtils={HighlightOutliner:Ov};globalThis.pdfjsLib={AbortException:Dl,AnnotationEditorLayer:Zv,AnnotationEditorParamsType:xe,AnnotationEditorType:ae,AnnotationEditorUIManager:yc,AnnotationLayer:Mv,AnnotationMode:br,AnnotationType:yt,applyOpacity:rR,build:f3,ColorPicker:I0,createValidAbsoluteUrl:lC,CSSConstants:aR,DOMSVGFactory:z0,DrawLayer:sw,FeatureTest:is,fetchData:Ep,findContrastColor:lR,getDocument:hj,getFilenameFromUrl:Jk,getPdfFilenameFromUrl:eR,getRGB:jp,getUuid:uC,getXfaPageViewport:sR,GlobalWorkerOptions:zi,ImageKind:Sg,InvalidPDFException:Dy,isDataScheme:Rx,isPdfFile:mS,isValidExplicitDest:xR,MathClamp:ys,noContextMenu:qn,normalizeUnicode:Kk,OPS:Nf,OutputScale:Yi,PasswordResponses:Uk,PDFDataRangeTransport:fj,PDFDateString:k0,PDFWorker:jf,PermissionFlag:zk,PixelsPerInch:kl,RenderingCancelledException:fS,renderRichText:fC,ResponseException:D0,setLayerDimensions:bc,shadow:de,SignatureExtractor:Ga,stopEvent:ht,SupportedImageMimeTypes:Ry,TextLayer:Cf,TouchManager:L0,updateUrlHash:oC,Util:G,VerbosityLevel:Mx,version:h3,XfaLayer:hC};zi.workerSrc="/pdf.worker.min.mjs";function B3(){const s=Ns(),e=M.useRef(null),[t,n]=M.useState(!1),[i,a]=M.useState({name:"",valueProp:"",website:"",stage:"Pre-Seed",industry:"",founderName:"",founderEmail:"",problem:"",solution:"",team:"",funding:"",presentationUrl:"",videoUrl:"",fivePoints:[]}),[r,o]=M.useState(!1),[u,d]=M.useState(!1),[h,f]=M.useState(""),m=w=>{const{name:E,value:j}=w.target;(E==="website"||E==="presentationUrl"||E==="videoUrl")&&j&&!j.startsWith("http://")&&!j.startsWith("https://")?a(T=>({...T,[E]:`https://${j}`})):a(T=>({...T,[E]:j}))},p=async w=>{try{const E=w.name.toLowerCase();if(E.endsWith(".pdf")){const j=await w.arrayBuffer(),T=await hj({data:j}).promise;let C="";for(let _=1;_<=T.numPages;_++){const R=(await(await T.getPage(_)).getTextContent()).items.map(L=>L.str).join(" ");C+=R+`
`}return C}else if(E.endsWith(".ppt")||E.endsWith(".pptx"))return`PowerPoint file: ${w.name}
Note: Full PPT parsing requires backend processing. Please use PDF format for best results.`;return`Document: ${w.name}`}catch(E){return console.error("Error extracting text:",E),`Document: ${w.name}`}},y=async(w,E)=>(console.log(" API Key status:",`Configured (${"your-openai-api-key-here".substring(0,10)}...)`),console.warn(" OpenAI API key not configured. Using keyword detection fallback."),A(w,E)),b=w=>w.replace(/\.(pdf|pptx?)/gi,"").replace(/[-_]/g," ").replace(/pitch|deck|presentation|investor|funding|slide/gi,"").trim(),A=(w,E)=>{const j=b(E),T=`${w} ${E}`.toLowerCase();let C="Technology",_="",D="",k="",R="",L="";return T.includes("dog")||T.includes("pet")||T.includes("animal")?(C="Pet Tech",_="Revolutionary solution for pet care and wellness",D="Pet owners struggle with providing consistent care and monitoring their pets' health needs",k="Smart technology platform that helps pet owners track health, schedule care, and access expert advice",R="Founded by veterinarians and pet industry experts with 15+ years experience",L="$1.5M Seed"):T.includes("health")||T.includes("medical")||T.includes("wellness")?(C="HealthTech",_="Making healthcare accessible and affordable for everyone",D="Healthcare is fragmented, expensive, and difficult to navigate for most people",k="Integrated platform that simplifies healthcare access and reduces costs by 40%",R="Medical professionals and healthcare technology experts from top institutions",L="$2M Seed"):T.includes("finance")||T.includes("payment")||T.includes("banking")?(C="FinTech",_="Democratizing financial services for the next generation",D="Traditional financial services are complex, expensive, and exclude millions of users",k="Mobile-first financial platform with no hidden fees and instant access",R="Former executives from Goldman Sachs, PayPal, and Stripe",L="$3M Seed"):T.includes("ai")||T.includes("machine learning")||T.includes("artificial")?(C="AI",_="AI-powered automation that transforms business operations",D="Businesses waste countless hours on repetitive tasks that could be automated",k="Enterprise AI platform that automates workflows and provides intelligent insights",R="PhD researchers from Stanford and MIT with deep learning expertise",L="$5M Series A"):T.includes("education")||T.includes("learning")||T.includes("student")?(C="EdTech",_="Personalized learning that adapts to every student",D="Traditional education fails to meet individual student needs and learning styles",k="AI-powered learning platform that personalizes curriculum for each student",R="Educators and technologists from leading universities",L="$2M Seed"):T.includes("food")||T.includes("restaurant")||T.includes("delivery")?(C="Food Tech",_="Transforming the food industry with technology",D="Food industry lacks efficient systems for ordering, delivery, and inventory management",k="All-in-one platform connecting restaurants, suppliers, and customers seamlessly",R="Restaurant operators and logistics experts from DoorDash and Uber Eats",L="$2.5M Seed"):T.includes("ecommerce")||T.includes("retail")||T.includes("shop")?(C="E-commerce",_="Next-generation shopping experience powered by AI",D="Online shopping is overwhelming with too many choices and poor recommendations",k="Personalized shopping platform that uses AI to find exactly what customers want",R="Former leaders from Amazon, Shopify, and Walmart",L="$3M Seed"):(C="SaaS",_="Enterprise software that scales with your business",D="Modern businesses need flexible, powerful software without the complexity",k="Cloud-based platform that combines power with simplicity for growing companies",R="Experienced founders with successful exits and Fortune 500 experience",L="$2M Seed"),{name:j||"Startup Name",valueProp:_,problem:D,solution:k,team:R,funding:L,industry:C,stage:"Seed"}},x=async w=>{var T;const E=(T=w.target.files)==null?void 0:T[0];if(!E)return;const j=E.name.toLowerCase();if(!j.endsWith(".pdf")&&!j.endsWith(".ppt")&&!j.endsWith(".pptx")){alert(" Please upload a PDF or PowerPoint file");return}n(!0);try{console.log(" Extracting text from document...");const C=await p(E);console.log(" Extracted text length:",C.length),console.log(" First 500 chars:",C.substring(0,500)),console.log(" Parsing with AI...");const _=await y(C,E.name);console.log(" Parsed data:",_);const D={name:i.name||_.name,valueProp:i.valueProp||_.valueProp||_.pitch,problem:i.problem||_.problem,solution:i.solution||_.solution,team:i.team||_.team,funding:i.funding||_.funding,industry:i.industry||_.industry,stage:i.stage||_.stage,fivePoints:_.fivePoints||i.fivePoints||[]};console.log(" Setting form data:",D),a(L=>({...L,...D}));const k="your-openai-api-key-here",R=k&&k!=="your-openai-api-key-here";alert(` Document "${E.name}" scanned successfully!

 ${R?"AI-powered analysis":"Keyword detection"} detected: ${_.industry}

 Please review the auto-filled data and make any necessary edits.`)}catch(C){alert(" Error scanning document. Please try again."),console.error("Document scan error:",C)}finally{n(!1)}},v=async w=>{w.preventDefault(),d(!0),f("");try{const E={id:Date.now(),name:i.name,tagline:i.valueProp,pitch:i.valueProp||`${i.problem} | ${i.solution}`,stage:i.stage==="Pre-Seed"||i.stage==="Seed"?1:i.stage==="Series A"?2:1,team:i.team,funding:i.funding,raise:i.funding,website:i.website,industries:i.industry?[i.industry]:[],problem:i.problem,solution:i.solution,founderName:i.founderName,founderEmail:i.founderEmail,presentationUrl:i.presentationUrl,videoUrl:i.videoUrl,fivePoints:i.fivePoints.length>0?i.fivePoints:[i.problem,i.solution,`${i.industry||"Technology"} market`,i.team,i.funding],yesVotes:0,noVotes:0,hotness:0},j=localStorage.getItem("uploadedStartups"),T=j?JSON.parse(j):[];T.push(E),localStorage.setItem("uploadedStartups",JSON.stringify(T)),console.log("Startup saved successfully:",E),o(!0),setTimeout(()=>{s("/vote")},3e3)}catch(E){console.error("Error submitting startup:",E),f(E.message||"Failed to submit startup. Please try again.")}finally{d(!1)}};return r?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-yellow-50 flex items-center justify-center p-8",children:c.jsxs("div",{className:"bg-white rounded-3xl p-12 shadow-2xl text-center max-w-2xl",children:[c.jsx("div",{className:"text-8xl mb-6",children:""}),c.jsx("h1",{className:"text-4xl font-bold text-orange-600 mb-4",children:"Submission Received!"}),c.jsxs("p",{className:"text-xl text-gray-700 mb-6",children:["Thank you for submitting ",c.jsx("strong",{children:i.name}),"!"]}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Your startup is now in our system. Get ready to get Hot! "}),c.jsx("button",{onClick:()=>s("/vote-demo"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"See Other Hot Startups "})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-yellow-50 p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" Home"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>s("/admin/bulk-import"),className:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all text-sm",children:" Bulk Import"}),c.jsx("button",{onClick:()=>{confirm("Clear all uploaded startups? This cannot be undone.")&&(localStorage.removeItem("uploadedStartups"),alert(" All uploaded startups cleared!"),window.location.reload())},className:"bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all text-sm",children:" Clear Uploads"})]})]}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-8xl mb-4",children:""}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"Submit Your Startup"}),c.jsx("p",{className:"text-xl text-gray-700 font-medium mb-2",children:"Get discovered by investors who want to find you"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below to join Hot Honey "})]}),c.jsxs("div",{className:"bg-gradient-to-r from-green-400 via-purple-500 to-purple-700 rounded-3xl p-8 mb-8 text-white shadow-2xl",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"text-6xl mb-3",children:""}),c.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Upload Your Pitch Deck"}),c.jsx("p",{className:"text-lg",children:"AI will auto-fill the form below from your presentation!"})]}),c.jsxs("div",{className:"flex justify-center",children:[c.jsx("input",{ref:e,type:"file",accept:".pdf,.ppt,.pptx",onChange:x,className:"hidden"}),c.jsx("button",{type:"button",onClick:()=>{var w;return(w=e.current)==null?void 0:w.click()},disabled:t,className:"px-8 py-4 bg-white text-purple-700 font-bold rounded-2xl shadow-lg hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:t?c.jsx(c.Fragment,{children:" Scanning Document..."}):c.jsx(c.Fragment,{children:" Upload PDF or PowerPoint"})})]}),c.jsx("p",{className:"text-center mt-4 text-sm opacity-90",children:" Accepted: PDF, PPT, PPTX  Auto-extracts: Problem, Solution, Team & more!"})]}),h&&c.jsxs("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-xl mb-6",children:[c.jsx("strong",{children:"Error:"})," ",h]}),c.jsxs("form",{onSubmit:v,className:"bg-white rounded-3xl p-8 shadow-2xl mb-8",children:[c.jsxs("section",{className:"mb-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-6 flex items-center gap-2",children:[c.jsx("span",{children:""})," Basic Information"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Startup Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"name",value:i.name,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"e.g., HyperLoop"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Value Proposition ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"valueProp",value:i.valueProp,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"One sentence that describes what you do"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Website"}),c.jsx("input",{type:"text",name:"website",value:i.website,onChange:m,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"www.yourstartup.com or https://yourstartup.com"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Stage ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{name:"stage",value:i.stage,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",children:[c.jsx("option",{value:"Idea",children:"Idea"}),c.jsx("option",{value:"Pre-Seed",children:"Pre-Seed"}),c.jsx("option",{value:"Seed",children:"Seed"}),c.jsx("option",{value:"Series A",children:"Series A"}),c.jsx("option",{value:"Series B+",children:"Series B+"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Industry ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"industry",value:i.industry,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"e.g., AI, FinTech, HealthTech, CleanTech"})]})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-6 flex items-center gap-2",children:[c.jsx("span",{children:""})," Founder Information"]}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Your Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"founderName",value:i.founderName,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"Full name"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Email ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"email",name:"founderEmail",value:i.founderEmail,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"founder@startup.com"})]})]})})]}),c.jsxs("section",{className:"mb-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-4 flex items-center gap-2",children:[c.jsx("span",{children:""})," Your Pitch"]}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us about your startup. Keep it concise and compelling!"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Problem ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"problem",value:i.problem,onChange:m,required:!0,rows:3,maxLength:300,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"What problem are you solving? (Max 300 characters)"}),c.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[i.problem.length,"/300"]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Solution ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"solution",value:i.solution,onChange:m,required:!0,rows:3,maxLength:300,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"How does your product solve it? (Max 300 characters)"}),c.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[i.solution.length,"/300"]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Team ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"team",value:i.team,onChange:m,required:!0,rows:3,maxLength:300,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"Who's building this? Key backgrounds? (Max 300 characters)"}),c.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[i.team.length,"/300"]})]})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-6 flex items-center gap-2",children:[c.jsx("span",{children:""})," Funding & Resources"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Funding Goal ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"funding",value:i.funding,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"e.g., $500K seed round"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Presentation URL"}),c.jsx("input",{type:"text",name:"presentationUrl",value:i.presentationUrl,onChange:m,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"www.dropbox.com/presentation or https://..."}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Link to your pitch deck or presentation"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Video URL"}),c.jsx("input",{type:"text",name:"videoUrl",value:i.videoUrl,onChange:m,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"www.youtube.com/watch?v=... or https://..."}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Link to your pitch video (YouTube, Vimeo, etc.)"})]})]})]}),c.jsxs("div",{className:"flex gap-4 justify-center pt-6 border-t-2 border-orange-100",children:[c.jsx("button",{type:"button",onClick:()=>s("/"),className:"bg-white text-orange-600 font-bold py-4 px-8 rounded-2xl shadow-lg hover:bg-gray-100 transition-all text-lg border-2 border-orange-500",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:u,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-12 rounded-2xl shadow-lg transition-all text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:u?" Submitting...":" Submit Startup"})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 rounded-2xl p-6 text-white mb-8",children:[c.jsx("h3",{className:"text-xl font-bold mb-3",children:"What happens next?"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Your startup is added to our database"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Investors can discover and vote on your startup"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Start collecting votes and building Heat "})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:""}),c.jsx("span",{children:"Get discovered by investors actively looking for deals like yours"})]})]})]})]})})}const B1=s=>{let e;const t=new Set,n=(d,h)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const m=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(p=>p(e,m))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>u,subscribe:d=>(t.add(d),()=>t.delete(d))},u=e=s(n,i,o);return o},I3=s=>s?B1(s):B1,F3=s=>s;function z3(s,e=F3){const t=vh.useSyncExternalStore(s.subscribe,vh.useCallback(()=>e(s.getState()),[s,e]),vh.useCallback(()=>e(s.getInitialState()),[s,e]));return vh.useDebugValue(t),t}const U3=s=>{const e=I3(s),t=n=>z3(e,n);return Object.assign(t,e),t},H3=s=>U3;function V3(s,e){let t;try{t=s()}catch{return}return{getItem:i=>{var a;const r=u=>u===null?null:JSON.parse(u,void 0),o=(a=t.getItem(i))!=null?a:null;return o instanceof Promise?o.then(r):r(o)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const aw=s=>e=>{try{const t=s(e);return t instanceof Promise?t:{then(n){return aw(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return aw(n)(t)}}}},G3=(s,e)=>(t,n,i)=>{let a={storage:V3(()=>localStorage),partialize:b=>b,version:0,merge:(b,A)=>({...A,...b}),...e},r=!1;const o=new Set,u=new Set;let d=a.storage;if(!d)return s((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...b)},n,i);const h=()=>{const b=a.partialize({...n()});return d.setItem(a.name,{state:b,version:a.version})},f=i.setState;i.setState=(b,A)=>(f(b,A),h());const m=s((...b)=>(t(...b),h()),n,i);i.getInitialState=()=>m;let p;const y=()=>{var b,A;if(!d)return;r=!1,o.forEach(v=>{var w;return v((w=n())!=null?w:m)});const x=((A=a.onRehydrateStorage)==null?void 0:A.call(a,(b=n())!=null?b:m))||void 0;return aw(d.getItem.bind(d))(a.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==a.version){if(a.migrate){const w=a.migrate(v.state,v.version);return w instanceof Promise?w.then(E=>[!0,E]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var w;const[E,j]=v;if(p=a.merge(j,(w=n())!=null?w:m),t(p,!0),E)return h()}).then(()=>{x==null||x(p,void 0),p=n(),r=!0,u.forEach(v=>v(p))}).catch(v=>{x==null||x(void 0,v)})};return i.persist={setOptions:b=>{a={...a,...b},b.storage&&(d=b.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>r,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(u.add(b),()=>{u.delete(b)})},a.skipHydration||y(),p||m},$3=G3,Y3=H3()($3((s,e)=>({unvote:t=>{const n=e(),i=n.portfolio.filter(r=>r.id!==t.id),a=n.startups.map(r=>r.id===t.id?{...r,yesVotes:Math.max((r.yesVotes||1)-1,0)}:r);s({startups:a,portfolio:i})},startups:Un.map((t,n)=>({...t,id:n,yesVotes:0})),currentIndex:0,portfolio:[],voteYes:t=>{const n=e(),i=[...n.startups],a=i.findIndex(d=>d.id===t.id);let r=t;a!==-1&&(i[a].yesVotes=(i[a].yesVotes||0)+1,r={...i[a]});const u=n.portfolio.some(d=>d.id===r.id)?n.portfolio.map(d=>d.id===r.id?r:d):[...n.portfolio,r];s({startups:i,portfolio:u,currentIndex:n.currentIndex+1})},voteNo:()=>{s(t=>({currentIndex:t.currentIndex+1}))},rateStartup:(t,n)=>{s(i=>{const a=[...i.portfolio];return a[t]&&(a[t].rating=n),{portfolio:a}})},resetVoting:()=>{s(t=>({currentIndex:0}))}}),{name:"hot-money-honey-store"})),q3=()=>{const{id:s}=JE(),t=Y3(n=>n.startups).find(n=>String(n.id)===String(s));return t?c.jsxs("div",{className:"p-6 bg-orange-50 min-h-screen",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:t.name}),c.jsxs("p",{className:"mb-2",children:[c.jsx("strong",{children:"Value:"})," ",t.description]}),c.jsxs("p",{className:"mb-2",children:[c.jsx("strong",{children:"Market:"})," ",t.marketSize]}),c.jsxs("p",{className:"mb-2",children:[c.jsx("strong",{children:"Unique:"})," ",t.unique]}),c.jsxs("p",{className:"mb-2",children:[c.jsx("strong",{children:"Raise:"})," ",t.raise]}),t.video&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-xl font-semibold",children:" Pitch Video"}),c.jsx("a",{className:"text-blue-600 underline",href:t.video,target:"_blank",rel:"noopener noreferrer",children:"Watch now"})]})]}):c.jsx("p",{className:"text-red-500 p-6",children:"Startup not found."})},X3=()=>c.jsxs("div",{className:"p-6 text-center bg-orange-50 min-h-screen",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-500 mb-4",children:" Deals Page"}),c.jsx("p",{className:"text-gray-600",children:"Coming soon  exciting investment deals are on the way!"})]}),W3=()=>{const[s,e]=M.useState([]);M.useEffect(()=>{const i=localStorage.getItem("myYesVotes");if(i){const r=JSON.parse(i).map(o=>{if(!o.fivePoints){const u=Un.find(d=>d.id===o.id);if(u)return{...o,fivePoints:u.fivePoints}}return o});localStorage.setItem("myYesVotes",JSON.stringify(r)),e(r)}},[]);const t=()=>{confirm(" Are you sure you want to clear ALL your votes? This cannot be undone.")&&(localStorage.removeItem("myYesVotes"),localStorage.removeItem("votedStartups"),e([]),alert(" All votes cleared! You can start voting again."),window.location.href="/vote")},n=i=>{console.log(`Voted ${i}`)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50",children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-1",children:[c.jsx(K,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:" Sign Up"}),c.jsx(K,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Home"}),c.jsx(K,{to:"/vote",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Vote"}),c.jsx(K,{to:"/dashboard",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:" Dashboard"})]})}),c.jsxs("div",{className:"pt-28 px-8 max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-5xl font-bold text-gray-800 mb-2",children:" My Hot Picks"}),c.jsxs("p",{className:"text-lg text-gray-600",children:["You've voted YES on ",c.jsx("span",{className:"font-bold text-orange-600",children:s.length})," ",s.length===1?"startup":"startups"]})]}),s.length>0&&c.jsx("button",{onClick:t,className:"px-6 py-3 bg-red-500 text-white rounded-lg font-medium text-sm hover:bg-red-600 transition-colors shadow-lg",children:" Clear All Votes"})]})}),s.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"text-8xl mb-6",children:""}),c.jsx("p",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No hot picks yet!"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Start voting YES on startups you're interested in"}),c.jsx(K,{to:"/vote",className:"px-8 py-4 bg-orange-500 text-white rounded-xl font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg inline-block",children:" Start Voting Now"})]}):c.jsx("div",{className:"space-y-8",children:s.map(i=>c.jsx("div",{children:c.jsx(Ap,{startup:i,onVote:n})},i.id))})]})]})},yh=[{id:"fintech",name:"FinTech",emoji:""},{id:"ai",name:"AI/ML",emoji:""},{id:"saas",name:"SaaS",emoji:""},{id:"deeptech",name:"Deep Tech",emoji:""},{id:"robotics",name:"Robotics",emoji:""},{id:"healthtech",name:"HealthTech",emoji:""},{id:"edtech",name:"EdTech",emoji:""},{id:"cleantech",name:"CleanTech",emoji:""},{id:"ecommerce",name:"E-Commerce",emoji:""},{id:"crypto",name:"Crypto/Web3",emoji:""},{id:"consumer",name:"Consumer",emoji:""},{id:"enterprise",name:"Enterprise",emoji:""}];function K3({isOpen:s,onClose:e,yesVotes:t}){const[n,i]=M.useState(""),[a,r]=M.useState([]),[o,u]=M.useState(""),[d,h]=M.useState(!1);M.useEffect(()=>{s&&(u(""),h(!1),r([]))},[s]);const f=b=>{r(A=>A.includes(b)?A.filter(x=>x!==b):[...A,b])},m=()=>{a.length===yh.length?r([]):r(yh.map(b=>b.id))},p=()=>{const b=`share-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,A={id:b,investorName:n||"Anonymous Investor",industries:a,startups:t,createdAt:new Date().toISOString()},x=localStorage.getItem("portfolioShares"),v=x?JSON.parse(x):{};v[b]=A,localStorage.setItem("portfolioShares",JSON.stringify(v));const w=`${window.location.origin}/shared-portfolio/${b}`;u(w)},y=()=>{navigator.clipboard.writeText(o),h(!0),setTimeout(()=>h(!1),3e3)};return s?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2",children:"Share Your Portfolio"}),c.jsx("p",{className:"text-gray-600",children:"Choose which deals to share with friends and colleagues"})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none",children:""})]}),o?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"bg-green-50 border-2 border-green-400 rounded-xl p-6 mb-4",children:c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("div",{className:"text-5xl mb-3",children:""}),c.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Share Link Created!"}),c.jsx("p",{className:"text-green-700",children:"Anyone with this link can view your selected deals"})]})}),c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Shareable Link"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:o,readOnly:!0,className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-xl bg-gray-50 text-sm"}),c.jsx("button",{onClick:y,className:"px-6 py-3 bg-orange-500 text-white rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:d?" Copied!":" Copy"})]})]}),c.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-xl p-4 mb-6",children:[c.jsx("h4",{className:"font-bold text-purple-700 mb-2",children:" What's being shared:"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Investor:"})," ",n||"Anonymous"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Industries:"})," ",a.length," selected"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Filtered Startups:"})," Showing only ",a.map(b=>{var A;return(A=yh.find(x=>x.id===b))==null?void 0:A.name}).join(", ")]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{u(""),r([])},className:"flex-1 bg-gray-200 text-gray-700 font-bold py-3 px-6 rounded-2xl hover:bg-gray-300 transition-all",children:"Create Another"}),c.jsx("button",{onClick:e,className:"flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:"Done"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Name (Optional)"}),c.jsx("input",{type:"text",value:n,onChange:b=>i(b.target.value),placeholder:"e.g., Murray's Hot Picks",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to share anonymously"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Select Industries to Share"}),c.jsx("button",{onClick:m,className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-lg font-semibold hover:bg-purple-200 transition-colors text-xs",children:a.length===yh.length?"Deselect All":"Select All"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Only startups in selected industries will be shared"}),c.jsx("div",{className:"grid grid-cols-3 gap-3",children:yh.map(b=>c.jsxs("button",{onClick:()=>f(b.id),className:`p-3 rounded-xl border-2 transition-all text-center ${a.includes(b.id)?"border-orange-500 bg-orange-50":"border-gray-300 bg-white hover:border-orange-300"}`,children:[c.jsx("div",{className:"text-2xl mb-1",children:b.emoji}),c.jsx("div",{className:`font-semibold text-xs ${a.includes(b.id)?"text-orange-700":"text-gray-700"}`,children:b.name})]},b.id))})]}),c.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-xl p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-gray-700",children:[" ",c.jsx("strong",{children:"Pro Tip:"})," You can share different portfolios with different people! For example, share FinTech+AI deals with Murray, but keep your DeepTech picks private."]})}),c.jsx("button",{onClick:p,disabled:a.length===0,className:`w-full font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg ${a.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white"}`,children:a.length===0?" Select at least one industry":" Generate Share Link"})]})]})}):null}const Q3=()=>{const s=cr(),[e,t]=M.useState([]),[n,i]=M.useState(!1),[a,r]=M.useState(!1);M.useEffect(()=>{const h=localStorage.getItem("myYesVotes");h&&t(JSON.parse(h));const f=localStorage.getItem("userProfile");if(f){const m=JSON.parse(f);r(m.email==="admin@hotmoneyhoney.com"||m.isAdmin)}},[]);const o=()=>{confirm(" Are you sure you want to clear ALL your votes? This cannot be undone.")&&(localStorage.removeItem("myYesVotes"),localStorage.removeItem("votedStartups"),t([]),alert(" All votes cleared! You can start voting again."),window.location.href="/vote")},u=h=>s.pathname===h,d=h=>u(h)?"text-lg py-3 px-6":"text-sm py-2 px-4";return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-3 items-center",children:[c.jsx(K,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Hot Money Honey",children:""}),c.jsx(K,{to:"/",className:`font-bold rounded-2xl transition-all ${d("/")} ${u("/")?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:" Home"}),c.jsx(K,{to:"/dashboard",className:`font-bold rounded-2xl transition-all ${u("/dashboard")?"text-lg py-3 px-7":"text-base py-2.5 px-5"} ${u("/dashboard")?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-xl scale-110":"bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white shadow-lg"}`,children:" Dashboard"}),c.jsx(K,{to:"/vote",className:`font-bold rounded-2xl transition-all ${d("/vote")} ${u("/vote")?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:" Vote"}),a&&c.jsx(K,{to:"/admin/bulk-upload",className:`font-bold rounded-2xl transition-all ${d("/admin/bulk-upload")} ${u("/admin/bulk-upload")?"bg-gradient-to-r from-gray-500 to-gray-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-gray-400 to-gray-600 hover:from-gray-500 hover:to-gray-700 text-white"}`,children:" Bulk Upload"}),a&&c.jsx(K,{to:"/admin/document-upload",className:`font-bold rounded-2xl transition-all ${d("/admin/document-upload")} ${u("/admin/document-upload")?"bg-gradient-to-r from-green-500 to-purple-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-green-400 to-purple-600 hover:from-green-500 hover:to-purple-700 text-white"}`,children:" Scan Docs"})]})}),c.jsxs("div",{className:"pt-28 px-8 max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-6 flex justify-end",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl px-6 py-3 flex items-center gap-4 shadow-xl border border-white/20",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-purple-200",children:"Logged in as"}),c.jsx("p",{className:"text-white font-bold",children:(()=>{const h=localStorage.getItem("userProfile");return h?JSON.parse(h).name:"User"})()})]}),c.jsx(K,{to:"/settings",className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-full text-sm font-semibold transition-all flex items-center gap-2",children:" Settings"}),c.jsx("button",{onClick:()=>{confirm("Are you sure you want to log out?")&&(localStorage.removeItem("isLoggedIn"),alert(" Logged out successfully!"),window.location.href="/")},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-full text-sm font-semibold transition-all flex items-center gap-2",children:" Log Out"})]})}),c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:" My Hot Picks"}),c.jsxs("p",{className:"text-lg text-purple-200",children:["You've voted YES on ",c.jsx("span",{className:"font-bold text-yellow-300",children:e.length})," ",e.length===1?"startup":"startups"]}),e.length>0&&c.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[c.jsx("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg font-medium text-sm transition-colors shadow-lg",children:" Share Portfolio"}),c.jsx(K,{to:"/analytics",className:"px-6 py-3 bg-gradient-to-r from-purple-700 to-purple-900 hover:from-purple-800 hover:to-purple-950 text-yellow-400 rounded-lg font-bold text-sm transition-all shadow-lg",children:" View Analytics"}),c.jsx("button",{onClick:o,className:"px-6 py-3 bg-red-500 text-white rounded-lg font-medium text-sm hover:bg-red-600 transition-colors shadow-lg",children:" Clear All Votes"})]})]}),e.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"text-8xl mb-6",children:""}),c.jsx("p",{className:"text-3xl font-bold text-white mb-4",children:"No hot picks yet!"}),c.jsx("p",{className:"text-xl text-purple-200 mb-8",children:"Start voting YES on startups you're interested in"}),c.jsx(K,{to:"/vote",className:"px-8 py-4 bg-orange-500 text-white rounded-xl font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg inline-block",children:" Start Voting Now"})]}):c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(h=>c.jsxs("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-2xl p-6 shadow-2xl border-4 border-orange-500 relative hover:scale-105 transition-transform",children:[c.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 leading-tight mb-1",children:h.name}),h.stage&&c.jsxs("p",{className:"text-blue-700 font-bold text-xs",children:["stage #",h.stage]})]}),c.jsx("div",{className:"text-3xl",children:""})]}),h.pitch&&c.jsxs("p",{className:"text-sm font-black text-gray-900 leading-tight mb-2",children:['"',h.pitch,'"']}),h.tagline&&c.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight mb-3",children:h.tagline}),c.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t-2 border-orange-500",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Voted YES"})]}),c.jsx("span",{className:"text-xs text-gray-700 font-semibold",children:new Date(h.votedAt).toLocaleDateString()})]})]})]},h.id))})]}),c.jsx("div",{className:"fixed bottom-8 right-8 z-50",children:c.jsx(K,{to:"/settings",className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-full font-semibold shadow-2xl hover:from-purple-600 hover:to-purple-700 transition-all hover:scale-105",children:" Settings"})}),c.jsx(K3,{isOpen:n,onClose:()=>i(!1),yesVotes:e})]})},I1=()=>{const[s,e]=M.useState([0,1,2]),[t,n]=M.useState(Un),[i,a]=M.useState(3),[r,o]=M.useState([]),u=(f,m,p)=>{if(n(y=>y.map(b=>b.id===f?{...b,yesVotes:m==="yes"?(b.yesVotes||0)+1:b.yesVotes||0,noVotes:m==="no"?(b.noVotes||0)+1:b.noVotes||0}:b)),m==="yes"){const y=localStorage.getItem("myYesVotes"),b=y?JSON.parse(y):[],A=Un.find(x=>x.id===f);A&&(b.push({id:f,name:A.name,pitch:A.pitch,tagline:A.tagline,stage:A.stage,fivePoints:A.fivePoints,votedAt:new Date().toISOString()}),localStorage.setItem("myYesVotes",JSON.stringify(b)))}},d=f=>{const m=[f+1,f+2].filter(p=>p<3);o(m),setTimeout(()=>{e(p=>{const y=[...p];for(let b=f;b<2;b++)y[b]=p[b+1];return y[2]=i%Un.length,y}),a(p=>p+1),o([])},250)},h=s.map(f=>t[f]);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx(K,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up/In",children:""}),c.jsx(K,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:" Sign Up/In"}),c.jsx(K,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Home"}),c.jsx(K,{to:"/vote",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:c.jsx("span",{className:"blink-text",children:" Vote"})}),c.jsx(K,{to:"/analytics",className:"px-4 py-1.5 bg-gradient-to-r from-purple-700 to-purple-900 text-yellow-400 rounded-full font-bold text-sm shadow-lg hover:from-purple-800 hover:to-purple-950 transition-all",children:" Analytics"}),c.jsx(K,{to:"/dashboard",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Dashboard"})]})}),c.jsx("div",{className:"fixed top-4 right-8 z-50",children:c.jsx(K,{to:"/login",className:"px-6 py-2 bg-white text-purple-700 rounded-full font-bold text-sm shadow-lg hover:bg-gray-100 transition-all border-2 border-purple-300",children:" Log In"})}),c.jsxs("div",{className:"pt-28 px-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"relative inline-block",children:[c.jsx("h1",{className:"text-8xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 mb-2",children:"Hot Honey"}),c.jsx("img",{src:"/images/Mr_Bee.png",alt:"Mr. Bee",className:"absolute -right-32 w-40 h-40 object-contain",style:{top:"-20px"}})]}),c.jsxs("div",{className:"mt-6 mb-4",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:" Start Collecting Hot Deals "}),c.jsx("p",{className:"text-lg text-purple-200 max-w-2xl mx-auto mb-6 font-medium",children:"Discover the hottest startup deals and grow your investment portfolio"})]}),c.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[c.jsx(K,{to:"/vote",className:"px-6 py-2.5 bg-orange-500 text-white rounded-lg font-medium text-base hover:bg-orange-600 transition-colors shadow-lg",children:" Start Voting"}),c.jsx(K,{to:"/submit",className:"px-6 py-2.5 bg-white text-orange-500 border-2 border-orange-500 rounded-lg font-medium text-base hover:bg-orange-50 transition-colors shadow-lg",children:" Submit Startup"})]})]}),c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsx("div",{className:"text-center mb-6",children:c.jsx("h3",{className:"text-2xl font-bold text-white",style:{textShadow:"2px 2px 4px rgba(147, 51, 234, 0.6), -2px -2px 4px rgba(134, 239, 172, 0.4)"},children:" Featured Startups"})}),c.jsx("div",{className:"grid md:grid-cols-3 gap-6 justify-items-center",children:h.map((f,m)=>c.jsx("div",{className:`transition-all duration-250 ease-out ${r.includes(m)?"animate-slide-left":""}`,children:c.jsx(Ap,{startup:f,onVote:p=>u(f.id,p),onSwipeAway:()=>d(m)})},`${f.id}-${m}`))})]})]}),c.jsx("style",{children:`
        @keyframes slide-left {
          from {
            transform: translateX(0);
            opacity: 1;
          }
          to {
            transform: translateX(-420px);
            opacity: 0.3;
          }
        }
        .animate-slide-left {
          animation: slide-left 0.25s ease-out forwards;
        }
      `})]})};function Z3(){const s=Ns(),[e,t]=M.useState(0),[n,i]=M.useState(Un),a=n[e],r=u=>{const d=[...n];u==="yes"?d[e].yesVotes=(d[e].yesVotes||0)+1:d[e].noVotes=(d[e].noVotes||0)+1,i(d)},o=()=>{e<n.length-1?t(e+1):s("/")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-800 via-purple-700 to-indigo-800 p-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("button",{onClick:()=>s("/"),className:"bg-white text-purple-700 font-bold py-3 px-6 rounded-2xl shadow-lg hover:bg-gray-100 transition-all",children:" Home"}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-yellow-200",children:"Progress"}),c.jsxs("div",{className:"text-2xl font-bold text-white",children:[e+1," / ",n.length]})]})]}),c.jsx(Ap,{startup:a,onVote:r,onSwipeAway:o}),c.jsx("div",{className:"text-center mt-6",children:c.jsx("button",{onClick:o,className:"text-yellow-200 hover:text-white font-semibold underline text-lg",children:"Skip this startup "})})]})})}function J3(){const s=Ns(),[e,t]=M.useState("signup"),[n,i]=M.useState("startup"),[a,r]=M.useState(""),[o,u]=M.useState({name:"",email:"",password:"",description:""}),d=m=>{m.preventDefault(),r("");const p={id:`user-${Date.now()}`,name:o.name,email:o.email,userType:n,description:o.description,createdAt:new Date().toISOString(),preferences:{industries:[],filterEnabled:!1}};localStorage.setItem("userProfile",JSON.stringify(p)),localStorage.setItem("isLoggedIn","true"),console.log("User profile created:",p),alert(`Welcome to Hot Honey! 

Signed up as: ${n}

 Your account has been created!`),s(n==="investor"?"/settings":"/submit")},h=m=>{m.preventDefault(),r("");const p=localStorage.getItem("userProfile");if(!p){r("No account found with this email. Please sign up first.");return}const y=JSON.parse(p);y.email.toLowerCase()===o.email.toLowerCase()?(localStorage.setItem("isLoggedIn","true"),alert(`Welcome back, ${y.name}! `),y.userType==="investor"?s("/dashboard"):s("/submit")):r("Invalid email or password. Please try again.")},f=m=>{u({...o,[m.target.name]:m.target.value})};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" Home"})}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-8xl mb-4 animate-pulse",children:""}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:e==="signup"?"Join Hot Honey":"Welcome Back!"}),c.jsx("p",{className:"text-xl text-white font-bold drop-shadow-lg",children:e==="signup"?"Connect startups with investors who share your vision":"Log in to Hot Honey"}),c.jsxs("div",{className:"mt-4 flex justify-center gap-4 text-4xl",children:[c.jsx("span",{className:"animate-pulse",style:{animationDelay:"0s"},children:""}),c.jsx("span",{className:"animate-pulse",style:{animationDelay:"0.3s"},children:""}),c.jsx("span",{className:"animate-pulse",style:{animationDelay:"0.6s"},children:""})]})]}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"bg-white rounded-3xl p-2 shadow-lg inline-flex",children:[c.jsx("button",{onClick:()=>{t("signup"),r("")},className:`px-8 py-3 rounded-2xl font-bold transition-all ${e==="signup"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:" Sign Up"}),c.jsx("button",{onClick:()=>{t("login"),r("")},className:`px-8 py-3 rounded-2xl font-bold transition-all ${e==="login"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg":"text-gray-600 hover:text-purple-600"}`,children:" Log In"})]})}),c.jsx("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-8 shadow-2xl",children:c.jsxs("div",{className:"bg-white/90 rounded-2xl p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-6 text-center",children:e==="signup"?" Create Your Account":" Log In"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:e==="signup"?"Join the honey pot revolution and connect with the right partners":"Welcome back! Enter your credentials to continue."}),a&&c.jsx("div",{className:"mb-6 p-4 bg-red-100 border-2 border-red-400 rounded-xl",children:c.jsxs("p",{className:"text-red-700 font-semibold text-center",children:[" ",a]})}),c.jsxs("form",{onSubmit:e==="signup"?d:h,className:"space-y-6",autoComplete:"off",children:[e==="signup"&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"userType",className:"block text-sm font-bold text-gray-700 mb-2",children:"I am a..."}),c.jsxs("select",{id:"userType",value:n,onChange:m=>i(m.target.value),className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium bg-white",children:[c.jsx("option",{value:"startup",children:" Startup - Looking for investment"}),c.jsx("option",{value:"investor",children:" Investor - Looking to invest"})]})]}),e==="signup"&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-bold text-gray-700 mb-2",children:n==="startup"?"Startup Name":"Full Name"}),c.jsx("input",{id:"name",name:"name",type:"text",value:o.name,onChange:f,placeholder:n==="startup"?"Enter your startup name":"Enter your full name",required:!0,autoComplete:"off",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address"}),c.jsx("input",{id:"email",name:"email",type:"email",value:o.email,onChange:f,placeholder:"your@email.com",required:!0,autoComplete:"off",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-700 mb-2",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",value:o.password,onChange:f,placeholder:"Create a secure password",required:!0,autoComplete:"new-password",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),e==="signup"&&n==="startup"&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-bold text-gray-700 mb-2",children:"Startup Description"}),c.jsx("textarea",{id:"description",name:"description",value:o.description,onChange:f,placeholder:"Tell us about your startup...",rows:4,className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium resize-none"})]}),c.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-6 rounded-2xl shadow-lg transition-all text-lg",children:e==="signup"?" Create Account":" Log In"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:"text-gray-600",children:e==="signup"?c.jsxs(c.Fragment,{children:["Already have an account?"," ",c.jsx("button",{onClick:()=>{t("login"),r("")},className:"text-orange-600 font-bold hover:text-orange-700 hover:underline",children:"Log In"})]}):c.jsxs(c.Fragment,{children:["Don't have an account?"," ",c.jsx("button",{onClick:()=>{t("signup"),r("")},className:"text-orange-600 font-bold hover:text-orange-700 hover:underline",children:"Sign Up"})]})})})]})}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-12",children:[c.jsx("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-1 shadow-lg hover:scale-105 transition-transform",children:c.jsxs("div",{className:"bg-white rounded-3xl p-6 h-full",children:[c.jsx("div",{className:"text-6xl mb-4 text-center",children:""}),c.jsx("h3",{className:"text-2xl font-bold text-orange-600 mb-4 text-center",children:"For Startups"}),c.jsxs("ul",{className:"space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-semibold",children:"Get in front of engaged investors"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-semibold",children:"Showcase your pitch deck & documents"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-semibold",children:"Track investor interest in real-time"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-semibold",children:"Connect with the right partners"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-semibold",children:"Get them while they're HOT!"})]})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-yellow-300 via-amber-400 to-orange-400 rounded-3xl p-1 shadow-lg hover:scale-105 transition-transform",children:c.jsxs("div",{className:"bg-white rounded-3xl p-6 h-full",children:[c.jsx("div",{className:"text-6xl mb-4 text-center",children:""}),c.jsx("h3",{className:"text-2xl font-bold text-orange-600 mb-4 text-center",children:"For Investors"}),c.jsxs("ul",{className:"space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-semibold",children:"Discover hot startups early"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-semibold",children:"Access detailed startup profiles"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-semibold",children:"Vote and track your favorites"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-semibold",children:"Connect directly with founders"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{className:"font-semibold",children:"Join the honey pot revolution!"})]})]})]})})]})]})})}function eL(){const s=Ns();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" Home"})}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-8xl mb-4",children:""}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-4",children:"About Hot Honey"}),c.jsx("p",{className:"text-2xl text-yellow-300 font-semibold mb-2",children:`"Get Them While They're Hot."`}),c.jsx("p",{className:"text-xl text-purple-200 font-medium",children:"A Social Discovery Platform for Investors and Startups"})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"Our Approach"}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:["Hot Honey is a ",c.jsx("strong",{children:"social discovery platform"})," that transforms how early-stage investors and startups connect. We've created a ",c.jsx("strong",{children:"courtship process"})," for investmentwhere chemistry develops before capital flows."]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6 mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-orange-600 mb-3",children:"The 5-Point Discovery Framework"}),c.jsxs("p",{className:"text-gray-700 mb-4 leading-relaxed",children:["At the heart of our approach is the ",c.jsx("strong",{children:"5-Point StartupCard"}),"a precisely designed format that condenses each startup's story into bite-sized, essential information. This creates ",c.jsx("strong",{children:"quick interest"})," and allows both investors and startups to develop genuine connections through progressive discovery."]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:"1"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"The Problem:"}),c.jsx("span",{className:"text-gray-700",children:" Investors instantly understand the pain point being solved"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:"2"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"The Solution:"}),c.jsx("span",{className:"text-gray-700",children:" The startup's unique approach becomes immediately clear"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:"3"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Market Size:"}),c.jsx("span",{className:"text-gray-700",children:" The opportunity scale sparks investor curiosity"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:"4"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Team Companies:"}),c.jsx("span",{className:"text-gray-700",children:" Credibility is established through founder pedigree"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Investment Amount:"}),c.jsx("span",{className:"text-gray-700",children:" Investors know exactly what's being raised"})]})]})]})]}),c.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-purple-700 mb-3",children:" The Courtship Process"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"Like dating, investing is about building trust and chemistry. Our platform mimics the natural courtship process:"}),c.jsxs("ul",{className:"space-y-2 text-gray-700",children:[c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"font-bold",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"First Impression:"})," The 5-point card creates instant curiosity"]})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"font-bold",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Progressive Reveal:"})," Information unlocks as interest grows (honeypot secrets)"]})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"font-bold",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Protected Privacy:"})," Investors stay anonymous until Stage 3"]})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"font-bold",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Social Proof:"})," Votes and heat meters show collective validation"]})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"font-bold",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Commitment:"})," Only interested parties proceed to serious conversations"]})]})]})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Problem We Solve"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:"Millions of startups compete for over 1.2 million active investors, yet less than 3% ever connect meaningfully."}),c.jsx("div",{className:"bg-orange-50 rounded-2xl p-6 mb-4",children:c.jsxs("ul",{className:"space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Data-driven platforms"})," like AngelList or Carta provide credibility but lack engagement."]})]}),c.jsxs("li",{className:"flex gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"Social platforms"})," like LinkedIn and X provide energy but lack structure and verification."]})]})]})}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed font-semibold",children:"Hot Honey fills the gap by combining both worldstrust and excitement."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Solution"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:"The platform guides users through a five-step emotional and functional journey:"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gradient-to-r from-orange-400 to-orange-500 text-white",children:[c.jsx("th",{className:"p-3 text-left rounded-tl-xl",children:"Step"}),c.jsx("th",{className:"p-3 text-left",children:"Stage"}),c.jsx("th",{className:"p-3 text-left rounded-tr-xl",children:"Description"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{className:"bg-orange-50",children:[c.jsx("td",{className:"p-3 font-bold",children:"1"}),c.jsx("td",{className:"p-3 font-semibold",children:"Discovery"}),c.jsx("td",{className:"p-3",children:"Swipe-based exploration with concise, five-point StartupCards"})]}),c.jsxs("tr",{className:"bg-white",children:[c.jsx("td",{className:"p-3 font-bold",children:"2"}),c.jsx("td",{className:"p-3 font-semibold",children:"Attraction"}),c.jsx("td",{className:"p-3",children:'Startups with 5+ "Yes" votes unlock added visibility and data'})]}),c.jsxs("tr",{className:"bg-orange-50",children:[c.jsx("td",{className:"p-3 font-bold",children:"3"}),c.jsx("td",{className:"p-3 font-semibold",children:"Reveal"}),c.jsx("td",{className:"p-3",children:"Investors disclose identity for private, time-bound pitch meetings"})]}),c.jsxs("tr",{className:"bg-white",children:[c.jsx("td",{className:"p-3 font-bold",children:"4"}),c.jsx("td",{className:"p-3 font-semibold",children:"Commitment"}),c.jsx("td",{className:"p-3",children:"Deal Room access with NDA, decks, and analytics"})]}),c.jsxs("tr",{className:"bg-orange-50",children:[c.jsx("td",{className:"p-3 font-bold",children:"5"}),c.jsx("td",{className:"p-3 font-semibold",children:"Social Sharing"}),c.jsx("td",{className:"p-3",children:'Once a startup is "Hot," investors share it sociallyfueling virality'})]})]})]})}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mt-4 italic",children:"This process transforms curiosity into confidence and commitmentthe logic of human trust, encoded into a platform."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The 5-Point Format"}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:["At the heart of Hot Honey is our ",c.jsx("strong",{children:"5-point StartupCard format"}),"a precisely designed data structure that condenses each startup's elevator pitch into a bite-size card that reveals just enough of what is important."]}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:[c.jsx("strong",{children:"Hot Honey helps identify quality investment candidates faster and with more precision."})," The Hot Money Process enables quick discovery without all the overhead and utilizes crowd and market intelligence to identify the winners."]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6 mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-orange-600 mb-4",children:"The Five Essential Points"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("span",{className:"text-2xl",children:"1"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"The Problem:"}),c.jsx("span",{className:"text-gray-700",children:" What pain point is being solved?"})]})]}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("span",{className:"text-2xl",children:"2"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"The Solution:"}),c.jsx("span",{className:"text-gray-700",children:" How does the startup solve it?"})]})]}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("span",{className:"text-2xl",children:"3"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Market Size:"}),c.jsx("span",{className:"text-gray-700",children:" What's the opportunity scale?"})]})]}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("span",{className:"text-2xl",children:"4"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Team Companies:"}),c.jsx("span",{className:"text-gray-700",children:" Where have the founders worked before?"})]})]}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Investment Amount:"}),c.jsx("span",{className:"text-gray-700",children:" How much are they raising?"})]})]})]})]}),c.jsxs("div",{className:"bg-white border-2 border-orange-300 rounded-2xl p-6 mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-orange-600 mb-3 flex items-center gap-2",children:" Progressive Information Reveal"}),c.jsxs("p",{className:"text-gray-700 mb-3",children:["Critical traction data and sensitive business metrics are hidden behind the ",c.jsx("strong",{children:"honeypot icon"}),". This information unlocks progressively as startups advance through stages, ensuring the right information is revealed at the right time."]}),c.jsx("p",{className:"text-gray-700",children:"This structured reveal process allows investors to make quick, informed decisions at each stage without information overloadreviewing what is most important before proceeding."})]}),c.jsxs("div",{className:"bg-purple-100 border-2 border-purple-400 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-purple-700 mb-3 flex items-center gap-2",children:" Investor Anonymity Until Stage 3"}),c.jsxs("p",{className:"text-gray-700 mb-3",children:[c.jsx("strong",{children:"Investors remain completely anonymous during the Discovery and Attraction stages."})," Your identity is not disclosed to startups until you reach ",c.jsx("strong",{children:"Stage 3 (Reveal)"}),"when you actively choose to disclose your identity for private, time-bound pitch meetings."]}),c.jsx("p",{className:"text-gray-700",children:"This anonymity ensures unbiased review, privacy during the discovery process, and gives investors full control over when and how they engage with founders."})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Market"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl p-6 text-white text-center",children:[c.jsx("div",{className:"text-4xl font-bold mb-2",children:"$6.4T"}),c.jsx("div",{className:"text-sm",children:"Global Startup Economy"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl p-6 text-white text-center",children:[c.jsx("div",{className:"text-4xl font-bold mb-2",children:"$25-30B"}),c.jsx("div",{className:"text-sm",children:"Early-Stage Angel Investment Annually"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl p-6 text-white text-center",children:[c.jsx("div",{className:"text-4xl font-bold mb-2",children:"28%"}),c.jsx("div",{className:"text-sm",children:"CAGR in Digital Investing Platforms"})]})]}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:["Hot Honey is positioned as the ",c.jsx("strong",{children:"social-trust layer for global venture capital"}),"where credibility meets virality."]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-6 text-center",children:"The Hot Economy Flywheel"}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-8",children:[c.jsx("img",{src:"/images/hot-economy-flywheel.png",alt:"The Hot Economy Flywheel",className:"w-full max-w-2xl mx-auto rounded-xl shadow-lg mb-6"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed text-center italic",children:"Every vote creates value. Every share fuels the loop. Every insight compounds the Hot Economy."}),c.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white rounded-xl p-4",children:[c.jsx("h4",{className:"font-bold text-orange-600 mb-2",children:"Outer Loop"}),c.jsx("p",{className:"text-gray-700 text-sm",children:"Investors  Startups  Data Engine  Partners  Revenue  Investors"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4",children:[c.jsx("h4",{className:"font-bold text-orange-600 mb-2",children:"Inner Loop"}),c.jsx("p",{className:"text-gray-700 text-sm",children:"Curiosity  Engagement  Trust  Recognition  Influence"})]})]})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"How It Works"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-4 items-start",children:[c.jsx("div",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Discover"}),c.jsx("p",{className:"text-gray-700",children:"Swipe through curated StartupCards. Each card distills a startup into five key points: Problem, Solution, Market, Team, and Momentum. Make instinctive yes/no decisions based on curiosity."})]})]}),c.jsxs("div",{className:"flex gap-4 items-start",children:[c.jsx("div",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Build Heat"}),c.jsx("p",{className:"text-gray-700",children:`Every "Yes" vote raises a startup's Heat Meter. High-heat startups appear in the Hot 5 Feedthe daily trending list that keeps investors coming back.`})]})]}),c.jsxs("div",{className:"flex gap-4 items-start",children:[c.jsx("div",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Connect"}),c.jsx("p",{className:"text-gray-700",children:"Verified investors unlock direct messaging, pitch sessions, and Deal Room access. Founders receive real-time feedback on who's interested and why."})]})]}),c.jsxs("div",{className:"flex gap-4 items-start",children:[c.jsx("div",{className:"text-4xl",children:""}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Invest Together"}),c.jsx("p",{className:"text-gray-700",children:"Form or join syndicates. Share Hot Lists. Co-invest with confidence. The platform makes group investment transparent, social, and fun."})]})]})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"Our Values"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold text-xl",children:""}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Human-Centered Design:"}),c.jsx("span",{className:"text-gray-700",children:" We believe emotion drives decisions. Data confirms them."})]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold text-xl",children:""}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Transparency:"}),c.jsx("span",{className:"text-gray-700",children:" Open, honest communication between startups and investors builds trust."})]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold text-xl",children:""}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Community-Driven:"}),c.jsx("span",{className:"text-gray-700",children:" Our voting system ensures the best startups rise to the top organically."})]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold text-xl",children:""}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Quality Over Quantity:"}),c.jsx("span",{className:"text-gray-700",children:" We curate deals so investors can focus on what truly matters."})]})]})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Vision"}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:["Within five years, Hot Honey will become the ",c.jsx("strong",{children:"global social layer for venture capital"}),"a daily habit for investors and founders alike."]}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 rounded-2xl p-6 text-white",children:[c.jsx("p",{className:"text-xl font-semibold mb-3",children:"We're not just building a platform. We're building a movement."}),c.jsx("p",{className:"text-lg",children:"Where chemistry precedes capital. Where trust is earned transparently. Where the best ideas win through collective validation."}),c.jsx("p",{className:"text-2xl font-bold mt-4 text-center",children:"The heat is rising. "})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-8 shadow-2xl text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Join the Movement?"}),c.jsx("p",{className:"text-xl text-white mb-6",children:"Whether you're an investor seeking the next big thing or a startup ready to build momentumHot Honey is your platform."}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:()=>s("/signup"),className:"bg-white text-orange-600 font-bold py-4 px-8 rounded-2xl shadow-lg hover:bg-gray-100 transition-all text-lg",children:" Join Now"}),c.jsx("button",{onClick:()=>s("/vote"),className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:" Start Voting"})]})]})]})]})}function tL(){const s=Ns();return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-yellow-50 p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" Home"})}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:" Privacy Policy"}),c.jsx("p",{className:"text-xl text-gray-700 font-medium",children:"Your privacy matters to us"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Last Updated: ",new Date().toLocaleDateString()]})]}),c.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl mb-8",children:[c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"1. Information We Collect"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We collect information you provide directly to us when you:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[c.jsx("li",{children:"Create an account (name, email, password)"}),c.jsx("li",{children:"Submit a startup for consideration"}),c.jsx("li",{children:"Vote on startups"}),c.jsx("li",{children:"Interact with our platform"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"2. How We Use Your Information"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We use the information we collect to:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[c.jsx("li",{children:"Provide, maintain, and improve our services"}),c.jsx("li",{children:"Connect startups with investors"}),c.jsx("li",{children:"Send you updates about startups you've voted on"}),c.jsx("li",{children:"Respond to your comments and questions"}),c.jsx("li",{children:"Protect against fraudulent or illegal activity"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"3. Information Sharing"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We do not sell your personal information. We may share your information:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[c.jsx("li",{children:"With startups you've expressed interest in (name, email for connection purposes)"}),c.jsx("li",{children:"With service providers who help us operate our platform"}),c.jsx("li",{children:"When required by law or to protect our rights"}),c.jsx("li",{children:"With your consent"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"4. Data Security"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We implement appropriate security measures to protect your personal information. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"5. Your Rights"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"You have the right to:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[c.jsx("li",{children:"Access your personal information"}),c.jsx("li",{children:"Correct inaccurate information"}),c.jsx("li",{children:"Request deletion of your information"}),c.jsx("li",{children:"Opt-out of marketing communications"}),c.jsx("li",{children:"Withdraw consent at any time"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"6. Cookies and Tracking"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We use cookies and similar tracking technologies to track activity on our platform and hold certain information. You can instruct your browser to refuse all cookies or indicate when a cookie is being sent."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"7. Children's Privacy"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our service is not intended for children under 18. We do not knowingly collect personal information from children under 18. If you are a parent and believe your child has provided us with personal information, please contact us."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"8. Changes to This Policy"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"9. Contact Us"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you have any questions about this Privacy Policy, please contact us:"}),c.jsx("div",{className:"bg-orange-50 rounded-2xl p-4",children:c.jsxs("p",{className:"text-gray-700",children:[c.jsx("strong",{children:"Email:"})," privacy@hotmoneyhoney.com",c.jsx("br",{}),c.jsx("strong",{children:"Mail:"})," Hot Honey, Inc.",c.jsx("br",{}),"[Your Address Here]"]})})]})]})]})})}function sL(){const s=Ns(),[e,t]=M.useState({name:"",email:"",subject:"",message:""}),[n,i]=M.useState(!1),a=o=>{o.preventDefault(),console.log("Contact form submitted:",e),i(!0),setTimeout(()=>{i(!1),t({name:"",email:"",subject:"",message:""})},3e3)},r=o=>{t({...e,[o.target.name]:o.target.value})};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" Home"})}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-8xl mb-4",children:""}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-4",children:"Contact Us"}),c.jsx("p",{className:"text-xl text-gray-700 font-medium",children:"We'd love to hear from you!"})]}),c.jsx("div",{className:"mb-8 bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-orange-600 mb-2 flex items-center gap-2",children:" Email Us"}),c.jsx("p",{className:"text-gray-700",children:c.jsx("a",{href:"mailto:hello@hotmoneyhoney.com",className:"text-orange-600 hover:text-orange-700 underline",children:"hello@hotmoneyhoney.com"})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-orange-600 mb-2 flex items-center gap-2",children:" Response Time"}),c.jsx("p",{className:"text-gray-700",children:"We typically respond within 24-48 hours"})]})]})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Send us a message"}),n&&c.jsx("div",{className:"mb-6 p-4 bg-green-100 border-2 border-green-400 rounded-xl text-center",children:c.jsx("p",{className:"text-green-800 font-semibold",children:" Thank you! We'll get back to you soon."})}),c.jsxs("form",{onSubmit:a,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Name *"}),c.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:e.name,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"John Doe"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address *"}),c.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:e.email,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"john@example.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"subject",className:"block text-sm font-bold text-gray-700 mb-2",children:"Subject *"}),c.jsxs("select",{id:"subject",name:"subject",required:!0,value:e.subject,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",children:[c.jsx("option",{value:"",children:"Select a topic..."}),c.jsx("option",{value:"investor",children:"I'm an Investor"}),c.jsx("option",{value:"startup",children:"I'm a Startup"}),c.jsx("option",{value:"partnership",children:"Partnership Inquiry"}),c.jsx("option",{value:"support",children:"Technical Support"}),c.jsx("option",{value:"feedback",children:"Feedback"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-bold text-gray-700 mb-2",children:"Message *"}),c.jsx("textarea",{id:"message",name:"message",required:!0,value:e.message,onChange:r,rows:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"Tell us how we can help..."})]}),c.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:" Send Message"})]})]}),c.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-purple-700 mb-3",children:" Common Questions?"}),c.jsx("p",{className:"text-gray-700 mb-3",children:"Before reaching out, you might find what you're looking for in our resources:"}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("button",{onClick:()=>s("/about"),className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-lg text-purple-700 font-semibold hover:bg-purple-50 transition-colors",children:" About Us"}),c.jsx("button",{onClick:()=>s("/"),className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-lg text-purple-700 font-semibold hover:bg-purple-50 transition-colors",children:" How It Works"}),c.jsx("button",{onClick:()=>s("/submit"),className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-lg text-purple-700 font-semibold hover:bg-purple-50 transition-colors",children:" For Startups"})]})]})]})]})]})}const ig=[{id:"fintech",name:"FinTech",emoji:""},{id:"ai",name:"AI/ML",emoji:""},{id:"saas",name:"SaaS",emoji:""},{id:"deeptech",name:"Deep Tech",emoji:""},{id:"robotics",name:"Robotics",emoji:""},{id:"healthtech",name:"HealthTech",emoji:""},{id:"edtech",name:"EdTech",emoji:""},{id:"cleantech",name:"CleanTech",emoji:""},{id:"ecommerce",name:"E-Commerce",emoji:""},{id:"crypto",name:"Crypto/Web3",emoji:""},{id:"consumer",name:"Consumer",emoji:""},{id:"enterprise",name:"Enterprise",emoji:""}];function nL(){const s=Ns(),[e,t]=M.useState([]),[n,i]=M.useState(!1),[a,r]=M.useState(!1),[o,u]=M.useState(!1),[d,h]=M.useState("");M.useEffect(()=>{const y=localStorage.getItem("userProfile");if(y){const b=JSON.parse(y);u(!0),h(b.email||"User"),b.preferences&&(t(b.preferences.industries||[]),i(b.preferences.filterEnabled||!1))}else{const b=localStorage.getItem("investorPreferences");if(b){const A=JSON.parse(b);t(A.industries||[]),i(A.filterEnabled||!1)}}},[]);const f=y=>{t(b=>b.includes(y)?b.filter(A=>A!==y):[...b,y])},m=()=>{const y=localStorage.getItem("userProfile");if(!y){confirm(` Please sign up to save your preferences!

Would you like to go to the sign up page now?`)&&s("/signup");return}const b={industries:e,filterEnabled:n,savedAt:new Date().toISOString()},A=JSON.parse(y);A.preferences=b,localStorage.setItem("userProfile",JSON.stringify(A)),localStorage.setItem("investorPreferences",JSON.stringify(b)),r(!0),setTimeout(()=>r(!1),3e3)},p=()=>{e.length===ig.length?t([]):t(ig.map(y=>y.id))};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx(K,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up",children:""}),c.jsx(K,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:" Sign Up"}),c.jsx(K,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Home"}),c.jsx(K,{to:"/vote",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Vote"}),c.jsx(K,{to:"/dashboard",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:" Dashboard"}),c.jsx(K,{to:"/settings",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:" Settings"})]})}),c.jsx("div",{className:"max-w-4xl mx-auto relative z-10 pt-28",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-2",children:"Investor Preferences"}),c.jsx("p",{className:"text-lg text-gray-700",children:"Customize your Hot Honey experience"})]}),!o&&c.jsx("div",{className:"mb-6 p-4 bg-yellow-100 border-2 border-yellow-400 rounded-xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-yellow-800 font-semibold mb-1",children:" Not Logged In"}),c.jsx("p",{className:"text-sm text-yellow-700",children:"Sign up to save your preferences to your account"})]}),c.jsx("button",{onClick:()=>s("/signup"),className:"px-4 py-2 bg-yellow-400 text-black rounded-lg font-semibold hover:bg-yellow-500 transition-colors",children:"Sign Up"})]})}),o&&c.jsx("div",{className:"mb-6 p-4 bg-green-100 border-2 border-green-400 rounded-xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-green-800 font-semibold",children:[" Logged in as ",c.jsx("strong",{children:d})]}),c.jsx("button",{onClick:()=>{confirm("Are you sure you want to log out?")&&(localStorage.removeItem("userProfile"),localStorage.removeItem("isLoggedIn"),u(!1),h(""),alert(" Logged out successfully!"),s("/"))},className:"px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition-colors text-sm",children:"Log Out"})]})}),a&&c.jsx("div",{className:"mb-6 p-4 bg-green-100 border-2 border-green-400 rounded-xl text-center",children:c.jsx("p",{className:"text-green-800 font-semibold",children:" Preferences saved successfully!"})}),c.jsxs("div",{className:"mb-8 bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Industry Filter"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Only show startups in your selected industries"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:n,onChange:y=>i(y.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-14 h-7 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-orange-500"})]})]}),n&&e.length===0&&c.jsx("div",{className:"mt-3 p-3 bg-yellow-100 border-2 border-yellow-300 rounded-lg",children:c.jsx("p",{className:"text-sm text-yellow-800 font-semibold",children:" Please select at least one industry below"})})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Industries of Interest"}),c.jsx("button",{onClick:p,className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg font-semibold hover:bg-purple-200 transition-colors text-sm",children:e.length===ig.length?" Deselect All":" Select All"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the industries you're most interested in investing in"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ig.map(y=>c.jsxs("button",{onClick:()=>f(y.id),className:`p-4 rounded-xl border-2 transition-all text-center ${e.includes(y.id)?"border-orange-500 bg-orange-50 shadow-lg":"border-gray-300 bg-white hover:border-orange-300 hover:bg-orange-50"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:y.emoji}),c.jsx("div",{className:`font-semibold text-sm ${e.includes(y.id)?"text-orange-700":"text-gray-700"}`,children:y.name}),e.includes(y.id)&&c.jsx("div",{className:"text-orange-600 text-xl mt-1",children:""})]},y.id))})]}),c.jsxs("div",{className:"mb-6 bg-purple-50 border-2 border-purple-300 rounded-xl p-4",children:[c.jsx("h3",{className:"font-bold text-purple-700 mb-2",children:" How it works"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[c.jsx("li",{children:" Toggle the filter ON to only see startups in your selected industries"}),c.jsx("li",{children:" Toggle OFF to see all startups (great for discovery!)"}),c.jsx("li",{children:" You can change your preferences anytime"}),c.jsx("li",{children:" Your selections are saved automatically to your device"})]})]}),c.jsx("button",{onClick:m,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:" Save Preferences"}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>s("/vote"),className:"text-orange-600 hover:text-orange-700 font-semibold underline",children:" Back to Voting"})})]})})]})}const iL=[{id:"fintech",name:"FinTech",emoji:""},{id:"ai",name:"AI/ML",emoji:""},{id:"saas",name:"SaaS",emoji:""},{id:"deeptech",name:"Deep Tech",emoji:""},{id:"robotics",name:"Robotics",emoji:""},{id:"healthtech",name:"HealthTech",emoji:""},{id:"edtech",name:"EdTech",emoji:""},{id:"cleantech",name:"CleanTech",emoji:""},{id:"ecommerce",name:"E-Commerce",emoji:""},{id:"crypto",name:"Crypto/Web3",emoji:""},{id:"consumer",name:"Consumer",emoji:""},{id:"enterprise",name:"Enterprise",emoji:""}];function aL(){const{shareId:s}=JE(),e=Ns(),[t,n]=M.useState(null),[i,a]=M.useState(!0),[r,o]=M.useState([]);return M.useEffect(()=>{const u=localStorage.getItem("portfolioShares");if(u&&s){const h=JSON.parse(u)[s];if(h)if(n(h),h.industries&&h.industries.length>0){const f=h.startups;o(f)}else o(h.startups)}a(!1)},[s]),i?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),c.jsx("p",{className:"text-2xl text-white font-bold",children:"Loading portfolio..."})]})}):t?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-7xl mb-4",children:""}),c.jsxs("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-3",children:[t.investorName,"'s Hot Picks"]}),c.jsxs("p",{className:"text-xl text-purple-200 mb-2",children:["Shared ",r.length," startup",r.length!==1?"s":""]}),t.industries&&t.industries.length>0&&c.jsx("div",{className:"flex gap-2 justify-center flex-wrap mt-4",children:t.industries.map(u=>{const d=iL.find(h=>h.id===u);return d?c.jsxs("span",{className:"bg-purple-500 text-white px-4 py-2 rounded-full text-sm font-semibold",children:[d.emoji," ",d.name]},u):null})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:r.map((u,d)=>c.jsxs("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-2xl p-6 shadow-2xl",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2",children:u.name}),u.tagline&&c.jsx("p",{className:"text-blue-700 font-bold text-sm mb-3",children:u.tagline}),u.pitch&&c.jsx("p",{className:"text-gray-800 text-sm mb-4",children:u.pitch}),c.jsx("div",{className:"flex items-center gap-2 text-sm",children:c.jsxs("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full font-bold",children:[" ",u.stage?`Stage ${u.stage}`:"Verified"]})})]},d))}),c.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center shadow-2xl",children:[c.jsx("div",{className:"text-5xl mb-4",children:""}),c.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"Want to Discover Hot Startups Too?"}),c.jsx("p",{className:"text-xl text-gray-700 mb-6 max-w-2xl mx-auto",children:"Join Hot Honey to discover, vote on, and track the hottest startup deals. Build your own portfolio and share it with your network!"}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:()=>e("/signup"),className:"px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl shadow-lg transition-all text-lg",children:" Join Hot Honey"}),c.jsx("button",{onClick:()=>e("/vote"),className:"px-8 py-4 bg-white border-2 border-orange-500 text-orange-600 font-bold rounded-2xl shadow-lg hover:bg-orange-50 transition-all text-lg",children:" See All Startups"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[c.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[c.jsx("div",{className:"text-3xl mb-3",children:""}),c.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Filter by Industry"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Only see startups in industries you care about"})]}),c.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[c.jsx("div",{className:"text-3xl mb-3",children:""}),c.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Track Your Picks"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Build your own portfolio of hot startups"})]}),c.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[c.jsx("div",{className:"text-3xl mb-3",children:""}),c.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Share Selectively"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Share specific categories with different people"})]})]})]}),c.jsx("div",{className:"text-center mt-8",children:c.jsxs("p",{className:"text-purple-200 text-sm",children:["Powered by ",c.jsx("span",{className:"font-bold text-yellow-300",children:"Hot Honey"})," "]})})]})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center max-w-2xl",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Portfolio Not Found"}),c.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"This share link may have expired or been removed."}),c.jsx("button",{onClick:()=>e("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Go to Hot Honey"})]})})}function rL(){const s=Ns(),e=M.useRef(null),[t,n]=M.useState(!1),[i,a]=M.useState(!1),[r,o]=M.useState([]),[u,d]=M.useState("upload"),[h,f]=M.useState(0),m=()=>{const C=localStorage.getItem("userProfile");if(C){const _=JSON.parse(C);return _.email==="admin@hotmoneyhoney.com"||_.isAdmin}return!1},p=C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?n(!0):C.type==="dragleave"&&n(!1)},y=C=>{C.preventDefault(),C.stopPropagation(),n(!1),C.dataTransfer.files&&C.dataTransfer.files[0]&&v(C.dataTransfer.files[0])},b=C=>{C.target.files&&C.target.files[0]&&v(C.target.files[0])},A=C=>{const _=C.split(`
`).filter(R=>R.trim());if(_.length<2)return[];const D=_[0].split(",").map(R=>R.trim().replace(/"/g,"")),k=[];for(let R=1;R<_.length;R++){const L=_[R].split(",").map(X=>X.trim().replace(/"/g,"")),q={};D.forEach((X,ee)=>{q[X.toLowerCase().replace(/\s+/g,"_")]=L[ee]||""}),k.push(q)}return k},x=async C=>{var k,R,L,q;const _=[],D={name:C.name||C.startup_name||"Unnamed Startup",tagline:C.tagline||C.tag_line||"",pitch:C.pitch||C.description||"",problem:C.problem||"",solution:C.solution||"",marketSize:C.market_size||C.market||"",teamCompanies:C.team_companies||C.team||"",investmentAmount:C.investment_amount||C.raise||C.raising||"",industries:C.industries?C.industries.split(",").map(X=>X.trim().toLowerCase()):[],status:"pending",aiGenerated:[],originalData:C};return!D.problem&&D.name&&(D.problem=`Addresses key challenges in ${((k=D.industries)==null?void 0:k[0])||"the industry"}`,_.push("problem")),!D.solution&&D.name&&(D.solution=`Innovative ${((R=D.industries)==null?void 0:R[0])||"technology"} solution for modern businesses`,_.push("solution")),D.marketSize||(D.marketSize="$1B+ market opportunity",_.push("marketSize")),!D.tagline&&D.name&&(D.tagline=`Next-gen ${((L=D.industries)==null?void 0:L[0])||"platform"}`,_.push("tagline")),D.pitch||(D.pitch=`${D.name} is transforming the ${((q=D.industries)==null?void 0:q[0])||"industry"}`,_.push("pitch")),D.aiGenerated=_,D},v=async C=>{const _=C.name.toLowerCase();if(!_.endsWith(".csv")&&!_.endsWith(".xlsx")){alert(" Please upload a CSV or Excel file");return}a(!0),f(0);try{const D=await C.text(),k=A(D);console.log("Parsed rows:",k.length);const R=[];for(let L=0;L<k.length;L++){f(L+1);const q=await x(k[L]);R.push(q),await new Promise(X=>setTimeout(X,100))}o(R),d("preview"),a(!1)}catch(D){console.error("Error parsing file:",D),alert(" Error parsing file. Please check the format."),a(!1)}},w=C=>{o(_=>_.map((D,k)=>k===C?{...D,status:D.status==="approved"?"pending":"approved"}:D))},E=()=>{o(C=>C.map(_=>({..._,status:"approved"})))},j=()=>{const C=r.filter(L=>L.status==="approved");if(C.length===0){alert(" No startups approved. Please approve at least one startup.");return}const _=localStorage.getItem("uploadedStartups"),D=_?JSON.parse(_):[],k=C.map((L,q)=>({id:Date.now()+q,name:L.name,tagline:L.tagline,pitch:L.pitch,description:L.pitch,marketSize:L.marketSize||"TBD",unique:L.solution||"TBD",raise:L.investmentAmount||"TBD",stage:1,yesVotes:0,noVotes:0,hotness:0,answersCount:0,industries:L.industries,fivePoints:[L.problem||"Problem statement",L.solution||"Solution description",L.marketSize||"Market size",L.teamCompanies||"Team background",L.investmentAmount||"Investment amount"],aiGenerated:L.aiGenerated,uploadedAt:new Date().toISOString()})),R=[...D,...k];localStorage.setItem("uploadedStartups",JSON.stringify(R)),alert(` Successfully uploaded ${C.length} startups!`),d("complete")},T=()=>{const C=`Startup Name,Tagline,Pitch,Problem,Solution,Market Size,Team Companies,Investment Amount,Industries
Example Startup,AI for Everyone,Making AI accessible,"AI is too complex","Simple AI platform","$50B market","Google, Microsoft","$2M Seed","ai,saas"
Another Company,FinTech Revolution,Democratizing finance,"Finance is broken","Modern banking app","$100B TAM","Goldman Sachs","$5M Series A","fintech"`,_=new Blob([C],{type:"text/csv"}),D=window.URL.createObjectURL(_),k=document.createElement("a");k.href=D,k.download="hot-money-honey-template.csv",k.click()};return m()?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("button",{onClick:()=>s("/dashboard"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" Back to Dashboard"}),c.jsxs("div",{className:"flex gap-4 items-center",children:[(()=>{const C=localStorage.getItem("uploadedStartups"),_=C?JSON.parse(C).length:0;return _>0?c.jsxs("div",{className:"bg-green-500 text-white font-bold py-3 px-6 rounded-2xl shadow-lg",children:[" ",_," Startups in Database"]}):null})(),c.jsx("button",{onClick:()=>s("/admin/document-upload"),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" Scan Documents"}),c.jsx("button",{onClick:T,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" Download Template"})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-2",children:"Bulk Upload Startups"}),c.jsx("p",{className:"text-lg text-gray-700",children:"Upload Excel/CSV files  AI auto-completes missing data"})]}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${u==="upload"?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:"1. Upload"}),c.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${u==="preview"?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:"2. Preview"}),c.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${u==="complete"?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:"3. Complete"})]})}),u==="upload"&&c.jsxs("div",{children:[c.jsx("div",{className:`border-4 border-dashed rounded-2xl p-16 text-center transition-all ${t?"border-orange-500 bg-orange-50":"border-gray-300 bg-gray-50"} ${i?"opacity-50":""}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:y,children:i?c.jsxs("div",{children:[c.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Processing..."}),c.jsx("p",{className:"text-gray-600",children:"Parsing file and generating missing data with AI"}),h>0&&c.jsxs("p",{className:"text-orange-600 font-semibold mt-4",children:["Processed ",h," startups"]})]}):c.jsxs("div",{children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Drag & Drop CSV or Excel File"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"or click to browse"}),c.jsx("input",{ref:e,type:"file",accept:".csv,.xlsx",onChange:b,className:"hidden"}),c.jsx("button",{onClick:()=>{var C;return(C=e.current)==null?void 0:C.click()},className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Choose File"})]})}),c.jsxs("div",{className:"mt-8 bg-blue-50 border-2 border-blue-300 rounded-xl p-6",children:[c.jsx("h4",{className:"font-bold text-blue-700 mb-3",children:" How it works:"}),c.jsxs("ol",{className:"text-sm text-gray-700 space-y-2 list-decimal list-inside",children:[c.jsx("li",{children:"Download the CSV template above"}),c.jsx("li",{children:"Fill in startup data (name, tagline, problem, solution, etc.)"}),c.jsx("li",{children:"Leave fields blank if you don't have the data - AI will generate it!"}),c.jsx("li",{children:"Upload your file and review the parsed data"}),c.jsx("li",{children:"Approve startups and save to database"})]})]})]}),u==="preview"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Review ",r.length," Startups"]}),c.jsxs("p",{className:"text-gray-600",children:[r.filter(C=>C.status==="approved").length," approved"]})]}),c.jsx("button",{onClick:E,className:"px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors",children:" Approve All"})]}),c.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:r.map((C,_)=>{var D;return c.jsx("div",{className:`border-2 rounded-xl p-4 transition-all ${C.status==="approved"?"border-green-500 bg-green-50":"border-gray-300 bg-white"}`,children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-lg font-bold text-gray-800",children:C.name}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:C.tagline}),C.aiGenerated&&C.aiGenerated.length>0&&c.jsx("div",{className:"flex gap-2 flex-wrap mb-2",children:C.aiGenerated.map(k=>c.jsxs("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:[" AI: ",k]},k))}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Industries: ",((D=C.industries)==null?void 0:D.join(", "))||"None"]})]}),c.jsx("button",{onClick:()=>w(_),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${C.status==="approved"?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:C.status==="approved"?" Approved":"Approve"})]})},_)})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>{d("upload"),o([])},className:"flex-1 bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-2xl hover:bg-gray-400 transition-all",children:" Upload Different File"}),c.jsxs("button",{onClick:j,className:"flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:[" Save ",r.filter(C=>C.status==="approved").length," Startups"]})]})]}),u==="complete"&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-8xl mb-6",children:""}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Upload Complete!"}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Your startups have been added to the database"}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:()=>{d("upload"),o([])},className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Upload More"}),c.jsx("button",{onClick:()=>s("/vote"),className:"px-8 py-3 bg-white border-2 border-orange-500 text-orange-600 font-bold rounded-2xl hover:bg-orange-50 transition-all",children:"View Startups"})]})]})]})]})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center max-w-2xl",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Admin Access Required"}),c.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"This page is only accessible to administrators."}),c.jsx("button",{onClick:()=>s("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Go Home"})]})})}function lL(){const s=Ns(),[e,t]=M.useState(""),[n,i]=M.useState(!1),[a,r]=M.useState([]),[o,u]=M.useState([]),[d,h]=M.useState("input"),[f,m]=M.useState({current:0,total:0}),[p,y]=M.useState(0),[b,A]=M.useState(!1),[x,v]=M.useState([]),[w,E]=M.useState(!1),[j,T]=M.useState({name:"",url:"",type:"vc_portfolio",autoRefresh:!0});M.useEffect(()=>{const P=localStorage.getItem("bulkImportSources");P&&v(JSON.parse(P))},[]);const C=P=>{localStorage.setItem("bulkImportSources",JSON.stringify(P)),v(P)},_=()=>{if(!j.name||!j.url){alert("Please enter both name and URL");return}const P={id:Date.now(),name:j.name,url:j.url,type:j.type,autoRefresh:j.autoRefresh,companyCount:0,lastScraped:new Date().toISOString()};C([...x,P]),T({name:"",url:"",type:"vc_portfolio",autoRefresh:!0}),E(!1),alert(" Source saved! AI will learn to scrape this automatically.")},D=P=>{confirm("Delete this source?")&&C(x.filter($=>$.id!==P))},k=async P=>{alert(` In production, this would:

1. Visit ${P.url}
2. Extract company URLs using AI-learned patterns
3. Enrich each company with the 5-point format
4. Update your database

For now, manually copy URLs from this source and paste them in the manual input section.`)},R=async()=>{const P=x.filter($=>$.autoRefresh);if(P.length===0){alert("No sources with auto-refresh enabled.");return}alert(` Automated Refresh:

This would scrape ${P.length} sources:
${P.map($=>` ${$.name}`).join(`
`)}

In production:
 Runs weekly via cron job
 AI extracts company URLs
 Enriches with 5-point format
 Auto-updates database

For MVP: Use manual input below`)},L=[{name:"Y Combinator",url:"https://www.ycombinator.com/companies",selector:".company-card"},{name:"a16z Portfolio",url:"https://a16z.com/portfolio/",selector:".portfolio-company"},{name:"Sequoia",url:"https://www.sequoiacap.com/companies/",selector:".company-item"}],q=()=>{const P=e.split(`
`).filter(te=>te.trim());console.log(" Parsed URLs:",P);const $=P.map(te=>{const Q=X(te);return{name:ee(te),website:te.trim(),vcSource:"Manual Input",entityType:Q}});console.log(" Companies created:",$),r($),h("review")},X=P=>{const $=P.toLowerCase(),te=ee(P).toLowerCase(),Q=["ycombinator","y-combinator","yc.com","techstars","sequoia","andreessen","a16z","greylock","benchmark","accel","founders fund","khosla","index ventures","lightspeed","nea","redpoint","spark capital","venturecapital","vc.com","ventures.com"];return["accelerator","incubator","hax","plug and play","500startups","techstars","ycombinator","y-combinator"].some(ve=>$.includes(ve)||te.includes(ve))?"accelerator":Q.some(ve=>$.includes(ve)||te.includes(ve))?"vc_firm":"startup"},ee=P=>{try{const te=new URL(P).hostname.replace("www.","").split(".")[0];return te.charAt(0).toUpperCase()+te.slice(1)}catch{return"Unknown"}},O=async P=>{const $=P.entityType||"startup";return $==="vc_firm"||$==="accelerator"?{...P,entityType:$,pitch:`${P.name} - ${$==="vc_firm"?"Venture Capital Firm":"Startup Accelerator"}`,fivePoints:["Investment focus and thesis","Portfolio company count","Average check size and stage","Notable portfolio exits","Geographic presence"],industry:"Venture Capital",funding:"N/A",stage:"N/A"}:{...P,entityType:"startup",pitch:`${P.name} - Innovative startup`,fivePoints:["Solving a major industry problem","Innovative technology solution","Large addressable market","Experienced founding team","$2M Seed"],industry:"Technology",funding:"$2M Seed",stage:"Seed"}},I=async()=>{console.log(" Starting enrichment for",a.length,"companies"),console.log(" Companies to enrich:",a),A(!0),h("enriching");const P=[];for(let $=0;$<a.length;$++){const te=a[$];console.log(` Enriching ${$+1}/${a.length}: ${te.name}`);try{const Q=await O(te);console.log(" Enriched:",Q.name),P.push(Q),console.log(` Enriched array now has ${P.length} companies`),y(($+1)/a.length*100),u([...P]),$<a.length-1&&(console.log(" Waiting 2 seconds before next enrichment..."),await new Promise(se=>setTimeout(se,2e3)))}catch(Q){console.error(` Error enriching ${te.name}:`,Q)}}console.log(" All enrichment complete:",P.length,"companies"),console.log(" Final enriched data:",P),u(P),A(!1),h("review"),setTimeout(()=>{console.log(" Current state - enrichedCompanies.length:",P.length),console.log(" Current step:","review")},100)},U=()=>{const P=localStorage.getItem("uploadedStartups"),$=P?JSON.parse(P):[],te=o.map((he,ah)=>({id:Date.now()+ah,name:he.name,tagline:he.pitch,pitch:he.pitch,stage:he.stage==="Pre-Seed"||he.stage==="Seed"?1:2,website:he.website,industries:[he.industry],fivePoints:he.fivePoints,raise:he.funding,funding:he.funding,yesVotes:0,noVotes:0,hotness:0,vcBacked:he.vcSource,entityType:he.entityType||"startup"}));localStorage.setItem("uploadedStartups",JSON.stringify([...$,...te]));const Q=te.filter(he=>he.entityType==="startup").length,se=te.filter(he=>he.entityType==="vc_firm").length,ve=te.filter(he=>he.entityType==="accelerator").length;let rt=` Successfully imported:
`;Q>0&&(rt+=` ${Q} startup${Q>1?"s":""}
`),se>0&&(rt+=` ${se} VC firm${se>1?"s":""}
`),ve>0&&(rt+=` ${ve} accelerator${ve>1?"s":""}
`),rt+=`
Would you like to view Analytics to see trends and intelligence?

Click OK for Analytics, Cancel to go to Voting.`;const Xn=confirm(rt);s(Xn?"/analytics":"/vote")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 p-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:" Bulk Import Startups"}),c.jsx("p",{className:"text-purple-200",children:"Automated VC portfolio scraping & enrichment"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>h(d==="sources"?"input":"sources"),className:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:d==="sources"?" Back to Import":" Manage Sources"}),c.jsx("button",{onClick:()=>s("/submit"),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:" Submit Page"})]})]}),d==="sources"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 backdrop-blur-md rounded-3xl p-6 border-2 border-green-400",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:" Automated Weekly Refresh"}),c.jsx("p",{className:"text-purple-100 mb-4",children:"AI learns to scrape these sources automatically. Enable auto-refresh for weekly updates of fresh startup data."}),c.jsx("button",{onClick:R,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl transition-all",children:" Refresh All Sources Now"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-purple-400",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-3xl font-bold text-white",children:[" Saved Sources (",x.length,")"]}),c.jsx("button",{onClick:()=>E(!w),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-xl transition-all",children:w?" Cancel":"+ Add Source"})]}),w&&c.jsxs("div",{className:"bg-purple-700/50 rounded-xl p-6 mb-6",children:[c.jsx("h3",{className:"text-white font-bold mb-4",children:"Add New Source"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-purple-200 mb-2 font-semibold",children:"Source Name"}),c.jsx("input",{type:"text",value:j.name,onChange:P=>T({...j,name:P.target.value}),placeholder:"e.g., Y Combinator W24",className:"w-full px-4 py-2 bg-white/20 border-2 border-purple-300 rounded-lg text-white placeholder-purple-300"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-purple-200 mb-2 font-semibold",children:"Portfolio URL"}),c.jsx("input",{type:"text",value:j.url,onChange:P=>T({...j,url:P.target.value}),placeholder:"https://www.ycombinator.com/companies",className:"w-full px-4 py-2 bg-white/20 border-2 border-purple-300 rounded-lg text-white placeholder-purple-300"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-purple-200 mb-2 font-semibold",children:"Type"}),c.jsxs("select",{value:j.type,onChange:P=>T({...j,type:P.target.value}),className:"w-full px-4 py-2 bg-white/20 border-2 border-purple-300 rounded-lg text-white",children:[c.jsx("option",{value:"vc_portfolio",children:"VC Portfolio"}),c.jsx("option",{value:"accelerator",children:"Accelerator"}),c.jsx("option",{value:"manual",children:"Manual List"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:j.autoRefresh,onChange:P=>T({...j,autoRefresh:P.target.checked}),className:"w-5 h-5"}),c.jsx("label",{className:"text-purple-200",children:"Enable weekly auto-refresh"})]}),c.jsx("button",{onClick:_,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl w-full transition-all",children:" Save Source"})]})]}),c.jsx("div",{className:"space-y-3",children:x.length===0?c.jsx("p",{className:"text-purple-200 text-center py-8",children:"No saved sources yet. Add your first VC portfolio or accelerator!"}):x.map(P=>c.jsxs("div",{className:"bg-purple-700/50 rounded-xl p-4 flex justify-between items-center",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:P.name}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${P.type==="vc_portfolio"?"bg-blue-500":P.type==="accelerator"?"bg-green-500":"bg-gray-500"} text-white`,children:P.type.replace("_"," ").toUpperCase()}),P.autoRefresh&&c.jsx("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:" AUTO"})]}),c.jsx("p",{className:"text-purple-200 text-sm mb-1",children:P.url}),P.lastScraped&&c.jsxs("p",{className:"text-purple-300 text-xs",children:["Last scraped: ",new Date(P.lastScraped).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>k(P),className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg transition-all text-sm",children:" Refresh"}),c.jsx("button",{onClick:()=>D(P.id),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition-all text-sm",children:""})]})]},P.id))})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-orange-400",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:" How It Works"}),c.jsxs("div",{className:"space-y-3 text-purple-100",children:[c.jsxs("p",{children:[c.jsx("strong",{className:"text-orange-300",children:"1. Add Sources:"})," Input VC portfolio URLs, accelerator sites, or startup lists"]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-orange-300",children:"2. AI Learns:"})," System learns HTML patterns to extract company URLs automatically"]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-orange-300",children:"3. Auto-Refresh:"})," Weekly cron job scrapes sources, enriches with 5-point format"]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-orange-300",children:"4. Fresh Data:"})," Your startup database stays current with latest YC batch, new funding rounds"]})]})]})]}),d==="input"&&c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-purple-400",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:" Enter Company Websites"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-purple-200 mb-3 font-semibold",children:"Quick Start Templates:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:L.map(P=>c.jsxs("div",{className:"bg-purple-700/50 rounded-xl p-4",children:[c.jsx("h3",{className:"text-white font-bold mb-2",children:P.name}),c.jsx("p",{className:"text-purple-200 text-sm mb-3",children:"Scrape their portfolio page"}),c.jsx("button",{onClick:()=>t(P.url),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-all w-full",children:"Use Template"})]},P.name))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"bg-blue-500/20 border-2 border-blue-400 rounded-xl p-4 mb-4",children:[c.jsx("h3",{className:"text-white font-bold mb-2",children:" Current Workflow (MVP)"}),c.jsxs("ol",{className:"text-purple-100 text-sm space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Visit a VC portfolio page (e.g., YC, a16z)"}),c.jsx("li",{children:"Manually copy company website URLs"}),c.jsx("li",{children:"Paste them below (one per line)"}),c.jsx("li",{children:" AI will enrich each with 5-point format"})]})]}),c.jsx("label",{className:"block text-white font-bold mb-3",children:"Paste Company Websites (one per line):"}),c.jsx("textarea",{value:e,onChange:P=>t(P.target.value),placeholder:`https://airbnb.com
https://stripe.com
https://coinbase.com
https://figma.com
https://notion.so`,rows:10,className:"w-full px-4 py-3 bg-white/20 border-2 border-purple-300 rounded-xl text-white placeholder-purple-300 focus:outline-none focus:border-orange-400 font-mono text-sm"}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsx("p",{className:"text-purple-200 text-sm",children:" Manually copy URLs from any VC portfolio page"}),c.jsxs("p",{className:"text-yellow-300 text-sm font-bold",children:[e.split(`
`).filter(P=>P.trim()).length," URLs ready"]})]})]}),c.jsxs("button",{onClick:q,disabled:!e.trim(),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg disabled:opacity-50 disabled:cursor-not-allowed w-full",children:[" AI Enrich ",e.split(`
`).filter(P=>P.trim()).length," Companies "]}),c.jsxs("div",{className:"mt-6 bg-purple-500/20 border-2 border-purple-400 rounded-xl p-4",children:[c.jsx("h3",{className:"text-white font-bold mb-2",children:" Future: Automated Scraping"}),c.jsx("p",{className:"text-purple-100 text-sm mb-2",children:"In production, AI will automatically:"}),c.jsxs("ul",{className:"text-purple-100 text-sm space-y-1 list-disc list-inside",children:[c.jsx("li",{children:"Scrape portfolio pages for company URLs"}),c.jsx("li",{children:"Run weekly to get fresh startups"}),c.jsx("li",{children:'Use the "Manage Sources" feature above'})]}),c.jsx("p",{className:"text-yellow-300 text-xs mt-2",children:" Requires backend server with Puppeteer/Playwright"})]})]}),d==="review"&&a.length>0&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-purple-400",children:[c.jsxs("h2",{className:"text-3xl font-bold text-white mb-4",children:[" Found ",a.length," Companies"]}),c.jsx("div",{className:"mb-6 max-h-96 overflow-y-auto space-y-2",children:a.map((P,$)=>{const te=P.entityType||"startup",Q=te==="vc_firm"?"":te==="accelerator"?"":"",se=te==="vc_firm"?"VC Firm":te==="accelerator"?"Accelerator":"Startup";return c.jsxs("div",{className:"bg-purple-700/50 rounded-lg p-4 flex justify-between items-center",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:"text-white font-bold",children:P.name}),c.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${te==="vc_firm"?"bg-lime-400 text-gray-900":te==="accelerator"?"bg-lime-500 text-gray-900":"bg-blue-400 text-white"}`,children:[Q," ",se]})]}),c.jsx("p",{className:"text-purple-200 text-sm",children:P.website})]}),o[$]&&c.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:" Enriched with AI"})]},$)})}),o.length===0&&c.jsx("button",{onClick:I,disabled:b,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg w-full disabled:opacity-50",children:b?" AI is analyzing each company...":" Enrich All with AI (Creates 5 Points)"}),o.length>0&&c.jsxs("button",{onClick:U,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg w-full",children:[" Import All ",o.length," Startups"]})]}),b&&c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-orange-400",children:[c.jsxs("h3",{className:"text-white font-bold mb-4",children:["Enriching: ",Math.round(p),"%"]}),c.jsx("div",{className:"w-full bg-purple-700 rounded-full h-4",children:c.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-4 rounded-full transition-all duration-500",style:{width:`${p}%`}})}),c.jsx("p",{className:"text-purple-200 text-sm mt-3",children:" Rate limited to 1 company every 2 seconds (OpenAI API limits)"})]}),o.length>0&&c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-green-400",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:" Preview"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:o.slice(0,6).map((P,$)=>c.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-xl p-4",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2",children:P.name}),c.jsxs("p",{className:"text-sm font-bold text-gray-800 mb-2",children:['"',P.pitch,'"']}),c.jsx("div",{className:"space-y-1",children:P.fivePoints.map((te,Q)=>c.jsxs("p",{className:"text-xs text-gray-900 font-semibold",children:[Q+1,". ",te]},Q))})]},$))}),o.length>6&&c.jsxs("p",{className:"text-purple-200 text-center mt-4",children:["...and ",o.length-6," more"]})]})]})]})})}function oL(){const s=Ns(),e=M.useRef(null),[t,n]=M.useState(!1),[i,a]=M.useState(!1),[r,o]=M.useState([]),[u,d]=M.useState("upload"),[h,f]=M.useState(""),m=()=>{const C=localStorage.getItem("userProfile");if(C){const _=JSON.parse(C);return _.email==="admin@hotmoneyhoney.com"||_.isAdmin}return!1},p=C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?n(!0):C.type==="dragleave"&&n(!1)},y=C=>{C.preventDefault(),C.stopPropagation(),n(!1),C.dataTransfer.files&&C.dataTransfer.files[0]&&w(C.dataTransfer.files)},b=C=>{C.target.files&&w(C.target.files)},A=async C=>new Promise(_=>{setTimeout(()=>{_(`
          Startup Name: ${C.name.replace(".pdf","").replace(/[-_]/g," ")}
          Problem: Traditional solutions are outdated and expensive
          Solution: Modern AI-powered platform that's affordable and easy to use
          Market Size: $50B+ total addressable market
          Team: Former executives from Google, Microsoft, and Amazon
          Raising: $2M Seed Round
          Industry: AI, SaaS, Enterprise
        `)},1500)}),x=async C=>new Promise(_=>{setTimeout(()=>{_(`
          ${C.name.replace(".pptx","").replace(".ppt","").replace(/[-_]/g," ")}
          
          The Problem:
          - Current market lacks innovation
          - Customers frustrated with legacy systems
          - $10B wasted annually on inefficient processes
          
          Our Solution:
          - Revolutionary platform using cutting-edge technology
          - 10x faster than competitors
          - 90% cost reduction
          
          Market Opportunity:
          - $100B TAM, $20B SAM
          - Growing 35% YoY
          
          Team:
          - CEO: Ex-Tesla, Stanford MBA
          - CTO: Ex-Google, MIT PhD
          - COO: Ex-Amazon, Harvard
          
          The Ask:
          - Seeking $5M Series A
          - 18 months runway
          - Scale to 100 enterprise customers
          
          Sectors: FinTech, AI, B2B SaaS
        `)},2e3)}),v=(C,_)=>{C.toLowerCase();const D=C.match(/(?:startup name|company|business):\s*(.+)/i),k=D?D[1].trim():_.replace(/\.(pdf|pptx?)/gi,"").replace(/[-_]/g," "),R=C.match(/(?:problem|challenge|pain point):\s*(.+?)(?:\n|$)/i),L=R?R[1].trim():"Legacy systems and inefficient processes",q=C.match(/(?:solution|our product|platform):\s*(.+?)(?:\n|$)/i),X=q?q[1].trim():"AI-powered platform for modern businesses",ee=C.match(/(?:market|tam|market size|opportunity):\s*(.+?)(?:\n|$)/i),O=ee?ee[1].trim():"$50B+ market opportunity",I=C.match(/(?:team|founders|executives):\s*(.+?)(?:\n|$)/i),U=I?I[1].trim():"Google, Microsoft, Amazon",P=C.match(/(?:raising|funding|investment|ask|seeking):\s*(.+?)(?:\n|$)/i),$=P?P[1].trim():"$2M Seed",te=C.match(/(?:industry|sector|vertical|space):\s*(.+?)(?:\n|$)/i),se=(te?te[1]:"ai, saas").toLowerCase().split(/[,\s]+/).map(ve=>ve.trim()).filter(ve=>ve);return{name:k,tagline:`Next-gen ${se[0]||"technology"} platform`,pitch:`${k} is transforming the industry with innovative solutions`,problem:L,solution:X,marketSize:O,teamCompanies:U,investmentAmount:$,industries:se.slice(0,3),confidence:"medium",extractedFrom:_,status:"pending"}},w=async C=>{const _=[];for(let k=0;k<C.length;k++){const R=C[k],L=R.name.toLowerCase();(L.endsWith(".pdf")||L.endsWith(".ppt")||L.endsWith(".pptx"))&&_.push(R)}if(_.length===0){alert(" Please upload PDF or PowerPoint files only");return}a(!0);const D=[];for(const k of _){f(k.name);let R="";k.name.toLowerCase().endsWith(".pdf")?R=await A(k):R=await x(k);const L=v(R,k.name);D.push(L)}o(D),a(!1),d("preview")},E=C=>{o(_=>_.map((D,k)=>k===C?{...D,status:D.status==="approved"?"pending":"approved"}:D))},j=()=>{o(C=>C.map(_=>({..._,status:"approved"})))},T=()=>{const C=r.filter(L=>L.status==="approved");if(C.length===0){alert(" No startups approved. Please approve at least one.");return}const _=localStorage.getItem("uploadedStartups"),D=_?JSON.parse(_):[],k=C.map((L,q)=>({id:Date.now()+q,name:L.name,tagline:L.tagline,pitch:L.pitch,description:L.pitch,marketSize:L.marketSize||"TBD",unique:L.solution||"TBD",raise:L.investmentAmount||"TBD",stage:1,yesVotes:0,noVotes:0,hotness:0,answersCount:0,industries:L.industries,fivePoints:[L.problem||"Problem statement",L.solution||"Solution description",L.marketSize||"Market size",L.teamCompanies||"Team background",L.investmentAmount||"Investment amount"],extractedFrom:L.extractedFrom,uploadedAt:new Date().toISOString()})),R=[...D,...k];localStorage.setItem("uploadedStartups",JSON.stringify(R)),alert(` Successfully extracted and saved ${C.length} startups from documents!`),d("complete")};return m()?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("button",{onClick:()=>s("/dashboard"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" Back to Dashboard"}),c.jsx("button",{onClick:()=>s("/admin/bulk-upload"),className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" CSV Upload Instead"})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent mb-2",children:"Document Scanner Upload"}),c.jsx("p",{className:"text-lg text-gray-700",children:"Upload pitch decks & documents  AI extracts startup data automatically"})]}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${u==="upload"?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:"1. Upload Docs"}),c.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${u==="preview"?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:"2. Review"}),c.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${u==="complete"?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:"3. Complete"})]})}),u==="upload"&&c.jsxs("div",{children:[c.jsx("div",{className:`border-4 border-dashed rounded-2xl p-16 text-center transition-all ${t?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"} ${i?"opacity-50":""}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:y,children:i?c.jsxs("div",{children:[c.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Scanning Document..."}),c.jsx("p",{className:"text-gray-600",children:"Extracting startup information with AI"}),c.jsx("p",{className:"text-blue-600 font-semibold mt-4",children:h})]}):c.jsxs("div",{children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Drag & Drop PDF or PowerPoint Files"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"or click to browse"}),c.jsx("input",{ref:e,type:"file",accept:".pdf,.ppt,.pptx",multiple:!0,onChange:b,className:"hidden"}),c.jsx("button",{onClick:()=>{var C;return(C=e.current)==null?void 0:C.click()},className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold rounded-2xl transition-all",children:"Choose Files"})]})}),c.jsxs("div",{className:"mt-8 grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-xl p-6",children:[c.jsx("h4",{className:"font-bold text-blue-700 mb-3",children:" Supported Documents:"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[c.jsx("li",{children:" PDF pitch decks"}),c.jsx("li",{children:" PowerPoint presentations (.ppt, .pptx)"}),c.jsx("li",{children:" Executive summaries"}),c.jsx("li",{children:" Business plans"}),c.jsx("li",{children:" Multiple files at once"})]})]}),c.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-xl p-6",children:[c.jsx("h4",{className:"font-bold text-purple-700 mb-3",children:" AI Extraction:"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[c.jsx("li",{children:" Automatically finds startup name"}),c.jsx("li",{children:" Extracts problem & solution"}),c.jsx("li",{children:" Identifies market size"}),c.jsx("li",{children:" Captures team background"}),c.jsx("li",{children:" Detects funding amount"})]})]})]})]}),u==="preview"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Extracted ",r.length," Startups"]}),c.jsxs("p",{className:"text-gray-600",children:[r.filter(C=>C.status==="approved").length," approved"]})]}),c.jsx("button",{onClick:j,className:"px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors",children:" Approve All"})]}),c.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:r.map((C,_)=>{var D;return c.jsx("div",{className:`border-2 rounded-xl p-6 transition-all ${C.status==="approved"?"border-green-500 bg-green-50":"border-gray-300 bg-white"}`,children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h4",{className:"text-xl font-bold text-gray-800",children:C.name}),c.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:[" ",C.extractedFrom]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.tagline}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-700",children:"Problem:"}),c.jsx("p",{className:"text-gray-600",children:C.problem})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-700",children:"Solution:"}),c.jsx("p",{className:"text-gray-600",children:C.solution})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-700",children:"Market:"}),c.jsx("p",{className:"text-gray-600",children:C.marketSize})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-700",children:"Raising:"}),c.jsx("p",{className:"text-gray-600",children:C.investmentAmount})]})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"Industries: "}),(D=C.industries)==null?void 0:D.map(k=>c.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full mr-2",children:k},k))]})]}),c.jsx("button",{onClick:()=>E(_),className:`px-4 py-2 rounded-lg font-semibold ml-4 transition-colors ${C.status==="approved"?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:C.status==="approved"?" Approved":"Approve"})]})},_)})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>{d("upload"),o([])},className:"flex-1 bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-2xl hover:bg-gray-400 transition-all",children:" Upload Different Files"}),c.jsxs("button",{onClick:T,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:[" Save ",r.filter(C=>C.status==="approved").length," Startups"]})]})]}),u==="complete"&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-8xl mb-6",children:""}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Documents Processed!"}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Startup data extracted and saved to database"}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:()=>{d("upload"),o([])},className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold rounded-2xl transition-all",children:"Upload More Documents"}),c.jsx("button",{onClick:()=>s("/vote"),className:"px-8 py-3 bg-white border-2 border-blue-500 text-blue-600 font-bold rounded-2xl hover:bg-blue-50 transition-all",children:"View Startups"})]})]})]})]})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center max-w-2xl",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Admin Access Required"}),c.jsx("button",{onClick:()=>s("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Go Home"})]})})}function cL(){const s=Ns(),[e,t]=M.useState(null),[n,i]=M.useState(!0);M.useEffect(()=>{a()},[]);const a=()=>{i(!0);const h=localStorage.getItem("uploadedStartups"),f=h?JSON.parse(h):[];if(f.length===0){t(null),i(!1);return}const m={totalStartups:f.length,totalVotes:0,industries:{},stages:{},fundingRanges:{},avgHotness:0,topPerformers:[],commonProblems:[],commonSolutions:[],teamBackgrounds:{},votingPatterns:{avgYesRate:0,avgNoRate:0,mostControversial:[]},timelineData:{uploadsPerDay:{},votesPerDay:{}}};let p=0,y=0,b=0;const A=[],x=[];f.forEach(v=>{v.industries&&Array.isArray(v.industries)?v.industries.forEach(_=>{m.industries[_]=(m.industries[_]||0)+1}):v.industry&&(m.industries[v.industry]=(m.industries[v.industry]||0)+1);const w=v.stage===1?"Pre-Seed/Seed":v.stage===2?"Series A":"Series B+";m.stages[w]=(m.stages[w]||0)+1;const E=v.funding||v.raise||"Unknown",j=r(E);m.fundingRanges[j]=(m.fundingRanges[j]||0)+1;const T=v.yesVotes||0,C=v.noVotes||0;if(y+=T,b+=C,m.totalVotes+=T+C,p+=v.hotness||0,v.fivePoints&&Array.isArray(v.fivePoints)){if(v.fivePoints[0]){const _=v.fivePoints[0].trim();_.length>20&&!_.toLowerCase().includes("solving a major")&&!_.toLowerCase().includes("innovative")&&A.push(_)}if(v.fivePoints[1]){const _=v.fivePoints[1].trim();_.length>20&&!_.toLowerCase().includes("technology solution")&&!_.toLowerCase().includes("innovative")&&x.push(_)}v.fivePoints[3]&&d(v.fivePoints[3],m.teamBackgrounds)}}),m.avgHotness=f.length>0?p/f.length:0,m.votingPatterns.avgYesRate=m.totalVotes>0?y/m.totalVotes*100:0,m.votingPatterns.avgNoRate=m.totalVotes>0?b/m.totalVotes*100:0,m.topPerformers=f.sort((v,w)=>(w.hotness||0)-(v.hotness||0)).slice(0,10),m.votingPatterns.mostControversial=f.filter(v=>(v.yesVotes||0)>0&&(v.noVotes||0)>0).map(v=>({...v,controversy:Math.abs((v.yesVotes||0)-(v.noVotes||0))/((v.yesVotes||0)+(v.noVotes||0))})).sort((v,w)=>v.controversy-w.controversy).slice(0,5),m.commonProblems=o(A),m.commonSolutions=u(x),t(m),i(!1)},r=h=>{var p;const f=h.toLowerCase();if(f.includes("pre-seed")||f.includes("preseed"))return"Pre-Seed (<$500K)";if(f.includes("seed"))return"Seed ($500K-$2M)";if(f.includes("series a")||f.includes("$2m")||f.includes("$3m")||f.includes("$5m"))return"Series A ($2M-$15M)";if(f.includes("series b"))return"Series B ($15M-$50M)";if(f.includes("series c"))return"Series C+ ($50M+)";const m=f.match(/\$(\d+(?:\.\d+)?)\s*([kmb])?/i);if(m){let y=parseFloat(m[1]);const b=(p=m[2])==null?void 0:p.toLowerCase();return b==="k"&&(y*=1e3),b==="m"&&(y*=1e6),b==="b"&&(y*=1e9),y<5e5?"Pre-Seed (<$500K)":y<2e6?"Seed ($500K-$2M)":y<15e6?"Series A ($2M-$15M)":y<5e7?"Series B ($15M-$50M)":"Series C+ ($50M+)"}return"Unknown"},o=h=>{if(h.length===0)return[];const f={"Healthcare & Medical":["health","medical","patient","hospital","doctor","disease","treatment","diagnosis","care","wellness","pharmacy","medicine"],"Financial Services":["financial","payment","bank","money","credit","loan","investment","transaction","fintech","expense","budget","revenue"],"E-commerce & Retail":["shopping","retail","e-commerce","purchase","product","customer","seller","marketplace","delivery","order"],"Education & Learning":["education","learning","student","teacher","school","training","course","skill","classroom"],"Supply Chain & Logistics":["supply","logistics","shipping","delivery","warehouse","inventory","freight","transportation"],"HR & Recruiting":["hiring","recruit","employee","talent","hr","workforce","job","resume","candidate"],"Real Estate & Property":["real estate","property","housing","rent","lease","apartment","commercial","building"],"Marketing & Advertising":["marketing","advertising","campaign","brand","social media","content","engagement"],"Productivity & Workflow":["productivity","workflow","efficiency","process","automation","collaboration","task","project"],"Data & Analytics":["data","analytics","insights","reporting","metrics","dashboard","intelligence"],"Security & Compliance":["security","compliance","privacy","fraud","risk","audit","regulation"],"Communication & Collaboration":["communication","collaboration","team","meeting","messaging","chat","video"]},m={};return h.forEach(p=>{const y=p.toLowerCase();Object.entries(f).forEach(([b,A])=>{A.some(x=>y.includes(x))&&(m[b]||(m[b]={count:0,examples:[]}),m[b].count++,m[b].examples.length<2&&m[b].examples.push(p))})}),Object.entries(m).sort(([,p],[,y])=>y.count-p.count).slice(0,5).map(([p,y])=>{var A;const b=((A=y.examples[0])==null?void 0:A.substring(0,150))||"";return`${p} (${y.count} startup${y.count>1?"s":""}) - ${b}${b.length>=150?"...":""}`})},u=h=>{if(h.length===0)return[];const f={"AI & Machine Learning":["ai","artificial intelligence","machine learning","ml","neural","algorithm","predictive","automation"],"SaaS Platform":["platform","saas","software","cloud","dashboard","portal","app","application"],"Marketplace Model":["marketplace","connect","match","network","community","peer-to-peer","platform"],"Mobile App":["mobile","ios","android","smartphone","device","app"],"API & Integration":["api","integration","connect","sync","plugin","webhook"],"Blockchain & Web3":["blockchain","crypto","web3","decentralized","smart contract","nft"],"Hardware & IoT":["hardware","device","sensor","iot","wearable","physical"],"Analytics & Insights":["analytics","insights","data","reporting","visualization","metrics"],"Automation & Workflow":["automate","workflow","streamline","process","efficiency"],"Personalization & AI":["personalized","custom","tailored","recommendation","adaptive"]},m={};return h.forEach(p=>{const y=p.toLowerCase();Object.entries(f).forEach(([b,A])=>{A.some(x=>y.includes(x))&&(m[b]||(m[b]={count:0,examples:[]}),m[b].count++,m[b].examples.length<2&&m[b].examples.push(p))})}),Object.entries(m).sort(([,p],[,y])=>y.count-p.count).slice(0,5).map(([p,y])=>{var A;const b=((A=y.examples[0])==null?void 0:A.substring(0,150))||"";return`${p} (${y.count} startup${y.count>1?"s":""}) - ${b}${b.length>=150?"...":""}`})},d=(h,f)=>{(h.match(/\b[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*\b/g)||[]).forEach(p=>{p.length>2&&!["Team","Founder","CEO","CTO"].includes(p)&&(f[p]=(f[p]||0)+1)})};return n?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-2xl font-bold",children:" Analyzing data..."})}):e?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("button",{onClick:()=>s("/"),className:"bg-white/20 hover:bg-white/30 text-white font-bold py-2 px-4 rounded-lg",children:" Back"}),c.jsx("button",{onClick:a,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:" Refresh Data"})]}),c.jsx("h1",{className:"text-5xl font-black text-white mb-8 text-center",children:" Startup Intelligence Dashboard"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-purple-400",children:[c.jsx("div",{className:"text-purple-200 text-sm font-bold mb-2",children:"Total Startups"}),c.jsx("div",{className:"text-4xl font-black text-white",children:e.totalStartups})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-orange-400",children:[c.jsx("div",{className:"text-orange-200 text-sm font-bold mb-2",children:"Total Votes"}),c.jsx("div",{className:"text-4xl font-black text-white",children:e.totalVotes})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-green-400",children:[c.jsx("div",{className:"text-green-200 text-sm font-bold mb-2",children:"Avg Hotness"}),c.jsxs("div",{className:"text-4xl font-black text-white",children:[e.avgHotness.toFixed(1),""]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-blue-400",children:[c.jsx("div",{className:"text-blue-200 text-sm font-bold mb-2",children:"Yes Rate"}),c.jsxs("div",{className:"text-4xl font-black text-white",children:[e.votingPatterns.avgYesRate.toFixed(1),"%"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-purple-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:" Industry Trends"}),c.jsx("div",{className:"space-y-3",children:Object.entries(e.industries).sort(([,h],[,f])=>f-h).slice(0,8).map(([h,f])=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-white font-bold mb-1",children:[c.jsx("span",{children:h}),c.jsx("span",{children:f})]}),c.jsx("div",{className:"w-full bg-purple-700 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-500 h-2 rounded-full",style:{width:`${f/e.totalStartups*100}%`}})})]},h))})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-orange-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:" Funding Stages"}),c.jsx("div",{className:"space-y-3",children:Object.entries(e.stages).sort(([,h],[,f])=>f-h).map(([h,f])=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-white font-bold mb-1",children:[c.jsx("span",{children:h}),c.jsx("span",{children:f})]}),c.jsx("div",{className:"w-full bg-orange-700 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 h-2 rounded-full",style:{width:`${f/e.totalStartups*100}%`}})})]},h))})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-green-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:" Funding Ranges"}),c.jsx("div",{className:"space-y-3",children:Object.entries(e.fundingRanges).sort(([,h],[,f])=>f-h).map(([h,f])=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-white font-bold mb-1",children:[c.jsx("span",{children:h}),c.jsx("span",{children:f})]}),c.jsx("div",{className:"w-full bg-green-700 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 h-2 rounded-full",style:{width:`${f/e.totalStartups*100}%`}})})]},h))})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-blue-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:" Common Team Backgrounds"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.teamBackgrounds).sort(([,h],[,f])=>f-h).slice(0,15).map(([h,f])=>c.jsxs("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[h," (",f,")"]},h))})]})]}),c.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-red-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:" Top 5 Problem Areas"}),c.jsx("p",{className:"text-red-200 text-sm mb-4",children:"Market problems startups are solving (weighted by frequency)"}),e.commonProblems.length>0?c.jsx("div",{className:"space-y-4",children:e.commonProblems.map((h,f)=>{const m=h.match(/^(.+?)\s+\((\d+)\s+startup[s]?\)\s+-\s+(.+)$/),p=m?m[1]:h,y=m?m[2]:"0",b=m?m[3]:"";return c.jsxs("div",{className:"bg-red-500/20 rounded-xl p-5 border-l-4 border-red-500",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-red-300 font-black text-lg",children:["#",f+1," ",p]}),c.jsxs("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[y," startup",y!=="1"?"s":""]})]}),b&&c.jsxs("p",{className:"text-white text-sm leading-relaxed italic",children:['Example: "',b,'"']})]},f)})}):c.jsx("p",{className:"text-red-200 text-sm italic",children:"No problem statements captured yet. Upload startups with detailed pitch decks."})]}),c.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-yellow-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:" Top 5 Solution Approaches"}),c.jsx("p",{className:"text-yellow-200 text-sm mb-4",children:"How startups are solving problems (weighted by frequency)"}),e.commonSolutions.length>0?c.jsx("div",{className:"space-y-4",children:e.commonSolutions.map((h,f)=>{const m=h.match(/^(.+?)\s+\((\d+)\s+startup[s]?\)\s+-\s+(.+)$/),p=m?m[1]:h,y=m?m[2]:"0",b=m?m[3]:"";return c.jsxs("div",{className:"bg-yellow-500/20 rounded-xl p-5 border-l-4 border-yellow-500",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-yellow-300 font-black text-lg",children:["#",f+1," ",p]}),c.jsxs("span",{className:"bg-yellow-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[y," startup",y!=="1"?"s":""]})]}),b&&c.jsxs("p",{className:"text-white text-sm leading-relaxed italic",children:['Example: "',b,'"']})]},f)})}):c.jsx("p",{className:"text-yellow-200 text-sm italic",children:"No solution statements captured yet. Upload startups with detailed pitch decks."})]}),c.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-pink-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:" Top Performers"}),c.jsx("div",{className:"space-y-3",children:e.topPerformers.slice(0,5).map((h,f)=>c.jsxs("div",{className:"bg-pink-500/20 rounded-xl p-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-3xl font-black text-white",children:["#",f+1]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:h.name}),c.jsx("p",{className:"text-pink-200 text-sm",children:h.pitch})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-2xl font-black text-white",children:[h.hotness||0,""]}),c.jsxs("div",{className:"text-pink-200 text-xs",children:[" ",h.yesVotes||0," |  ",h.noVotes||0]})]})]},h.id))})]}),e.votingPatterns.mostControversial.length>0&&c.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-gray-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:" Most Controversial (Split Decisions)"}),c.jsx("div",{className:"space-y-3",children:e.votingPatterns.mostControversial.map(h=>c.jsxs("div",{className:"bg-gray-500/20 rounded-xl p-4",children:[c.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:h.name}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsxs("span",{className:"text-green-400 font-bold",children:[" Yes: ",h.yesVotes||0]}),c.jsxs("span",{className:"text-red-400 font-bold",children:[" No: ",h.noVotes||0]})]}),c.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-3 flex overflow-hidden",children:[c.jsx("div",{className:"bg-green-500",style:{width:`${(h.yesVotes||0)/((h.yesVotes||0)+(h.noVotes||0))*100}%`}}),c.jsx("div",{className:"bg-red-500",style:{width:`${(h.noVotes||0)/((h.yesVotes||0)+(h.noVotes||0))*100}%`}})]})]})})]},h.id))})]})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("button",{onClick:()=>s("/"),className:"mb-6 bg-white/20 hover:bg-white/30 text-white font-bold py-2 px-4 rounded-lg",children:" Back"}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-12 text-center border-2 border-purple-400",children:[c.jsx("h1",{className:"text-4xl font-black text-white mb-4",children:" No Data Yet"}),c.jsx("p",{className:"text-purple-200 text-lg mb-6",children:"Upload some startups to see analytics and intelligence"}),c.jsx("button",{onClick:()=>s("/submit"),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-xl",children:"Upload Startups"})]})]})})}function uL(){const s=Ns(),[e,t]=M.useState({email:"",password:""}),[n,i]=M.useState(""),a=o=>{t({...e,[o.target.name]:o.target.value})},r=o=>{o.preventDefault(),i("");const u=localStorage.getItem("userProfile");if(!u){i("No account found with this email. Please sign up first.");return}const d=JSON.parse(u);d.email.toLowerCase()===e.email.toLowerCase()?(localStorage.setItem("isLoggedIn","true"),alert(`Welcome back, ${d.name}! `),d.userType==="investor"?s("/dashboard"):s("/submit")):i("Invalid email or password. Please try again.")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:" Home"})}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-8xl mb-4 animate-pulse",children:""}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"Welcome Back!"}),c.jsx("p",{className:"text-xl text-white font-bold drop-shadow-lg",children:"Log in to Hot Honey"})]}),c.jsx("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-8 shadow-2xl",children:c.jsxs("div",{className:"bg-white/90 rounded-2xl p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-6 text-center",children:" Log In"}),n&&c.jsx("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-xl mb-6",children:n}),c.jsxs("form",{onSubmit:r,className:"space-y-6",autoComplete:"off",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address"}),c.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:a,placeholder:"your@email.com",required:!0,autoComplete:"off",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-700 mb-2",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:a,placeholder:"Enter your password",required:!0,autoComplete:"new-password",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),c.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-6 rounded-2xl shadow-lg transition-all text-lg",children:"Log In "})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",c.jsx(K,{to:"/signup",className:"text-orange-600 font-bold hover:text-orange-700 hover:underline",children:"Sign Up"})]})}),c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{onClick:()=>alert("Password reset feature coming soon! For now, please contact support."),className:"text-sm text-gray-500 hover:text-gray-700 hover:underline",children:"Forgot password?"})})]})}),c.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-2xl p-6 text-white",children:[c.jsx("h3",{className:"font-bold text-lg mb-4",children:"What you get with Hot Honey:"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:" Vote on hot startups"}),c.jsx("li",{children:" Build your investment portfolio"}),c.jsx("li",{children:" Filter by your favorite industries"}),c.jsx("li",{children:" Share your picks with other investors"}),c.jsx("li",{children:" Discover the next big thing"})]})]})]})})}function F1({forceOpen:s=!1,onClose:e}={}){const[t,n]=M.useState(!1);M.useEffect(()=>{s?n(!0):localStorage.getItem("hmh_acknowledged")||n(!0)},[s]);const i=()=>{localStorage.setItem("hmh_acknowledged","true"),n(!1),e&&e()},a=()=>{n(!1),e&&e()};return t?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:c.jsx("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-3xl p-1 shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"bg-white rounded-3xl p-8",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"text-7xl mb-4 animate-bounce",children:""}),c.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2",children:"Welcome to Hot Honey!"}),c.jsx("p",{className:"text-xl text-orange-600 font-semibold",children:"Get Them While They're Hot."})]}),c.jsxs("div",{className:"bg-orange-50 rounded-2xl p-6 mb-6",children:[c.jsx("h3",{className:"text-2xl font-bold text-orange-600 mb-4",children:" How It Works"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:" For Investors:"}),c.jsx("p",{className:"text-sm text-gray-700 mb-3 leading-relaxed",children:"Hot Honey helps identify quality investment candidates faster and with more precision. The Hot Money Process enables quick discovery without all the overhead and utilizes crowd and market intelligence to identify the winners."}),c.jsxs("div",{className:"bg-white rounded-xl p-4 mb-3 border-2 border-orange-300",children:[c.jsx("h5",{className:"font-bold text-orange-700 mb-2 flex items-center gap-2",children:" Our 5-Point StartupCard Format"}),c.jsxs("p",{className:"text-xs text-gray-700 mb-2",children:["Each startup is distilled into ",c.jsx("strong",{children:"5 key data points"})," for quick, informed decisions:"]}),c.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs text-gray-700",children:[c.jsxs("div",{children:["1 ",c.jsx("strong",{children:"Problem"})," - What pain point is solved?"]}),c.jsxs("div",{children:["2 ",c.jsx("strong",{children:"Solution"})," - How does the startup solve it?"]}),c.jsxs("div",{children:["3 ",c.jsx("strong",{children:"Market Size"})," - What's the opportunity?"]}),c.jsxs("div",{children:["4 ",c.jsx("strong",{children:"Team Companies"})," - Where have founders worked?"]}),c.jsxs("div",{children:[" ",c.jsx("strong",{children:"Investment Amount"})," - How much are they raising?"]})]})]}),c.jsxs("div",{className:"bg-purple-100 rounded-xl p-4 mb-3 border-2 border-purple-300",children:[c.jsx("h5",{className:"font-bold text-purple-700 mb-2 flex items-center gap-2",children:" You're Incognito Until Stage 3"}),c.jsxs("p",{className:"text-xs text-gray-700",children:[c.jsx("strong",{children:"Browse and vote anonymously."})," Your identity stays hidden until you reach Stage 3 (Reveal) and choose to disclose yourself for meetings. Enjoy unbiased review with complete privacy!"]})]}),c.jsxs("ul",{className:"space-y-2 text-gray-700 text-sm",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"font-medium",children:"Browse hot startup deals from the best founders"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"font-medium",children:"Vote YES or NO on startups that interest you"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"font-medium",children:"Click the honeypot to reveal secret traction data"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"font-medium",children:"Track your hot picks on your personal dashboard"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:" For Startups:"}),c.jsxs("p",{className:"text-sm text-gray-700 mb-3 leading-relaxed",children:[c.jsx("strong",{children:"Connect with investors faster and build syndicates through the Hot Honey discovery process."})," Our gamified approach helps you fine-tune your pitch and attract more interested investors than traditional platforms."]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 mb-3 border-2 border-green-300",children:[c.jsx("h5",{className:"font-bold text-green-700 mb-2 flex items-center gap-2",children:" Game Play & Information Development"}),c.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"Information is revealed progressively as investor interest grows. This unique approach allows you to:"}),c.jsxs("ul",{className:"space-y-1 text-xs text-gray-700",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Fine-tune your pitch"})," based on real-time investor engagement"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Get noticed"})," through a process of strategic information reveal"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Build momentum"})," as votes unlock new visibility stages"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Improve your value proposition"})," with direct market feedback"]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 mb-3 border-2 border-blue-300",children:[c.jsx("h5",{className:"font-bold text-blue-700 mb-2 flex items-center gap-2",children:" Build Investor Syndicates"}),c.jsxs("p",{className:"text-xs text-gray-700",children:["As your startup gains traction, you'll attract groups of investors who can form syndicates. This helps you ",c.jsx("strong",{children:"reach funding goals faster"})," and build a stronger investor network than traditional one-on-one approaches."]})]}),c.jsxs("ul",{className:"space-y-2 text-gray-700 text-sm",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"font-medium",children:"Submit your startup for investor review"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"font-medium",children:"Progress through stages as you get more votes"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"font-medium",children:"Connect with interested investors directly"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{className:"font-medium",children:"Receive feedback and build traction"})]})]})]})]}),c.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-2xl p-6 mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-red-700 mb-3 flex items-center gap-2",children:" Investment Risk Disclosure"}),c.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:[c.jsx("strong",{children:"Investing in early-stage startups is highly risky."})," You may lose all of your investment. Only invest what you can afford to lose. Past performance is not indicative of future results."]}),c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"By using Hot Honey, you acknowledge that you understand these risks and are making your own investment decisions. We are not financial advisors. Always do your own research and consult with licensed professionals."})]}),c.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-2xl p-4 mb-6",children:c.jsx("p",{className:"text-sm text-gray-700 font-semibold text-center",children:" You must be 18 years or older to use this platform"})}),c.jsxs("div",{className:"flex justify-center gap-6 mb-6 text-sm",children:[c.jsx(K,{to:"/privacy",className:"text-orange-600 hover:text-orange-700 font-semibold underline",children:"Privacy Policy"}),c.jsx(K,{to:"/about",className:"text-orange-600 hover:text-orange-700 font-semibold underline",children:"About Us"})]}),c.jsx("button",{onClick:s?a:i,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-6 rounded-2xl shadow-lg transition-all text-lg",children:s?" Got It!":" I Agree - I'm 18+ and Understand the Risks"}),!s&&c.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:'By clicking "I Agree", you confirm you are at least 18 years old and accept the terms above.'})]})})}):null}const dL=()=>{const[s,e]=M.useState(!1);return c.jsxs("div",{className:"min-h-screen",children:[c.jsx(F1,{}),s&&c.jsx(F1,{forceOpen:!0,onClose:()=>e(!1)}),c.jsx("main",{children:c.jsxs(ak,{children:[c.jsx(tt,{path:"/",element:c.jsx(I1,{})}),c.jsx(tt,{path:"/home",element:c.jsx(I1,{})}),c.jsx(tt,{path:"/signup",element:c.jsx(J3,{})}),c.jsx(tt,{path:"/login",element:c.jsx(uL,{})}),c.jsx(tt,{path:"/vote",element:c.jsx(Fk,{})}),c.jsx(tt,{path:"/vote-demo",element:c.jsx(Z3,{})}),c.jsx(tt,{path:"/investors",element:c.jsx(c1,{})})," ",c.jsx(tt,{path:"/portfolio",element:c.jsx(c1,{})})," ",c.jsx(tt,{path:"/submit",element:c.jsx(B3,{})}),c.jsx(tt,{path:"/startup/:id",element:c.jsx(q3,{})}),c.jsx(tt,{path:"/deals",element:c.jsx(X3,{})}),c.jsx(tt,{path:"/startups",element:c.jsx(W3,{})})," ",c.jsx(tt,{path:"/dashboard",element:c.jsx(Q3,{})})," ",c.jsx(tt,{path:"/about",element:c.jsx(eL,{})}),c.jsx(tt,{path:"/privacy",element:c.jsx(tL,{})}),c.jsx(tt,{path:"/contact",element:c.jsx(sL,{})}),c.jsx(tt,{path:"/settings",element:c.jsx(nL,{})}),c.jsx(tt,{path:"/shared-portfolio/:shareId",element:c.jsx(aL,{})}),c.jsx(tt,{path:"/admin/bulk-upload",element:c.jsx(rL,{})}),c.jsx(tt,{path:"/admin/bulk-import",element:c.jsx(lL,{})}),c.jsx(tt,{path:"/admin/document-upload",element:c.jsx(oL,{})}),c.jsx(tt,{path:"/analytics",element:c.jsx(cL,{})})]})}),c.jsxs("footer",{className:"bg-gradient-to-r from-purple-900 via-purple-700 to-green-400 text-center text-sm py-4",children:[c.jsxs("div",{className:"flex justify-center items-center gap-6 mb-2",children:[c.jsx("button",{onClick:()=>e(!0),className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline cursor-pointer bg-transparent border-none",children:" How It Works"}),c.jsx("span",{className:"text-purple-300",children:""}),c.jsx(K,{to:"/about",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"About Us"}),c.jsx("span",{className:"text-purple-300",children:""}),c.jsx(K,{to:"/contact",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"Contact Us"}),c.jsx("span",{className:"text-purple-300",children:""}),c.jsx(K,{to:"/privacy",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"Privacy Policy"}),c.jsx("span",{className:"text-purple-300",children:""}),c.jsx(K,{to:"/startups",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"For Startups"})]}),c.jsxs("p",{className:"text-purple-200",children:[" ",new Date().getFullYear()," Hot Honey. All rights reserved."]})]})]})};pD.createRoot(document.getElementById("root")).render(c.jsx(vh.StrictMode,{children:c.jsx(Tk,{children:c.jsx(dL,{})})}));
