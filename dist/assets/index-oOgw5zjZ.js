var nM=Object.defineProperty;var m2=m=>{throw TypeError(m)};var iM=(m,e,t)=>e in m?nM(m,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):m[e]=t;var ae=(m,e,t)=>iM(m,typeof e!="symbol"?e+"":e,t),Qy=(m,e,t)=>e.has(m)||m2("Cannot "+t);var l=(m,e,t)=>(Qy(m,e,"read from private field"),t?t.call(m):e.get(m)),C=(m,e,t)=>e.has(m)?m2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(m):e.set(m,t),w=(m,e,t,n)=>(Qy(m,e,"write to private field"),n?n.call(m,t):e.set(m,t),t),j=(m,e,t)=>(Qy(m,e,"access private method"),t);var Qt=(m,e,t,n)=>({set _(a){w(m,e,a,t)},get _(){return l(m,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function oE(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var Zy={exports:{}},uf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function aM(){if(p2)return uf;p2=1;var m=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:m,type:n,key:c,ref:a!==void 0?a:null,props:o}}return uf.Fragment=e,uf.jsx=t,uf.jsxs=t,uf}var g2;function rM(){return g2||(g2=1,Zy.exports=aM()),Zy.exports}var u=rM(),Jy={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function lM(){if(x2)return je;x2=1;var m=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,_={};function T(P,$,ie){this.props=P,this.context=$,this.refs=_,this.updater=ie||E}T.prototype.isReactComponent={},T.prototype.setState=function(P,$){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,$,"setState")},T.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function R(){}R.prototype=T.prototype;function D(P,$,ie){this.props=P,this.context=$,this.refs=_,this.updater=ie||E}var L=D.prototype=new R;L.constructor=D,A(L,T.prototype),L.isPureReactComponent=!0;var O=Array.isArray;function B(){}var k={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function G(P,$,ie){var re=ie.ref;return{$$typeof:m,type:P,key:$,ref:re!==void 0?re:null,props:ie}}function Q(P,$){return G(P.type,$,P.props)}function K(P){return typeof P=="object"&&P!==null&&P.$$typeof===m}function X(P){var $={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ie){return $[ie]})}var he=/\/+/g;function de(P,$){return typeof P=="object"&&P!==null&&P.key!=null?X(""+P.key):$.toString(36)}function Se(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(B,B):(P.status="pending",P.then(function($){P.status==="pending"&&(P.status="fulfilled",P.value=$)},function($){P.status==="pending"&&(P.status="rejected",P.reason=$)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function H(P,$,ie,re,ve){var Ce=typeof P;(Ce==="undefined"||Ce==="boolean")&&(P=null);var ue=!1;if(P===null)ue=!0;else switch(Ce){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(P.$$typeof){case m:case e:ue=!0;break;case g:return ue=P._init,H(ue(P._payload),$,ie,re,ve)}}if(ue)return ve=ve(P),ue=re===""?"."+de(P,0):re,O(ve)?(ie="",ue!=null&&(ie=ue.replace(he,"$&/")+"/"),H(ve,$,ie,"",function(gi){return gi})):ve!=null&&(K(ve)&&(ve=Q(ve,ie+(ve.key==null||P&&P.key===ve.key?"":(""+ve.key).replace(he,"$&/")+"/")+ue)),$.push(ve)),1;ue=0;var Bt=re===""?".":re+":";if(O(P))for(var xt=0;xt<P.length;xt++)re=P[xt],Ce=Bt+de(re,xt),ue+=H(re,$,ie,Ce,ve);else if(xt=S(P),typeof xt=="function")for(P=xt.call(P),xt=0;!(re=P.next()).done;)re=re.value,Ce=Bt+de(re,xt++),ue+=H(re,$,ie,Ce,ve);else if(Ce==="object"){if(typeof P.then=="function")return H(Se(P),$,ie,re,ve);throw $=String(P),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ue}function J(P,$,ie){if(P==null)return P;var re=[],ve=0;return H(P,re,"","",function(Ce){return $.call(ie,Ce,ve++)}),re}function le(P){if(P._status===-1){var $=P._result;$=$(),$.then(function(ie){(P._status===0||P._status===-1)&&(P._status=1,P._result=ie)},function(ie){(P._status===0||P._status===-1)&&(P._status=2,P._result=ie)}),P._status===-1&&(P._status=0,P._result=$)}if(P._status===1)return P._result.default;throw P._result}var ee=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ce={map:J,forEach:function(P,$,ie){J(P,function(){$.apply(this,arguments)},ie)},count:function(P){var $=0;return J(P,function(){$++}),$},toArray:function(P){return J(P,function($){return $})||[]},only:function(P){if(!K(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return je.Activity=b,je.Children=ce,je.Component=T,je.Fragment=t,je.Profiler=a,je.PureComponent=D,je.StrictMode=n,je.Suspense=f,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,je.__COMPILER_RUNTIME={__proto__:null,c:function(P){return k.H.useMemoCache(P)}},je.cache=function(P){return function(){return P.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(P,$,ie){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var re=A({},P.props),ve=P.key;if($!=null)for(Ce in $.key!==void 0&&(ve=""+$.key),$)!F.call($,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&$.ref===void 0||(re[Ce]=$[Ce]);var Ce=arguments.length-2;if(Ce===1)re.children=ie;else if(1<Ce){for(var ue=Array(Ce),Bt=0;Bt<Ce;Bt++)ue[Bt]=arguments[Bt+2];re.children=ue}return G(P.type,ve,re)},je.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},je.createElement=function(P,$,ie){var re,ve={},Ce=null;if($!=null)for(re in $.key!==void 0&&(Ce=""+$.key),$)F.call($,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=$[re]);var ue=arguments.length-2;if(ue===1)ve.children=ie;else if(1<ue){for(var Bt=Array(ue),xt=0;xt<ue;xt++)Bt[xt]=arguments[xt+2];ve.children=Bt}if(P&&P.defaultProps)for(re in ue=P.defaultProps,ue)ve[re]===void 0&&(ve[re]=ue[re]);return G(P,Ce,ve)},je.createRef=function(){return{current:null}},je.forwardRef=function(P){return{$$typeof:h,render:P}},je.isValidElement=K,je.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:le}},je.memo=function(P,$){return{$$typeof:p,type:P,compare:$===void 0?null:$}},je.startTransition=function(P){var $=k.T,ie={};k.T=ie;try{var re=P(),ve=k.S;ve!==null&&ve(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(B,ee)}catch(Ce){ee(Ce)}finally{$!==null&&ie.types!==null&&($.types=ie.types),k.T=$}},je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},je.use=function(P){return k.H.use(P)},je.useActionState=function(P,$,ie){return k.H.useActionState(P,$,ie)},je.useCallback=function(P,$){return k.H.useCallback(P,$)},je.useContext=function(P){return k.H.useContext(P)},je.useDebugValue=function(){},je.useDeferredValue=function(P,$){return k.H.useDeferredValue(P,$)},je.useEffect=function(P,$){return k.H.useEffect(P,$)},je.useEffectEvent=function(P){return k.H.useEffectEvent(P)},je.useId=function(){return k.H.useId()},je.useImperativeHandle=function(P,$,ie){return k.H.useImperativeHandle(P,$,ie)},je.useInsertionEffect=function(P,$){return k.H.useInsertionEffect(P,$)},je.useLayoutEffect=function(P,$){return k.H.useLayoutEffect(P,$)},je.useMemo=function(P,$){return k.H.useMemo(P,$)},je.useOptimistic=function(P,$){return k.H.useOptimistic(P,$)},je.useReducer=function(P,$,ie){return k.H.useReducer(P,$,ie)},je.useRef=function(P){return k.H.useRef(P)},je.useState=function(P){return k.H.useState(P)},je.useSyncExternalStore=function(P,$,ie){return k.H.useSyncExternalStore(P,$,ie)},je.useTransition=function(){return k.H.useTransition()},je.version="19.2.0",je}var b2;function qw(){return b2||(b2=1,Jy.exports=lM()),Jy.exports}var U=qw();const bf=oE(U);var ev={exports:{}},df={},tv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function oM(){return y2||(y2=1,(function(m){function e(H,J){var le=H.length;H.push(J);e:for(;0<le;){var ee=le-1>>>1,ce=H[ee];if(0<a(ce,J))H[ee]=J,H[le]=ce,le=ee;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var J=H[0],le=H.pop();if(le!==J){H[0]=le;e:for(var ee=0,ce=H.length,P=ce>>>1;ee<P;){var $=2*(ee+1)-1,ie=H[$],re=$+1,ve=H[re];if(0>a(ie,le))re<ce&&0>a(ve,ie)?(H[ee]=ve,H[re]=le,ee=re):(H[ee]=ie,H[$]=le,ee=$);else if(re<ce&&0>a(ve,le))H[ee]=ve,H[re]=le,ee=re;else break e}}return J}function a(H,J){var le=H.sortIndex-J.sortIndex;return le!==0?le:H.id-J.id}if(m.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;m.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();m.unstable_now=function(){return c.now()-h}}var f=[],p=[],g=1,b=null,v=3,S=!1,E=!1,A=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(H){for(var J=t(p);J!==null;){if(J.callback===null)n(p);else if(J.startTime<=H)n(p),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(p)}}function O(H){if(A=!1,L(H),!E)if(t(f)!==null)E=!0,B||(B=!0,X());else{var J=t(p);J!==null&&Se(O,J.startTime-H)}}var B=!1,k=-1,F=5,G=-1;function Q(){return _?!0:!(m.unstable_now()-G<F)}function K(){if(_=!1,B){var H=m.unstable_now();G=H;var J=!0;try{e:{E=!1,A&&(A=!1,R(k),k=-1),S=!0;var le=v;try{t:{for(L(H),b=t(f);b!==null&&!(b.expirationTime>H&&Q());){var ee=b.callback;if(typeof ee=="function"){b.callback=null,v=b.priorityLevel;var ce=ee(b.expirationTime<=H);if(H=m.unstable_now(),typeof ce=="function"){b.callback=ce,L(H),J=!0;break t}b===t(f)&&n(f),L(H)}else n(f);b=t(f)}if(b!==null)J=!0;else{var P=t(p);P!==null&&Se(O,P.startTime-H),J=!1}}break e}finally{b=null,v=le,S=!1}J=void 0}}finally{J?X():B=!1}}}var X;if(typeof D=="function")X=function(){D(K)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,de=he.port2;he.port1.onmessage=K,X=function(){de.postMessage(null)}}else X=function(){T(K,0)};function Se(H,J){k=T(function(){H(m.unstable_now())},J)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(H){H.callback=null},m.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<H?Math.floor(1e3/H):5},m.unstable_getCurrentPriorityLevel=function(){return v},m.unstable_next=function(H){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var le=v;v=J;try{return H()}finally{v=le}},m.unstable_requestPaint=function(){_=!0},m.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=v;v=H;try{return J()}finally{v=le}},m.unstable_scheduleCallback=function(H,J,le){var ee=m.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ee+le:ee):le=ee,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=le+ce,H={id:g++,callback:J,priorityLevel:H,startTime:le,expirationTime:ce,sortIndex:-1},le>ee?(H.sortIndex=le,e(p,H),t(f)===null&&H===t(p)&&(A?(R(k),k=-1):A=!0,Se(O,le-ee))):(H.sortIndex=ce,e(f,H),E||S||(E=!0,B||(B=!0,X()))),H},m.unstable_shouldYield=Q,m.unstable_wrapCallback=function(H){var J=v;return function(){var le=v;v=J;try{return H.apply(this,arguments)}finally{v=le}}}})(sv)),sv}var v2;function cM(){return v2||(v2=1,tv.exports=oM()),tv.exports}var nv={exports:{}},js={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function uM(){if(w2)return js;w2=1;var m=qw();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,p,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:g}}var c=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return js.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,js.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(f,p,null,g)},js.flushSync=function(f){var p=c.T,g=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=p,n.p=g,n.d.f()}},js.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(f,p))},js.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},js.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,b=h(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?n.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:S}):g==="script"&&n.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},js.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);n.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(f)},js.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,b=h(g,p.crossOrigin);n.d.L(f,g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},js.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=h(p.as,p.crossOrigin);n.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(f)},js.requestFormReset=function(f){n.d.r(f)},js.unstable_batchedUpdates=function(f,p){return f(p)},js.useFormState=function(f,p,g){return c.H.useFormState(f,p,g)},js.useFormStatus=function(){return c.H.useHostTransitionStatus()},js.version="19.2.0",js}var S2;function dM(){if(S2)return nv.exports;S2=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(e){console.error(e)}}return m(),nv.exports=uM(),nv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function hM(){if(A2)return df;A2=1;var m=cM(),e=qw(),t=dM();function n(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var i=s,r=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(r=i.return),s=i.return;while(s)}return i.tag===3?r:null}function c(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(n(188))}function p(s){var i=s.alternate;if(!i){if(i=o(s),i===null)throw Error(n(188));return i!==s?null:s}for(var r=s,d=i;;){var x=r.return;if(x===null)break;var y=x.alternate;if(y===null){if(d=x.return,d!==null){r=d;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===r)return f(x),s;if(y===d)return f(x),i;y=y.sibling}throw Error(n(188))}if(r.return!==d.return)r=x,d=y;else{for(var N=!1,M=x.child;M;){if(M===r){N=!0,r=x,d=y;break}if(M===d){N=!0,d=x,r=y;break}M=M.sibling}if(!N){for(M=y.child;M;){if(M===r){N=!0,r=y,d=x;break}if(M===d){N=!0,d=y,r=x;break}M=M.sibling}if(!N)throw Error(n(189))}}if(r.alternate!==d)throw Error(n(190))}if(r.tag!==3)throw Error(n(188));return r.stateNode.current===r?s:i}function g(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=g(s),i!==null)return i;s=s.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var he=Symbol.for("react.client.reference");function de(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===he?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case T:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case B:return"SuspenseList";case G:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case D:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case L:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return i=s.displayName||null,i!==null?i:de(s.type)||"Memo";case F:i=s._payload,s=s._init;try{return de(s(i))}catch{}}return null}var Se=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ee=[],ce=-1;function P(s){return{current:s}}function $(s){0>ce||(s.current=ee[ce],ee[ce]=null,ce--)}function ie(s,i){ce++,ee[ce]=s.current,s.current=i}var re=P(null),ve=P(null),Ce=P(null),ue=P(null);function Bt(s,i){switch(ie(Ce,i),ie(ve,s),ie(re,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?BN(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=BN(i),s=IN(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}$(re),ie(re,s)}function xt(){$(re),$(ve),$(Ce)}function gi(s){s.memoizedState!==null&&ie(ue,s);var i=re.current,r=IN(i,s.type);i!==r&&(ie(ve,s),ie(re,r))}function Hn(s){ve.current===s&&($(re),$(ve)),ue.current===s&&($(ue),rf._currentValue=le)}var to,gh;function ba(s){if(to===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);to=i&&i[1]||"",gh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+s+gh}var Lx=!1;function Ox(s,i){if(!s||Lx)return"";Lx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Z){var W=Z}Reflect.construct(s,[],ne)}else{try{ne.call()}catch(Z){W=Z}s.call(ne.prototype)}}else{try{throw Error()}catch(Z){W=Z}(ne=s())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),N=y[0],M=y[1];if(N&&M){var I=N.split(`
`),Y=M.split(`
`);for(x=d=0;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;for(;x<Y.length&&!Y[x].includes("DetermineComponentFrameRoot");)x++;if(d===I.length||x===Y.length)for(d=I.length-1,x=Y.length-1;1<=d&&0<=x&&I[d]!==Y[x];)x--;for(;1<=d&&0<=x;d--,x--)if(I[d]!==Y[x]){if(d!==1||x!==1)do if(d--,x--,0>x||I[d]!==Y[x]){var te=`
`+I[d].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=d&&0<=x);break}}}finally{Lx=!1,Error.prepareStackTrace=r}return(r=s?s.displayName||s.name:"")?ba(r):""}function Lj(s,i){switch(s.tag){case 26:case 27:case 5:return ba(s.type);case 16:return ba("Lazy");case 13:return s.child!==i&&i!==null?ba("Suspense Fallback"):ba("Suspense");case 19:return ba("SuspenseList");case 0:case 15:return Ox(s.type,!1);case 11:return Ox(s.type.render,!1);case 1:return Ox(s.type,!0);case 31:return ba("Activity");default:return""}}function mS(s){try{var i="",r=null;do i+=Lj(s,r),r=s,s=s.return;while(s);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Px=Object.prototype.hasOwnProperty,Bx=m.unstable_scheduleCallback,Ix=m.unstable_cancelCallback,Oj=m.unstable_shouldYield,Pj=m.unstable_requestPaint,un=m.unstable_now,Bj=m.unstable_getCurrentPriorityLevel,pS=m.unstable_ImmediatePriority,gS=m.unstable_UserBlockingPriority,Bp=m.unstable_NormalPriority,Ij=m.unstable_LowPriority,xS=m.unstable_IdlePriority,Fj=m.log,zj=m.unstable_setDisableYieldValue,xh=null,dn=null;function Mr(s){if(typeof Fj=="function"&&zj(s),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(xh,s)}catch{}}var hn=Math.clz32?Math.clz32:Vj,Uj=Math.log,Hj=Math.LN2;function Vj(s){return s>>>=0,s===0?32:31-(Uj(s)/Hj|0)|0}var Ip=256,Fp=262144,zp=4194304;function so(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Up(s,i,r){var d=s.pendingLanes;if(d===0)return 0;var x=0,y=s.suspendedLanes,N=s.pingedLanes;s=s.warmLanes;var M=d&134217727;return M!==0?(d=M&~y,d!==0?x=so(d):(N&=M,N!==0?x=so(N):r||(r=M&~s,r!==0&&(x=so(r))))):(M=d&~y,M!==0?x=so(M):N!==0?x=so(N):r||(r=d&~s,r!==0&&(x=so(r)))),x===0?0:i!==0&&i!==x&&(i&y)===0&&(y=x&-x,r=i&-i,y>=r||y===32&&(r&4194048)!==0)?i:x}function bh(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function Gj(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bS(){var s=zp;return zp<<=1,(zp&62914560)===0&&(zp=4194304),s}function Fx(s){for(var i=[],r=0;31>r;r++)i.push(s);return i}function yh(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $j(s,i,r,d,x,y){var N=s.pendingLanes;s.pendingLanes=r,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=r,s.entangledLanes&=r,s.errorRecoveryDisabledLanes&=r,s.shellSuspendCounter=0;var M=s.entanglements,I=s.expirationTimes,Y=s.hiddenUpdates;for(r=N&~r;0<r;){var te=31-hn(r),ne=1<<te;M[te]=0,I[te]=-1;var W=Y[te];if(W!==null)for(Y[te]=null,te=0;te<W.length;te++){var Z=W[te];Z!==null&&(Z.lane&=-536870913)}r&=~ne}d!==0&&yS(s,d,0),y!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=y&~(N&~i))}function yS(s,i,r){s.pendingLanes|=i,s.suspendedLanes&=~i;var d=31-hn(i);s.entangledLanes|=i,s.entanglements[d]=s.entanglements[d]|1073741824|r&261930}function vS(s,i){var r=s.entangledLanes|=i;for(s=s.entanglements;r;){var d=31-hn(r),x=1<<d;x&i|s[d]&i&&(s[d]|=i),r&=~x}}function wS(s,i){var r=i&-i;return r=(r&42)!==0?1:zx(r),(r&(s.suspendedLanes|i))!==0?0:r}function zx(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ux(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function SS(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:l2(s.type))}function AS(s,i){var r=J.p;try{return J.p=s,i()}finally{J.p=r}}var Dr=Math.random().toString(36).slice(2),hs="__reactFiber$"+Dr,qs="__reactProps$"+Dr,Gc="__reactContainer$"+Dr,Hx="__reactEvents$"+Dr,qj="__reactListeners$"+Dr,Yj="__reactHandles$"+Dr,NS="__reactResources$"+Dr,vh="__reactMarker$"+Dr;function Vx(s){delete s[hs],delete s[qs],delete s[Hx],delete s[qj],delete s[Yj]}function $c(s){var i=s[hs];if(i)return i;for(var r=s.parentNode;r;){if(i=r[Gc]||r[hs]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(s=$N(s);s!==null;){if(r=s[hs])return r;s=$N(s)}return i}s=r,r=s.parentNode}return null}function qc(s){if(s=s[hs]||s[Gc]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function wh(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(n(33))}function Yc(s){var i=s[NS];return i||(i=s[NS]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ns(s){s[vh]=!0}var ES=new Set,CS={};function no(s,i){Xc(s,i),Xc(s+"Capture",i)}function Xc(s,i){for(CS[s]=i,s=0;s<i.length;s++)ES.add(i[s])}var Xj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jS={},TS={};function Wj(s){return Px.call(TS,s)?!0:Px.call(jS,s)?!1:Xj.test(s)?TS[s]=!0:(jS[s]=!0,!1)}function Hp(s,i,r){if(Wj(i))if(r===null)s.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+r)}}function Vp(s,i,r){if(r===null)s.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+r)}}function ya(s,i,r,d){if(d===null)s.removeAttribute(r);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttributeNS(i,r,""+d)}}function Vn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function _S(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Kj(s,i,r){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,y=d.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return x.call(this)},set:function(N){r=""+N,y.call(this,N)}}),Object.defineProperty(s,i,{enumerable:d.enumerable}),{getValue:function(){return r},setValue:function(N){r=""+N},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Gx(s){if(!s._valueTracker){var i=_S(s)?"checked":"value";s._valueTracker=Kj(s,i,""+s[i])}}function MS(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var r=i.getValue(),d="";return s&&(d=_S(s)?s.checked?"true":"false":s.value),s=d,s!==r?(i.setValue(s),!0):!1}function Gp(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Qj=/[\n"\\]/g;function Gn(s){return s.replace(Qj,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $x(s,i,r,d,x,y,N,M){s.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.type=N:s.removeAttribute("type"),i!=null?N==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+Vn(i)):s.value!==""+Vn(i)&&(s.value=""+Vn(i)):N!=="submit"&&N!=="reset"||s.removeAttribute("value"),i!=null?qx(s,N,Vn(i)):r!=null?qx(s,N,Vn(r)):d!=null&&s.removeAttribute("value"),x==null&&y!=null&&(s.defaultChecked=!!y),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.name=""+Vn(M):s.removeAttribute("name")}function DS(s,i,r,d,x,y,N,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),i!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){Gx(s);return}r=r!=null?""+Vn(r):"",i=i!=null?""+Vn(i):r,M||i===s.value||(s.value=i),s.defaultValue=i}d=d??x,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=M?s.checked:!!d,s.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.name=N),Gx(s)}function qx(s,i,r){i==="number"&&Gp(s.ownerDocument)===s||s.defaultValue===""+r||(s.defaultValue=""+r)}function Wc(s,i,r,d){if(s=s.options,i){i={};for(var x=0;x<r.length;x++)i["$"+r[x]]=!0;for(r=0;r<s.length;r++)x=i.hasOwnProperty("$"+s[r].value),s[r].selected!==x&&(s[r].selected=x),x&&d&&(s[r].defaultSelected=!0)}else{for(r=""+Vn(r),i=null,x=0;x<s.length;x++){if(s[x].value===r){s[x].selected=!0,d&&(s[x].defaultSelected=!0);return}i!==null||s[x].disabled||(i=s[x])}i!==null&&(i.selected=!0)}}function kS(s,i,r){if(i!=null&&(i=""+Vn(i),i!==s.value&&(s.value=i),r==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=r!=null?""+Vn(r):""}function RS(s,i,r,d){if(i==null){if(d!=null){if(r!=null)throw Error(n(92));if(Se(d)){if(1<d.length)throw Error(n(93));d=d[0]}r=d}r==null&&(r=""),i=r}r=Vn(i),s.defaultValue=r,d=s.textContent,d===r&&d!==""&&d!==null&&(s.value=d),Gx(s)}function Kc(s,i){if(i){var r=s.firstChild;if(r&&r===s.lastChild&&r.nodeType===3){r.nodeValue=i;return}}s.textContent=i}var Zj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function LS(s,i,r){var d=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?d?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":d?s.setProperty(i,r):typeof r!="number"||r===0||Zj.has(i)?i==="float"?s.cssFloat=r:s[i]=(""+r).trim():s[i]=r+"px"}function OS(s,i,r){if(i!=null&&typeof i!="object")throw Error(n(62));if(s=s.style,r!=null){for(var d in r)!r.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var x in i)d=i[x],i.hasOwnProperty(x)&&r[x]!==d&&LS(s,x,d)}else for(var y in i)i.hasOwnProperty(y)&&LS(s,y,i[y])}function Yx(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $p(s){return eT.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function va(){}var Xx=null;function Wx(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Qc=null,Zc=null;function PS(s){var i=qc(s);if(i&&(s=i.stateNode)){var r=s[qs]||null;e:switch(s=i.stateNode,i.type){case"input":if($x(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=s;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Gn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var d=r[i];if(d!==s&&d.form===s.form){var x=d[qs]||null;if(!x)throw Error(n(90));$x(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<r.length;i++)d=r[i],d.form===s.form&&MS(d)}break e;case"textarea":kS(s,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Wc(s,!!r.multiple,i,!1)}}}var Kx=!1;function BS(s,i,r){if(Kx)return s(i,r);Kx=!0;try{var d=s(i);return d}finally{if(Kx=!1,(Qc!==null||Zc!==null)&&(kg(),Qc&&(i=Qc,s=Zc,Zc=Qc=null,PS(i),s)))for(i=0;i<s.length;i++)PS(s[i])}}function Sh(s,i){var r=s.stateNode;if(r===null)return null;var d=r[qs]||null;if(d===null)return null;r=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(r&&typeof r!="function")throw Error(n(231,i,typeof r));return r}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qx=!1;if(wa)try{var Ah={};Object.defineProperty(Ah,"passive",{get:function(){Qx=!0}}),window.addEventListener("test",Ah,Ah),window.removeEventListener("test",Ah,Ah)}catch{Qx=!1}var kr=null,Zx=null,qp=null;function IS(){if(qp)return qp;var s,i=Zx,r=i.length,d,x="value"in kr?kr.value:kr.textContent,y=x.length;for(s=0;s<r&&i[s]===x[s];s++);var N=r-s;for(d=1;d<=N&&i[r-d]===x[y-d];d++);return qp=x.slice(s,1<d?1-d:void 0)}function Yp(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Xp(){return!0}function FS(){return!1}function Ys(s){function i(r,d,x,y,N){this._reactName=r,this._targetInst=x,this.type=d,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(r=s[M],this[M]=r?r(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xp:FS,this.isPropagationStopped=FS,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xp)},persist:function(){},isPersistent:Xp}),i}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wp=Ys(io),Nh=b({},io,{view:0,detail:0}),tT=Ys(Nh),Jx,eb,Eh,Kp=b({},Nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sb,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Eh&&(Eh&&s.type==="mousemove"?(Jx=s.screenX-Eh.screenX,eb=s.screenY-Eh.screenY):eb=Jx=0,Eh=s),Jx)},movementY:function(s){return"movementY"in s?s.movementY:eb}}),zS=Ys(Kp),sT=b({},Kp,{dataTransfer:0}),nT=Ys(sT),iT=b({},Nh,{relatedTarget:0}),tb=Ys(iT),aT=b({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),rT=Ys(aT),lT=b({},io,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),oT=Ys(lT),cT=b({},io,{data:0}),US=Ys(cT),uT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fT(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=hT[s])?!!i[s]:!1}function sb(){return fT}var mT=b({},Nh,{key:function(s){if(s.key){var i=uT[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Yp(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dT[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sb,charCode:function(s){return s.type==="keypress"?Yp(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Yp(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),pT=Ys(mT),gT=b({},Kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HS=Ys(gT),xT=b({},Nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sb}),bT=Ys(xT),yT=b({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),vT=Ys(yT),wT=b({},Kp,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ST=Ys(wT),AT=b({},io,{newState:0,oldState:0}),NT=Ys(AT),ET=[9,13,27,32],nb=wa&&"CompositionEvent"in window,Ch=null;wa&&"documentMode"in document&&(Ch=document.documentMode);var CT=wa&&"TextEvent"in window&&!Ch,VS=wa&&(!nb||Ch&&8<Ch&&11>=Ch),GS=" ",$S=!1;function qS(s,i){switch(s){case"keyup":return ET.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YS(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Jc=!1;function jT(s,i){switch(s){case"compositionend":return YS(i);case"keypress":return i.which!==32?null:($S=!0,GS);case"textInput":return s=i.data,s===GS&&$S?null:s;default:return null}}function TT(s,i){if(Jc)return s==="compositionend"||!nb&&qS(s,i)?(s=IS(),qp=Zx=kr=null,Jc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return VS&&i.locale!=="ko"?null:i.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XS(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!_T[s.type]:i==="textarea"}function WS(s,i,r,d){Qc?Zc?Zc.push(d):Zc=[d]:Qc=d,i=Fg(i,"onChange"),0<i.length&&(r=new Wp("onChange","change",null,r,d),s.push({event:r,listeners:i}))}var jh=null,Th=null;function MT(s){DN(s,0)}function Qp(s){var i=wh(s);if(MS(i))return s}function KS(s,i){if(s==="change")return i}var QS=!1;if(wa){var ib;if(wa){var ab="oninput"in document;if(!ab){var ZS=document.createElement("div");ZS.setAttribute("oninput","return;"),ab=typeof ZS.oninput=="function"}ib=ab}else ib=!1;QS=ib&&(!document.documentMode||9<document.documentMode)}function JS(){jh&&(jh.detachEvent("onpropertychange",eA),Th=jh=null)}function eA(s){if(s.propertyName==="value"&&Qp(Th)){var i=[];WS(i,Th,s,Wx(s)),BS(MT,i)}}function DT(s,i,r){s==="focusin"?(JS(),jh=i,Th=r,jh.attachEvent("onpropertychange",eA)):s==="focusout"&&JS()}function kT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qp(Th)}function RT(s,i){if(s==="click")return Qp(i)}function LT(s,i){if(s==="input"||s==="change")return Qp(i)}function OT(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var fn=typeof Object.is=="function"?Object.is:OT;function _h(s,i){if(fn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var r=Object.keys(s),d=Object.keys(i);if(r.length!==d.length)return!1;for(d=0;d<r.length;d++){var x=r[d];if(!Px.call(i,x)||!fn(s[x],i[x]))return!1}return!0}function tA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function sA(s,i){var r=tA(s);s=0;for(var d;r;){if(r.nodeType===3){if(d=s+r.textContent.length,s<=i&&d>=i)return{node:r,offset:i-s};s=d}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tA(r)}}function nA(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?nA(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function iA(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Gp(s.document);i instanceof s.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)s=i.contentWindow;else break;i=Gp(s.document)}return i}function rb(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var PT=wa&&"documentMode"in document&&11>=document.documentMode,eu=null,lb=null,Mh=null,ob=!1;function aA(s,i,r){var d=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ob||eu==null||eu!==Gp(d)||(d=eu,"selectionStart"in d&&rb(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Mh&&_h(Mh,d)||(Mh=d,d=Fg(lb,"onSelect"),0<d.length&&(i=new Wp("onSelect","select",null,i,r),s.push({event:i,listeners:d}),i.target=eu)))}function ao(s,i){var r={};return r[s.toLowerCase()]=i.toLowerCase(),r["Webkit"+s]="webkit"+i,r["Moz"+s]="moz"+i,r}var tu={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},cb={},rA={};wa&&(rA=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function ro(s){if(cb[s])return cb[s];if(!tu[s])return s;var i=tu[s],r;for(r in i)if(i.hasOwnProperty(r)&&r in rA)return cb[s]=i[r];return s}var lA=ro("animationend"),oA=ro("animationiteration"),cA=ro("animationstart"),BT=ro("transitionrun"),IT=ro("transitionstart"),FT=ro("transitioncancel"),uA=ro("transitionend"),dA=new Map,ub="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ub.push("scrollEnd");function xi(s,i){dA.set(s,i),no(i,[s])}var Zp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},$n=[],su=0,db=0;function Jp(){for(var s=su,i=db=su=0;i<s;){var r=$n[i];$n[i++]=null;var d=$n[i];$n[i++]=null;var x=$n[i];$n[i++]=null;var y=$n[i];if($n[i++]=null,d!==null&&x!==null){var N=d.pending;N===null?x.next=x:(x.next=N.next,N.next=x),d.pending=x}y!==0&&hA(r,x,y)}}function eg(s,i,r,d){$n[su++]=s,$n[su++]=i,$n[su++]=r,$n[su++]=d,db|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function hb(s,i,r,d){return eg(s,i,r,d),tg(s)}function lo(s,i){return eg(s,null,null,i),tg(s)}function hA(s,i,r){s.lanes|=r;var d=s.alternate;d!==null&&(d.lanes|=r);for(var x=!1,y=s.return;y!==null;)y.childLanes|=r,d=y.alternate,d!==null&&(d.childLanes|=r),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(x=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,x&&i!==null&&(x=31-hn(r),s=y.hiddenUpdates,d=s[x],d===null?s[x]=[i]:d.push(i),i.lane=r|536870912),y):null}function tg(s){if(50<Zh)throw Zh=0,wy=null,Error(n(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var nu={};function zT(s,i,r,d){this.tag=s,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(s,i,r,d){return new zT(s,i,r,d)}function fb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Sa(s,i){var r=s.alternate;return r===null?(r=mn(s.tag,i,s.key,s.mode),r.elementType=s.elementType,r.type=s.type,r.stateNode=s.stateNode,r.alternate=s,s.alternate=r):(r.pendingProps=i,r.type=s.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=s.flags&65011712,r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,i=s.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=s.sibling,r.index=s.index,r.ref=s.ref,r.refCleanup=s.refCleanup,r}function fA(s,i){s.flags&=65011714;var r=s.alternate;return r===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,s.type=r.type,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function sg(s,i,r,d,x,y){var N=0;if(d=s,typeof s=="function")fb(s)&&(N=1);else if(typeof s=="string")N=$_(s,r,re.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case G:return s=mn(31,r,i,x),s.elementType=G,s.lanes=y,s;case A:return oo(r.children,x,y,i);case _:N=8,x|=24;break;case T:return s=mn(12,r,i,x|2),s.elementType=T,s.lanes=y,s;case O:return s=mn(13,r,i,x),s.elementType=O,s.lanes=y,s;case B:return s=mn(19,r,i,x),s.elementType=B,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:N=10;break e;case R:N=9;break e;case L:N=11;break e;case k:N=14;break e;case F:N=16,d=null;break e}N=29,r=Error(n(130,s===null?"null":typeof s,"")),d=null}return i=mn(N,r,i,x),i.elementType=s,i.type=d,i.lanes=y,i}function oo(s,i,r,d){return s=mn(7,s,d,i),s.lanes=r,s}function mb(s,i,r){return s=mn(6,s,null,i),s.lanes=r,s}function mA(s){var i=mn(18,null,null,0);return i.stateNode=s,i}function pb(s,i,r){return i=mn(4,s.children!==null?s.children:[],s.key,i),i.lanes=r,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var pA=new WeakMap;function qn(s,i){if(typeof s=="object"&&s!==null){var r=pA.get(s);return r!==void 0?r:(i={value:s,source:i,stack:mS(i)},pA.set(s,i),i)}return{value:s,source:i,stack:mS(i)}}var iu=[],au=0,ng=null,Dh=0,Yn=[],Xn=0,Rr=null,Pi=1,Bi="";function Aa(s,i){iu[au++]=Dh,iu[au++]=ng,ng=s,Dh=i}function gA(s,i,r){Yn[Xn++]=Pi,Yn[Xn++]=Bi,Yn[Xn++]=Rr,Rr=s;var d=Pi;s=Bi;var x=32-hn(d)-1;d&=~(1<<x),r+=1;var y=32-hn(i)+x;if(30<y){var N=x-x%5;y=(d&(1<<N)-1).toString(32),d>>=N,x-=N,Pi=1<<32-hn(i)+x|r<<x|d,Bi=y+s}else Pi=1<<y|r<<x|d,Bi=s}function gb(s){s.return!==null&&(Aa(s,1),gA(s,1,0))}function xb(s){for(;s===ng;)ng=iu[--au],iu[au]=null,Dh=iu[--au],iu[au]=null;for(;s===Rr;)Rr=Yn[--Xn],Yn[Xn]=null,Bi=Yn[--Xn],Yn[Xn]=null,Pi=Yn[--Xn],Yn[Xn]=null}function xA(s,i){Yn[Xn++]=Pi,Yn[Xn++]=Bi,Yn[Xn++]=Rr,Pi=i.id,Bi=i.overflow,Rr=s}var fs=null,bt=null,He=!1,Lr=null,Wn=!1,bb=Error(n(519));function Or(s){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kh(qn(i,s)),bb}function bA(s){var i=s.stateNode,r=s.type,d=s.memoizedProps;switch(i[hs]=s,i[qs]=d,r){case"dialog":Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":case"embed":Fe("load",i);break;case"video":case"audio":for(r=0;r<ef.length;r++)Fe(ef[r],i);break;case"source":Fe("error",i);break;case"img":case"image":case"link":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"input":Fe("invalid",i),DS(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Fe("invalid",i);break;case"textarea":Fe("invalid",i),RS(i,d.value,d.defaultValue,d.children)}r=d.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||d.suppressHydrationWarning===!0||ON(i.textContent,r)?(d.popover!=null&&(Fe("beforetoggle",i),Fe("toggle",i)),d.onScroll!=null&&Fe("scroll",i),d.onScrollEnd!=null&&Fe("scrollend",i),d.onClick!=null&&(i.onclick=va),i=!0):i=!1,i||Or(s,!0)}function yA(s){for(fs=s.return;fs;)switch(fs.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:fs=fs.return}}function ru(s){if(s!==fs)return!1;if(!He)return yA(s),He=!0,!1;var i=s.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=s.type,r=!(r!=="form"&&r!=="button")||Py(s.type,s.memoizedProps)),r=!r),r&&bt&&Or(s),yA(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));bt=GN(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));bt=GN(s)}else i===27?(i=bt,Wr(s.type)?(s=Uy,Uy=null,bt=s):bt=i):bt=fs?Qn(s.stateNode.nextSibling):null;return!0}function co(){bt=fs=null,He=!1}function yb(){var s=Lr;return s!==null&&(Qs===null?Qs=s:Qs.push.apply(Qs,s),Lr=null),s}function kh(s){Lr===null?Lr=[s]:Lr.push(s)}var vb=P(null),uo=null,Na=null;function Pr(s,i,r){ie(vb,i._currentValue),i._currentValue=r}function Ea(s){s._currentValue=vb.current,$(vb)}function wb(s,i,r){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===r)break;s=s.return}}function Sb(s,i,r,d){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var y=x.dependencies;if(y!==null){var N=x.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=x;for(var I=0;I<i.length;I++)if(M.context===i[I]){y.lanes|=r,M=y.alternate,M!==null&&(M.lanes|=r),wb(y.return,r,s),d||(N=null);break e}y=M.next}}else if(x.tag===18){if(N=x.return,N===null)throw Error(n(341));N.lanes|=r,y=N.alternate,y!==null&&(y.lanes|=r),wb(N,r,s),N=null}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===s){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}}function lu(s,i,r,d){s=null;for(var x=i,y=!1;x!==null;){if(!y){if((x.flags&524288)!==0)y=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var N=x.alternate;if(N===null)throw Error(n(387));if(N=N.memoizedProps,N!==null){var M=x.type;fn(x.pendingProps.value,N.value)||(s!==null?s.push(M):s=[M])}}else if(x===ue.current){if(N=x.alternate,N===null)throw Error(n(387));N.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(rf):s=[rf])}x=x.return}s!==null&&Sb(i,s,r,d),i.flags|=262144}function ig(s){for(s=s.firstContext;s!==null;){if(!fn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ho(s){uo=s,Na=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ms(s){return vA(uo,s)}function ag(s,i){return uo===null&&ho(s),vA(s,i)}function vA(s,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Na===null){if(s===null)throw Error(n(308));Na=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Na=Na.next=i;return r}var UT=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(r,d){s.push(d)}};this.abort=function(){i.aborted=!0,s.forEach(function(r){return r()})}},HT=m.unstable_scheduleCallback,VT=m.unstable_NormalPriority,Ht={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ab(){return{controller:new UT,data:new Map,refCount:0}}function Rh(s){s.refCount--,s.refCount===0&&HT(VT,function(){s.controller.abort()})}var Lh=null,Nb=0,ou=0,cu=null;function GT(s,i){if(Lh===null){var r=Lh=[];Nb=0,ou=jy(),cu={status:"pending",value:void 0,then:function(d){r.push(d)}}}return Nb++,i.then(wA,wA),i}function wA(){if(--Nb===0&&Lh!==null){cu!==null&&(cu.status="fulfilled");var s=Lh;Lh=null,ou=0,cu=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function $T(s,i){var r=[],d={status:"pending",value:null,reason:null,then:function(x){r.push(x)}};return s.then(function(){d.status="fulfilled",d.value=i;for(var x=0;x<r.length;x++)(0,r[x])(i)},function(x){for(d.status="rejected",d.reason=x,x=0;x<r.length;x++)(0,r[x])(void 0)}),d}var SA=H.S;H.S=function(s,i){aN=un(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&GT(s,i),SA!==null&&SA(s,i)};var fo=P(null);function Eb(){var s=fo.current;return s!==null?s:ut.pooledCache}function rg(s,i){i===null?ie(fo,fo.current):ie(fo,i.pool)}function AA(){var s=Eb();return s===null?null:{parent:Ht._currentValue,pool:s}}var uu=Error(n(460)),Cb=Error(n(474)),lg=Error(n(542)),og={then:function(){}};function NA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function EA(s,i,r){switch(r=s[r],r===void 0?s.push(i):r!==i&&(i.then(va,va),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,jA(s),s;default:if(typeof i.status=="string")i.then(va,va);else{if(s=ut,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=i,s.status="pending",s.then(function(d){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=d}},function(d){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,jA(s),s}throw po=i,uu}}function mo(s){try{var i=s._init;return i(s._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(po=r,uu):r}}var po=null;function CA(){if(po===null)throw Error(n(459));var s=po;return po=null,s}function jA(s){if(s===uu||s===lg)throw Error(n(483))}var du=null,Oh=0;function cg(s){var i=Oh;return Oh+=1,du===null&&(du=[]),EA(du,s,i)}function Ph(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function ug(s,i){throw i.$$typeof===v?Error(n(525)):(s=Object.prototype.toString.call(i),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function TA(s){function i(V,z){if(s){var q=V.deletions;q===null?(V.deletions=[z],V.flags|=16):q.push(z)}}function r(V,z){if(!s)return null;for(;z!==null;)i(V,z),z=z.sibling;return null}function d(V){for(var z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function x(V,z){return V=Sa(V,z),V.index=0,V.sibling=null,V}function y(V,z,q){return V.index=q,s?(q=V.alternate,q!==null?(q=q.index,q<z?(V.flags|=67108866,z):q):(V.flags|=67108866,z)):(V.flags|=1048576,z)}function N(V){return s&&V.alternate===null&&(V.flags|=67108866),V}function M(V,z,q,se){return z===null||z.tag!==6?(z=mb(q,V.mode,se),z.return=V,z):(z=x(z,q),z.return=V,z)}function I(V,z,q,se){var Ae=q.type;return Ae===A?te(V,z,q.props.children,se,q.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===F&&mo(Ae)===z.type)?(z=x(z,q.props),Ph(z,q),z.return=V,z):(z=sg(q.type,q.key,q.props,null,V.mode,se),Ph(z,q),z.return=V,z)}function Y(V,z,q,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=pb(q,V.mode,se),z.return=V,z):(z=x(z,q.children||[]),z.return=V,z)}function te(V,z,q,se,Ae){return z===null||z.tag!==7?(z=oo(q,V.mode,se,Ae),z.return=V,z):(z=x(z,q),z.return=V,z)}function ne(V,z,q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=mb(""+z,V.mode,q),z.return=V,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return q=sg(z.type,z.key,z.props,null,V.mode,q),Ph(q,z),q.return=V,q;case E:return z=pb(z,V.mode,q),z.return=V,z;case F:return z=mo(z),ne(V,z,q)}if(Se(z)||X(z))return z=oo(z,V.mode,q,null),z.return=V,z;if(typeof z.then=="function")return ne(V,cg(z),q);if(z.$$typeof===D)return ne(V,ag(V,z),q);ug(V,z)}return null}function W(V,z,q,se){var Ae=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ae!==null?null:M(V,z,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===Ae?I(V,z,q,se):null;case E:return q.key===Ae?Y(V,z,q,se):null;case F:return q=mo(q),W(V,z,q,se)}if(Se(q)||X(q))return Ae!==null?null:te(V,z,q,se,null);if(typeof q.then=="function")return W(V,z,cg(q),se);if(q.$$typeof===D)return W(V,z,ag(V,q),se);ug(V,q)}return null}function Z(V,z,q,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return V=V.get(q)||null,M(z,V,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return V=V.get(se.key===null?q:se.key)||null,I(z,V,se,Ae);case E:return V=V.get(se.key===null?q:se.key)||null,Y(z,V,se,Ae);case F:return se=mo(se),Z(V,z,q,se,Ae)}if(Se(se)||X(se))return V=V.get(q)||null,te(z,V,se,Ae,null);if(typeof se.then=="function")return Z(V,z,q,cg(se),Ae);if(se.$$typeof===D)return Z(V,z,q,ag(z,se),Ae);ug(z,se)}return null}function ge(V,z,q,se){for(var Ae=null,Ye=null,be=z,Re=z=0,Ue=null;be!==null&&Re<q.length;Re++){be.index>Re?(Ue=be,be=null):Ue=be.sibling;var Xe=W(V,be,q[Re],se);if(Xe===null){be===null&&(be=Ue);break}s&&be&&Xe.alternate===null&&i(V,be),z=y(Xe,z,Re),Ye===null?Ae=Xe:Ye.sibling=Xe,Ye=Xe,be=Ue}if(Re===q.length)return r(V,be),He&&Aa(V,Re),Ae;if(be===null){for(;Re<q.length;Re++)be=ne(V,q[Re],se),be!==null&&(z=y(be,z,Re),Ye===null?Ae=be:Ye.sibling=be,Ye=be);return He&&Aa(V,Re),Ae}for(be=d(be);Re<q.length;Re++)Ue=Z(be,V,Re,q[Re],se),Ue!==null&&(s&&Ue.alternate!==null&&be.delete(Ue.key===null?Re:Ue.key),z=y(Ue,z,Re),Ye===null?Ae=Ue:Ye.sibling=Ue,Ye=Ue);return s&&be.forEach(function(el){return i(V,el)}),He&&Aa(V,Re),Ae}function Ne(V,z,q,se){if(q==null)throw Error(n(151));for(var Ae=null,Ye=null,be=z,Re=z=0,Ue=null,Xe=q.next();be!==null&&!Xe.done;Re++,Xe=q.next()){be.index>Re?(Ue=be,be=null):Ue=be.sibling;var el=W(V,be,Xe.value,se);if(el===null){be===null&&(be=Ue);break}s&&be&&el.alternate===null&&i(V,be),z=y(el,z,Re),Ye===null?Ae=el:Ye.sibling=el,Ye=el,be=Ue}if(Xe.done)return r(V,be),He&&Aa(V,Re),Ae;if(be===null){for(;!Xe.done;Re++,Xe=q.next())Xe=ne(V,Xe.value,se),Xe!==null&&(z=y(Xe,z,Re),Ye===null?Ae=Xe:Ye.sibling=Xe,Ye=Xe);return He&&Aa(V,Re),Ae}for(be=d(be);!Xe.done;Re++,Xe=q.next())Xe=Z(be,V,Re,Xe.value,se),Xe!==null&&(s&&Xe.alternate!==null&&be.delete(Xe.key===null?Re:Xe.key),z=y(Xe,z,Re),Ye===null?Ae=Xe:Ye.sibling=Xe,Ye=Xe);return s&&be.forEach(function(sM){return i(V,sM)}),He&&Aa(V,Re),Ae}function it(V,z,q,se){if(typeof q=="object"&&q!==null&&q.type===A&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var Ae=q.key;z!==null;){if(z.key===Ae){if(Ae=q.type,Ae===A){if(z.tag===7){r(V,z.sibling),se=x(z,q.props.children),se.return=V,V=se;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===F&&mo(Ae)===z.type){r(V,z.sibling),se=x(z,q.props),Ph(se,q),se.return=V,V=se;break e}r(V,z);break}else i(V,z);z=z.sibling}q.type===A?(se=oo(q.props.children,V.mode,se,q.key),se.return=V,V=se):(se=sg(q.type,q.key,q.props,null,V.mode,se),Ph(se,q),se.return=V,V=se)}return N(V);case E:e:{for(Ae=q.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){r(V,z.sibling),se=x(z,q.children||[]),se.return=V,V=se;break e}else{r(V,z);break}else i(V,z);z=z.sibling}se=pb(q,V.mode,se),se.return=V,V=se}return N(V);case F:return q=mo(q),it(V,z,q,se)}if(Se(q))return ge(V,z,q,se);if(X(q)){if(Ae=X(q),typeof Ae!="function")throw Error(n(150));return q=Ae.call(q),Ne(V,z,q,se)}if(typeof q.then=="function")return it(V,z,cg(q),se);if(q.$$typeof===D)return it(V,z,ag(V,q),se);ug(V,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,z!==null&&z.tag===6?(r(V,z.sibling),se=x(z,q),se.return=V,V=se):(r(V,z),se=mb(q,V.mode,se),se.return=V,V=se),N(V)):r(V,z)}return function(V,z,q,se){try{Oh=0;var Ae=it(V,z,q,se);return du=null,Ae}catch(be){if(be===uu||be===lg)throw be;var Ye=mn(29,be,null,V.mode);return Ye.lanes=se,Ye.return=V,Ye}finally{}}}var go=TA(!0),_A=TA(!1),Br=!1;function jb(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tb(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ir(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fr(s,i,r){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var x=d.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),d.pending=i,i=tg(s),hA(s,null,r),i}return eg(s,d,i,r),tg(s)}function Bh(s,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var d=i.lanes;d&=s.pendingLanes,r|=d,i.lanes=r,vS(s,r)}}function _b(s,i){var r=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,r===d)){var x=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var N={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?x=y=N:y=y.next=N,r=r.next}while(r!==null);y===null?x=y=i:y=y.next=i}else x=y=i;r={baseState:d.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},s.updateQueue=r;return}s=r.lastBaseUpdate,s===null?r.firstBaseUpdate=i:s.next=i,r.lastBaseUpdate=i}var Mb=!1;function Ih(){if(Mb){var s=cu;if(s!==null)throw s}}function Fh(s,i,r,d){Mb=!1;var x=s.updateQueue;Br=!1;var y=x.firstBaseUpdate,N=x.lastBaseUpdate,M=x.shared.pending;if(M!==null){x.shared.pending=null;var I=M,Y=I.next;I.next=null,N===null?y=Y:N.next=Y,N=I;var te=s.alternate;te!==null&&(te=te.updateQueue,M=te.lastBaseUpdate,M!==N&&(M===null?te.firstBaseUpdate=Y:M.next=Y,te.lastBaseUpdate=I))}if(y!==null){var ne=x.baseState;N=0,te=Y=I=null,M=y;do{var W=M.lane&-536870913,Z=W!==M.lane;if(Z?(ze&W)===W:(d&W)===W){W!==0&&W===ou&&(Mb=!0),te!==null&&(te=te.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ge=s,Ne=M;W=i;var it=r;switch(Ne.tag){case 1:if(ge=Ne.payload,typeof ge=="function"){ne=ge.call(it,ne,W);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ne.payload,W=typeof ge=="function"?ge.call(it,ne,W):ge,W==null)break e;ne=b({},ne,W);break e;case 2:Br=!0}}W=M.callback,W!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=x.callbacks,Z===null?x.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:M.tag,payload:M.payload,callback:M.callback,next:null},te===null?(Y=te=Z,I=ne):te=te.next=Z,N|=W;if(M=M.next,M===null){if(M=x.shared.pending,M===null)break;Z=M,M=Z.next,Z.next=null,x.lastBaseUpdate=Z,x.shared.pending=null}}while(!0);te===null&&(I=ne),x.baseState=I,x.firstBaseUpdate=Y,x.lastBaseUpdate=te,y===null&&(x.shared.lanes=0),Gr|=N,s.lanes=N,s.memoizedState=ne}}function MA(s,i){if(typeof s!="function")throw Error(n(191,s));s.call(i)}function DA(s,i){var r=s.callbacks;if(r!==null)for(s.callbacks=null,s=0;s<r.length;s++)MA(r[s],i)}var hu=P(null),dg=P(0);function kA(s,i){s=La,ie(dg,s),ie(hu,i),La=s|i.baseLanes}function Db(){ie(dg,La),ie(hu,hu.current)}function kb(){La=dg.current,$(hu),$(dg)}var pn=P(null),Kn=null;function zr(s){var i=s.alternate;ie(It,It.current&1),ie(pn,s),Kn===null&&(i===null||hu.current!==null||i.memoizedState!==null)&&(Kn=s)}function Rb(s){ie(It,It.current),ie(pn,s),Kn===null&&(Kn=s)}function RA(s){s.tag===22?(ie(It,It.current),ie(pn,s),Kn===null&&(Kn=s)):Ur()}function Ur(){ie(It,It.current),ie(pn,pn.current)}function gn(s){$(pn),Kn===s&&(Kn=null),$(It)}var It=P(0);function hg(s){for(var i=s;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Fy(r)||zy(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ca=0,De=null,st=null,Vt=null,fg=!1,fu=!1,xo=!1,mg=0,zh=0,mu=null,qT=0;function Mt(){throw Error(n(321))}function Lb(s,i){if(i===null)return!1;for(var r=0;r<i.length&&r<s.length;r++)if(!fn(s[r],i[r]))return!1;return!0}function Ob(s,i,r,d,x,y){return Ca=y,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=s===null||s.memoizedState===null?g1:Kb,xo=!1,y=r(d,x),xo=!1,fu&&(y=OA(i,r,d,x)),LA(s),y}function LA(s){H.H=Vh;var i=st!==null&&st.next!==null;if(Ca=0,Vt=st=De=null,fg=!1,zh=0,mu=null,i)throw Error(n(300));s===null||Gt||(s=s.dependencies,s!==null&&ig(s)&&(Gt=!0))}function OA(s,i,r,d){De=s;var x=0;do{if(fu&&(mu=null),zh=0,fu=!1,25<=x)throw Error(n(301));if(x+=1,Vt=st=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=x1,y=i(r,d)}while(fu);return y}function YT(){var s=H.H,i=s.useState()[0];return i=typeof i.then=="function"?Uh(i):i,s=s.useState()[0],(st!==null?st.memoizedState:null)!==s&&(De.flags|=1024),i}function Pb(){var s=mg!==0;return mg=0,s}function Bb(s,i,r){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~r}function Ib(s){if(fg){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}fg=!1}Ca=0,Vt=st=De=null,fu=!1,zh=mg=0,mu=null}function Os(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?De.memoizedState=Vt=s:Vt=Vt.next=s,Vt}function Ft(){if(st===null){var s=De.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var i=Vt===null?De.memoizedState:Vt.next;if(i!==null)Vt=i,st=s;else{if(s===null)throw De.alternate===null?Error(n(467)):Error(n(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Vt===null?De.memoizedState=Vt=s:Vt=Vt.next=s}return Vt}function pg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uh(s){var i=zh;return zh+=1,mu===null&&(mu=[]),s=EA(mu,s,i),i=De,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?g1:Kb),s}function gg(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Uh(s);if(s.$$typeof===D)return ms(s)}throw Error(n(438,String(s)))}function Fb(s){var i=null,r=De.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var d=De.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=pg(),De.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(s),d=0;d<s;d++)r[d]=Q;return i.index++,r}function ja(s,i){return typeof i=="function"?i(s):i}function xg(s){var i=Ft();return zb(i,st,s)}function zb(s,i,r){var d=s.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var x=s.baseQueue,y=d.pending;if(y!==null){if(x!==null){var N=x.next;x.next=y.next,y.next=N}i.baseQueue=x=y,d.pending=null}if(y=s.baseState,x===null)s.memoizedState=y;else{i=x.next;var M=N=null,I=null,Y=i,te=!1;do{var ne=Y.lane&-536870913;if(ne!==Y.lane?(ze&ne)===ne:(Ca&ne)===ne){var W=Y.revertLane;if(W===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ne===ou&&(te=!0);else if((Ca&W)===W){Y=Y.next,W===ou&&(te=!0);continue}else ne={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},I===null?(M=I=ne,N=y):I=I.next=ne,De.lanes|=W,Gr|=W;ne=Y.action,xo&&r(y,ne),y=Y.hasEagerState?Y.eagerState:r(y,ne)}else W={lane:ne,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},I===null?(M=I=W,N=y):I=I.next=W,De.lanes|=ne,Gr|=ne;Y=Y.next}while(Y!==null&&Y!==i);if(I===null?N=y:I.next=M,!fn(y,s.memoizedState)&&(Gt=!0,te&&(r=cu,r!==null)))throw r;s.memoizedState=y,s.baseState=N,s.baseQueue=I,d.lastRenderedState=y}return x===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Ub(s){var i=Ft(),r=i.queue;if(r===null)throw Error(n(311));r.lastRenderedReducer=s;var d=r.dispatch,x=r.pending,y=i.memoizedState;if(x!==null){r.pending=null;var N=x=x.next;do y=s(y,N.action),N=N.next;while(N!==x);fn(y,i.memoizedState)||(Gt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),r.lastRenderedState=y}return[y,d]}function PA(s,i,r){var d=De,x=Ft(),y=He;if(y){if(r===void 0)throw Error(n(407));r=r()}else r=i();var N=!fn((st||x).memoizedState,r);if(N&&(x.memoizedState=r,Gt=!0),x=x.queue,Gb(FA.bind(null,d,x,s),[s]),x.getSnapshot!==i||N||Vt!==null&&Vt.memoizedState.tag&1){if(d.flags|=2048,pu(9,{destroy:void 0},IA.bind(null,d,x,r,i),null),ut===null)throw Error(n(349));y||(Ca&127)!==0||BA(d,i,r)}return r}function BA(s,i,r){s.flags|=16384,s={getSnapshot:i,value:r},i=De.updateQueue,i===null?(i=pg(),De.updateQueue=i,i.stores=[s]):(r=i.stores,r===null?i.stores=[s]:r.push(s))}function IA(s,i,r,d){i.value=r,i.getSnapshot=d,zA(i)&&UA(s)}function FA(s,i,r){return r(function(){zA(i)&&UA(s)})}function zA(s){var i=s.getSnapshot;s=s.value;try{var r=i();return!fn(s,r)}catch{return!0}}function UA(s){var i=lo(s,2);i!==null&&Zs(i,s,2)}function Hb(s){var i=Os();if(typeof s=="function"){var r=s;if(s=r(),xo){Mr(!0);try{r()}finally{Mr(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:s},i}function HA(s,i,r,d){return s.baseState=r,zb(s,st,typeof d=="function"?d:ja)}function XT(s,i,r,d,x){if(vg(s))throw Error(n(485));if(s=i.action,s!==null){var y={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};H.T!==null?r(!0):y.isTransition=!1,d(y),r=i.pending,r===null?(y.next=i.pending=y,VA(i,y)):(y.next=r.next,i.pending=r.next=y)}}function VA(s,i){var r=i.action,d=i.payload,x=s.state;if(i.isTransition){var y=H.T,N={};H.T=N;try{var M=r(x,d),I=H.S;I!==null&&I(N,M),GA(s,i,M)}catch(Y){Vb(s,i,Y)}finally{y!==null&&N.types!==null&&(y.types=N.types),H.T=y}}else try{y=r(x,d),GA(s,i,y)}catch(Y){Vb(s,i,Y)}}function GA(s,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(d){$A(s,i,d)},function(d){return Vb(s,i,d)}):$A(s,i,r)}function $A(s,i,r){i.status="fulfilled",i.value=r,qA(i),s.state=r,i=s.pending,i!==null&&(r=i.next,r===i?s.pending=null:(r=r.next,i.next=r,VA(s,r)))}function Vb(s,i,r){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=r,qA(i),i=i.next;while(i!==d)}s.action=null}function qA(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function YA(s,i){return i}function XA(s,i){if(He){var r=ut.formState;if(r!==null){e:{var d=De;if(He){if(bt){t:{for(var x=bt,y=Wn;x.nodeType!==8;){if(!y){x=null;break t}if(x=Qn(x.nextSibling),x===null){x=null;break t}}y=x.data,x=y==="F!"||y==="F"?x:null}if(x){bt=Qn(x.nextSibling),d=x.data==="F!";break e}}Or(d)}d=!1}d&&(i=r[0])}}return r=Os(),r.memoizedState=r.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YA,lastRenderedState:i},r.queue=d,r=f1.bind(null,De,d),d.dispatch=r,d=Hb(!1),y=Wb.bind(null,De,!1,d.queue),d=Os(),x={state:i,dispatch:null,action:s,pending:null},d.queue=x,r=XT.bind(null,De,x,y,r),x.dispatch=r,d.memoizedState=s,[i,r,!1]}function WA(s){var i=Ft();return KA(i,st,s)}function KA(s,i,r){if(i=zb(s,i,YA)[0],s=xg(ja)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Uh(i)}catch(N){throw N===uu?lg:N}else d=i;i=Ft();var x=i.queue,y=x.dispatch;return r!==i.memoizedState&&(De.flags|=2048,pu(9,{destroy:void 0},WT.bind(null,x,r),null)),[d,y,s]}function WT(s,i){s.action=i}function QA(s){var i=Ft(),r=st;if(r!==null)return KA(i,r,s);Ft(),i=i.memoizedState,r=Ft();var d=r.queue.dispatch;return r.memoizedState=s,[i,d,!1]}function pu(s,i,r,d){return s={tag:s,create:r,deps:d,inst:i,next:null},i=De.updateQueue,i===null&&(i=pg(),De.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=s.next=s:(d=r.next,r.next=s,s.next=d,i.lastEffect=s),s}function ZA(){return Ft().memoizedState}function bg(s,i,r,d){var x=Os();De.flags|=s,x.memoizedState=pu(1|i,{destroy:void 0},r,d===void 0?null:d)}function yg(s,i,r,d){var x=Ft();d=d===void 0?null:d;var y=x.memoizedState.inst;st!==null&&d!==null&&Lb(d,st.memoizedState.deps)?x.memoizedState=pu(i,y,r,d):(De.flags|=s,x.memoizedState=pu(1|i,y,r,d))}function JA(s,i){bg(8390656,8,s,i)}function Gb(s,i){yg(2048,8,s,i)}function KT(s){De.flags|=4;var i=De.updateQueue;if(i===null)i=pg(),De.updateQueue=i,i.events=[s];else{var r=i.events;r===null?i.events=[s]:r.push(s)}}function e1(s){var i=Ft().memoizedState;return KT({ref:i,nextImpl:s}),function(){if((We&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function t1(s,i){return yg(4,2,s,i)}function s1(s,i){return yg(4,4,s,i)}function n1(s,i){if(typeof i=="function"){s=s();var r=i(s);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function i1(s,i,r){r=r!=null?r.concat([s]):null,yg(4,4,n1.bind(null,i,s),r)}function $b(){}function a1(s,i){var r=Ft();i=i===void 0?null:i;var d=r.memoizedState;return i!==null&&Lb(i,d[1])?d[0]:(r.memoizedState=[s,i],s)}function r1(s,i){var r=Ft();i=i===void 0?null:i;var d=r.memoizedState;if(i!==null&&Lb(i,d[1]))return d[0];if(d=s(),xo){Mr(!0);try{s()}finally{Mr(!1)}}return r.memoizedState=[d,i],d}function qb(s,i,r){return r===void 0||(Ca&1073741824)!==0&&(ze&261930)===0?s.memoizedState=i:(s.memoizedState=r,s=lN(),De.lanes|=s,Gr|=s,r)}function l1(s,i,r,d){return fn(r,i)?r:hu.current!==null?(s=qb(s,r,d),fn(s,i)||(Gt=!0),s):(Ca&42)===0||(Ca&1073741824)!==0&&(ze&261930)===0?(Gt=!0,s.memoizedState=r):(s=lN(),De.lanes|=s,Gr|=s,i)}function o1(s,i,r,d,x){var y=J.p;J.p=y!==0&&8>y?y:8;var N=H.T,M={};H.T=M,Wb(s,!1,i,r);try{var I=x(),Y=H.S;if(Y!==null&&Y(M,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var te=$T(I,d);Hh(s,i,te,yn(s))}else Hh(s,i,d,yn(s))}catch(ne){Hh(s,i,{then:function(){},status:"rejected",reason:ne},yn())}finally{J.p=y,N!==null&&M.types!==null&&(N.types=M.types),H.T=N}}function QT(){}function Yb(s,i,r,d){if(s.tag!==5)throw Error(n(476));var x=c1(s).queue;o1(s,x,i,le,r===null?QT:function(){return u1(s),r(d)})}function c1(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:le},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:r},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function u1(s){var i=c1(s);i.next===null&&(i=s.alternate.memoizedState),Hh(s,i.next.queue,{},yn())}function Xb(){return ms(rf)}function d1(){return Ft().memoizedState}function h1(){return Ft().memoizedState}function ZT(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var r=yn();s=Ir(r);var d=Fr(i,s,r);d!==null&&(Zs(d,i,r),Bh(d,i,r)),i={cache:Ab()},s.payload=i;return}i=i.return}}function JT(s,i,r){var d=yn();r={lane:d,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},vg(s)?m1(i,r):(r=hb(s,i,r,d),r!==null&&(Zs(r,s,d),p1(r,i,d)))}function f1(s,i,r){var d=yn();Hh(s,i,r,d)}function Hh(s,i,r,d){var x={lane:d,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(vg(s))m1(i,x);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var N=i.lastRenderedState,M=y(N,r);if(x.hasEagerState=!0,x.eagerState=M,fn(M,N))return eg(s,i,x,0),ut===null&&Jp(),!1}catch{}finally{}if(r=hb(s,i,x,d),r!==null)return Zs(r,s,d),p1(r,i,d),!0}return!1}function Wb(s,i,r,d){if(d={lane:2,revertLane:jy(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},vg(s)){if(i)throw Error(n(479))}else i=hb(s,r,d,2),i!==null&&Zs(i,s,2)}function vg(s){var i=s.alternate;return s===De||i!==null&&i===De}function m1(s,i){fu=fg=!0;var r=s.pending;r===null?i.next=i:(i.next=r.next,r.next=i),s.pending=i}function p1(s,i,r){if((r&4194048)!==0){var d=i.lanes;d&=s.pendingLanes,r|=d,i.lanes=r,vS(s,r)}}var Vh={readContext:ms,use:gg,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Vh.useEffectEvent=Mt;var g1={readContext:ms,use:gg,useCallback:function(s,i){return Os().memoizedState=[s,i===void 0?null:i],s},useContext:ms,useEffect:JA,useImperativeHandle:function(s,i,r){r=r!=null?r.concat([s]):null,bg(4194308,4,n1.bind(null,i,s),r)},useLayoutEffect:function(s,i){return bg(4194308,4,s,i)},useInsertionEffect:function(s,i){bg(4,2,s,i)},useMemo:function(s,i){var r=Os();i=i===void 0?null:i;var d=s();if(xo){Mr(!0);try{s()}finally{Mr(!1)}}return r.memoizedState=[d,i],d},useReducer:function(s,i,r){var d=Os();if(r!==void 0){var x=r(i);if(xo){Mr(!0);try{r(i)}finally{Mr(!1)}}}else x=i;return d.memoizedState=d.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},d.queue=s,s=s.dispatch=JT.bind(null,De,s),[d.memoizedState,s]},useRef:function(s){var i=Os();return s={current:s},i.memoizedState=s},useState:function(s){s=Hb(s);var i=s.queue,r=f1.bind(null,De,i);return i.dispatch=r,[s.memoizedState,r]},useDebugValue:$b,useDeferredValue:function(s,i){var r=Os();return qb(r,s,i)},useTransition:function(){var s=Hb(!1);return s=o1.bind(null,De,s.queue,!0,!1),Os().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,r){var d=De,x=Os();if(He){if(r===void 0)throw Error(n(407));r=r()}else{if(r=i(),ut===null)throw Error(n(349));(ze&127)!==0||BA(d,i,r)}x.memoizedState=r;var y={value:r,getSnapshot:i};return x.queue=y,JA(FA.bind(null,d,y,s),[s]),d.flags|=2048,pu(9,{destroy:void 0},IA.bind(null,d,y,r,i),null),r},useId:function(){var s=Os(),i=ut.identifierPrefix;if(He){var r=Bi,d=Pi;r=(d&~(1<<32-hn(d)-1)).toString(32)+r,i="_"+i+"R_"+r,r=mg++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=qT++,i="_"+i+"r_"+r.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:Xb,useFormState:XA,useActionState:XA,useOptimistic:function(s){var i=Os();i.memoizedState=i.baseState=s;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Wb.bind(null,De,!0,r),r.dispatch=i,[s,i]},useMemoCache:Fb,useCacheRefresh:function(){return Os().memoizedState=ZT.bind(null,De)},useEffectEvent:function(s){var i=Os(),r={impl:s};return i.memoizedState=r,function(){if((We&2)!==0)throw Error(n(440));return r.impl.apply(void 0,arguments)}}},Kb={readContext:ms,use:gg,useCallback:a1,useContext:ms,useEffect:Gb,useImperativeHandle:i1,useInsertionEffect:t1,useLayoutEffect:s1,useMemo:r1,useReducer:xg,useRef:ZA,useState:function(){return xg(ja)},useDebugValue:$b,useDeferredValue:function(s,i){var r=Ft();return l1(r,st.memoizedState,s,i)},useTransition:function(){var s=xg(ja)[0],i=Ft().memoizedState;return[typeof s=="boolean"?s:Uh(s),i]},useSyncExternalStore:PA,useId:d1,useHostTransitionStatus:Xb,useFormState:WA,useActionState:WA,useOptimistic:function(s,i){var r=Ft();return HA(r,st,s,i)},useMemoCache:Fb,useCacheRefresh:h1};Kb.useEffectEvent=e1;var x1={readContext:ms,use:gg,useCallback:a1,useContext:ms,useEffect:Gb,useImperativeHandle:i1,useInsertionEffect:t1,useLayoutEffect:s1,useMemo:r1,useReducer:Ub,useRef:ZA,useState:function(){return Ub(ja)},useDebugValue:$b,useDeferredValue:function(s,i){var r=Ft();return st===null?qb(r,s,i):l1(r,st.memoizedState,s,i)},useTransition:function(){var s=Ub(ja)[0],i=Ft().memoizedState;return[typeof s=="boolean"?s:Uh(s),i]},useSyncExternalStore:PA,useId:d1,useHostTransitionStatus:Xb,useFormState:QA,useActionState:QA,useOptimistic:function(s,i){var r=Ft();return st!==null?HA(r,st,s,i):(r.baseState=s,[s,r.queue.dispatch])},useMemoCache:Fb,useCacheRefresh:h1};x1.useEffectEvent=e1;function Qb(s,i,r,d){i=s.memoizedState,r=r(d,i),r=r==null?i:b({},i,r),s.memoizedState=r,s.lanes===0&&(s.updateQueue.baseState=r)}var Zb={enqueueSetState:function(s,i,r){s=s._reactInternals;var d=yn(),x=Ir(d);x.payload=i,r!=null&&(x.callback=r),i=Fr(s,x,d),i!==null&&(Zs(i,s,d),Bh(i,s,d))},enqueueReplaceState:function(s,i,r){s=s._reactInternals;var d=yn(),x=Ir(d);x.tag=1,x.payload=i,r!=null&&(x.callback=r),i=Fr(s,x,d),i!==null&&(Zs(i,s,d),Bh(i,s,d))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var r=yn(),d=Ir(r);d.tag=2,i!=null&&(d.callback=i),i=Fr(s,d,r),i!==null&&(Zs(i,s,r),Bh(i,s,r))}};function b1(s,i,r,d,x,y,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,N):i.prototype&&i.prototype.isPureReactComponent?!_h(r,d)||!_h(x,y):!0}function y1(s,i,r,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,d),i.state!==s&&Zb.enqueueReplaceState(i,i.state,null)}function bo(s,i){var r=i;if("ref"in i){r={};for(var d in i)d!=="ref"&&(r[d]=i[d])}if(s=s.defaultProps){r===i&&(r=b({},r));for(var x in s)r[x]===void 0&&(r[x]=s[x])}return r}function v1(s){Zp(s)}function w1(s){console.error(s)}function S1(s){Zp(s)}function wg(s,i){try{var r=s.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function A1(s,i,r){try{var d=s.onCaughtError;d(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Jb(s,i,r){return r=Ir(r),r.tag=3,r.payload={element:null},r.callback=function(){wg(s,i)},r}function N1(s){return s=Ir(s),s.tag=3,s}function E1(s,i,r,d){var x=r.type.getDerivedStateFromError;if(typeof x=="function"){var y=d.value;s.payload=function(){return x(y)},s.callback=function(){A1(i,r,d)}}var N=r.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(s.callback=function(){A1(i,r,d),typeof x!="function"&&($r===null?$r=new Set([this]):$r.add(this));var M=d.stack;this.componentDidCatch(d.value,{componentStack:M!==null?M:""})})}function e_(s,i,r,d,x){if(r.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=r.alternate,i!==null&&lu(i,r,x,!0),r=pn.current,r!==null){switch(r.tag){case 31:case 13:return Kn===null?Rg():r.alternate===null&&Dt===0&&(Dt=3),r.flags&=-257,r.flags|=65536,r.lanes=x,d===og?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([d]):i.add(d),Ny(s,d,x)),!1;case 22:return r.flags|=65536,d===og?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([d]):r.add(d)),Ny(s,d,x)),!1}throw Error(n(435,r.tag))}return Ny(s,d,x),Rg(),!1}if(He)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,d!==bb&&(s=Error(n(422),{cause:d}),kh(qn(s,r)))):(d!==bb&&(i=Error(n(423),{cause:d}),kh(qn(i,r))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,d=qn(d,r),x=Jb(s.stateNode,d,x),_b(s,x),Dt!==4&&(Dt=2)),!1;var y=Error(n(520),{cause:d});if(y=qn(y,r),Qh===null?Qh=[y]:Qh.push(y),Dt!==4&&(Dt=2),i===null)return!0;d=qn(d,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,s=x&-x,r.lanes|=s,s=Jb(r.stateNode,d,s),_b(r,s),!1;case 1:if(i=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($r===null||!$r.has(y))))return r.flags|=65536,x&=-x,r.lanes|=x,x=N1(x),E1(x,s,r,d),_b(r,x),!1}r=r.return}while(r!==null);return!1}var ey=Error(n(461)),Gt=!1;function ps(s,i,r,d){i.child=s===null?_A(i,null,r,d):go(i,s.child,r,d)}function C1(s,i,r,d,x){r=r.render;var y=i.ref;if("ref"in d){var N={};for(var M in d)M!=="ref"&&(N[M]=d[M])}else N=d;return ho(i),d=Ob(s,i,r,N,y,x),M=Pb(),s!==null&&!Gt?(Bb(s,i,x),Ta(s,i,x)):(He&&M&&gb(i),i.flags|=1,ps(s,i,d,x),i.child)}function j1(s,i,r,d,x){if(s===null){var y=r.type;return typeof y=="function"&&!fb(y)&&y.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=y,T1(s,i,y,d,x)):(s=sg(r.type,null,d,i,i.mode,x),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,!oy(s,x)){var N=y.memoizedProps;if(r=r.compare,r=r!==null?r:_h,r(N,d)&&s.ref===i.ref)return Ta(s,i,x)}return i.flags|=1,s=Sa(y,d),s.ref=i.ref,s.return=i,i.child=s}function T1(s,i,r,d,x){if(s!==null){var y=s.memoizedProps;if(_h(y,d)&&s.ref===i.ref)if(Gt=!1,i.pendingProps=d=y,oy(s,x))(s.flags&131072)!==0&&(Gt=!0);else return i.lanes=s.lanes,Ta(s,i,x)}return ty(s,i,r,d,x)}function _1(s,i,r,d){var x=d.children,y=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|r:r,s!==null){for(d=i.child=s.child,x=0;d!==null;)x=x|d.lanes|d.childLanes,d=d.sibling;d=x&~y}else d=0,i.child=null;return M1(s,i,y,r,d)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&rg(i,y!==null?y.cachePool:null),y!==null?kA(i,y):Db(),RA(i);else return d=i.lanes=536870912,M1(s,i,y!==null?y.baseLanes|r:r,r,d)}else y!==null?(rg(i,y.cachePool),kA(i,y),Ur(),i.memoizedState=null):(s!==null&&rg(i,null),Db(),Ur());return ps(s,i,x,r),i.child}function Gh(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function M1(s,i,r,d,x){var y=Eb();return y=y===null?null:{parent:Ht._currentValue,pool:y},i.memoizedState={baseLanes:r,cachePool:y},s!==null&&rg(i,null),Db(),RA(i),s!==null&&lu(s,i,d,!0),i.childLanes=x,null}function Sg(s,i){return i=Ng({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function D1(s,i,r){return go(i,s.child,null,r),s=Sg(i,i.pendingProps),s.flags|=2,gn(i),i.memoizedState=null,s}function t_(s,i,r){var d=i.pendingProps,x=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(He){if(d.mode==="hidden")return s=Sg(i,d),i.lanes=536870912,Gh(null,s);if(Rb(i),(s=bt)?(s=VN(s,Wn),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:Rr!==null?{id:Pi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=mA(s),r.return=i,i.child=r,fs=i,bt=null)):s=null,s===null)throw Or(i);return i.lanes=536870912,null}return Sg(i,d)}var y=s.memoizedState;if(y!==null){var N=y.dehydrated;if(Rb(i),x)if(i.flags&256)i.flags&=-257,i=D1(s,i,r);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(n(558));else if(Gt||lu(s,i,r,!1),x=(r&s.childLanes)!==0,Gt||x){if(d=ut,d!==null&&(N=wS(d,r),N!==0&&N!==y.retryLane))throw y.retryLane=N,lo(s,N),Zs(d,s,N),ey;Rg(),i=D1(s,i,r)}else s=y.treeContext,bt=Qn(N.nextSibling),fs=i,He=!0,Lr=null,Wn=!1,s!==null&&xA(i,s),i=Sg(i,d),i.flags|=4096;return i}return s=Sa(s.child,{mode:d.mode,children:d.children}),s.ref=i.ref,i.child=s,s.return=i,s}function Ag(s,i){var r=i.ref;if(r===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(n(284));(s===null||s.ref!==r)&&(i.flags|=4194816)}}function ty(s,i,r,d,x){return ho(i),r=Ob(s,i,r,d,void 0,x),d=Pb(),s!==null&&!Gt?(Bb(s,i,x),Ta(s,i,x)):(He&&d&&gb(i),i.flags|=1,ps(s,i,r,x),i.child)}function k1(s,i,r,d,x,y){return ho(i),i.updateQueue=null,r=OA(i,d,r,x),LA(s),d=Pb(),s!==null&&!Gt?(Bb(s,i,y),Ta(s,i,y)):(He&&d&&gb(i),i.flags|=1,ps(s,i,r,y),i.child)}function R1(s,i,r,d,x){if(ho(i),i.stateNode===null){var y=nu,N=r.contextType;typeof N=="object"&&N!==null&&(y=ms(N)),y=new r(d,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Zb,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=d,y.state=i.memoizedState,y.refs={},jb(i),N=r.contextType,y.context=typeof N=="object"&&N!==null?ms(N):nu,y.state=i.memoizedState,N=r.getDerivedStateFromProps,typeof N=="function"&&(Qb(i,r,N,d),y.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&Zb.enqueueReplaceState(y,y.state,null),Fh(i,d,y,x),Ih(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(s===null){y=i.stateNode;var M=i.memoizedProps,I=bo(r,M);y.props=I;var Y=y.context,te=r.contextType;N=nu,typeof te=="object"&&te!==null&&(N=ms(te));var ne=r.getDerivedStateFromProps;te=typeof ne=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=i.pendingProps!==M,te||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||Y!==N)&&y1(i,y,d,N),Br=!1;var W=i.memoizedState;y.state=W,Fh(i,d,y,x),Ih(),Y=i.memoizedState,M||W!==Y||Br?(typeof ne=="function"&&(Qb(i,r,ne,d),Y=i.memoizedState),(I=Br||b1(i,r,I,d,W,Y,N))?(te||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=Y),y.props=d,y.state=Y,y.context=N,d=I):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{y=i.stateNode,Tb(s,i),N=i.memoizedProps,te=bo(r,N),y.props=te,ne=i.pendingProps,W=y.context,Y=r.contextType,I=nu,typeof Y=="object"&&Y!==null&&(I=ms(Y)),M=r.getDerivedStateFromProps,(Y=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==ne||W!==I)&&y1(i,y,d,I),Br=!1,W=i.memoizedState,y.state=W,Fh(i,d,y,x),Ih();var Z=i.memoizedState;N!==ne||W!==Z||Br||s!==null&&s.dependencies!==null&&ig(s.dependencies)?(typeof M=="function"&&(Qb(i,r,M,d),Z=i.memoizedState),(te=Br||b1(i,r,te,d,W,Z,I)||s!==null&&s.dependencies!==null&&ig(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,Z,I),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,Z,I)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Z),y.props=d,y.state=Z,y.context=I,d=te):(typeof y.componentDidUpdate!="function"||N===s.memoizedProps&&W===s.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&W===s.memoizedState||(i.flags|=1024),d=!1)}return y=d,Ag(s,i),d=(i.flags&128)!==0,y||d?(y=i.stateNode,r=d&&typeof r.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,s!==null&&d?(i.child=go(i,s.child,null,x),i.child=go(i,null,r,x)):ps(s,i,r,x),i.memoizedState=y.state,s=i.child):s=Ta(s,i,x),s}function L1(s,i,r,d){return co(),i.flags|=256,ps(s,i,r,d),i.child}var sy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ny(s){return{baseLanes:s,cachePool:AA()}}function iy(s,i,r){return s=s!==null?s.childLanes&~r:0,i&&(s|=bn),s}function O1(s,i,r){var d=i.pendingProps,x=!1,y=(i.flags&128)!==0,N;if((N=y)||(N=s!==null&&s.memoizedState===null?!1:(It.current&2)!==0),N&&(x=!0,i.flags&=-129),N=(i.flags&32)!==0,i.flags&=-33,s===null){if(He){if(x?zr(i):Ur(),(s=bt)?(s=VN(s,Wn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:Rr!==null?{id:Pi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=mA(s),r.return=i,i.child=r,fs=i,bt=null)):s=null,s===null)throw Or(i);return zy(s)?i.lanes=32:i.lanes=536870912,null}var M=d.children;return d=d.fallback,x?(Ur(),x=i.mode,M=Ng({mode:"hidden",children:M},x),d=oo(d,x,r,null),M.return=i,d.return=i,M.sibling=d,i.child=M,d=i.child,d.memoizedState=ny(r),d.childLanes=iy(s,N,r),i.memoizedState=sy,Gh(null,d)):(zr(i),ay(i,M))}var I=s.memoizedState;if(I!==null&&(M=I.dehydrated,M!==null)){if(y)i.flags&256?(zr(i),i.flags&=-257,i=ry(s,i,r)):i.memoizedState!==null?(Ur(),i.child=s.child,i.flags|=128,i=null):(Ur(),M=d.fallback,x=i.mode,d=Ng({mode:"visible",children:d.children},x),M=oo(M,x,r,null),M.flags|=2,d.return=i,M.return=i,d.sibling=M,i.child=d,go(i,s.child,null,r),d=i.child,d.memoizedState=ny(r),d.childLanes=iy(s,N,r),i.memoizedState=sy,i=Gh(null,d));else if(zr(i),zy(M)){if(N=M.nextSibling&&M.nextSibling.dataset,N)var Y=N.dgst;N=Y,d=Error(n(419)),d.stack="",d.digest=N,kh({value:d,source:null,stack:null}),i=ry(s,i,r)}else if(Gt||lu(s,i,r,!1),N=(r&s.childLanes)!==0,Gt||N){if(N=ut,N!==null&&(d=wS(N,r),d!==0&&d!==I.retryLane))throw I.retryLane=d,lo(s,d),Zs(N,s,d),ey;Fy(M)||Rg(),i=ry(s,i,r)}else Fy(M)?(i.flags|=192,i.child=s.child,i=null):(s=I.treeContext,bt=Qn(M.nextSibling),fs=i,He=!0,Lr=null,Wn=!1,s!==null&&xA(i,s),i=ay(i,d.children),i.flags|=4096);return i}return x?(Ur(),M=d.fallback,x=i.mode,I=s.child,Y=I.sibling,d=Sa(I,{mode:"hidden",children:d.children}),d.subtreeFlags=I.subtreeFlags&65011712,Y!==null?M=Sa(Y,M):(M=oo(M,x,r,null),M.flags|=2),M.return=i,d.return=i,d.sibling=M,i.child=d,Gh(null,d),d=i.child,M=s.child.memoizedState,M===null?M=ny(r):(x=M.cachePool,x!==null?(I=Ht._currentValue,x=x.parent!==I?{parent:I,pool:I}:x):x=AA(),M={baseLanes:M.baseLanes|r,cachePool:x}),d.memoizedState=M,d.childLanes=iy(s,N,r),i.memoizedState=sy,Gh(s.child,d)):(zr(i),r=s.child,s=r.sibling,r=Sa(r,{mode:"visible",children:d.children}),r.return=i,r.sibling=null,s!==null&&(N=i.deletions,N===null?(i.deletions=[s],i.flags|=16):N.push(s)),i.child=r,i.memoizedState=null,r)}function ay(s,i){return i=Ng({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Ng(s,i){return s=mn(22,s,null,i),s.lanes=0,s}function ry(s,i,r){return go(i,s.child,null,r),s=ay(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function P1(s,i,r){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),wb(s.return,i,r)}function ly(s,i,r,d,x,y){var N=s.memoizedState;N===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:r,tailMode:x,treeForkCount:y}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=r,N.tailMode=x,N.treeForkCount=y)}function B1(s,i,r){var d=i.pendingProps,x=d.revealOrder,y=d.tail;d=d.children;var N=It.current,M=(N&2)!==0;if(M?(N=N&1|2,i.flags|=128):N&=1,ie(It,N),ps(s,i,d,r),d=He?Dh:0,!M&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&P1(s,r,i);else if(s.tag===19)P1(s,r,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(r=i.child,x=null;r!==null;)s=r.alternate,s!==null&&hg(s)===null&&(x=r),r=r.sibling;r=x,r===null?(x=i.child,i.child=null):(x=r.sibling,r.sibling=null),ly(i,!1,x,r,y,d);break;case"backwards":case"unstable_legacy-backwards":for(r=null,x=i.child,i.child=null;x!==null;){if(s=x.alternate,s!==null&&hg(s)===null){i.child=x;break}s=x.sibling,x.sibling=r,r=x,x=s}ly(i,!0,r,null,y,d);break;case"together":ly(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function Ta(s,i,r){if(s!==null&&(i.dependencies=s.dependencies),Gr|=i.lanes,(r&i.childLanes)===0)if(s!==null){if(lu(s,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(n(153));if(i.child!==null){for(s=i.child,r=Sa(s,s.pendingProps),i.child=r,r.return=i;s.sibling!==null;)s=s.sibling,r=r.sibling=Sa(s,s.pendingProps),r.return=i;r.sibling=null}return i.child}function oy(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&ig(s)))}function s_(s,i,r){switch(i.tag){case 3:Bt(i,i.stateNode.containerInfo),Pr(i,Ht,s.memoizedState.cache),co();break;case 27:case 5:gi(i);break;case 4:Bt(i,i.stateNode.containerInfo);break;case 10:Pr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Rb(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(zr(i),i.flags|=128,null):(r&i.child.childLanes)!==0?O1(s,i,r):(zr(i),s=Ta(s,i,r),s!==null?s.sibling:null);zr(i);break;case 19:var x=(s.flags&128)!==0;if(d=(r&i.childLanes)!==0,d||(lu(s,i,r,!1),d=(r&i.childLanes)!==0),x){if(d)return B1(s,i,r);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ie(It,It.current),d)break;return null;case 22:return i.lanes=0,_1(s,i,r,i.pendingProps);case 24:Pr(i,Ht,s.memoizedState.cache)}return Ta(s,i,r)}function I1(s,i,r){if(s!==null)if(s.memoizedProps!==i.pendingProps)Gt=!0;else{if(!oy(s,r)&&(i.flags&128)===0)return Gt=!1,s_(s,i,r);Gt=(s.flags&131072)!==0}else Gt=!1,He&&(i.flags&1048576)!==0&&gA(i,Dh,i.index);switch(i.lanes=0,i.tag){case 16:e:{var d=i.pendingProps;if(s=mo(i.elementType),i.type=s,typeof s=="function")fb(s)?(d=bo(s,d),i.tag=1,i=R1(null,i,s,d,r)):(i.tag=0,i=ty(null,i,s,d,r));else{if(s!=null){var x=s.$$typeof;if(x===L){i.tag=11,i=C1(null,i,s,d,r);break e}else if(x===k){i.tag=14,i=j1(null,i,s,d,r);break e}}throw i=de(s)||s,Error(n(306,i,""))}}return i;case 0:return ty(s,i,i.type,i.pendingProps,r);case 1:return d=i.type,x=bo(d,i.pendingProps),R1(s,i,d,x,r);case 3:e:{if(Bt(i,i.stateNode.containerInfo),s===null)throw Error(n(387));d=i.pendingProps;var y=i.memoizedState;x=y.element,Tb(s,i),Fh(i,d,null,r);var N=i.memoizedState;if(d=N.cache,Pr(i,Ht,d),d!==y.cache&&Sb(i,[Ht],r,!0),Ih(),d=N.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:N.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=L1(s,i,d,r);break e}else if(d!==x){x=qn(Error(n(424)),i),kh(x),i=L1(s,i,d,r);break e}else{switch(s=i.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(bt=Qn(s.firstChild),fs=i,He=!0,Lr=null,Wn=!0,r=_A(i,null,d,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(co(),d===x){i=Ta(s,i,r);break e}ps(s,i,d,r)}i=i.child}return i;case 26:return Ag(s,i),s===null?(r=WN(i.type,null,i.pendingProps,null))?i.memoizedState=r:He||(r=i.type,s=i.pendingProps,d=zg(Ce.current).createElement(r),d[hs]=i,d[qs]=s,gs(d,r,s),ns(d),i.stateNode=d):i.memoizedState=WN(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return gi(i),s===null&&He&&(d=i.stateNode=qN(i.type,i.pendingProps,Ce.current),fs=i,Wn=!0,x=bt,Wr(i.type)?(Uy=x,bt=Qn(d.firstChild)):bt=x),ps(s,i,i.pendingProps.children,r),Ag(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&He&&((x=d=bt)&&(d=k_(d,i.type,i.pendingProps,Wn),d!==null?(i.stateNode=d,fs=i,bt=Qn(d.firstChild),Wn=!1,x=!0):x=!1),x||Or(i)),gi(i),x=i.type,y=i.pendingProps,N=s!==null?s.memoizedProps:null,d=y.children,Py(x,y)?d=null:N!==null&&Py(x,N)&&(i.flags|=32),i.memoizedState!==null&&(x=Ob(s,i,YT,null,null,r),rf._currentValue=x),Ag(s,i),ps(s,i,d,r),i.child;case 6:return s===null&&He&&((s=r=bt)&&(r=R_(r,i.pendingProps,Wn),r!==null?(i.stateNode=r,fs=i,bt=null,s=!0):s=!1),s||Or(i)),null;case 13:return O1(s,i,r);case 4:return Bt(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=go(i,null,d,r):ps(s,i,d,r),i.child;case 11:return C1(s,i,i.type,i.pendingProps,r);case 7:return ps(s,i,i.pendingProps,r),i.child;case 8:return ps(s,i,i.pendingProps.children,r),i.child;case 12:return ps(s,i,i.pendingProps.children,r),i.child;case 10:return d=i.pendingProps,Pr(i,i.type,d.value),ps(s,i,d.children,r),i.child;case 9:return x=i.type._context,d=i.pendingProps.children,ho(i),x=ms(x),d=d(x),i.flags|=1,ps(s,i,d,r),i.child;case 14:return j1(s,i,i.type,i.pendingProps,r);case 15:return T1(s,i,i.type,i.pendingProps,r);case 19:return B1(s,i,r);case 31:return t_(s,i,r);case 22:return _1(s,i,r,i.pendingProps);case 24:return ho(i),d=ms(Ht),s===null?(x=Eb(),x===null&&(x=ut,y=Ab(),x.pooledCache=y,y.refCount++,y!==null&&(x.pooledCacheLanes|=r),x=y),i.memoizedState={parent:d,cache:x},jb(i),Pr(i,Ht,x)):((s.lanes&r)!==0&&(Tb(s,i),Fh(i,null,null,r),Ih()),x=s.memoizedState,y=i.memoizedState,x.parent!==d?(x={parent:d,cache:d},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),Pr(i,Ht,d)):(d=y.cache,Pr(i,Ht,d),d!==x.cache&&Sb(i,[Ht],r,!0))),ps(s,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function _a(s){s.flags|=4}function cy(s,i,r,d,x){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if(dN())s.flags|=8192;else throw po=og,Cb}else s.flags&=-16777217}function F1(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!e2(i))if(dN())s.flags|=8192;else throw po=og,Cb}function Eg(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?bS():536870912,s.lanes|=i,yu|=i)}function $h(s,i){if(!He)switch(s.tailMode){case"hidden":i=s.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?s.tail=null:r.sibling=null;break;case"collapsed":r=s.tail;for(var d=null;r!==null;)r.alternate!==null&&(d=r),r=r.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function yt(s){var i=s.alternate!==null&&s.alternate.child===s.child,r=0,d=0;if(i)for(var x=s.child;x!==null;)r|=x.lanes|x.childLanes,d|=x.subtreeFlags&65011712,d|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)r|=x.lanes|x.childLanes,d|=x.subtreeFlags,d|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=d,s.childLanes=r,i}function n_(s,i,r){var d=i.pendingProps;switch(xb(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return r=i.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Ea(Ht),xt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(s===null||s.child===null)&&(ru(i)?_a(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yb())),yt(i),null;case 26:var x=i.type,y=i.memoizedState;return s===null?(_a(i),y!==null?(yt(i),F1(i,y)):(yt(i),cy(i,x,null,d,r))):y?y!==s.memoizedState?(_a(i),yt(i),F1(i,y)):(yt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==d&&_a(i),yt(i),cy(i,x,s,d,r)),null;case 27:if(Hn(i),r=Ce.current,x=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==d&&_a(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return yt(i),null}s=re.current,ru(i)?bA(i):(s=qN(x,d,r),i.stateNode=s,_a(i))}return yt(i),null;case 5:if(Hn(i),x=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==d&&_a(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return yt(i),null}if(y=re.current,ru(i))bA(i);else{var N=zg(Ce.current);switch(y){case 1:y=N.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:y=N.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":y=N.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":y=N.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":y=N.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?N.createElement("select",{is:d.is}):N.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?N.createElement(x,{is:d.is}):N.createElement(x)}}y[hs]=i,y[qs]=d;e:for(N=i.child;N!==null;){if(N.tag===5||N.tag===6)y.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===i)break e;for(;N.sibling===null;){if(N.return===null||N.return===i)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}i.stateNode=y;e:switch(gs(y,x,d),x){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&_a(i)}}return yt(i),cy(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,r),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==d&&_a(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(s=Ce.current,ru(i)){if(s=i.stateNode,r=i.memoizedProps,d=null,x=fs,x!==null)switch(x.tag){case 27:case 5:d=x.memoizedProps}s[hs]=i,s=!!(s.nodeValue===r||d!==null&&d.suppressHydrationWarning===!0||ON(s.nodeValue,r)),s||Or(i,!0)}else s=zg(s).createTextNode(d),s[hs]=i,i.stateNode=s}return yt(i),null;case 31:if(r=i.memoizedState,s===null||s.memoizedState!==null){if(d=ru(i),r!==null){if(s===null){if(!d)throw Error(n(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[hs]=i}else co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),s=!1}else r=yb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=r),s=!0;if(!s)return i.flags&256?(gn(i),i):(gn(i),null);if((i.flags&128)!==0)throw Error(n(558))}return yt(i),null;case 13:if(d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=ru(i),d!==null&&d.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[hs]=i}else co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),x=!1}else x=yb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(gn(i),i):(gn(i),null)}return gn(i),(i.flags&128)!==0?(i.lanes=r,i):(r=d!==null,s=s!==null&&s.memoizedState!==null,r&&(d=i.child,x=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(x=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==x&&(d.flags|=2048)),r!==s&&r&&(i.child.flags|=8192),Eg(i,i.updateQueue),yt(i),null);case 4:return xt(),s===null&&Dy(i.stateNode.containerInfo),yt(i),null;case 10:return Ea(i.type),yt(i),null;case 19:if($(It),d=i.memoizedState,d===null)return yt(i),null;if(x=(i.flags&128)!==0,y=d.rendering,y===null)if(x)$h(d,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(y=hg(s),y!==null){for(i.flags|=128,$h(d,!1),s=y.updateQueue,i.updateQueue=s,Eg(i,s),i.subtreeFlags=0,s=r,r=i.child;r!==null;)fA(r,s),r=r.sibling;return ie(It,It.current&1|2),He&&Aa(i,d.treeForkCount),i.child}s=s.sibling}d.tail!==null&&un()>Mg&&(i.flags|=128,x=!0,$h(d,!1),i.lanes=4194304)}else{if(!x)if(s=hg(y),s!==null){if(i.flags|=128,x=!0,s=s.updateQueue,i.updateQueue=s,Eg(i,s),$h(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!He)return yt(i),null}else 2*un()-d.renderingStartTime>Mg&&r!==536870912&&(i.flags|=128,x=!0,$h(d,!1),i.lanes=4194304);d.isBackwards?(y.sibling=i.child,i.child=y):(s=d.last,s!==null?s.sibling=y:i.child=y,d.last=y)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=un(),s.sibling=null,r=It.current,ie(It,x?r&1|2:r&1),He&&Aa(i,d.treeForkCount),s):(yt(i),null);case 22:case 23:return gn(i),kb(),d=i.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(r&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),r=i.updateQueue,r!==null&&Eg(i,r.retryQueue),r=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==r&&(i.flags|=2048),s!==null&&$(fo),null;case 24:return r=null,s!==null&&(r=s.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Ea(Ht),yt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function i_(s,i){switch(xb(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Ea(Ht),xt(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Hn(i),null;case 31:if(i.memoizedState!==null){if(gn(i),i.alternate===null)throw Error(n(340));co()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(gn(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(n(340));co()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return $(It),null;case 4:return xt(),null;case 10:return Ea(i.type),null;case 22:case 23:return gn(i),kb(),s!==null&&$(fo),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Ea(Ht),null;case 25:return null;default:return null}}function z1(s,i){switch(xb(i),i.tag){case 3:Ea(Ht),xt();break;case 26:case 27:case 5:Hn(i);break;case 4:xt();break;case 31:i.memoizedState!==null&&gn(i);break;case 13:gn(i);break;case 19:$(It);break;case 10:Ea(i.type);break;case 22:case 23:gn(i),kb(),s!==null&&$(fo);break;case 24:Ea(Ht)}}function qh(s,i){try{var r=i.updateQueue,d=r!==null?r.lastEffect:null;if(d!==null){var x=d.next;r=x;do{if((r.tag&s)===s){d=void 0;var y=r.create,N=r.inst;d=y(),N.destroy=d}r=r.next}while(r!==x)}}catch(M){Je(i,i.return,M)}}function Hr(s,i,r){try{var d=i.updateQueue,x=d!==null?d.lastEffect:null;if(x!==null){var y=x.next;d=y;do{if((d.tag&s)===s){var N=d.inst,M=N.destroy;if(M!==void 0){N.destroy=void 0,x=i;var I=r,Y=M;try{Y()}catch(te){Je(x,I,te)}}}d=d.next}while(d!==y)}}catch(te){Je(i,i.return,te)}}function U1(s){var i=s.updateQueue;if(i!==null){var r=s.stateNode;try{DA(i,r)}catch(d){Je(s,s.return,d)}}}function H1(s,i,r){r.props=bo(s.type,s.memoizedProps),r.state=s.memoizedState;try{r.componentWillUnmount()}catch(d){Je(s,i,d)}}function Yh(s,i){try{var r=s.ref;if(r!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof r=="function"?s.refCleanup=r(d):r.current=d}}catch(x){Je(s,i,x)}}function Ii(s,i){var r=s.ref,d=s.refCleanup;if(r!==null)if(typeof d=="function")try{d()}catch(x){Je(s,i,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(x){Je(s,i,x)}else r.current=null}function V1(s){var i=s.type,r=s.memoizedProps,d=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&d.focus();break e;case"img":r.src?d.src=r.src:r.srcSet&&(d.srcset=r.srcSet)}}catch(x){Je(s,s.return,x)}}function uy(s,i,r){try{var d=s.stateNode;C_(d,s.type,r,i),d[qs]=i}catch(x){Je(s,s.return,x)}}function G1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Wr(s.type)||s.tag===4}function dy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||G1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Wr(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function hy(s,i,r){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(s,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(s),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=va));else if(d!==4&&(d===27&&Wr(s.type)&&(r=s.stateNode,i=null),s=s.child,s!==null))for(hy(s,i,r),s=s.sibling;s!==null;)hy(s,i,r),s=s.sibling}function Cg(s,i,r){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?r.insertBefore(s,i):r.appendChild(s);else if(d!==4&&(d===27&&Wr(s.type)&&(r=s.stateNode),s=s.child,s!==null))for(Cg(s,i,r),s=s.sibling;s!==null;)Cg(s,i,r),s=s.sibling}function $1(s){var i=s.stateNode,r=s.memoizedProps;try{for(var d=s.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);gs(i,d,r),i[hs]=s,i[qs]=r}catch(y){Je(s,s.return,y)}}var Ma=!1,$t=!1,fy=!1,q1=typeof WeakSet=="function"?WeakSet:Set,is=null;function a_(s,i){if(s=s.containerInfo,Ly=Yg,s=iA(s),rb(s)){if("selectionStart"in s)var r={start:s.selectionStart,end:s.selectionEnd};else e:{r=(r=s.ownerDocument)&&r.defaultView||window;var d=r.getSelection&&r.getSelection();if(d&&d.rangeCount!==0){r=d.anchorNode;var x=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break e}var N=0,M=-1,I=-1,Y=0,te=0,ne=s,W=null;t:for(;;){for(var Z;ne!==r||x!==0&&ne.nodeType!==3||(M=N+x),ne!==y||d!==0&&ne.nodeType!==3||(I=N+d),ne.nodeType===3&&(N+=ne.nodeValue.length),(Z=ne.firstChild)!==null;)W=ne,ne=Z;for(;;){if(ne===s)break t;if(W===r&&++Y===x&&(M=N),W===y&&++te===d&&(I=N),(Z=ne.nextSibling)!==null)break;ne=W,W=ne.parentNode}ne=Z}r=M===-1||I===-1?null:{start:M,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(Oy={focusedElem:s,selectionRange:r},Yg=!1,is=i;is!==null;)if(i=is,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,is=s;else for(;is!==null;){switch(i=is,y=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(r=0;r<s.length;r++)x=s[r],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,r=i,x=y.memoizedProps,y=y.memoizedState,d=r.stateNode;try{var ge=bo(r.type,x);s=d.getSnapshotBeforeUpdate(ge,y),d.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){Je(r,r.return,Ne)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,r=s.nodeType,r===9)Iy(s);else if(r===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Iy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=i.sibling,s!==null){s.return=i.return,is=s;break}is=i.return}}function Y1(s,i,r){var d=r.flags;switch(r.tag){case 0:case 11:case 15:ka(s,r),d&4&&qh(5,r);break;case 1:if(ka(s,r),d&4)if(s=r.stateNode,i===null)try{s.componentDidMount()}catch(N){Je(r,r.return,N)}else{var x=bo(r.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(x,i,s.__reactInternalSnapshotBeforeUpdate)}catch(N){Je(r,r.return,N)}}d&64&&U1(r),d&512&&Yh(r,r.return);break;case 3:if(ka(s,r),d&64&&(s=r.updateQueue,s!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{DA(s,i)}catch(N){Je(r,r.return,N)}}break;case 27:i===null&&d&4&&$1(r);case 26:case 5:ka(s,r),i===null&&d&4&&V1(r),d&512&&Yh(r,r.return);break;case 12:ka(s,r);break;case 31:ka(s,r),d&4&&K1(s,r);break;case 13:ka(s,r),d&4&&Q1(s,r),d&64&&(s=r.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(r=m_.bind(null,r),L_(s,r))));break;case 22:if(d=r.memoizedState!==null||Ma,!d){i=i!==null&&i.memoizedState!==null||$t,x=Ma;var y=$t;Ma=d,($t=i)&&!y?Ra(s,r,(r.subtreeFlags&8772)!==0):ka(s,r),Ma=x,$t=y}break;case 30:break;default:ka(s,r)}}function X1(s){var i=s.alternate;i!==null&&(s.alternate=null,X1(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&Vx(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var wt=null,Xs=!1;function Da(s,i,r){for(r=r.child;r!==null;)W1(s,i,r),r=r.sibling}function W1(s,i,r){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(xh,r)}catch{}switch(r.tag){case 26:$t||Ii(r,i),Da(s,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:$t||Ii(r,i);var d=wt,x=Xs;Wr(r.type)&&(wt=r.stateNode,Xs=!1),Da(s,i,r),sf(r.stateNode),wt=d,Xs=x;break;case 5:$t||Ii(r,i);case 6:if(d=wt,x=Xs,wt=null,Da(s,i,r),wt=d,Xs=x,wt!==null)if(Xs)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(r.stateNode)}catch(y){Je(r,i,y)}else try{wt.removeChild(r.stateNode)}catch(y){Je(r,i,y)}break;case 18:wt!==null&&(Xs?(s=wt,UN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.stateNode),ju(s)):UN(wt,r.stateNode));break;case 4:d=wt,x=Xs,wt=r.stateNode.containerInfo,Xs=!0,Da(s,i,r),wt=d,Xs=x;break;case 0:case 11:case 14:case 15:Hr(2,r,i),$t||Hr(4,r,i),Da(s,i,r);break;case 1:$t||(Ii(r,i),d=r.stateNode,typeof d.componentWillUnmount=="function"&&H1(r,i,d)),Da(s,i,r);break;case 21:Da(s,i,r);break;case 22:$t=(d=$t)||r.memoizedState!==null,Da(s,i,r),$t=d;break;default:Da(s,i,r)}}function K1(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ju(s)}catch(r){Je(i,i.return,r)}}}function Q1(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ju(s)}catch(r){Je(i,i.return,r)}}function r_(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new q1),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new q1),i;default:throw Error(n(435,s.tag))}}function jg(s,i){var r=r_(s);i.forEach(function(d){if(!r.has(d)){r.add(d);var x=p_.bind(null,s,d);d.then(x,x)}})}function Ws(s,i){var r=i.deletions;if(r!==null)for(var d=0;d<r.length;d++){var x=r[d],y=s,N=i,M=N;e:for(;M!==null;){switch(M.tag){case 27:if(Wr(M.type)){wt=M.stateNode,Xs=!1;break e}break;case 5:wt=M.stateNode,Xs=!1;break e;case 3:case 4:wt=M.stateNode.containerInfo,Xs=!0;break e}M=M.return}if(wt===null)throw Error(n(160));W1(y,N,x),wt=null,Xs=!1,y=x.alternate,y!==null&&(y.return=null),x.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Z1(i,s),i=i.sibling}var bi=null;function Z1(s,i){var r=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ws(i,s),Ks(s),d&4&&(Hr(3,s,s.return),qh(3,s),Hr(5,s,s.return));break;case 1:Ws(i,s),Ks(s),d&512&&($t||r===null||Ii(r,r.return)),d&64&&Ma&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(r=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=r===null?d:r.concat(d))));break;case 26:var x=bi;if(Ws(i,s),Ks(s),d&512&&($t||r===null||Ii(r,r.return)),d&4){var y=r!==null?r.memoizedState:null;if(d=s.memoizedState,r===null)if(d===null)if(s.stateNode===null){e:{d=s.type,r=s.memoizedProps,x=x.ownerDocument||x;t:switch(d){case"title":y=x.getElementsByTagName("title")[0],(!y||y[vh]||y[hs]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=x.createElement(d),x.head.insertBefore(y,x.querySelector("head > title"))),gs(y,d,r),y[hs]=s,ns(y),d=y;break e;case"link":var N=ZN("link","href",x).get(d+(r.href||""));if(N){for(var M=0;M<N.length;M++)if(y=N[M],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){N.splice(M,1);break t}}y=x.createElement(d),gs(y,d,r),x.head.appendChild(y);break;case"meta":if(N=ZN("meta","content",x).get(d+(r.content||""))){for(M=0;M<N.length;M++)if(y=N[M],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){N.splice(M,1);break t}}y=x.createElement(d),gs(y,d,r),x.head.appendChild(y);break;default:throw Error(n(468,d))}y[hs]=s,ns(y),d=y}s.stateNode=d}else JN(x,s.type,s.stateNode);else s.stateNode=QN(x,d,s.memoizedProps);else y!==d?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,d===null?JN(x,s.type,s.stateNode):QN(x,d,s.memoizedProps)):d===null&&s.stateNode!==null&&uy(s,s.memoizedProps,r.memoizedProps)}break;case 27:Ws(i,s),Ks(s),d&512&&($t||r===null||Ii(r,r.return)),r!==null&&d&4&&uy(s,s.memoizedProps,r.memoizedProps);break;case 5:if(Ws(i,s),Ks(s),d&512&&($t||r===null||Ii(r,r.return)),s.flags&32){x=s.stateNode;try{Kc(x,"")}catch(ge){Je(s,s.return,ge)}}d&4&&s.stateNode!=null&&(x=s.memoizedProps,uy(s,x,r!==null?r.memoizedProps:x)),d&1024&&(fy=!0);break;case 6:if(Ws(i,s),Ks(s),d&4){if(s.stateNode===null)throw Error(n(162));d=s.memoizedProps,r=s.stateNode;try{r.nodeValue=d}catch(ge){Je(s,s.return,ge)}}break;case 3:if(Vg=null,x=bi,bi=Ug(i.containerInfo),Ws(i,s),bi=x,Ks(s),d&4&&r!==null&&r.memoizedState.isDehydrated)try{ju(i.containerInfo)}catch(ge){Je(s,s.return,ge)}fy&&(fy=!1,J1(s));break;case 4:d=bi,bi=Ug(s.stateNode.containerInfo),Ws(i,s),Ks(s),bi=d;break;case 12:Ws(i,s),Ks(s);break;case 31:Ws(i,s),Ks(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,jg(s,d)));break;case 13:Ws(i,s),Ks(s),s.child.flags&8192&&s.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(_g=un()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,jg(s,d)));break;case 22:x=s.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,Y=Ma,te=$t;if(Ma=Y||x,$t=te||I,Ws(i,s),$t=te,Ma=Y,Ks(s),d&8192)e:for(i=s.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(r===null||I||Ma||$t||yo(s)),r=null,i=s;;){if(i.tag===5||i.tag===26){if(r===null){I=r=i;try{if(y=I.stateNode,x)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{M=I.stateNode;var ne=I.memoizedProps.style,W=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;M.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ge){Je(I,I.return,ge)}}}else if(i.tag===6){if(r===null){I=i;try{I.stateNode.nodeValue=x?"":I.memoizedProps}catch(ge){Je(I,I.return,ge)}}}else if(i.tag===18){if(r===null){I=i;try{var Z=I.stateNode;x?HN(Z,!0):HN(I.stateNode,!1)}catch(ge){Je(I,I.return,ge)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=s.updateQueue,d!==null&&(r=d.retryQueue,r!==null&&(d.retryQueue=null,jg(s,r))));break;case 19:Ws(i,s),Ks(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,jg(s,d)));break;case 30:break;case 21:break;default:Ws(i,s),Ks(s)}}function Ks(s){var i=s.flags;if(i&2){try{for(var r,d=s.return;d!==null;){if(G1(d)){r=d;break}d=d.return}if(r==null)throw Error(n(160));switch(r.tag){case 27:var x=r.stateNode,y=dy(s);Cg(s,y,x);break;case 5:var N=r.stateNode;r.flags&32&&(Kc(N,""),r.flags&=-33);var M=dy(s);Cg(s,M,N);break;case 3:case 4:var I=r.stateNode.containerInfo,Y=dy(s);hy(s,Y,I);break;default:throw Error(n(161))}}catch(te){Je(s,s.return,te)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function J1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;J1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function ka(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Y1(s,i.alternate,i),i=i.sibling}function yo(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:Hr(4,i,i.return),yo(i);break;case 1:Ii(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&H1(i,i.return,r),yo(i);break;case 27:sf(i.stateNode);case 26:case 5:Ii(i,i.return),yo(i);break;case 22:i.memoizedState===null&&yo(i);break;case 30:yo(i);break;default:yo(i)}s=s.sibling}}function Ra(s,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,x=s,y=i,N=y.flags;switch(y.tag){case 0:case 11:case 15:Ra(x,y,r),qh(4,y);break;case 1:if(Ra(x,y,r),d=y,x=d.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Y){Je(d,d.return,Y)}if(d=y,x=d.updateQueue,x!==null){var M=d.stateNode;try{var I=x.shared.hiddenCallbacks;if(I!==null)for(x.shared.hiddenCallbacks=null,x=0;x<I.length;x++)MA(I[x],M)}catch(Y){Je(d,d.return,Y)}}r&&N&64&&U1(y),Yh(y,y.return);break;case 27:$1(y);case 26:case 5:Ra(x,y,r),r&&d===null&&N&4&&V1(y),Yh(y,y.return);break;case 12:Ra(x,y,r);break;case 31:Ra(x,y,r),r&&N&4&&K1(x,y);break;case 13:Ra(x,y,r),r&&N&4&&Q1(x,y);break;case 22:y.memoizedState===null&&Ra(x,y,r),Yh(y,y.return);break;case 30:break;default:Ra(x,y,r)}i=i.sibling}}function my(s,i){var r=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(s!=null&&s.refCount++,r!=null&&Rh(r))}function py(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Rh(s))}function yi(s,i,r,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)eN(s,i,r,d),i=i.sibling}function eN(s,i,r,d){var x=i.flags;switch(i.tag){case 0:case 11:case 15:yi(s,i,r,d),x&2048&&qh(9,i);break;case 1:yi(s,i,r,d);break;case 3:yi(s,i,r,d),x&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Rh(s)));break;case 12:if(x&2048){yi(s,i,r,d),s=i.stateNode;try{var y=i.memoizedProps,N=y.id,M=y.onPostCommit;typeof M=="function"&&M(N,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else yi(s,i,r,d);break;case 31:yi(s,i,r,d);break;case 13:yi(s,i,r,d);break;case 23:break;case 22:y=i.stateNode,N=i.alternate,i.memoizedState!==null?y._visibility&2?yi(s,i,r,d):Xh(s,i):y._visibility&2?yi(s,i,r,d):(y._visibility|=2,gu(s,i,r,d,(i.subtreeFlags&10256)!==0||!1)),x&2048&&my(N,i);break;case 24:yi(s,i,r,d),x&2048&&py(i.alternate,i);break;default:yi(s,i,r,d)}}function gu(s,i,r,d,x){for(x=x&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=s,N=i,M=r,I=d,Y=N.flags;switch(N.tag){case 0:case 11:case 15:gu(y,N,M,I,x),qh(8,N);break;case 23:break;case 22:var te=N.stateNode;N.memoizedState!==null?te._visibility&2?gu(y,N,M,I,x):Xh(y,N):(te._visibility|=2,gu(y,N,M,I,x)),x&&Y&2048&&my(N.alternate,N);break;case 24:gu(y,N,M,I,x),x&&Y&2048&&py(N.alternate,N);break;default:gu(y,N,M,I,x)}i=i.sibling}}function Xh(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=s,d=i,x=d.flags;switch(d.tag){case 22:Xh(r,d),x&2048&&my(d.alternate,d);break;case 24:Xh(r,d),x&2048&&py(d.alternate,d);break;default:Xh(r,d)}i=i.sibling}}var Wh=8192;function xu(s,i,r){if(s.subtreeFlags&Wh)for(s=s.child;s!==null;)tN(s,i,r),s=s.sibling}function tN(s,i,r){switch(s.tag){case 26:xu(s,i,r),s.flags&Wh&&s.memoizedState!==null&&q_(r,bi,s.memoizedState,s.memoizedProps);break;case 5:xu(s,i,r);break;case 3:case 4:var d=bi;bi=Ug(s.stateNode.containerInfo),xu(s,i,r),bi=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Wh,Wh=16777216,xu(s,i,r),Wh=d):xu(s,i,r));break;default:xu(s,i,r)}}function sN(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function Kh(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var d=i[r];is=d,iN(d,s)}sN(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)nN(s),s=s.sibling}function nN(s){switch(s.tag){case 0:case 11:case 15:Kh(s),s.flags&2048&&Hr(9,s,s.return);break;case 3:Kh(s);break;case 12:Kh(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Tg(s)):Kh(s);break;default:Kh(s)}}function Tg(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var d=i[r];is=d,iN(d,s)}sN(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:Hr(8,i,i.return),Tg(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Tg(i));break;default:Tg(i)}s=s.sibling}}function iN(s,i){for(;is!==null;){var r=is;switch(r.tag){case 0:case 11:case 15:Hr(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var d=r.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Rh(r.memoizedState.cache)}if(d=r.child,d!==null)d.return=r,is=d;else e:for(r=s;is!==null;){d=is;var x=d.sibling,y=d.return;if(X1(d),d===r){is=null;break e}if(x!==null){x.return=y,is=x;break e}is=y}}}var l_={getCacheForType:function(s){var i=ms(Ht),r=i.data.get(s);return r===void 0&&(r=s(),i.data.set(s,r)),r},cacheSignal:function(){return ms(Ht).controller.signal}},o_=typeof WeakMap=="function"?WeakMap:Map,We=0,ut=null,Ie=null,ze=0,Ze=0,xn=null,Vr=!1,bu=!1,gy=!1,La=0,Dt=0,Gr=0,vo=0,xy=0,bn=0,yu=0,Qh=null,Qs=null,by=!1,_g=0,aN=0,Mg=1/0,Dg=null,$r=null,Kt=0,qr=null,vu=null,Oa=0,yy=0,vy=null,rN=null,Zh=0,wy=null;function yn(){return(We&2)!==0&&ze!==0?ze&-ze:H.T!==null?jy():SS()}function lN(){if(bn===0)if((ze&536870912)===0||He){var s=Fp;Fp<<=1,(Fp&3932160)===0&&(Fp=262144),bn=s}else bn=536870912;return s=pn.current,s!==null&&(s.flags|=32),bn}function Zs(s,i,r){(s===ut&&(Ze===2||Ze===9)||s.cancelPendingCommit!==null)&&(wu(s,0),Yr(s,ze,bn,!1)),yh(s,r),((We&2)===0||s!==ut)&&(s===ut&&((We&2)===0&&(vo|=r),Dt===4&&Yr(s,ze,bn,!1)),Fi(s))}function oN(s,i,r){if((We&6)!==0)throw Error(n(327));var d=!r&&(i&127)===0&&(i&s.expiredLanes)===0||bh(s,i),x=d?d_(s,i):Ay(s,i,!0),y=d;do{if(x===0){bu&&!d&&Yr(s,i,0,!1);break}else{if(r=s.current.alternate,y&&!c_(r)){x=Ay(s,i,!1),y=!1;continue}if(x===2){if(y=i,s.errorRecoveryDisabledLanes&y)var N=0;else N=s.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){i=N;e:{var M=s;x=Qh;var I=M.current.memoizedState.isDehydrated;if(I&&(wu(M,N).flags|=256),N=Ay(M,N,!1),N!==2){if(gy&&!I){M.errorRecoveryDisabledLanes|=y,vo|=y,x=4;break e}y=Qs,Qs=x,y!==null&&(Qs===null?Qs=y:Qs.push.apply(Qs,y))}x=N}if(y=!1,x!==2)continue}}if(x===1){wu(s,0),Yr(s,i,0,!0);break}e:{switch(d=s,y=x,y){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Yr(d,i,bn,!Vr);break e;case 2:Qs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(x=_g+300-un(),10<x)){if(Yr(d,i,bn,!Vr),Up(d,0,!0)!==0)break e;Oa=i,d.timeoutHandle=FN(cN.bind(null,d,r,Qs,Dg,by,i,bn,vo,yu,Vr,y,"Throttled",-0,0),x);break e}cN(d,r,Qs,Dg,by,i,bn,vo,yu,Vr,y,null,-0,0)}}break}while(!0);Fi(s)}function cN(s,i,r,d,x,y,N,M,I,Y,te,ne,W,Z){if(s.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},tN(i,y,ne);var ge=(y&62914560)===y?_g-un():(y&4194048)===y?aN-un():0;if(ge=Y_(ne,ge),ge!==null){Oa=y,s.cancelPendingCommit=ge(xN.bind(null,s,i,y,r,d,x,N,M,I,te,ne,null,W,Z)),Yr(s,y,N,!Y);return}}xN(s,i,y,r,d,x,N,M,I)}function c_(s){for(var i=s;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var d=0;d<r.length;d++){var x=r[d],y=x.getSnapshot;x=x.value;try{if(!fn(y(),x))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yr(s,i,r,d){i&=~xy,i&=~vo,s.suspendedLanes|=i,s.pingedLanes&=~i,d&&(s.warmLanes|=i),d=s.expirationTimes;for(var x=i;0<x;){var y=31-hn(x),N=1<<y;d[y]=-1,x&=~N}r!==0&&yS(s,r,i)}function kg(){return(We&6)===0?(Jh(0),!1):!0}function Sy(){if(Ie!==null){if(Ze===0)var s=Ie.return;else s=Ie,Na=uo=null,Ib(s),du=null,Oh=0,s=Ie;for(;s!==null;)z1(s.alternate,s),s=s.return;Ie=null}}function wu(s,i){var r=s.timeoutHandle;r!==-1&&(s.timeoutHandle=-1,__(r)),r=s.cancelPendingCommit,r!==null&&(s.cancelPendingCommit=null,r()),Oa=0,Sy(),ut=s,Ie=r=Sa(s.current,null),ze=i,Ze=0,xn=null,Vr=!1,bu=bh(s,i),gy=!1,yu=bn=xy=vo=Gr=Dt=0,Qs=Qh=null,by=!1,(i&8)!==0&&(i|=i&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=i;0<d;){var x=31-hn(d),y=1<<x;i|=s[x],d&=~y}return La=i,Jp(),r}function uN(s,i){De=null,H.H=Vh,i===uu||i===lg?(i=CA(),Ze=3):i===Cb?(i=CA(),Ze=4):Ze=i===ey?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,Ie===null&&(Dt=1,wg(s,qn(i,s.current)))}function dN(){var s=pn.current;return s===null?!0:(ze&4194048)===ze?Kn===null:(ze&62914560)===ze||(ze&536870912)!==0?s===Kn:!1}function hN(){var s=H.H;return H.H=Vh,s===null?Vh:s}function fN(){var s=H.A;return H.A=l_,s}function Rg(){Dt=4,Vr||(ze&4194048)!==ze&&pn.current!==null||(bu=!0),(Gr&134217727)===0&&(vo&134217727)===0||ut===null||Yr(ut,ze,bn,!1)}function Ay(s,i,r){var d=We;We|=2;var x=hN(),y=fN();(ut!==s||ze!==i)&&(Dg=null,wu(s,i)),i=!1;var N=Dt;e:do try{if(Ze!==0&&Ie!==null){var M=Ie,I=xn;switch(Ze){case 8:Sy(),N=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var Y=Ze;if(Ze=0,xn=null,Su(s,M,I,Y),r&&bu){N=0;break e}break;default:Y=Ze,Ze=0,xn=null,Su(s,M,I,Y)}}u_(),N=Dt;break}catch(te){uN(s,te)}while(!0);return i&&s.shellSuspendCounter++,Na=uo=null,We=d,H.H=x,H.A=y,Ie===null&&(ut=null,ze=0,Jp()),N}function u_(){for(;Ie!==null;)mN(Ie)}function d_(s,i){var r=We;We|=2;var d=hN(),x=fN();ut!==s||ze!==i?(Dg=null,Mg=un()+500,wu(s,i)):bu=bh(s,i);e:do try{if(Ze!==0&&Ie!==null){i=Ie;var y=xn;t:switch(Ze){case 1:Ze=0,xn=null,Su(s,i,y,1);break;case 2:case 9:if(NA(y)){Ze=0,xn=null,pN(i);break}i=function(){Ze!==2&&Ze!==9||ut!==s||(Ze=7),Fi(s)},y.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:NA(y)?(Ze=0,xn=null,pN(i)):(Ze=0,xn=null,Su(s,i,y,7));break;case 5:var N=null;switch(Ie.tag){case 26:N=Ie.memoizedState;case 5:case 27:var M=Ie;if(N?e2(N):M.stateNode.complete){Ze=0,xn=null;var I=M.sibling;if(I!==null)Ie=I;else{var Y=M.return;Y!==null?(Ie=Y,Lg(Y)):Ie=null}break t}}Ze=0,xn=null,Su(s,i,y,5);break;case 6:Ze=0,xn=null,Su(s,i,y,6);break;case 8:Sy(),Dt=6;break e;default:throw Error(n(462))}}h_();break}catch(te){uN(s,te)}while(!0);return Na=uo=null,H.H=d,H.A=x,We=r,Ie!==null?0:(ut=null,ze=0,Jp(),Dt)}function h_(){for(;Ie!==null&&!Oj();)mN(Ie)}function mN(s){var i=I1(s.alternate,s,La);s.memoizedProps=s.pendingProps,i===null?Lg(s):Ie=i}function pN(s){var i=s,r=i.alternate;switch(i.tag){case 15:case 0:i=k1(r,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=k1(r,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Ib(i);default:z1(r,i),i=Ie=fA(i,La),i=I1(r,i,La)}s.memoizedProps=s.pendingProps,i===null?Lg(s):Ie=i}function Su(s,i,r,d){Na=uo=null,Ib(i),du=null,Oh=0;var x=i.return;try{if(e_(s,x,i,r,ze)){Dt=1,wg(s,qn(r,s.current)),Ie=null;return}}catch(y){if(x!==null)throw Ie=x,y;Dt=1,wg(s,qn(r,s.current)),Ie=null;return}i.flags&32768?(He||d===1?s=!0:bu||(ze&536870912)!==0?s=!1:(Vr=s=!0,(d===2||d===9||d===3||d===6)&&(d=pn.current,d!==null&&d.tag===13&&(d.flags|=16384))),gN(i,s)):Lg(i)}function Lg(s){var i=s;do{if((i.flags&32768)!==0){gN(i,Vr);return}s=i.return;var r=n_(i.alternate,i,La);if(r!==null){Ie=r;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=s}while(i!==null);Dt===0&&(Dt=5)}function gN(s,i){do{var r=i_(s.alternate,s);if(r!==null){r.flags&=32767,Ie=r;return}if(r=s.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(s=s.sibling,s!==null)){Ie=s;return}Ie=s=r}while(s!==null);Dt=6,Ie=null}function xN(s,i,r,d,x,y,N,M,I){s.cancelPendingCommit=null;do Og();while(Kt!==0);if((We&6)!==0)throw Error(n(327));if(i!==null){if(i===s.current)throw Error(n(177));if(y=i.lanes|i.childLanes,y|=db,$j(s,r,y,N,M,I),s===ut&&(Ie=ut=null,ze=0),vu=i,qr=s,Oa=r,yy=y,vy=x,rN=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,g_(Bp,function(){return SN(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=H.T,H.T=null,x=J.p,J.p=2,N=We,We|=4;try{a_(s,i,r)}finally{We=N,J.p=x,H.T=d}}Kt=1,bN(),yN(),vN()}}function bN(){if(Kt===1){Kt=0;var s=qr,i=vu,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var d=J.p;J.p=2;var x=We;We|=4;try{Z1(i,s);var y=Oy,N=iA(s.containerInfo),M=y.focusedElem,I=y.selectionRange;if(N!==M&&M&&M.ownerDocument&&nA(M.ownerDocument.documentElement,M)){if(I!==null&&rb(M)){var Y=I.start,te=I.end;if(te===void 0&&(te=Y),"selectionStart"in M)M.selectionStart=Y,M.selectionEnd=Math.min(te,M.value.length);else{var ne=M.ownerDocument||document,W=ne&&ne.defaultView||window;if(W.getSelection){var Z=W.getSelection(),ge=M.textContent.length,Ne=Math.min(I.start,ge),it=I.end===void 0?Ne:Math.min(I.end,ge);!Z.extend&&Ne>it&&(N=it,it=Ne,Ne=N);var V=sA(M,Ne),z=sA(M,it);if(V&&z&&(Z.rangeCount!==1||Z.anchorNode!==V.node||Z.anchorOffset!==V.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var q=ne.createRange();q.setStart(V.node,V.offset),Z.removeAllRanges(),Ne>it?(Z.addRange(q),Z.extend(z.node,z.offset)):(q.setEnd(z.node,z.offset),Z.addRange(q))}}}}for(ne=[],Z=M;Z=Z.parentNode;)Z.nodeType===1&&ne.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ne.length;M++){var se=ne[M];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Yg=!!Ly,Oy=Ly=null}finally{We=x,J.p=d,H.T=r}}s.current=i,Kt=2}}function yN(){if(Kt===2){Kt=0;var s=qr,i=vu,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var d=J.p;J.p=2;var x=We;We|=4;try{Y1(s,i.alternate,i)}finally{We=x,J.p=d,H.T=r}}Kt=3}}function vN(){if(Kt===4||Kt===3){Kt=0,Pj();var s=qr,i=vu,r=Oa,d=rN;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kt=5:(Kt=0,vu=qr=null,wN(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&($r=null),Ux(r),i=i.stateNode,dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(xh,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=H.T,x=J.p,J.p=2,H.T=null;try{for(var y=s.onRecoverableError,N=0;N<d.length;N++){var M=d[N];y(M.value,{componentStack:M.stack})}}finally{H.T=i,J.p=x}}(Oa&3)!==0&&Og(),Fi(s),x=s.pendingLanes,(r&261930)!==0&&(x&42)!==0?s===wy?Zh++:(Zh=0,wy=s):Zh=0,Jh(0)}}function wN(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Rh(i)))}function Og(){return bN(),yN(),vN(),SN()}function SN(){if(Kt!==5)return!1;var s=qr,i=yy;yy=0;var r=Ux(Oa),d=H.T,x=J.p;try{J.p=32>r?32:r,H.T=null,r=vy,vy=null;var y=qr,N=Oa;if(Kt=0,vu=qr=null,Oa=0,(We&6)!==0)throw Error(n(331));var M=We;if(We|=4,nN(y.current),eN(y,y.current,N,r),We=M,Jh(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(xh,y)}catch{}return!0}finally{J.p=x,H.T=d,wN(s,i)}}function AN(s,i,r){i=qn(r,i),i=Jb(s.stateNode,i,2),s=Fr(s,i,2),s!==null&&(yh(s,2),Fi(s))}function Je(s,i,r){if(s.tag===3)AN(s,s,r);else for(;i!==null;){if(i.tag===3){AN(i,s,r);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&($r===null||!$r.has(d))){s=qn(r,s),r=N1(2),d=Fr(i,r,2),d!==null&&(E1(r,d,i,s),yh(d,2),Fi(d));break}}i=i.return}}function Ny(s,i,r){var d=s.pingCache;if(d===null){d=s.pingCache=new o_;var x=new Set;d.set(i,x)}else x=d.get(i),x===void 0&&(x=new Set,d.set(i,x));x.has(r)||(gy=!0,x.add(r),s=f_.bind(null,s,i,r),i.then(s,s))}function f_(s,i,r){var d=s.pingCache;d!==null&&d.delete(i),s.pingedLanes|=s.suspendedLanes&r,s.warmLanes&=~r,ut===s&&(ze&r)===r&&(Dt===4||Dt===3&&(ze&62914560)===ze&&300>un()-_g?(We&2)===0&&wu(s,0):xy|=r,yu===ze&&(yu=0)),Fi(s)}function NN(s,i){i===0&&(i=bS()),s=lo(s,i),s!==null&&(yh(s,i),Fi(s))}function m_(s){var i=s.memoizedState,r=0;i!==null&&(r=i.retryLane),NN(s,r)}function p_(s,i){var r=0;switch(s.tag){case 31:case 13:var d=s.stateNode,x=s.memoizedState;x!==null&&(r=x.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(i),NN(s,r)}function g_(s,i){return Bx(s,i)}var Pg=null,Au=null,Ey=!1,Bg=!1,Cy=!1,Xr=0;function Fi(s){s!==Au&&s.next===null&&(Au===null?Pg=Au=s:Au=Au.next=s),Bg=!0,Ey||(Ey=!0,b_())}function Jh(s,i){if(!Cy&&Bg){Cy=!0;do for(var r=!1,d=Pg;d!==null;){if(s!==0){var x=d.pendingLanes;if(x===0)var y=0;else{var N=d.suspendedLanes,M=d.pingedLanes;y=(1<<31-hn(42|s)+1)-1,y&=x&~(N&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,TN(d,y))}else y=ze,y=Up(d,d===ut?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||bh(d,y)||(r=!0,TN(d,y));d=d.next}while(r);Cy=!1}}function x_(){EN()}function EN(){Bg=Ey=!1;var s=0;Xr!==0&&T_()&&(s=Xr);for(var i=un(),r=null,d=Pg;d!==null;){var x=d.next,y=CN(d,i);y===0?(d.next=null,r===null?Pg=x:r.next=x,x===null&&(Au=r)):(r=d,(s!==0||(y&3)!==0)&&(Bg=!0)),d=x}Kt!==0&&Kt!==5||Jh(s),Xr!==0&&(Xr=0)}function CN(s,i){for(var r=s.suspendedLanes,d=s.pingedLanes,x=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var N=31-hn(y),M=1<<N,I=x[N];I===-1?((M&r)===0||(M&d)!==0)&&(x[N]=Gj(M,i)):I<=i&&(s.expiredLanes|=M),y&=~M}if(i=ut,r=ze,r=Up(s,s===i?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,r===0||s===i&&(Ze===2||Ze===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Ix(d),s.callbackNode=null,s.callbackPriority=0;if((r&3)===0||bh(s,r)){if(i=r&-r,i===s.callbackPriority)return i;switch(d!==null&&Ix(d),Ux(r)){case 2:case 8:r=gS;break;case 32:r=Bp;break;case 268435456:r=xS;break;default:r=Bp}return d=jN.bind(null,s),r=Bx(r,d),s.callbackPriority=i,s.callbackNode=r,i}return d!==null&&d!==null&&Ix(d),s.callbackPriority=2,s.callbackNode=null,2}function jN(s,i){if(Kt!==0&&Kt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var r=s.callbackNode;if(Og()&&s.callbackNode!==r)return null;var d=ze;return d=Up(s,s===ut?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(oN(s,d,i),CN(s,un()),s.callbackNode!=null&&s.callbackNode===r?jN.bind(null,s):null)}function TN(s,i){if(Og())return null;oN(s,i,!0)}function b_(){M_(function(){(We&6)!==0?Bx(pS,x_):EN()})}function jy(){if(Xr===0){var s=ou;s===0&&(s=Ip,Ip<<=1,(Ip&261888)===0&&(Ip=256)),Xr=s}return Xr}function _N(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$p(""+s)}function MN(s,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,s.id&&r.setAttribute("form",s.id),i.parentNode.insertBefore(r,i),s=new FormData(s),r.parentNode.removeChild(r),s}function y_(s,i,r,d,x){if(i==="submit"&&r&&r.stateNode===x){var y=_N((x[qs]||null).action),N=d.submitter;N&&(i=(i=N[qs]||null)?_N(i.formAction):N.getAttribute("formAction"),i!==null&&(y=i,N=null));var M=new Wp("action","action",null,d,x);s.push({event:M,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Xr!==0){var I=N?MN(x,N):new FormData(x);Yb(r,{pending:!0,data:I,method:x.method,action:y},null,I)}}else typeof y=="function"&&(M.preventDefault(),I=N?MN(x,N):new FormData(x),Yb(r,{pending:!0,data:I,method:x.method,action:y},y,I))},currentTarget:x}]})}}for(var Ty=0;Ty<ub.length;Ty++){var _y=ub[Ty],v_=_y.toLowerCase(),w_=_y[0].toUpperCase()+_y.slice(1);xi(v_,"on"+w_)}xi(lA,"onAnimationEnd"),xi(oA,"onAnimationIteration"),xi(cA,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(BT,"onTransitionRun"),xi(IT,"onTransitionStart"),xi(FT,"onTransitionCancel"),xi(uA,"onTransitionEnd"),Xc("onMouseEnter",["mouseout","mouseover"]),Xc("onMouseLeave",["mouseout","mouseover"]),Xc("onPointerEnter",["pointerout","pointerover"]),Xc("onPointerLeave",["pointerout","pointerover"]),no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),no("onBeforeInput",["compositionend","keypress","textInput","paste"]),no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ef));function DN(s,i){i=(i&4)!==0;for(var r=0;r<s.length;r++){var d=s[r],x=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var N=d.length-1;0<=N;N--){var M=d[N],I=M.instance,Y=M.currentTarget;if(M=M.listener,I!==y&&x.isPropagationStopped())break e;y=M,x.currentTarget=Y;try{y(x)}catch(te){Zp(te)}x.currentTarget=null,y=I}else for(N=0;N<d.length;N++){if(M=d[N],I=M.instance,Y=M.currentTarget,M=M.listener,I!==y&&x.isPropagationStopped())break e;y=M,x.currentTarget=Y;try{y(x)}catch(te){Zp(te)}x.currentTarget=null,y=I}}}}function Fe(s,i){var r=i[Hx];r===void 0&&(r=i[Hx]=new Set);var d=s+"__bubble";r.has(d)||(kN(i,s,2,!1),r.add(d))}function My(s,i,r){var d=0;i&&(d|=4),kN(r,s,d,i)}var Ig="_reactListening"+Math.random().toString(36).slice(2);function Dy(s){if(!s[Ig]){s[Ig]=!0,ES.forEach(function(r){r!=="selectionchange"&&(S_.has(r)||My(r,!1,s),My(r,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Ig]||(i[Ig]=!0,My("selectionchange",!1,i))}}function kN(s,i,r,d){switch(l2(i)){case 2:var x=K_;break;case 8:x=Q_;break;default:x=qy}r=x.bind(null,i,r,s),x=void 0,!Qx||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),d?x!==void 0?s.addEventListener(i,r,{capture:!0,passive:x}):s.addEventListener(i,r,!0):x!==void 0?s.addEventListener(i,r,{passive:x}):s.addEventListener(i,r,!1)}function ky(s,i,r,d,x){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var M=d.stateNode.containerInfo;if(M===x)break;if(N===4)for(N=d.return;N!==null;){var I=N.tag;if((I===3||I===4)&&N.stateNode.containerInfo===x)return;N=N.return}for(;M!==null;){if(N=$c(M),N===null)return;if(I=N.tag,I===5||I===6||I===26||I===27){d=y=N;continue e}M=M.parentNode}}d=d.return}BS(function(){var Y=y,te=Wx(r),ne=[];e:{var W=dA.get(s);if(W!==void 0){var Z=Wp,ge=s;switch(s){case"keypress":if(Yp(r)===0)break e;case"keydown":case"keyup":Z=pT;break;case"focusin":ge="focus",Z=tb;break;case"focusout":ge="blur",Z=tb;break;case"beforeblur":case"afterblur":Z=tb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=zS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=nT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=bT;break;case lA:case oA:case cA:Z=rT;break;case uA:Z=vT;break;case"scroll":case"scrollend":Z=tT;break;case"wheel":Z=ST;break;case"copy":case"cut":case"paste":Z=oT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=HS;break;case"toggle":case"beforetoggle":Z=NT}var Ne=(i&4)!==0,it=!Ne&&(s==="scroll"||s==="scrollend"),V=Ne?W!==null?W+"Capture":null:W;Ne=[];for(var z=Y,q;z!==null;){var se=z;if(q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||q===null||V===null||(se=Sh(z,V),se!=null&&Ne.push(tf(z,se,q))),it)break;z=z.return}0<Ne.length&&(W=new Z(W,ge,null,r,te),ne.push({event:W,listeners:Ne}))}}if((i&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",W&&r!==Xx&&(ge=r.relatedTarget||r.fromElement)&&($c(ge)||ge[Gc]))break e;if((Z||W)&&(W=te.window===te?te:(W=te.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(ge=r.relatedTarget||r.toElement,Z=Y,ge=ge?$c(ge):null,ge!==null&&(it=o(ge),Ne=ge.tag,ge!==it||Ne!==5&&Ne!==27&&Ne!==6)&&(ge=null)):(Z=null,ge=Y),Z!==ge)){if(Ne=zS,se="onMouseLeave",V="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=HS,se="onPointerLeave",V="onPointerEnter",z="pointer"),it=Z==null?W:wh(Z),q=ge==null?W:wh(ge),W=new Ne(se,z+"leave",Z,r,te),W.target=it,W.relatedTarget=q,se=null,$c(te)===Y&&(Ne=new Ne(V,z+"enter",ge,r,te),Ne.target=q,Ne.relatedTarget=it,se=Ne),it=se,Z&&ge)t:{for(Ne=A_,V=Z,z=ge,q=0,se=V;se;se=Ne(se))q++;se=0;for(var Ae=z;Ae;Ae=Ne(Ae))se++;for(;0<q-se;)V=Ne(V),q--;for(;0<se-q;)z=Ne(z),se--;for(;q--;){if(V===z||z!==null&&V===z.alternate){Ne=V;break t}V=Ne(V),z=Ne(z)}Ne=null}else Ne=null;Z!==null&&RN(ne,W,Z,Ne,!1),ge!==null&&it!==null&&RN(ne,it,ge,Ne,!0)}}e:{if(W=Y?wh(Y):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var Ye=KS;else if(XS(W))if(QS)Ye=LT;else{Ye=kT;var be=DT}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&Yx(Y.elementType)&&(Ye=KS):Ye=RT;if(Ye&&(Ye=Ye(s,Y))){WS(ne,Ye,r,te);break e}be&&be(s,W,Y),s==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&qx(W,"number",W.value)}switch(be=Y?wh(Y):window,s){case"focusin":(XS(be)||be.contentEditable==="true")&&(eu=be,lb=Y,Mh=null);break;case"focusout":Mh=lb=eu=null;break;case"mousedown":ob=!0;break;case"contextmenu":case"mouseup":case"dragend":ob=!1,aA(ne,r,te);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":aA(ne,r,te)}var Re;if(nb)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Jc?qS(s,r)&&(Ue="onCompositionEnd"):s==="keydown"&&r.keyCode===229&&(Ue="onCompositionStart");Ue&&(VS&&r.locale!=="ko"&&(Jc||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Jc&&(Re=IS()):(kr=te,Zx="value"in kr?kr.value:kr.textContent,Jc=!0)),be=Fg(Y,Ue),0<be.length&&(Ue=new US(Ue,s,null,r,te),ne.push({event:Ue,listeners:be}),Re?Ue.data=Re:(Re=YS(r),Re!==null&&(Ue.data=Re)))),(Re=CT?jT(s,r):TT(s,r))&&(Ue=Fg(Y,"onBeforeInput"),0<Ue.length&&(be=new US("onBeforeInput","beforeinput",null,r,te),ne.push({event:be,listeners:Ue}),be.data=Re)),y_(ne,s,Y,r,te)}DN(ne,i)})}function tf(s,i,r){return{instance:s,listener:i,currentTarget:r}}function Fg(s,i){for(var r=i+"Capture",d=[];s!==null;){var x=s,y=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||y===null||(x=Sh(s,r),x!=null&&d.unshift(tf(s,x,y)),x=Sh(s,i),x!=null&&d.push(tf(s,x,y))),s.tag===3)return d;s=s.return}return[]}function A_(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function RN(s,i,r,d,x){for(var y=i._reactName,N=[];r!==null&&r!==d;){var M=r,I=M.alternate,Y=M.stateNode;if(M=M.tag,I!==null&&I===d)break;M!==5&&M!==26&&M!==27||Y===null||(I=Y,x?(Y=Sh(r,y),Y!=null&&N.unshift(tf(r,Y,I))):x||(Y=Sh(r,y),Y!=null&&N.push(tf(r,Y,I)))),r=r.return}N.length!==0&&s.push({event:i,listeners:N})}var N_=/\r\n?/g,E_=/\u0000|\uFFFD/g;function LN(s){return(typeof s=="string"?s:""+s).replace(N_,`
`).replace(E_,"")}function ON(s,i){return i=LN(i),LN(s)===i}function nt(s,i,r,d,x,y){switch(r){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||Kc(s,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&Kc(s,""+d);break;case"className":Vp(s,"class",d);break;case"tabIndex":Vp(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Vp(s,r,d);break;case"style":OS(s,d,y);break;case"data":if(i!=="object"){Vp(s,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||r!=="href")){s.removeAttribute(r);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(r);break}d=$p(""+d),s.setAttribute(r,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(i!=="input"&&nt(s,i,"name",x.name,x,null),nt(s,i,"formEncType",x.formEncType,x,null),nt(s,i,"formMethod",x.formMethod,x,null),nt(s,i,"formTarget",x.formTarget,x,null)):(nt(s,i,"encType",x.encType,x,null),nt(s,i,"method",x.method,x,null),nt(s,i,"target",x.target,x,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(r);break}d=$p(""+d),s.setAttribute(r,d);break;case"onClick":d!=null&&(s.onclick=va);break;case"onScroll":d!=null&&Fe("scroll",s);break;case"onScrollEnd":d!=null&&Fe("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(r=d.__html,r!=null){if(x.children!=null)throw Error(n(60));s.innerHTML=r}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}r=$p(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(r,""+d):s.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(r,""):s.removeAttribute(r);break;case"capture":case"download":d===!0?s.setAttribute(r,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(r,d):s.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(r,d):s.removeAttribute(r);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(r):s.setAttribute(r,d);break;case"popover":Fe("beforetoggle",s),Fe("toggle",s),Hp(s,"popover",d);break;case"xlinkActuate":ya(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ya(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ya(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ya(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ya(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ya(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ya(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ya(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ya(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Hp(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Jj.get(r)||r,Hp(s,r,d))}}function Ry(s,i,r,d,x,y){switch(r){case"style":OS(s,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(r=d.__html,r!=null){if(x.children!=null)throw Error(n(60));s.innerHTML=r}}break;case"children":typeof d=="string"?Kc(s,d):(typeof d=="number"||typeof d=="bigint")&&Kc(s,""+d);break;case"onScroll":d!=null&&Fe("scroll",s);break;case"onScrollEnd":d!=null&&Fe("scrollend",s);break;case"onClick":d!=null&&(s.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!CS.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(x=r.endsWith("Capture"),i=r.slice(2,x?r.length-7:void 0),y=s[qs]||null,y=y!=null?y[r]:null,typeof y=="function"&&s.removeEventListener(i,y,x),typeof d=="function")){typeof y!="function"&&y!==null&&(r in s?s[r]=null:s.hasAttribute(r)&&s.removeAttribute(r)),s.addEventListener(i,d,x);break e}r in s?s[r]=d:d===!0?s.setAttribute(r,""):Hp(s,r,d)}}}function gs(s,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",s),Fe("load",s);var d=!1,x=!1,y;for(y in r)if(r.hasOwnProperty(y)){var N=r[y];if(N!=null)switch(y){case"src":d=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:nt(s,i,y,N,r,null)}}x&&nt(s,i,"srcSet",r.srcSet,r,null),d&&nt(s,i,"src",r.src,r,null);return;case"input":Fe("invalid",s);var M=y=N=x=null,I=null,Y=null;for(d in r)if(r.hasOwnProperty(d)){var te=r[d];if(te!=null)switch(d){case"name":x=te;break;case"type":N=te;break;case"checked":I=te;break;case"defaultChecked":Y=te;break;case"value":y=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,i));break;default:nt(s,i,d,te,r,null)}}DS(s,y,M,I,Y,N,x,!1);return;case"select":Fe("invalid",s),d=N=y=null;for(x in r)if(r.hasOwnProperty(x)&&(M=r[x],M!=null))switch(x){case"value":y=M;break;case"defaultValue":N=M;break;case"multiple":d=M;default:nt(s,i,x,M,r,null)}i=y,r=N,s.multiple=!!d,i!=null?Wc(s,!!d,i,!1):r!=null&&Wc(s,!!d,r,!0);return;case"textarea":Fe("invalid",s),y=x=d=null;for(N in r)if(r.hasOwnProperty(N)&&(M=r[N],M!=null))switch(N){case"value":d=M;break;case"defaultValue":x=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:nt(s,i,N,M,r,null)}RS(s,d,x,y);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(d=r[I],d!=null))switch(I){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:nt(s,i,I,d,r,null)}return;case"dialog":Fe("beforetoggle",s),Fe("toggle",s),Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":Fe("load",s);break;case"video":case"audio":for(d=0;d<ef.length;d++)Fe(ef[d],s);break;case"image":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"embed":case"source":case"link":Fe("error",s),Fe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in r)if(r.hasOwnProperty(Y)&&(d=r[Y],d!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:nt(s,i,Y,d,r,null)}return;default:if(Yx(i)){for(te in r)r.hasOwnProperty(te)&&(d=r[te],d!==void 0&&Ry(s,i,te,d,r,void 0));return}}for(M in r)r.hasOwnProperty(M)&&(d=r[M],d!=null&&nt(s,i,M,d,r,null))}function C_(s,i,r,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,y=null,N=null,M=null,I=null,Y=null,te=null;for(Z in r){var ne=r[Z];if(r.hasOwnProperty(Z)&&ne!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":I=ne;default:d.hasOwnProperty(Z)||nt(s,i,Z,null,d,ne)}}for(var W in d){var Z=d[W];if(ne=r[W],d.hasOwnProperty(W)&&(Z!=null||ne!=null))switch(W){case"type":y=Z;break;case"name":x=Z;break;case"checked":Y=Z;break;case"defaultChecked":te=Z;break;case"value":N=Z;break;case"defaultValue":M=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,i));break;default:Z!==ne&&nt(s,i,W,Z,d,ne)}}$x(s,N,M,I,Y,te,y,x);return;case"select":Z=N=M=W=null;for(y in r)if(I=r[y],r.hasOwnProperty(y)&&I!=null)switch(y){case"value":break;case"multiple":Z=I;default:d.hasOwnProperty(y)||nt(s,i,y,null,d,I)}for(x in d)if(y=d[x],I=r[x],d.hasOwnProperty(x)&&(y!=null||I!=null))switch(x){case"value":W=y;break;case"defaultValue":M=y;break;case"multiple":N=y;default:y!==I&&nt(s,i,x,y,d,I)}i=M,r=N,d=Z,W!=null?Wc(s,!!r,W,!1):!!d!=!!r&&(i!=null?Wc(s,!!r,i,!0):Wc(s,!!r,r?[]:"",!1));return;case"textarea":Z=W=null;for(M in r)if(x=r[M],r.hasOwnProperty(M)&&x!=null&&!d.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:nt(s,i,M,null,d,x)}for(N in d)if(x=d[N],y=r[N],d.hasOwnProperty(N)&&(x!=null||y!=null))switch(N){case"value":W=x;break;case"defaultValue":Z=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(n(91));break;default:x!==y&&nt(s,i,N,x,d,y)}kS(s,W,Z);return;case"option":for(var ge in r)if(W=r[ge],r.hasOwnProperty(ge)&&W!=null&&!d.hasOwnProperty(ge))switch(ge){case"selected":s.selected=!1;break;default:nt(s,i,ge,null,d,W)}for(I in d)if(W=d[I],Z=r[I],d.hasOwnProperty(I)&&W!==Z&&(W!=null||Z!=null))switch(I){case"selected":s.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:nt(s,i,I,W,d,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in r)W=r[Ne],r.hasOwnProperty(Ne)&&W!=null&&!d.hasOwnProperty(Ne)&&nt(s,i,Ne,null,d,W);for(Y in d)if(W=d[Y],Z=r[Y],d.hasOwnProperty(Y)&&W!==Z&&(W!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,i));break;default:nt(s,i,Y,W,d,Z)}return;default:if(Yx(i)){for(var it in r)W=r[it],r.hasOwnProperty(it)&&W!==void 0&&!d.hasOwnProperty(it)&&Ry(s,i,it,void 0,d,W);for(te in d)W=d[te],Z=r[te],!d.hasOwnProperty(te)||W===Z||W===void 0&&Z===void 0||Ry(s,i,te,W,d,Z);return}}for(var V in r)W=r[V],r.hasOwnProperty(V)&&W!=null&&!d.hasOwnProperty(V)&&nt(s,i,V,null,d,W);for(ne in d)W=d[ne],Z=r[ne],!d.hasOwnProperty(ne)||W===Z||W==null&&Z==null||nt(s,i,ne,W,d,Z)}function PN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j_(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,r=performance.getEntriesByType("resource"),d=0;d<r.length;d++){var x=r[d],y=x.transferSize,N=x.initiatorType,M=x.duration;if(y&&M&&PN(N)){for(N=0,M=x.responseEnd,d+=1;d<r.length;d++){var I=r[d],Y=I.startTime;if(Y>M)break;var te=I.transferSize,ne=I.initiatorType;te&&PN(ne)&&(I=I.responseEnd,N+=te*(I<M?1:(M-Y)/(I-Y)))}if(--d,i+=8*(y+N)/(x.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ly=null,Oy=null;function zg(s){return s.nodeType===9?s:s.ownerDocument}function BN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IN(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function Py(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var By=null;function T_(){var s=window.event;return s&&s.type==="popstate"?s===By?!1:(By=s,!0):(By=null,!1)}var FN=typeof setTimeout=="function"?setTimeout:void 0,__=typeof clearTimeout=="function"?clearTimeout:void 0,zN=typeof Promise=="function"?Promise:void 0,M_=typeof queueMicrotask=="function"?queueMicrotask:typeof zN<"u"?function(s){return zN.resolve(null).then(s).catch(D_)}:FN;function D_(s){setTimeout(function(){throw s})}function Wr(s){return s==="head"}function UN(s,i){var r=i,d=0;do{var x=r.nextSibling;if(s.removeChild(r),x&&x.nodeType===8)if(r=x.data,r==="/$"||r==="/&"){if(d===0){s.removeChild(x),ju(i);return}d--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")d++;else if(r==="html")sf(s.ownerDocument.documentElement);else if(r==="head"){r=s.ownerDocument.head,sf(r);for(var y=r.firstChild;y;){var N=y.nextSibling,M=y.nodeName;y[vh]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=N}}else r==="body"&&sf(s.ownerDocument.body);r=x}while(r);ju(i)}function HN(s,i){var r=s;s=0;do{var d=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),d&&d.nodeType===8)if(r=d.data,r==="/$"){if(s===0)break;s--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||s++;r=d}while(r)}function Iy(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Iy(r),Vx(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}s.removeChild(r)}}function k_(s,i,r,d){for(;s.nodeType===1;){var x=r;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[vh])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var y=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Qn(s.nextSibling),s===null)break}return null}function R_(s,i,r){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Qn(s.nextSibling),s===null))return null;return s}function VN(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=Qn(s.nextSibling),s===null))return null;return s}function Fy(s){return s.data==="$?"||s.data==="$~"}function zy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function L_(s,i){var r=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||r.readyState!=="loading")i();else{var d=function(){i(),r.removeEventListener("DOMContentLoaded",d)};r.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Qn(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var Uy=null;function GN(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var r=s.data;if(r==="/$"||r==="/&"){if(i===0)return Qn(s.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}s=s.nextSibling}return null}function $N(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var r=s.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return s;i--}else r!=="/$"&&r!=="/&"||i++}s=s.previousSibling}return null}function qN(s,i,r){switch(i=zg(r),s){case"html":if(s=i.documentElement,!s)throw Error(n(452));return s;case"head":if(s=i.head,!s)throw Error(n(453));return s;case"body":if(s=i.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function sf(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Vx(s)}var Zn=new Map,YN=new Set;function Ug(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Pa=J.d;J.d={f:O_,r:P_,D:B_,C:I_,L:F_,m:z_,X:H_,S:U_,M:V_};function O_(){var s=Pa.f(),i=kg();return s||i}function P_(s){var i=qc(s);i!==null&&i.tag===5&&i.type==="form"?u1(i):Pa.r(s)}var Nu=typeof document>"u"?null:document;function XN(s,i,r){var d=Nu;if(d&&typeof i=="string"&&i){var x=Gn(i);x='link[rel="'+s+'"][href="'+x+'"]',typeof r=="string"&&(x+='[crossorigin="'+r+'"]'),YN.has(x)||(YN.add(x),s={rel:s,crossOrigin:r,href:i},d.querySelector(x)===null&&(i=d.createElement("link"),gs(i,"link",s),ns(i),d.head.appendChild(i)))}}function B_(s){Pa.D(s),XN("dns-prefetch",s,null)}function I_(s,i){Pa.C(s,i),XN("preconnect",s,i)}function F_(s,i,r){Pa.L(s,i,r);var d=Nu;if(d&&s&&i){var x='link[rel="preload"][as="'+Gn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(x+='[imagesrcset="'+Gn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(x+='[imagesizes="'+Gn(r.imageSizes)+'"]')):x+='[href="'+Gn(s)+'"]';var y=x;switch(i){case"style":y=Eu(s);break;case"script":y=Cu(s)}Zn.has(y)||(s=b({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:s,as:i},r),Zn.set(y,s),d.querySelector(x)!==null||i==="style"&&d.querySelector(nf(y))||i==="script"&&d.querySelector(af(y))||(i=d.createElement("link"),gs(i,"link",s),ns(i),d.head.appendChild(i)))}}function z_(s,i){Pa.m(s,i);var r=Nu;if(r&&s){var d=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+Gn(d)+'"][href="'+Gn(s)+'"]',y=x;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Cu(s)}if(!Zn.has(y)&&(s=b({rel:"modulepreload",href:s},i),Zn.set(y,s),r.querySelector(x)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(af(y)))return}d=r.createElement("link"),gs(d,"link",s),ns(d),r.head.appendChild(d)}}}function U_(s,i,r){Pa.S(s,i,r);var d=Nu;if(d&&s){var x=Yc(d).hoistableStyles,y=Eu(s);i=i||"default";var N=x.get(y);if(!N){var M={loading:0,preload:null};if(N=d.querySelector(nf(y)))M.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":i},r),(r=Zn.get(y))&&Hy(s,r);var I=N=d.createElement("link");ns(I),gs(I,"link",s),I._p=new Promise(function(Y,te){I.onload=Y,I.onerror=te}),I.addEventListener("load",function(){M.loading|=1}),I.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Hg(N,i,d)}N={type:"stylesheet",instance:N,count:1,state:M},x.set(y,N)}}}function H_(s,i){Pa.X(s,i);var r=Nu;if(r&&s){var d=Yc(r).hoistableScripts,x=Cu(s),y=d.get(x);y||(y=r.querySelector(af(x)),y||(s=b({src:s,async:!0},i),(i=Zn.get(x))&&Vy(s,i),y=r.createElement("script"),ns(y),gs(y,"link",s),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(x,y))}}function V_(s,i){Pa.M(s,i);var r=Nu;if(r&&s){var d=Yc(r).hoistableScripts,x=Cu(s),y=d.get(x);y||(y=r.querySelector(af(x)),y||(s=b({src:s,async:!0,type:"module"},i),(i=Zn.get(x))&&Vy(s,i),y=r.createElement("script"),ns(y),gs(y,"link",s),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(x,y))}}function WN(s,i,r,d){var x=(x=Ce.current)?Ug(x):null;if(!x)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Eu(r.href),r=Yc(x).hoistableStyles,d=r.get(i),d||(d={type:"style",instance:null,count:0,state:null},r.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){s=Eu(r.href);var y=Yc(x).hoistableStyles,N=y.get(s);if(N||(x=x.ownerDocument||x,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,N),(y=x.querySelector(nf(s)))&&!y._p&&(N.instance=y,N.state.loading=5),Zn.has(s)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Zn.set(s,r),y||G_(x,s,r,N.state))),i&&d===null)throw Error(n(528,""));return N}if(i&&d!==null)throw Error(n(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Cu(r),r=Yc(x).hoistableScripts,d=r.get(i),d||(d={type:"script",instance:null,count:0,state:null},r.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Eu(s){return'href="'+Gn(s)+'"'}function nf(s){return'link[rel="stylesheet"]['+s+"]"}function KN(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function G_(s,i,r,d){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=s.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),gs(i,"link",r),ns(i),s.head.appendChild(i))}function Cu(s){return'[src="'+Gn(s)+'"]'}function af(s){return"script[async]"+s}function QN(s,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var d=s.querySelector('style[data-href~="'+Gn(r.href)+'"]');if(d)return i.instance=d,ns(d),d;var x=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),ns(d),gs(d,"style",x),Hg(d,r.precedence,s),i.instance=d;case"stylesheet":x=Eu(r.href);var y=s.querySelector(nf(x));if(y)return i.state.loading|=4,i.instance=y,ns(y),y;d=KN(r),(x=Zn.get(x))&&Hy(d,x),y=(s.ownerDocument||s).createElement("link"),ns(y);var N=y;return N._p=new Promise(function(M,I){N.onload=M,N.onerror=I}),gs(y,"link",d),i.state.loading|=4,Hg(y,r.precedence,s),i.instance=y;case"script":return y=Cu(r.src),(x=s.querySelector(af(y)))?(i.instance=x,ns(x),x):(d=r,(x=Zn.get(y))&&(d=b({},r),Vy(d,x)),s=s.ownerDocument||s,x=s.createElement("script"),ns(x),gs(x,"link",d),s.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Hg(d,r.precedence,s));return i.instance}function Hg(s,i,r){for(var d=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=d.length?d[d.length-1]:null,y=x,N=0;N<d.length;N++){var M=d[N];if(M.dataset.precedence===i)y=M;else if(y!==x)break}y?y.parentNode.insertBefore(s,y.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(s,i.firstChild))}function Hy(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function Vy(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var Vg=null;function ZN(s,i,r){if(Vg===null){var d=new Map,x=Vg=new Map;x.set(r,d)}else x=Vg,d=x.get(r),d||(d=new Map,x.set(r,d));if(d.has(s))return d;for(d.set(s,null),r=r.getElementsByTagName(s),x=0;x<r.length;x++){var y=r[x];if(!(y[vh]||y[hs]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(i)||"";N=s+N;var M=d.get(N);M?M.push(y):d.set(N,[y])}}return d}function JN(s,i,r){s=s.ownerDocument||s,s.head.insertBefore(r,i==="title"?s.querySelector("head > title"):null)}function $_(s,i,r){if(r===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return s=i.disabled,typeof i.precedence=="string"&&s==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function e2(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function q_(s,i,r,d){if(r.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var x=Eu(d.href),y=i.querySelector(nf(x));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=Gg.bind(s),i.then(s,s)),r.state.loading|=4,r.instance=y,ns(y);return}y=i.ownerDocument||i,d=KN(d),(x=Zn.get(x))&&Hy(d,x),y=y.createElement("link"),ns(y);var N=y;N._p=new Promise(function(M,I){N.onload=M,N.onerror=I}),gs(y,"link",d),r.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(s.count++,r=Gg.bind(s),i.addEventListener("load",r),i.addEventListener("error",r))}}var Gy=0;function Y_(s,i){return s.stylesheets&&s.count===0&&qg(s,s.stylesheets),0<s.count||0<s.imgCount?function(r){var d=setTimeout(function(){if(s.stylesheets&&qg(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+i);0<s.imgBytes&&Gy===0&&(Gy=62500*j_());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&qg(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Gy?50:800)+i);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(x)}}:null}function Gg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $g=null;function qg(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$g=new Map,i.forEach(X_,s),$g=null,Gg.call(s))}function X_(s,i){if(!(i.state.loading&4)){var r=$g.get(s);if(r)var d=r.get(null);else{r=new Map,$g.set(s,r);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<x.length;y++){var N=x[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(r.set(N.dataset.precedence,N),d=N)}d&&r.set(null,d)}x=i.instance,N=x.getAttribute("data-precedence"),y=r.get(N)||d,y===d&&r.set(null,x),r.set(N,x),this.count++,d=Gg.bind(this),x.addEventListener("load",d),x.addEventListener("error",d),y?y.parentNode.insertBefore(x,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),i.state.loading|=4}}var rf={$$typeof:D,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function W_(s,i,r,d,x,y,N,M,I){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fx(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fx(0),this.hiddenUpdates=Fx(null),this.identifierPrefix=d,this.onUncaughtError=x,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function t2(s,i,r,d,x,y,N,M,I,Y,te,ne){return s=new W_(s,i,r,N,I,Y,te,ne,M),i=1,y===!0&&(i|=24),y=mn(3,null,null,i),s.current=y,y.stateNode=s,i=Ab(),i.refCount++,s.pooledCache=i,i.refCount++,y.memoizedState={element:d,isDehydrated:r,cache:i},jb(y),s}function s2(s){return s?(s=nu,s):nu}function n2(s,i,r,d,x,y){x=s2(x),d.context===null?d.context=x:d.pendingContext=x,d=Ir(i),d.payload={element:r},y=y===void 0?null:y,y!==null&&(d.callback=y),r=Fr(s,d,i),r!==null&&(Zs(r,s,i),Bh(r,s,i))}function i2(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var r=s.retryLane;s.retryLane=r!==0&&r<i?r:i}}function $y(s,i){i2(s,i),(s=s.alternate)&&i2(s,i)}function a2(s){if(s.tag===13||s.tag===31){var i=lo(s,67108864);i!==null&&Zs(i,s,67108864),$y(s,67108864)}}function r2(s){if(s.tag===13||s.tag===31){var i=yn();i=zx(i);var r=lo(s,i);r!==null&&Zs(r,s,i),$y(s,i)}}var Yg=!0;function K_(s,i,r,d){var x=H.T;H.T=null;var y=J.p;try{J.p=2,qy(s,i,r,d)}finally{J.p=y,H.T=x}}function Q_(s,i,r,d){var x=H.T;H.T=null;var y=J.p;try{J.p=8,qy(s,i,r,d)}finally{J.p=y,H.T=x}}function qy(s,i,r,d){if(Yg){var x=Yy(d);if(x===null)ky(s,i,d,Xg,r),o2(s,d);else if(J_(x,s,i,r,d))d.stopPropagation();else if(o2(s,d),i&4&&-1<Z_.indexOf(s)){for(;x!==null;){var y=qc(x);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=so(y.pendingLanes);if(N!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;N;){var I=1<<31-hn(N);M.entanglements[1]|=I,N&=~I}Fi(y),(We&6)===0&&(Mg=un()+500,Jh(0))}}break;case 31:case 13:M=lo(y,2),M!==null&&Zs(M,y,2),kg(),$y(y,2)}if(y=Yy(d),y===null&&ky(s,i,d,Xg,r),y===x)break;x=y}x!==null&&d.stopPropagation()}else ky(s,i,d,null,r)}}function Yy(s){return s=Wx(s),Xy(s)}var Xg=null;function Xy(s){if(Xg=null,s=$c(s),s!==null){var i=o(s);if(i===null)s=null;else{var r=i.tag;if(r===13){if(s=c(i),s!==null)return s;s=null}else if(r===31){if(s=h(i),s!==null)return s;s=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return Xg=s,null}function l2(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bj()){case pS:return 2;case gS:return 8;case Bp:case Ij:return 32;case xS:return 268435456;default:return 32}default:return 32}}var Wy=!1,Kr=null,Qr=null,Zr=null,lf=new Map,of=new Map,Jr=[],Z_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o2(s,i){switch(s){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":lf.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":of.delete(i.pointerId)}}function cf(s,i,r,d,x,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:r,eventSystemFlags:d,nativeEvent:y,targetContainers:[x]},i!==null&&(i=qc(i),i!==null&&a2(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),s)}function J_(s,i,r,d,x){switch(i){case"focusin":return Kr=cf(Kr,s,i,r,d,x),!0;case"dragenter":return Qr=cf(Qr,s,i,r,d,x),!0;case"mouseover":return Zr=cf(Zr,s,i,r,d,x),!0;case"pointerover":var y=x.pointerId;return lf.set(y,cf(lf.get(y)||null,s,i,r,d,x)),!0;case"gotpointercapture":return y=x.pointerId,of.set(y,cf(of.get(y)||null,s,i,r,d,x)),!0}return!1}function c2(s){var i=$c(s.target);if(i!==null){var r=o(i);if(r!==null){if(i=r.tag,i===13){if(i=c(r),i!==null){s.blockedOn=i,AS(s.priority,function(){r2(r)});return}}else if(i===31){if(i=h(r),i!==null){s.blockedOn=i,AS(s.priority,function(){r2(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){s.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wg(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var r=Yy(s.nativeEvent);if(r===null){r=s.nativeEvent;var d=new r.constructor(r.type,r);Xx=d,r.target.dispatchEvent(d),Xx=null}else return i=qc(r),i!==null&&a2(i),s.blockedOn=r,!1;i.shift()}return!0}function u2(s,i,r){Wg(s)&&r.delete(i)}function eM(){Wy=!1,Kr!==null&&Wg(Kr)&&(Kr=null),Qr!==null&&Wg(Qr)&&(Qr=null),Zr!==null&&Wg(Zr)&&(Zr=null),lf.forEach(u2),of.forEach(u2)}function Kg(s,i){s.blockedOn===i&&(s.blockedOn=null,Wy||(Wy=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,eM)))}var Qg=null;function d2(s){Qg!==s&&(Qg=s,m.unstable_scheduleCallback(m.unstable_NormalPriority,function(){Qg===s&&(Qg=null);for(var i=0;i<s.length;i+=3){var r=s[i],d=s[i+1],x=s[i+2];if(typeof d!="function"){if(Xy(d||r)===null)continue;break}var y=qc(r);y!==null&&(s.splice(i,3),i-=3,Yb(y,{pending:!0,data:x,method:r.method,action:d},d,x))}}))}function ju(s){function i(I){return Kg(I,s)}Kr!==null&&Kg(Kr,s),Qr!==null&&Kg(Qr,s),Zr!==null&&Kg(Zr,s),lf.forEach(i),of.forEach(i);for(var r=0;r<Jr.length;r++){var d=Jr[r];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Jr.length&&(r=Jr[0],r.blockedOn===null);)c2(r),r.blockedOn===null&&Jr.shift();if(r=(s.ownerDocument||s).$$reactFormReplay,r!=null)for(d=0;d<r.length;d+=3){var x=r[d],y=r[d+1],N=x[qs]||null;if(typeof y=="function")N||d2(r);else if(N){var M=null;if(y&&y.hasAttribute("formAction")){if(x=y,N=y[qs]||null)M=N.formAction;else if(Xy(x)!==null)continue}else M=N.action;typeof M=="function"?r[d+1]=M:(r.splice(d,3),d-=3),d2(r)}}}function h2(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(N){return x=N})},focusReset:"manual",scroll:"manual"})}function i(){x!==null&&(x(),x=null),d||setTimeout(r,20)}function r(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),x!==null&&(x(),x=null)}}}function Ky(s){this._internalRoot=s}Zg.prototype.render=Ky.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(n(409));var r=i.current,d=yn();n2(r,d,s,i,null,null)},Zg.prototype.unmount=Ky.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;n2(s.current,2,null,s,null,null),kg(),i[Gc]=null}};function Zg(s){this._internalRoot=s}Zg.prototype.unstable_scheduleHydration=function(s){if(s){var i=SS();s={blockedOn:null,target:s,priority:i};for(var r=0;r<Jr.length&&i!==0&&i<Jr[r].priority;r++);Jr.splice(r,0,s),r===0&&c2(s)}};var f2=e.version;if(f2!=="19.2.0")throw Error(n(527,f2,"19.2.0"));J.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=p(i),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var tM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jg.isDisabled&&Jg.supportsFiber)try{xh=Jg.inject(tM),dn=Jg}catch{}}return df.createRoot=function(s,i){if(!a(s))throw Error(n(299));var r=!1,d="",x=v1,y=w1,N=S1;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError)),i=t2(s,1,!1,null,null,r,d,null,x,y,N,h2),s[Gc]=i.current,Dy(s),new Ky(i)},df.hydrateRoot=function(s,i,r){if(!a(s))throw Error(n(299));var d=!1,x="",y=v1,N=w1,M=S1,I=null;return r!=null&&(r.unstable_strictMode===!0&&(d=!0),r.identifierPrefix!==void 0&&(x=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(N=r.onCaughtError),r.onRecoverableError!==void 0&&(M=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),i=t2(s,1,!0,i,r??null,d,x,I,y,N,M,h2),i.context=s2(null),r=i.current,d=yn(),d=zx(d),x=Ir(d),x.callback=null,Fr(r,x,d),r=d,i.current.lanes=r,yh(i,r),Fi(i),s[Gc]=i.current,Dy(s),new Zg(i)},df.version="19.2.0",df}var N2;function fM(){if(N2)return ev.exports;N2=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(e){console.error(e)}}return m(),ev.exports=hM(),ev.exports}var mM=fM();const pM=oE(mM);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E2="popstate";function gM(m={}){function e(n,a){let{pathname:o,search:c,hash:h}=n.location;return mv("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:zf(a)}return bM(e,t,null,m)}function Tt(m,e){if(m===!1||m===null||typeof m>"u")throw new Error(e)}function fa(m,e){if(!m){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xM(){return Math.random().toString(36).substring(2,10)}function C2(m,e){return{usr:m.state,key:m.key,idx:e}}function mv(m,e,t=null,n){return{pathname:typeof m=="string"?m:m.pathname,search:"",hash:"",...typeof e=="string"?mh(e):e,state:t,key:e&&e.key||n||xM()}}function zf({pathname:m="/",search:e="",hash:t=""}){return e&&e!=="?"&&(m+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(m+=t.charAt(0)==="#"?t:"#"+t),m}function mh(m){let e={};if(m){let t=m.indexOf("#");t>=0&&(e.hash=m.substring(t),m=m.substring(0,t));let n=m.indexOf("?");n>=0&&(e.search=m.substring(n),m=m.substring(0,n)),m&&(e.pathname=m)}return e}function bM(m,e,t,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,c=a.history,h="POP",f=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function b(){h="POP";let _=g(),T=_==null?null:_-p;p=_,f&&f({action:h,location:A.location,delta:T})}function v(_,T){h="PUSH";let R=mv(A.location,_,T);p=g()+1;let D=C2(R,p),L=A.createHref(R);try{c.pushState(D,"",L)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(L)}o&&f&&f({action:h,location:A.location,delta:1})}function S(_,T){h="REPLACE";let R=mv(A.location,_,T);p=g();let D=C2(R,p),L=A.createHref(R);c.replaceState(D,"",L),o&&f&&f({action:h,location:A.location,delta:0})}function E(_){return yM(_)}let A={get action(){return h},get location(){return m(a,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(E2,b),f=_,()=>{a.removeEventListener(E2,b),f=null}},createHref(_){return e(a,_)},createURL:E,encodeLocation(_){let T=E(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:S,go(_){return c.go(_)}};return A}function yM(m,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(t,"No window.location.(origin|href) available to create URL");let n=typeof m=="string"?m:zf(m);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function cE(m,e,t="/"){return vM(m,e,t,!1)}function vM(m,e,t,n){let a=typeof e=="string"?mh(e):e,o=Cr(a.pathname||"/",t);if(o==null)return null;let c=uE(m);wM(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let p=kM(o);h=MM(c[f],p,n)}return h}function uE(m,e=[],t=[],n="",a=!1){let o=(c,h,f=a,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&f)return;Tt(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let b=Ar([n,g.relativePath]),v=t.concat(g);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),uE(c.children,e,v,b,f)),!(c.path==null&&!c.index)&&e.push({path:b,score:TM(b,c.index),routesMeta:v})};return m.forEach((c,h)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))o(c,h);else for(let p of dE(c.path))o(c,h,!0,p)}),e}function dE(m){let e=m.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let c=dE(n.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...c),h.map(f=>m.startsWith("/")&&f===""?"/":f)}function wM(m){m.sort((e,t)=>e.score!==t.score?t.score-e.score:_M(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var SM=/^:[\w-]+$/,AM=3,NM=2,EM=1,CM=10,jM=-2,j2=m=>m==="*";function TM(m,e){let t=m.split("/"),n=t.length;return t.some(j2)&&(n+=jM),e&&(n+=NM),t.filter(a=>!j2(a)).reduce((a,o)=>a+(SM.test(o)?AM:o===""?EM:CM),n)}function _M(m,e){return m.length===e.length&&m.slice(0,-1).every((n,a)=>n===e[a])?m[m.length-1]-e[e.length-1]:0}function MM(m,e,t=!1){let{routesMeta:n}=m,a={},o="/",c=[];for(let h=0;h<n.length;++h){let f=n[h],p=h===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",b=Y0({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),v=f.route;if(!b&&p&&t&&!n[n.length-1].route.index&&(b=Y0({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Ar([o,b.pathname]),pathnameBase:PM(Ar([o,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(o=Ar([o,b.pathnameBase]))}return c}function Y0(m,e){typeof m=="string"&&(m={path:m,caseSensitive:!1,end:!0});let[t,n]=DM(m.path,m.caseSensitive,m.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:n.reduce((p,{paramName:g,isOptional:b},v)=>{if(g==="*"){let E=h[v]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const S=h[v];return b&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:m}}function DM(m,e=!1,t=!0){fa(m==="*"||!m.endsWith("*")||m.endsWith("/*"),`Route path "${m}" will be treated as if it were "${m.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${m.replace(/\*$/,"/*")}".`);let n=[],a="^"+m.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(n.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return m.endsWith("*")?(n.push({paramName:"*"}),a+=m==="*"||m==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":m!==""&&m!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function kM(m){try{return m.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fa(!1,`The URL path "${m}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),m}}function Cr(m,e){if(e==="/")return m;if(!m.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=m.charAt(t);return n&&n!=="/"?null:m.slice(t)||"/"}function RM(m,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof m=="string"?mh(m):m;return{pathname:t?t.startsWith("/")?t:LM(t,e):e,search:BM(n),hash:IM(a)}}function LM(m,e){let t=e.replace(/\/+$/,"").split("/");return m.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function iv(m,e,t,n){return`Cannot include a '${m}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OM(m){return m.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hE(m){let e=OM(m);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function fE(m,e,t,n=!1){let a;typeof m=="string"?a=mh(m):(a={...m},Tt(!a.pathname||!a.pathname.includes("?"),iv("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),iv("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),iv("#","search","hash",a)));let o=m===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=t;else{let b=e.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;a.pathname=v.join("/")}h=b>=0?e[b]:"/"}let f=RM(a,h),p=c&&c!=="/"&&c.endsWith("/"),g=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Ar=m=>m.join("/").replace(/\/\/+/g,"/"),PM=m=>m.replace(/\/+$/,"").replace(/^\/*/,"/"),BM=m=>!m||m==="?"?"":m.startsWith("?")?m:"?"+m,IM=m=>!m||m==="#"?"":m.startsWith("#")?m:"#"+m;function FM(m){return m!=null&&typeof m.status=="number"&&typeof m.statusText=="string"&&typeof m.internal=="boolean"&&"data"in m}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mE=["POST","PUT","PATCH","DELETE"];new Set(mE);var zM=["GET",...mE];new Set(zM);var ph=U.createContext(null);ph.displayName="DataRouter";var Cx=U.createContext(null);Cx.displayName="DataRouterState";U.createContext(!1);var pE=U.createContext({isTransitioning:!1});pE.displayName="ViewTransition";var UM=U.createContext(new Map);UM.displayName="Fetchers";var HM=U.createContext(null);HM.displayName="Await";var ga=U.createContext(null);ga.displayName="Navigation";var Cp=U.createContext(null);Cp.displayName="Location";var xa=U.createContext({outlet:null,matches:[],isDataRoute:!1});xa.displayName="Route";var Yw=U.createContext(null);Yw.displayName="RouteError";function VM(m,{relative:e}={}){Tt(jp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=U.useContext(ga),{hash:a,pathname:o,search:c}=Tp(m,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ar([t,o])),n.createHref({pathname:h,search:c,hash:a})}function jp(){return U.useContext(Cp)!=null}function _r(){return Tt(jp(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Cp).location}var gE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xE(m){U.useContext(ga).static||U.useLayoutEffect(m)}function $s(){let{isDataRoute:m}=U.useContext(xa);return m?sD():GM()}function GM(){Tt(jp(),"useNavigate() may be used only in the context of a <Router> component.");let m=U.useContext(ph),{basename:e,navigator:t}=U.useContext(ga),{matches:n}=U.useContext(xa),{pathname:a}=_r(),o=JSON.stringify(hE(n)),c=U.useRef(!1);return xE(()=>{c.current=!0}),U.useCallback((f,p={})=>{if(fa(c.current,gE),!c.current)return;if(typeof f=="number"){t.go(f);return}let g=fE(f,JSON.parse(o),a,p.relative==="path");m==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ar([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,a,m])}U.createContext(null);function bE(){let{matches:m}=U.useContext(xa),e=m[m.length-1];return e?e.params:{}}function Tp(m,{relative:e}={}){let{matches:t}=U.useContext(xa),{pathname:n}=_r(),a=JSON.stringify(hE(t));return U.useMemo(()=>fE(m,JSON.parse(a),n,e==="path"),[m,a,n,e])}function $M(m,e){return yE(m,e)}function yE(m,e,t,n,a){var R;Tt(jp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(ga),{matches:c}=U.useContext(xa),h=c[c.length-1],f=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let D=b&&b.path||"";vE(p,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=_r(),S;if(e){let D=typeof e=="string"?mh(e):e;Tt(g==="/"||((R=D.pathname)==null?void 0:R.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),S=D}else S=v;let E=S.pathname||"/",A=E;if(g!=="/"){let D=g.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let _=cE(m,{pathname:A});fa(b||_!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),fa(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=KM(_&&_.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:Ar([g,o.encodeLocation?o.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:Ar([g,o.encodeLocation?o.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,t,n,a);return e&&T?U.createElement(Cp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},T):T}function qM(){let m=tD(),e=FM(m)?`${m.status} ${m.statusText}`:m instanceof Error?m.message:JSON.stringify(m),t=m instanceof Error?m.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",m),c=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:a},t):null,c)}var YM=U.createElement(qM,null),XM=class extends U.Component{constructor(m){super(m),this.state={location:m.location,revalidation:m.revalidation,error:m.error}}static getDerivedStateFromError(m){return{error:m}}static getDerivedStateFromProps(m,e){return e.location!==m.location||e.revalidation!=="idle"&&m.revalidation==="idle"?{error:m.error,location:m.location,revalidation:m.revalidation}:{error:m.error!==void 0?m.error:e.error,location:e.location,revalidation:m.revalidation||e.revalidation}}componentDidCatch(m,e){this.props.unstable_onError?this.props.unstable_onError(m,e):console.error("React Router caught the following error during render",m)}render(){return this.state.error!==void 0?U.createElement(xa.Provider,{value:this.props.routeContext},U.createElement(Yw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WM({routeContext:m,match:e,children:t}){let n=U.useContext(ph);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(xa.Provider,{value:m},t)}function KM(m,e=[],t=null,n=null,a=null){if(m==null){if(!t)return null;if(t.errors)m=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)m=t.matches;else return null}let o=m,c=t==null?void 0:t.errors;if(c!=null){let p=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:b,errors:v}=t,S=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||S){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,g,b)=>{let v,S=!1,E=null,A=null;t&&(v=c&&g.route.id?c[g.route.id]:void 0,E=g.route.errorElement||YM,h&&(f<0&&b===0?(vE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):f===b&&(S=!0,A=g.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,b+1)),T=()=>{let R;return v?R=E:S?R=A:g.route.Component?R=U.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=p,U.createElement(WM,{match:g,routeContext:{outlet:p,matches:_,isDataRoute:t!=null},children:R})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?U.createElement(XM,{location:t.location,revalidation:t.revalidation,component:E,error:v,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):T()},null)}function Xw(m){return`${m} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QM(m){let e=U.useContext(ph);return Tt(e,Xw(m)),e}function ZM(m){let e=U.useContext(Cx);return Tt(e,Xw(m)),e}function JM(m){let e=U.useContext(xa);return Tt(e,Xw(m)),e}function Ww(m){let e=JM(m),t=e.matches[e.matches.length-1];return Tt(t.route.id,`${m} can only be used on routes that contain a unique "id"`),t.route.id}function eD(){return Ww("useRouteId")}function tD(){var n;let m=U.useContext(Yw),e=ZM("useRouteError"),t=Ww("useRouteError");return m!==void 0?m:(n=e.errors)==null?void 0:n[t]}function sD(){let{router:m}=QM("useNavigate"),e=Ww("useNavigate"),t=U.useRef(!1);return xE(()=>{t.current=!0}),U.useCallback(async(a,o={})=>{fa(t.current,gE),t.current&&(typeof a=="number"?m.navigate(a):await m.navigate(a,{fromRouteId:e,...o}))},[m,e])}var T2={};function vE(m,e,t){!e&&!T2[m]&&(T2[m]=!0,fa(!1,t))}U.memo(nD);function nD({routes:m,future:e,state:t,unstable_onError:n}){return yE(m,void 0,t,n,e)}function Et(m){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iD({basename:m="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:o=!1}){Tt(!jp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=m.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=mh(t));let{pathname:f="/",search:p="",hash:g="",state:b=null,key:v="default"}=t,S=U.useMemo(()=>{let E=Cr(f,c);return E==null?null:{location:{pathname:E,search:p,hash:g,state:b,key:v},navigationType:n}},[c,f,p,g,b,v,n]);return fa(S!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:U.createElement(ga.Provider,{value:h},U.createElement(Cp.Provider,{children:e,value:S}))}function aD({children:m,location:e}){return $M(pv(m),e)}function pv(m,e=[]){let t=[];return U.Children.forEach(m,(n,a)=>{if(!U.isValidElement(n))return;let o=[...e,a];if(n.type===U.Fragment){t.push.apply(t,pv(n.props.children,o));return}Tt(n.type===Et,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=pv(n.props.children,o)),t.push(c)}),t}var h0="get",f0="application/x-www-form-urlencoded";function jx(m){return m!=null&&typeof m.tagName=="string"}function rD(m){return jx(m)&&m.tagName.toLowerCase()==="button"}function lD(m){return jx(m)&&m.tagName.toLowerCase()==="form"}function oD(m){return jx(m)&&m.tagName.toLowerCase()==="input"}function cD(m){return!!(m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)}function uD(m,e){return m.button===0&&(!e||e==="_self")&&!cD(m)}var e0=null;function dD(){if(e0===null)try{new FormData(document.createElement("form"),0),e0=!1}catch{e0=!0}return e0}var hD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function av(m){return m!=null&&!hD.has(m)?(fa(!1,`"${m}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${f0}"`),null):m}function fD(m,e){let t,n,a,o,c;if(lD(m)){let h=m.getAttribute("action");n=h?Cr(h,e):null,t=m.getAttribute("method")||h0,a=av(m.getAttribute("enctype"))||f0,o=new FormData(m)}else if(rD(m)||oD(m)&&(m.type==="submit"||m.type==="image")){let h=m.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=m.getAttribute("formaction")||h.getAttribute("action");if(n=f?Cr(f,e):null,t=m.getAttribute("formmethod")||h.getAttribute("method")||h0,a=av(m.getAttribute("formenctype"))||av(h.getAttribute("enctype"))||f0,o=new FormData(h,m),!dD()){let{name:p,type:g,value:b}=m;if(g==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,b)}}else{if(jx(m))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=h0,n=null,a=f0,c=m}return o&&a==="text/plain"&&(c=o,o=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kw(m,e){if(m===!1||m===null||typeof m>"u")throw new Error(e)}function mD(m,e,t){let n=typeof m=="string"?new URL(m,typeof window>"u"?"server://singlefetch/":window.location.origin):m;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Cr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function pD(m,e){if(m.id in e)return e[m.id];try{let t=await import(m.module);return e[m.id]=t,t}catch(t){return console.error(`Error loading route module \`${m.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gD(m){return m==null?!1:m.href==null?m.rel==="preload"&&typeof m.imageSrcSet=="string"&&typeof m.imageSizes=="string":typeof m.rel=="string"&&typeof m.href=="string"}async function xD(m,e,t){let n=await Promise.all(m.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await pD(o,t);return c.links?c.links():[]}return[]}));return wD(n.flat(1).filter(gD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _2(m,e,t,n,a,o){let c=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var g;return t[p].pathname!==f.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>c(f,p)||h(f,p)):o==="data"?e.filter((f,p)=>{var b;let g=n.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(c(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(m,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function bD(m,e,{includeHydrateFallback:t}={}){return yD(m.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function yD(m){return[...new Set(m)]}function vD(m){let e={},t=Object.keys(m).sort();for(let n of t)e[n]=m[n];return e}function wD(m,e){let t=new Set;return new Set(e),m.reduce((n,a)=>{let o=JSON.stringify(vD(a));return t.has(o)||(t.add(o),n.push({key:o,link:a})),n},[])}function wE(){let m=U.useContext(ph);return Kw(m,"You must render this element inside a <DataRouterContext.Provider> element"),m}function SD(){let m=U.useContext(Cx);return Kw(m,"You must render this element inside a <DataRouterStateContext.Provider> element"),m}var Qw=U.createContext(void 0);Qw.displayName="FrameworkContext";function SE(){let m=U.useContext(Qw);return Kw(m,"You must render this element inside a <HydratedRouter> element"),m}function AD(m,e){let t=U.useContext(Qw),[n,a]=U.useState(!1),[o,c]=U.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:b}=e,v=U.useRef(null);U.useEffect(()=>{if(m==="render"&&c(!0),m==="viewport"){let A=T=>{T.forEach(R=>{c(R.isIntersecting)})},_=new IntersectionObserver(A,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[m]),U.useEffect(()=>{if(n){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[n]);let S=()=>{a(!0)},E=()=>{a(!1),c(!1)};return t?m!=="intent"?[o,v,{}]:[o,v,{onFocus:hf(h,S),onBlur:hf(f,E),onMouseEnter:hf(p,S),onMouseLeave:hf(g,E),onTouchStart:hf(b,S)}]:[!1,v,{}]}function hf(m,e){return t=>{m&&m(t),t.defaultPrevented||e(t)}}function ND({page:m,...e}){let{router:t}=wE(),n=U.useMemo(()=>cE(t.routes,m,t.basename),[t.routes,m,t.basename]);return n?U.createElement(CD,{page:m,matches:n,...e}):null}function ED(m){let{manifest:e,routeModules:t}=SE(),[n,a]=U.useState([]);return U.useEffect(()=>{let o=!1;return xD(m,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[m,e,t]),n}function CD({page:m,matches:e,...t}){let n=_r(),{manifest:a,routeModules:o}=SE(),{basename:c}=wE(),{loaderData:h,matches:f}=SD(),p=U.useMemo(()=>_2(m,e,f,a,n,"data"),[m,e,f,a,n]),g=U.useMemo(()=>_2(m,e,f,a,n,"assets"),[m,e,f,a,n]),b=U.useMemo(()=>{if(m===n.pathname+n.search+n.hash)return[];let E=new Set,A=!1;if(e.forEach(T=>{var D;let R=a.routes[T.route.id];!R||!R.hasLoader||(!p.some(L=>L.route.id===T.route.id)&&T.route.id in h&&((D=o[T.route.id])!=null&&D.shouldRevalidate)||R.hasClientLoader?A=!0:E.add(T.route.id))}),E.size===0)return[];let _=mD(m,c,"data");return A&&E.size>0&&_.searchParams.set("_routes",e.filter(T=>E.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[c,h,n,a,p,e,m,o]),v=U.useMemo(()=>bD(g,a),[g,a]),S=ED(g);return U.createElement(U.Fragment,null,b.map(E=>U.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),v.map(E=>U.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),S.map(({key:E,link:A})=>U.createElement("link",{key:E,nonce:t.nonce,...A})))}function jD(...m){return e=>{m.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AE&&(window.__reactRouterVersion="7.9.5")}catch{}function TD({basename:m,children:e,window:t}){let n=U.useRef();n.current==null&&(n.current=gM({window:t,v5Compat:!0}));let a=n.current,[o,c]=U.useState({action:a.action,location:a.location}),h=U.useCallback(f=>{U.startTransition(()=>c(f))},[c]);return U.useLayoutEffect(()=>a.listen(h),[a,h]),U.createElement(iD,{basename:m,children:e,location:o.location,navigationType:o.action,navigator:a})}var NE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=U.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:o,replace:c,state:h,target:f,to:p,preventScrollReset:g,viewTransition:b,...v},S){let{basename:E}=U.useContext(ga),A=typeof p=="string"&&NE.test(p),_,T=!1;if(typeof p=="string"&&A&&(_=p,AE))try{let G=new URL(window.location.href),Q=p.startsWith("//")?new URL(G.protocol+p):new URL(p),K=Cr(Q.pathname,E);Q.origin===G.origin&&K!=null?p=K+Q.search+Q.hash:T=!0}catch{fa(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=VM(p,{relative:a}),[D,L,O]=AD(n,v),B=kD(p,{replace:c,state:h,target:f,preventScrollReset:g,relative:a,viewTransition:b});function k(G){e&&e(G),G.defaultPrevented||B(G)}let F=U.createElement("a",{...v,...O,href:_||R,onClick:T||o?e:k,ref:jD(S,L),target:f,"data-discover":!A&&t==="render"?"true":void 0});return D&&!A?U.createElement(U.Fragment,null,F,U.createElement(ND,{page:R})):F});we.displayName="Link";var _D=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:o,to:c,viewTransition:h,children:f,...p},g){let b=Tp(c,{relative:p.relative}),v=_r(),S=U.useContext(Cx),{navigator:E,basename:A}=U.useContext(ga),_=S!=null&&BD(b)&&h===!0,T=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,R=v.pathname,D=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(R=R.toLowerCase(),D=D?D.toLowerCase():null,T=T.toLowerCase()),D&&A&&(D=Cr(D,A)||D);const L=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let O=R===T||!a&&R.startsWith(T)&&R.charAt(L)==="/",B=D!=null&&(D===T||!a&&D.startsWith(T)&&D.charAt(T.length)==="/"),k={isActive:O,isPending:B,isTransitioning:_},F=O?e:void 0,G;typeof n=="function"?G=n(k):G=[n,O?"active":null,B?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(k):o;return U.createElement(we,{...p,"aria-current":F,className:G,ref:g,style:Q,to:c,viewTransition:h},typeof f=="function"?f(k):f)});_D.displayName="NavLink";var MD=U.forwardRef(({discover:m="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:o,method:c=h0,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:b,...v},S)=>{let E=OD(),A=PD(h,{relative:p}),_=c.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&NE.test(h),R=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let L=D.nativeEvent.submitter,O=(L==null?void 0:L.getAttribute("formmethod"))||c;E(L||D.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:b})};return U.createElement("form",{ref:S,method:_,action:A,onSubmit:n?f:R,...v,"data-discover":!T&&m==="render"?"true":void 0})});MD.displayName="Form";function DD(m){return`${m} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EE(m){let e=U.useContext(ph);return Tt(e,DD(m)),e}function kD(m,{target:e,replace:t,state:n,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=$s(),f=_r(),p=Tp(m,{relative:o});return U.useCallback(g=>{if(uD(g,e)){g.preventDefault();let b=t!==void 0?t:zf(f)===zf(p);h(m,{replace:b,state:n,preventScrollReset:a,relative:o,viewTransition:c})}},[f,h,p,t,n,e,m,a,o,c])}var RD=0,LD=()=>`__${String(++RD)}__`;function OD(){let{router:m}=EE("useSubmit"),{basename:e}=U.useContext(ga),t=eD();return U.useCallback(async(n,a={})=>{let{action:o,method:c,encType:h,formData:f,body:p}=fD(n,e);if(a.navigate===!1){let g=a.fetcherKey||LD();await m.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await m.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[m,e,t])}function PD(m,{relative:e}={}){let{basename:t}=U.useContext(ga),n=U.useContext(xa);Tt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...Tp(m||".",{relative:e})},c=_r();if(m==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();o.search=g?`?${g}`:""}}return(!m||m===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ar([t,o.pathname])),zf(o)}function BD(m,{relative:e}={}){let t=U.useContext(pE);Tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=EE("useViewTransitionState"),a=Tp(m,{relative:e});if(!t.isTransitioning)return!1;let o=Cr(t.currentLocation.pathname,n)||t.currentLocation.pathname,c=Cr(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Y0(a.pathname,c)!=null||Y0(a.pathname,o)!=null}function _p({startup:m,onVote:e,onSwipeAway:t}){var Q;const[n,a]=U.useState(!1),[o,c]=U.useState(null),[h,f]=U.useState(!1),[p,g]=U.useState(!1),[b,v]=U.useState(""),[S,E]=U.useState(!1),[A,_]=U.useState(!1),[T,R]=U.useState(!1),L=(K=>K===4?1:5)(m.stage||1),O=m.yesVotes||0,B=Math.min(O/L*100,100),k=K=>{n||(c(K),a(!0),K==="yes"&&(f(!0),setTimeout(()=>f(!1),800)),e(K),setTimeout(()=>{R(!0),setTimeout(()=>{_(!0),setTimeout(()=>{t&&t()},250)},150)},300))},F=()=>{if(["stupid","dumb","idiot","hate","terrible","awful","sucks","crap","shit","fuck"].some(he=>b.toLowerCase().includes(he))){alert("❌ Please keep comments constructive and professional.");return}if(b.trim().length<5){alert("❌ Comment must be at least 5 characters.");return}alert("💬 Comment posted!"),v(""),E(!1)},G=K=>{switch(K){case 1:return"Anonymous voting • Need 5 votes to advance";case 2:return"Review materials • Need 5 votes to advance";case 3:return"Meet founder • Need 5 votes to advance";case 4:return"Deal room access • Need 1 vote to close";default:return"Voting stage"}};return u.jsxs("div",{className:`relative transition-all duration-250 ease-out ${A?"transform -translate-x-full opacity-0":""} ${T?"animate-puff":""}`,children:[h&&u.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(12)].map((K,X)=>u.jsx("div",{className:"absolute text-2xl animate-float-up",style:{left:`${Math.random()*90+5}%`,bottom:"0%",animationDelay:`${X*.05}s`,animationDuration:"0.8s"},children:"🔥"},X))}),T&&u.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 flex items-center justify-center",children:[...Array(6)].map((K,X)=>u.jsx("div",{className:"absolute text-4xl animate-puff-cloud opacity-70",style:{animationDelay:`${X*.02}s`},children:"💨"},X))}),u.jsxs("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-2xl p-5 shadow-2xl border-4 border-orange-500 relative w-[360px] h-[400px] flex flex-col",children:[u.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),u.jsxs("div",{className:"relative flex flex-col h-full",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight leading-none",children:m.name}),u.jsxs("p",{className:"text-blue-700 font-bold text-xs mt-0.5",children:["stage #",m.stage||1]}),u.jsx("p",{className:"text-[10px] text-gray-700 italic leading-tight mt-0.5",children:G(m.stage||1)})]}),u.jsx("button",{onClick:()=>g(!p),className:"text-3xl hover:scale-110 transition-transform flex-shrink-0",children:"🍯"})]}),p&&u.jsx("div",{className:"bg-yellow-200 border-2 border-yellow-400 rounded-lg p-1.5 mb-2",children:u.jsxs("p",{className:"text-[10px] font-bold text-gray-900 leading-tight",children:["🤫 ",m.fivePoints&&m.fivePoints[4]?m.fivePoints[4]:"Traction data available"]})}),m.pitch&&u.jsxs("p",{className:"text-sm font-black text-gray-900 leading-tight tracking-tight mb-3",children:['"',m.pitch,'"']}),u.jsxs("div",{className:"mb-3 space-y-1.5",children:[(m.fivePoints||[]).slice(0,4).map((K,X)=>u.jsx("p",{className:`leading-tight tracking-tight ${X===0?"text-xs font-black text-gray-900":X===1||X===2?"text-sm font-black text-gray-900":"text-xs font-bold text-gray-800"}`,children:K},X)),m.raise&&u.jsxs("p",{className:"text-xs font-black text-gray-900 leading-tight tracking-tight",children:["💰 ",m.raise]})]}),u.jsx("div",{className:"flex-1"}),u.jsxs("div",{className:"mb-2",children:[u.jsxs("div",{className:"flex justify-between text-[10px] text-gray-700 mb-1",children:[u.jsxs("span",{className:"font-bold",children:["Stage ",(m.stage||1)+1]}),u.jsxs("span",{className:"font-black",children:[O,"/",L," votes"]})]}),u.jsx("div",{className:"w-full bg-gray-300 rounded-full h-1.5",children:u.jsx("div",{className:"bg-green-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${B}%`}})})]}),u.jsxs("div",{className:"flex gap-3 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-base",children:"👍"}),u.jsx("span",{className:"font-black text-gray-900 text-sm",children:m.yesVotes||0})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-base",children:"👎"}),u.jsx("span",{className:"font-black text-gray-900 text-sm",children:m.noVotes||0})]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"text-xl",children:"🔥"}),u.jsx("button",{onClick:()=>k("yes"),disabled:n,className:`flex-1 font-black py-2 px-3 rounded-xl text-sm shadow-lg transition-all ${o==="yes"?"bg-green-600 text-white scale-105":"bg-orange-500 hover:bg-orange-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"yes"}),u.jsx("button",{onClick:()=>k("no"),disabled:n,className:`flex-1 font-black py-2 px-3 rounded-xl text-sm shadow-lg transition-all ${o==="no"?"bg-gray-700 text-white opacity-50":"bg-gradient-to-br from-gray-300 via-gray-400 to-gray-300 hover:from-gray-400 hover:via-gray-500 hover:to-gray-400 text-gray-800 shadow-[inset_0_2px_4px_rgba(255,255,255,0.6)]"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"no"})]}),u.jsxs("button",{onClick:()=>E(!S),className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 px-4 rounded-xl text-xs transition-all",children:["comments (",((Q=m.comments)==null?void 0:Q.length)||0,")"]}),S&&u.jsxs("div",{className:"mt-2 bg-white rounded-xl p-2",children:[u.jsx("textarea",{value:b,onChange:K=>v(K.target.value),placeholder:"Share feedback...",className:"w-full px-2 py-1.5 border-2 border-orange-300 rounded-lg text-xs",rows:2,maxLength:500}),u.jsxs("div",{className:"flex justify-between items-center mt-1",children:[u.jsxs("span",{className:"text-[10px] text-gray-500",children:[b.length,"/500"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{v(""),E(!1)},className:"bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-1 px-3 rounded-lg text-xs",children:"Cancel"}),u.jsx("button",{onClick:F,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-1 px-3 rounded-lg text-xs",children:"Post"})]})]})]})]})]}),u.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) scale(1);
            opacity: 1;
          }
          100% {
            transform: translateY(-300px) scale(1.5);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation: float-up 0.8s ease-out forwards;
        }

        @keyframes puff {
          0% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.8;
          }
          100% {
            transform: scale(1.4);
            opacity: 0;
          }
        }
        .animate-puff {
          animation: puff 0.15s ease-out;
        }

        @keyframes puff-cloud {
          0% {
            transform: translate(0, 0) scale(0.5);
            opacity: 0;
          }
          50% {
            opacity: 1;
          }
          100% {
            transform: translate(var(--tx), var(--ty)) scale(1.8);
            opacity: 0;
          }
        }
        .animate-puff-cloud {
          --tx: calc(cos(var(--angle)) * 60px);
          --ty: calc(sin(var(--angle)) * 60px);
          animation: puff-cloud 0.4s ease-out forwards;
        }
        .animate-puff-cloud:nth-child(1) { --angle: 0deg; }
        .animate-puff-cloud:nth-child(2) { --angle: 60deg; }
        .animate-puff-cloud:nth-child(3) { --angle: 120deg; }
        .animate-puff-cloud:nth-child(4) { --angle: 180deg; }
        .animate-puff-cloud:nth-child(5) { --angle: 240deg; }
        .animate-puff-cloud:nth-child(6) { --angle: 300deg; }
      `})]})}function ID({company:m,onComment:e}){const[t,n]=U.useState(!1),[a,o]=U.useState(""),[c,h]=U.useState(""),[f,p]=U.useState([]),g=()=>{a.trim()&&(p([...f,a]),e&&e(m.id,a),o(""))},S=((m==null?void 0:m.entityType)||"vc_firm")==="accelerator"?"🚀 ACCELERATOR":"💼 VC FIRM",E=(m==null?void 0:m.investmentCount)||0,_=(T=>T>=10?{label:"🔥 MEGA INVESTOR",color:"text-red-400"}:T>=5?{label:"⭐ ACTIVE INVESTOR",color:"text-orange-400"}:T>=1?{label:"✨ INVESTOR",color:"text-yellow-400"}:{label:"👀 WATCHING",color:"text-gray-400"})(E);return u.jsxs("div",{className:"bg-gradient-to-br from-purple-700 via-purple-600 to-purple-800 rounded-3xl shadow-2xl overflow-hidden border-4 border-lime-400 relative",children:[u.jsx("div",{className:"absolute top-4 right-4 z-10",children:u.jsx("div",{className:"w-20 h-20 bg-lime-400 rounded-full flex items-center justify-center transform rotate-12 shadow-lg border-4 border-lime-500",children:u.jsxs("span",{className:"text-xs font-black text-gray-900 text-center leading-tight",children:[S.split(" ")[0],u.jsx("br",{}),S.split(" ")[1]]})})}),u.jsxs("div",{className:"p-8",children:[u.jsx("h2",{className:"text-4xl font-black text-lime-400 mb-2 pr-24",children:(m==null?void 0:m.name)||"Unknown Company"}),E>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("span",{className:`${_.color} font-bold text-sm`,children:_.label}),u.jsxs("span",{className:"text-lime-300 font-semibold text-sm ml-2",children:["• ",E," investment",E!==1?"s":""," on Hot Honey"]})]}),(m==null?void 0:m.tagline)&&u.jsxs("p",{className:"text-xl text-lime-300 font-bold mb-6 italic",children:['"',m.tagline,'"']}),E>0&&u.jsxs("div",{className:"bg-lime-400/20 backdrop-blur-sm rounded-xl p-4 border-2 border-lime-300 mb-6",children:[u.jsx("h3",{className:"text-lime-300 font-black text-lg mb-2",children:"📊 Hot Honey Activity"}),u.jsxs("div",{className:"space-y-1 text-lime-200 text-sm",children:[u.jsxs("p",{children:["💰 Total Invested: ",(m==null?void 0:m.totalInvested)||"TBD"]}),u.jsxs("p",{children:["🎯 Portfolio Companies: ",E]}),(m==null?void 0:m.recentInvestments)&&m.recentInvestments.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("p",{className:"font-semibold text-lime-300",children:"Recent Investments:"}),u.jsx("ul",{className:"list-disc list-inside ml-2",children:m.recentInvestments.slice(0,3).map((T,R)=>u.jsx("li",{children:T},R))})]})]})]}),(m==null?void 0:m.fivePoints)&&m.fivePoints.length>0&&u.jsx("div",{className:"space-y-3 mb-6",children:m.fivePoints.map((T,R)=>u.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 border-2 border-lime-300",children:u.jsxs("p",{className:"text-lime-200 font-semibold",children:[u.jsxs("span",{className:"text-lime-400 font-black",children:[R+1,"."]})," ",T]})},R))}),(m==null?void 0:m.website)&&u.jsx("div",{className:"mb-6",children:u.jsx("a",{href:m.website,target:"_blank",rel:"noopener noreferrer",className:"text-lime-300 hover:text-lime-200 underline font-semibold",children:"🌐 Visit Website"})}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-lime-300 font-bold mb-2",children:"🍯 Share Details About This Firm"}),u.jsx("input",{type:"text",value:c,onChange:T=>h(T.target.value),placeholder:"Add investment focus, portfolio companies, etc...",className:"w-full px-4 py-3 bg-white/20 border-2 border-lime-300 rounded-xl text-lime-100 placeholder-lime-300/50 focus:outline-none focus:border-lime-400 focus:ring-2 focus:ring-lime-400"})]}),u.jsxs("div",{className:"border-t-2 border-lime-300 pt-6",children:[u.jsxs("button",{onClick:()=>n(!t),className:"text-lime-300 hover:text-lime-200 font-bold mb-4 flex items-center gap-2",children:["💬 ",t?"Hide":"Show"," Comments (",f.length,")"]}),t&&u.jsxs("div",{className:"space-y-4",children:[f.length>0&&u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:f.map((T,R)=>u.jsxs("div",{className:"bg-lime-400/10 rounded-lg p-3 border border-lime-300/30",children:[u.jsx("p",{className:"text-lime-200 text-sm",children:T}),u.jsx("p",{className:"text-lime-400/50 text-xs mt-1",children:"Just now"})]},R))}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("textarea",{value:a,onChange:T=>o(T.target.value),placeholder:"Add your notes about this firm...",rows:3,className:"w-full px-4 py-3 bg-white/20 border-2 border-lime-300 rounded-xl text-lime-100 placeholder-lime-300/50 focus:outline-none focus:border-lime-400 resize-none"}),u.jsx("button",{onClick:g,disabled:!a.trim(),className:"bg-lime-400 hover:bg-lime-500 text-gray-900 font-bold py-2 px-6 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Post Comment"})]})]})]})]})]})}const hi=[{id:0,name:"GreenTech",description:"Sustainable energy solutions for smart cities.",pitch:"Sustainable energy solutions for smart cities",tagline:"Tesla for home solar systems",marketSize:"$180B renewable energy",unique:"Self-installing smart panels",raise:"$5M Series B",stage:2,yesVotes:7,noVotes:2,hotness:3.4,answersCount:5,comments:[{id:"1",userId:"investor1",userName:"John Doe",text:"Great potential in the renewable energy sector!",timestamp:new Date("2025-10-25")},{id:"2",userId:"investor2",userName:"Jane Smith",text:"Interested in learning more about the tech stack.",timestamp:new Date("2025-10-25")}],fivePoints:["Tesla for home solar systems","$180B renewable energy market","Self-installing smart panels","Ex-Tesla, SolarCity engineers","Raising $5M Series B"],teamLogos:["/logos/tesla.png","/logos/solarcity.png","/logos/apple.png"],video:"https://www.youtube.com/watch?v=greentech",deck:"https://example.com/greentech-deck.pdf",press:"https://techcrunch.com/greentech",tech:"ML + IoT smart grid integration"},{id:1,name:"NeuralNest",description:"AI-powered mental health therapy platform.",pitch:"AI-powered mental health therapy",tagline:"ChatGPT for mental health therapy",marketSize:"$240B mental health market",unique:"AI learns patient patterns",raise:"$2M Series A",stage:1,yesVotes:3,noVotes:3,hotness:3.2,answersCount:5,comments:[],fivePoints:["ChatGPT for mental health therapy","$280B mental health market","AI therapist available 24/7","Stanford psychologists + AI researchers","Raising $2M Series A"],teamLogos:["/logos/google.png","/logos/meta.png","/logos/openai.png"],video:"https://www.youtube.com/watch?v=neuralnest",deck:"https://example.com/neuralnest-deck.pdf",press:"https://techcrunch.com/neuralnest",tech:"GPT-4 + behavioral psychology models"},{id:2,name:"FinFlow",description:"Instant crypto-to-fiat conversion for payments.",pitch:"Instant crypto-to-fiat conversion",tagline:"Stripe for cryptocurrency payments",marketSize:"$125B crypto payments",unique:"Instant crypto-to-fiat conversion",raise:"$3M Seed",stage:1,yesVotes:4,noVotes:1,hotness:3.8,answersCount:5,comments:[],fivePoints:["Stripe for cryptocurrency payments","$1T+ crypto market","One-click crypto checkout","Ex-Stripe, Coinbase engineers","Raising $3M Seed"],teamLogos:["/logos/stripe.png","/logos/coinbase.png","/logos/paypal.png"],video:"https://www.youtube.com/watch?v=finflow",deck:"https://example.com/finflow-deck.pdf",press:"https://techcrunch.com/finflow",tech:"Blockchain APIs + real-time currency conversion"},{id:3,name:"BarkPark",description:"A social network and meetup app for dog owners.",pitch:"Connect dog owners and their furry friends in your neighborhood",tagline:"Social network for dogs",marketSize:"$2B+ pet care market",unique:"Gamified pet profiles and dog park rewards",raise:"$1.2M SAFE at $7M cap",stage:2,yesVotes:12,noVotes:3,hotness:4.1,answersCount:5,comments:[],fivePoints:["Tinder for dog playdates","$2B pet care market","Verified dog park reviews + scheduling","Ex-Airbnb, Google product managers","Raising $1.2M SAFE"],teamLogos:["/logos/google.png","/logos/meta.png","/logos/airbnb.png"],video:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",deck:"https://example.com/barkpark-deck.pdf",press:"https://techcrunch.com/barkpark",tech:"Built with Flutter and Firebase"},{id:4,name:"Chefie",description:"AI-powered cooking assistant with voice and visual guides.",pitch:"Your personal AI chef that helps you cook like a pro",tagline:"AI cooking assistant",marketSize:"$15B home cooking tech",unique:"Real-time cooking help and meal personalization",raise:"$1M SAFE at $10M cap",stage:1,yesVotes:5,noVotes:1,hotness:3.8,answersCount:5,comments:[],fivePoints:["AI sous chef in your kitchen","$15B home cooking tech market","Step-by-step voice + video guidance","Ex-YouTube, TikTok engineers + pro chefs","Raising $1M SAFE"],teamLogos:["/logos/apple.png","/logos/youtube.png","/logos/tiktok.png"],video:"https://www.youtube.com/watch?v=chefie-demo",deck:"https://example.com/chefie-deck.pdf",press:"https://techcrunch.com/chefie",tech:"React Native, GPT-4 Vision API"},{id:5,name:"HushRoom",description:"Portable soundproof work pods for remote workers.",pitch:"Work from anywhere with total privacy and quiet",tagline:"Soundproof pods for WFH",marketSize:"$2.5B workspace innovation market",unique:"No-permit setup, acoustic-grade privacy design",raise:"$2M Series A",stage:2,yesVotes:9,noVotes:4,hotness:3.6,answersCount:5,comments:[],fivePoints:["WeWork for your home","$2.5B workspace innovation market","Modular pods, 2-hour installation","Ex-WeWork, Microsoft designers","Raising $2M Series A"],teamLogos:["/logos/wework.png","/logos/microsoft.png","/logos/ikea.png"],video:"https://www.youtube.com/watch?v=hushroom",deck:"https://example.com/hushroom-deck.pdf",press:"https://techcrunch.com/hushroom",tech:"Modular architecture and AR layout planning"},{id:6,name:"PetPulse",description:"Wearable health trackers for pets.",pitch:"Monitor your pet's health in real-time",tagline:"Fitbit for pets",marketSize:"$9B pet tech industry",unique:"Vitals, mood, and fitness tracking for animals",raise:"$800K friends & family",stage:1,yesVotes:6,noVotes:2,hotness:3.2,answersCount:5,comments:[],fivePoints:["Fitbit for pets","$9B pet tech industry","Real-time vitals + activity tracking","Ex-Fitbit engineers + vets","Raising $800K seed"],teamLogos:["/logos/fitbit.png","/logos/apple.png","/logos/vetmed.png"],video:"https://www.youtube.com/watch?v=petpulse",deck:"https://example.com/petpulse-deck.pdf",press:"https://techcrunch.com/petpulse",tech:"BLE sensors + AI diagnostics"},{id:7,name:"Droply",description:"Scheduled water deliveries for off-grid homes.",pitch:"Never run out of water with smart delivery",tagline:"Smart water delivery",marketSize:"$1.8B off-grid utilities",unique:"IoT tank sensors + ML-based route planning",raise:"$1.5M pre-seed",stage:1,yesVotes:4,noVotes:1,hotness:2.9,answersCount:5,comments:[],fivePoints:["Uber for water delivery","$1.8B off-grid utilities market","IoT sensors predict refill needs","Ex-UPS logistics + SmartThings engineers","Raising $1.5M pre-seed"],teamLogos:["/logos/ups.png","/logos/smartthings.png","/logos/tesla.png"],video:"https://www.youtube.com/watch?v=droply",deck:"https://example.com/droply-deck.pdf",press:"https://techcrunch.com/droply",tech:"IoT, GPS routing, and solar billing integration"},{id:8,name:"MuseNet",description:"AI-generated ambient music for focus and sleep.",pitch:"Personalized AI music that adapts to your mood",tagline:"AI music for wellness",marketSize:"$3B wellness audio space",unique:"Realtime adaptive music based on biometrics",raise:"$600K angel round",stage:1,yesVotes:8,noVotes:2,hotness:3.7,answersCount:5,comments:[],fivePoints:["Spotify meets meditation","$3B wellness audio market","AI generates music from heart rate","Ex-Spotify engineers + neuroscientists","Raising $600K angel"],teamLogos:["/logos/spotify.png","/logos/deezer.png","/logos/apple.png"],video:"https://www.youtube.com/watch?v=muse-net",deck:"https://example.com/musenet-deck.pdf",press:"https://techcrunch.com/musenet",tech:"LLMs + real-time waveform synthesis"},{id:9,name:"ByteSize",description:"Snackable coding lessons in under 60 seconds.",pitch:"Learn to code in 60-second videos",tagline:"TikTok for coding education",marketSize:"$5B+ online learning market",unique:"TikTok-style swipe interface with live code previews",raise:"$500K pre-seed round",stage:1,yesVotes:11,noVotes:1,hotness:4.2,answersCount:5,comments:[],fivePoints:["TikTok for coding tutorials","$5B+ online learning market","60-second lessons with instant practice","Ex-Google, Meta engineers","Raising $500K pre-seed"],teamLogos:["/logos/amazon.png","/logos/google.png","/logos/meta.png"],video:"https://www.youtube.com/watch?v=abc123",deck:"https://example.com/bytesize-deck.pdf",press:"https://techcrunch.com/bytesize",tech:"React, Node.js, and WebAssembly"},{id:10,name:"SolarSync",description:"Smart solar optimization for small homes.",pitch:"AI-powered solar energy optimization",tagline:"Smart solar for homes",marketSize:"$10B+ residential solar market",unique:"Uses AI to shift energy loads for savings",raise:"$750K seed round at $5M valuation",stage:1,yesVotes:6,noVotes:3,hotness:3.3,answersCount:5,comments:[],fivePoints:["Nest for solar panels","$10B+ residential solar market","AI shifts energy to sunny hours","Ex-Tesla Energy, NASA engineers","Raising $750K seed"],teamLogos:["/logos/tesla.png","/logos/nasa.png","/logos/solarcity.png"],video:"https://www.youtube.com/watch?v=xyz789",deck:"https://example.com/solarsync-deck.pdf",press:"https://techcrunch.com/solarsync",tech:"IoT + ML with Raspberry Pi edge devices"}],FD=()=>{const[m,e]=U.useState([]),[t,n]=U.useState(hi),[a,o]=U.useState(hi.length),[c,h]=U.useState(!1);U.useEffect(()=>{const g=localStorage.getItem("votedStartups"),b=localStorage.getItem("investorPreferences"),v=localStorage.getItem("uploadedStartups");let S=[...hi];if(v){const A=JSON.parse(v);S=[...S,...A]}o(S.length);let E=S;if(b){const A=JSON.parse(b);A.filterEnabled&&A.industries&&A.industries.length>0&&(h(!0),E=S.filter(_=>!_.industries||_.industries.length===0?!0:_.industries.some(T=>A.industries.includes(T))))}if(g){const A=JSON.parse(g);e(A);const _=E.filter(T=>!A.includes(T.id));n(_)}else n(E)},[]);const f=(g,b)=>{const v=[...m,g];if(e(v),localStorage.setItem("votedStartups",JSON.stringify(v)),b==="yes"){const S=localStorage.getItem("myYesVotes"),E=S?JSON.parse(S):[];let A=hi.find(_=>_.id===g);if(!A){const _=localStorage.getItem("uploadedStartups");_&&(A=JSON.parse(_).find(R=>R.id===g))}A&&(E.push({...A,votedAt:new Date().toISOString()}),localStorage.setItem("myYesVotes",JSON.stringify(E)))}n(S=>S.filter(E=>E.id!==g))},p=()=>{confirm("⚠️ Reset ALL votes? This will clear your voting history.")&&(localStorage.removeItem("votedStartups"),localStorage.removeItem("myYesVotes"),e([]),n(hi),alert("✅ Votes reset! You can now vote on all startups again."))};return t.length===0?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[u.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx(we,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up",children:"🍯"}),u.jsx(we,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:"👤 Sign Up"}),u.jsx(we,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"🏠 Home"}),u.jsx(we,{to:"/vote",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:"📊 Vote"}),u.jsx(we,{to:"/dashboard",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"👤 Dashboard"}),u.jsx(we,{to:"/settings",className:"px-4 py-1.5 bg-purple-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-purple-600 transition-colors",children:"⚙️ Settings"})]})}),u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-6xl font-bold text-white mb-4",children:"🎉"}),u.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"All Done!"}),u.jsxs("p",{className:"text-xl text-purple-200 mb-8",children:["You've voted on all ",a," startups!"]}),u.jsxs("div",{className:"flex gap-4 justify-center",children:[u.jsx(we,{to:"/dashboard",className:"px-8 py-3 bg-orange-500 text-white rounded-lg font-medium text-lg hover:bg-orange-600 transition-colors shadow-lg",children:"View My Hot Picks 🔥"}),u.jsx("button",{onClick:p,className:"px-8 py-3 bg-gray-500 text-white rounded-lg font-medium text-lg hover:bg-gray-600 transition-colors shadow-lg",children:"🔄 Reset & Vote Again"})]})]})})]}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[u.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx(we,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up",children:"🍯"}),u.jsx(we,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:"👤 Sign Up"}),u.jsx(we,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"🏠 Home"}),u.jsx(we,{to:"/vote",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:"📊 Vote"}),u.jsx(we,{to:"/dashboard",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"👤 Dashboard"}),u.jsx(we,{to:"/settings",className:"px-4 py-1.5 bg-purple-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-purple-600 transition-colors",children:"⚙️ Settings"})]})}),u.jsxs("div",{className:"pt-28 px-8 pb-16",children:[u.jsx("div",{className:"mb-8 text-center",children:u.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-5xl font-bold text-white mb-3",children:"🔥 Vote on Startups"}),u.jsxs("p",{className:"text-xl text-purple-200",children:[u.jsx("span",{className:"font-bold text-yellow-300",children:t.length})," of ",a," ",t.length===1?"startup":"startups"," remaining"]}),c&&u.jsx("div",{className:"mt-2 inline-block bg-purple-500 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"🎯 Showing only your preferred industries"})]}),u.jsx("button",{onClick:p,className:"px-4 py-2 bg-gray-500 text-white rounded-lg font-medium text-sm hover:bg-gray-600 transition-colors shadow-lg",children:"🔄 Reset All Votes"})]})}),u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center",children:t.map(g=>{const b=g.entityType;return b==="vc_firm"||b==="accelerator"?u.jsx(ID,{id:g.id,name:g.name,pitch:g.pitch||g.tagline||"",fivePoints:g.fivePoints||[],entityType:b,website:g.website},g.id):u.jsx(_p,{startup:g,onVote:v=>f(g.id,v)},g.id)})})})]})]})};function M2(){const m=$s(),e=_r(),[t,n]=U.useState([]),[a,o]=U.useState(!1);U.useEffect(()=>{const g=localStorage.getItem("myYesVotes");if(g){const S=JSON.parse(g).map(E=>{if(!E.fivePoints){const A=hi.find(_=>_.id===E.id);if(A)return{...E,fivePoints:A.fivePoints}}return E});localStorage.setItem("myYesVotes",JSON.stringify(S)),n(S)}const b=localStorage.getItem("userProfile");if(b){const v=JSON.parse(b);o(v.email==="admin@hotmoneyhoney.com"||v.isAdmin)}},[]);const c=g=>{console.log(`Voted ${g}`)},h=g=>{const b=localStorage.getItem("myYesVotes");if(b){const S=JSON.parse(b).filter(A=>A.id!==g);localStorage.setItem("myYesVotes",JSON.stringify(S)),n(S);const E=localStorage.getItem("votedStartups");if(E){const A=JSON.parse(E);delete A[g],localStorage.setItem("votedStartups",JSON.stringify(A))}}},f=g=>e.pathname===g,p=g=>f(g)?"text-lg py-3 px-6":"text-sm py-2 px-4";return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[u.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:u.jsxs("div",{className:"flex gap-3 items-center",children:[u.jsx(we,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Hot Money Honey",children:"🍯"}),u.jsx(we,{to:"/",className:`font-bold rounded-2xl transition-all ${p("/")} ${f("/")?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:"🏠 Home"}),u.jsx(we,{to:"/dashboard",className:`font-bold rounded-2xl transition-all ${f("/dashboard")?"text-lg py-3 px-7":"text-base py-2.5 px-5"} ${f("/dashboard")?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-xl scale-110":"bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white shadow-lg"}`,children:"📊 Dashboard"}),u.jsx(we,{to:"/vote",className:`font-bold rounded-2xl transition-all ${p("/vote")} ${f("/vote")?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:"🗳️ Vote"}),u.jsx(we,{to:"/portfolio",className:`font-bold rounded-2xl transition-all ${p("/portfolio")} ${f("/portfolio")?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:"⭐ Portfolio"}),a&&u.jsx(we,{to:"/admin/bulk-upload",className:`font-bold rounded-2xl transition-all ${p("/admin/bulk-upload")} ${f("/admin/bulk-upload")?"bg-gradient-to-r from-gray-500 to-gray-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-gray-400 to-gray-600 hover:from-gray-500 hover:to-gray-700 text-white"}`,children:"📊 Bulk Upload"}),a&&u.jsx(we,{to:"/admin/document-upload",className:`font-bold rounded-2xl transition-all ${p("/admin/document-upload")} ${f("/admin/document-upload")?"bg-gradient-to-r from-green-500 to-purple-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-green-400 to-purple-600 hover:from-green-500 hover:to-purple-700 text-white"}`,children:"📄 Scan Docs"})]})}),u.jsxs("div",{className:"max-w-4xl mx-auto pt-28",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"text-8xl mb-4",children:"⭐"}),u.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-4",children:"Your Portfolio"}),u.jsx("p",{className:"text-xl text-white font-bold drop-shadow-lg",children:"Startups you've voted YES on"})]}),t.length===0?u.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center shadow-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📭"}),u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No picks yet!"}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Start voting YES on startups to build your portfolio"}),u.jsx("button",{onClick:()=>m("/vote"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"🗳️ Go to Voting"})]}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-orange-400",children:[u.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["✨ ",t.length," Startup",t.length!==1?"s":""," in Your Portfolio"]}),u.jsx("p",{className:"text-purple-200",children:"These are the startups you've voted YES on!"})]}),u.jsx("div",{className:"space-y-8",children:t.map(g=>u.jsxs("div",{className:"relative",children:[u.jsx(_p,{startup:g,onVote:c}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("button",{onClick:()=>h(g.id),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded-xl transition-all",children:"❌ Remove from Portfolio"})})]},g.id))}),u.jsxs("div",{className:"flex gap-4 justify-center mt-8",children:[u.jsx("button",{onClick:()=>m("/vote"),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 px-8 rounded-2xl shadow-lg transition-all",children:"🗳️ Continue Voting"}),u.jsx("button",{onClick:()=>m("/dashboard"),className:"bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white font-bold py-3 px-8 rounded-2xl shadow-lg transition-all",children:"📊 Back to Dashboard"})]})]})]})]})}const Us=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),gv=[.001,0,0,.001,0,0],rv=1.35,In={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},sl={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Uf="pdfjs_internal_editor_",Me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ve={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},zD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},xs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},m0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Yt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},_u={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Tx={ERRORS:0,WARNINGS:1,INFOS:5},Hf={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},t0={moveTo:0,lineTo:1,curveTo:2,closePath:3},UD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let _x=Tx.WARNINGS;function HD(m){Number.isInteger(m)&&(_x=m)}function VD(){return _x}function Mx(m){_x>=Tx.INFOS&&console.info(`Info: ${m}`)}function Te(m){_x>=Tx.WARNINGS&&console.warn(`Warning: ${m}`)}function mt(m){throw new Error(m)}function Ge(m,e){m||mt(e)}function GD(m){switch(m==null?void 0:m.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function CE(m,e=null,t=null){if(!m)return null;if(t&&typeof m=="string"){if(t.addDefaultProtocol&&m.startsWith("www.")){const a=m.match(/\./g);(a==null?void 0:a.length)>=2&&(m=`http://${m}`)}if(t.tryConvertEncoding)try{m=WD(m)}catch{}}const n=e?URL.parse(m,e):URL.parse(m);return GD(n)?n:null}function jE(m,e,t=!1){const n=URL.parse(m);return n?(n.hash=e,n.href):t&&CE(m,"http://example.com")?m.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Pe(m,e,t,n=!1){return Object.defineProperty(m,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Hc=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class D2 extends Hc{constructor(e,t){super(e,"PasswordException"),this.code=t}}class lv extends Hc{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class xv extends Hc{constructor(e){super(e,"InvalidPDFException")}}class X0 extends Hc{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class $D extends Hc{constructor(e){super(e,"FormatError")}}class Ql extends Hc{constructor(e){super(e,"AbortException")}}function TE(m){(typeof m!="object"||(m==null?void 0:m.length)===void 0)&&mt("Invalid argument for bytesToString");const e=m.length,t=8192;if(e<t)return String.fromCharCode.apply(null,m);const n=[];for(let a=0;a<e;a+=t){const o=Math.min(a+t,e),c=m.subarray(a,o);n.push(String.fromCharCode.apply(null,c))}return n.join("")}function Mp(m){typeof m!="string"&&mt("Invalid argument for stringToBytes");const e=m.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=m.charCodeAt(n)&255;return t}function qD(m){return String.fromCharCode(m>>24&255,m>>16&255,m>>8&255,m&255)}function YD(){const m=new Uint8Array(4);return m[0]=1,new Uint32Array(m.buffer,0,1)[0]===1}function XD(){try{return new Function(""),!0}catch{return!1}}class Cs{static get isLittleEndian(){return Pe(this,"isLittleEndian",YD())}static get isEvalSupported(){return Pe(this,"isEvalSupported",XD())}static get isOffscreenCanvasSupported(){return Pe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Pe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Pe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Pe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const ov=Array.from(Array(256).keys(),m=>m.toString(16).padStart(2,"0"));var Nr,p0,bv;class pe{static makeHexColor(e,t,n){return`#${ov[e]}${ov[t]}${ov[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const a=e[n],o=e[n+1];e[n]=a*t[0]+o*t[2]+t[4],e[n+1]=a*t[1]+o*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const a=t[0],o=t[1],c=t[2],h=t[3],f=t[4],p=t[5];for(let g=0;g<6;g+=2){const b=e[n+g],v=e[n+g+1];e[n+g]=b*a+v*c+f,e[n+g+1]=b*o+v*h+p}}static applyInverseTransform(e,t){const n=e[0],a=e[1],o=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-a*t[2]+t[2]*t[5]-t[4]*t[3])/o,e[1]=(-n*t[1]+a*t[0]+t[4]*t[1]-t[5]*t[0])/o}static axialAlignedBoundingBox(e,t,n){const a=t[0],o=t[1],c=t[2],h=t[3],f=t[4],p=t[5],g=e[0],b=e[1],v=e[2],S=e[3];let E=a*g+f,A=E,_=a*v+f,T=_,R=h*b+p,D=R,L=h*S+p,O=L;if(o!==0||c!==0){const B=o*g,k=o*v,F=c*b,G=c*S;E+=F,T+=F,_+=G,A+=G,R+=B,O+=B,L+=k,D+=k}n[0]=Math.min(n[0],E,_,A,T),n[1]=Math.min(n[1],R,L,D,O),n[2]=Math.max(n[2],E,_,A,T),n[3]=Math.max(n[3],R,L,D,O)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],a=e[1],o=e[2],c=e[3],h=n**2+a**2,f=n*o+a*c,p=o**2+c**2,g=(h+p)/2,b=Math.sqrt(g**2-(h*p-f**2));t[0]=Math.sqrt(g+b||1),t[1]=Math.sqrt(g-b||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>a)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),c=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>c?null:[n,o,a,c]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,a,o){o[0]=Math.min(o[0],e,n),o[1]=Math.min(o[1],t,a),o[2]=Math.max(o[2],e,n),o[3]=Math.max(o[3],t,a)}static bezierBoundingBox(e,t,n,a,o,c,h,f,p){p[0]=Math.min(p[0],e,h),p[1]=Math.min(p[1],t,f),p[2]=Math.max(p[2],e,h),p[3]=Math.max(p[3],t,f),j(this,Nr,bv).call(this,e,n,o,h,t,a,c,f,3*(-e+3*(n-o)+h),6*(e-2*n+o),3*(n-e),p),j(this,Nr,bv).call(this,e,n,o,h,t,a,c,f,3*(-t+3*(a-c)+f),6*(t-2*a+c),3*(a-t),p)}}Nr=new WeakSet,p0=function(e,t,n,a,o,c,h,f,p,g){if(p<=0||p>=1)return;const b=1-p,v=p*p,S=v*p,E=b*(b*(b*e+3*p*t)+3*v*n)+S*a,A=b*(b*(b*o+3*p*c)+3*v*h)+S*f;g[0]=Math.min(g[0],E),g[1]=Math.min(g[1],A),g[2]=Math.max(g[2],E),g[3]=Math.max(g[3],A)},bv=function(e,t,n,a,o,c,h,f,p,g,b,v){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&j(this,Nr,p0).call(this,e,t,n,a,o,c,h,f,-b/g,v);return}const S=g**2-4*b*p;if(S<0)return;const E=Math.sqrt(S),A=2*p;j(this,Nr,p0).call(this,e,t,n,a,o,c,h,f,(-g+E)/A,v),j(this,Nr,p0).call(this,e,t,n,a,o,c,h,f,(-g-E)/A,v)},C(pe,Nr);function WD(m){return decodeURIComponent(escape(m))}let cv=null,k2=null;function KD(m){return cv||(cv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,k2=new Map([["ﬅ","ſt"]])),m.replaceAll(cv,(e,t,n)=>t?t.normalize("NFKC"):k2.get(n))}function _E(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const m=new Uint8Array(32);return crypto.getRandomValues(m),TE(m)}const Zw="pdfjs_internal_id_";function QD(m,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,a,...o]=t;if(!m(n)&&!Number.isInteger(n)||!e(a))return!1;const c=o.length;let h=!0;switch(a.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;h=!1;break;default:return!1}for(const f of o)if(!(typeof f=="number"||h&&f===null))return!1;return!0}function Hs(m,e,t){return Math.min(Math.max(m,e),t)}function ME(m){return Uint8Array.prototype.toBase64?m.toBase64():btoa(TE(m))}function ZD(m){return Uint8Array.fromBase64?Uint8Array.fromBase64(m):Mp(atob(m))}typeof Promise.try!="function"&&(Promise.try=function(m,...e){return new Promise(t=>{t(m(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(m){return m.reduce((e,t)=>e+t,0)});class Vf{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function a(o){var f;if(!o)return;let c=null;const h=o.name;if(h==="#text")c=o.value;else if(Vf.shouldBuildText(h))(f=o==null?void 0:o.attributes)!=null&&f.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&t.push({str:c}),!!o.children)for(const p of o.children)a(p)}return a(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class DE{static setupStorage(e,t,n,a,o){const c=a.getValue(t,{value:null});switch(n.name){case"textarea":if(c.value!==null&&(e.textContent=c.value),o==="print")break;e.addEventListener("input",h=>{a.setValue(t,{value:h.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(c.value===n.attributes.xfaOn?e.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",h=>{a.setValue(t,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&e.setAttribute("value",c.value),o==="print")break;e.addEventListener("input",h=>{a.setValue(t,{value:h.target.value})})}break;case"select":if(c.value!==null){e.setAttribute("value",c.value);for(const h of n.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}e.addEventListener("input",h=>{const f=h.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;a.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:a,linkService:o}){const{attributes:c}=t,h=e instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${a}`);for(const[f,p]of Object.entries(c))if(p!=null)switch(f){case"class":p.length&&e.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!h||f!=="href"&&f!=="newWindow")&&e.setAttribute(f,p)}h&&o.addLinkAttributes(e,c.href,c.newWindow),n&&c.dataId&&this.setupStorage(e,c.dataId,t,n)}static render(e){var b,v;const t=e.annotationStorage,n=e.linkService,a=e.xfaHtml,o=e.intent||"display",c=document.createElement(a.name);a.attributes&&this.setAttributes({html:c,element:a,intent:o,linkService:n});const h=o!=="richText",f=e.div;if(f.append(c),e.viewport){const S=`matrix(${e.viewport.transform.join(",")})`;f.style.transform=S}h&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const S=document.createTextNode(a.value);c.append(S),h&&Vf.shouldBuildText(a.name)&&p.push(S)}return{textDivs:p}}const g=[[a,-1,c]];for(;g.length>0;){const[S,E,A]=g.at(-1);if(E+1===S.children.length){g.pop();continue}const _=S.children[++g.at(-1)[1]];if(_===null)continue;const{name:T}=_;if(T==="#text"){const D=document.createTextNode(_.value);p.push(D),A.append(D);continue}const R=(b=_==null?void 0:_.attributes)!=null&&b.xmlns?document.createElementNS(_.attributes.xmlns,T):document.createElement(T);if(A.append(R),_.attributes&&this.setAttributes({html:R,element:_,storage:t,intent:o,linkService:n}),((v=_.children)==null?void 0:v.length)>0)g.push([_,-1,R]);else if(_.value){const D=document.createTextNode(_.value);h&&Vf.shouldBuildText(T)&&p.push(D),R.append(D)}}for(const S of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ba="http://www.w3.org/2000/svg",No=class No{};ae(No,"CSS",96),ae(No,"PDF",72),ae(No,"PDF_TO_CSS_UNITS",No.CSS/No.PDF);let Zl=No;async function Dp(m,e="text"){if(yf(m,document.baseURI)){const t=await fetch(m);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const a=new XMLHttpRequest;a.open("GET",m,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(a.response);return}t(a.responseText);return}n(new Error(a.statusText))}},a.send(null)})}class kp{constructor({viewBox:e,userUnit:t,scale:n,rotation:a,offsetX:o=0,offsetY:c=0,dontFlip:h=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=a,this.offsetX=o,this.offsetY=c,n*=t;const f=(e[2]+e[0])/2,p=(e[3]+e[1])/2;let g,b,v,S;switch(a%=360,a<0&&(a+=360),a){case 180:g=-1,b=0,v=0,S=1;break;case 90:g=0,b=1,v=1,S=0;break;case 270:g=0,b=-1,v=-1,S=0;break;case 0:g=1,b=0,v=0,S=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(v=-v,S=-S);let E,A,_,T;g===0?(E=Math.abs(p-e[1])*n+o,A=Math.abs(f-e[0])*n+c,_=(e[3]-e[1])*n,T=(e[2]-e[0])*n):(E=Math.abs(f-e[0])*n+o,A=Math.abs(p-e[1])*n+c,_=(e[2]-e[0])*n,T=(e[3]-e[1])*n),this.transform=[g*n,b*n,v*n,S*n,E-g*n*f-v*n*p,A-b*n*f-S*n*p],this.width=_,this.height=T}get rawDims(){const e=this.viewBox;return Pe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:a=this.offsetY,dontFlip:o=!1}={}){return new kp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:a,dontFlip:o})}convertToViewportPoint(e,t){const n=[e,t];return pe.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];pe.applyTransform(t,this.transform);const n=[e[2],e[3]];return pe.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return pe.applyInverseTransform(n,this.transform),n}}class Jw extends Hc{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Dx(m){const e=m.length;let t=0;for(;t<e&&m[t].trim()==="";)t++;return m.substring(t,t+5).toLowerCase()==="data:"}function eS(m){return typeof m=="string"&&/\.pdf$/i.test(m)}function JD(m){return[m]=m.split(/[#?]/,1),m.substring(m.lastIndexOf("/")+1)}function ek(m,e="document.pdf"){if(typeof m!="string")return e;if(Dx(m))return Te('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(h=>{try{return new URL(h)}catch{try{return new URL(decodeURIComponent(h))}catch{try{return new URL(h,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(h),"https://foo.bar")}catch{return null}}}}})(m);if(!n)return e;const a=h=>{try{let f=decodeURIComponent(h);return f.includes("/")?(f=f.split("/").at(-1),f.test(/^\.pdf$/i)?f:h):f}catch{return h}},o=/\.pdf$/i,c=n.pathname.split("/").at(-1);if(o.test(c))return a(c);if(n.searchParams.size>0){const h=Array.from(n.searchParams.values()).reverse();for(const p of h)if(o.test(p))return a(p);const f=Array.from(n.searchParams.keys()).reverse();for(const p of f)if(o.test(p))return a(p)}if(n.hash){const f=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(f)return a(f[0])}return e}class R2{constructor(){ae(this,"started",Object.create(null));ae(this,"times",[])}time(e){e in this.started&&Te(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Te(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:a,end:o}of this.times)e.push(`${n.padEnd(t)} ${o-a}ms
`);return e.join("")}}function yf(m,e){const t=e?URL.parse(m,e):URL.parse(m);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function pi(m){m.preventDefault()}function Pt(m){m.preventDefault(),m.stopPropagation()}function tk(m){console.log("Deprecated API usage: "+m)}var qf;class W0{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;l(this,qf)||w(this,qf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=l(this,qf).exec(e);if(!t)return null;const n=parseInt(t[1],10);let a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(t[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(t[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(t[6],10);f=f>=0&&f<=59?f:0;const p=t[7]||"Z";let g=parseInt(t[8],10);g=g>=0&&g<=23?g:0;let b=parseInt(t[9],10)||0;return b=b>=0&&b<=59?b:0,p==="-"?(c+=g,h+=b):p==="+"&&(c-=g,h-=b),new Date(Date.UTC(n,a,o,c,h,f))}}qf=new WeakMap,C(W0,qf);function sk(m,{scale:e=1,rotation:t=0}){const{width:n,height:a}=m.attributes.style,o=[0,0,parseInt(n),parseInt(a)];return new kp({viewBox:o,userUnit:1,scale:e,rotation:t})}function Rp(m){if(m.startsWith("#")){const e=parseInt(m.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return m.startsWith("rgb(")?m.slice(4,-1).split(",").map(e=>parseInt(e)):m.startsWith("rgba(")?m.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Te(`Not a valid color format: "${m}"`),[0,0,0])}function nk(m){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of m.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;m.set(t,Rp(n))}e.remove()}function jt(m){const{a:e,b:t,c:n,d:a,e:o,f:c}=m.getTransform();return[e,t,n,a,o,c]}function zi(m){const{a:e,b:t,c:n,d:a,e:o,f:c}=m.getTransform().invertSelf();return[e,t,n,a,o,c]}function Fc(m,e,t=!1,n=!0){if(e instanceof kp){const{pageWidth:a,pageHeight:o}=e.rawDims,{style:c}=m,h=Cs.isCSSRoundSupported,f=`var(--total-scale-factor) * ${a}px`,p=`var(--total-scale-factor) * ${o}px`,g=h?`round(down, ${f}, var(--scale-round-x))`:`calc(${f})`,b=h?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!t||e.rotation%180===0?(c.width=g,c.height=b):(c.width=b,c.height=g)}n&&m.setAttribute("data-main-rotation",e.rotation)}class ma{constructor(){const{pixelRatio:e}=ma;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,a,o=-1){let c=1/0,h=1/0,f=1/0;n=ma.capPixels(n,o),n>0&&(c=Math.sqrt(n/(e*t))),a!==-1&&(h=a/e,f=a/t);const p=Math.min(c,h,f);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const yv=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ik{static get isDarkMode(){var e;return Pe(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class ak{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),Pe(this,"commentForegroundColor",Rp(n))}}function rk(m,e,t,n){n=Math.min(Math.max(n??1,0),1);const a=255*(1-n);return m=Math.round(m*n+a),e=Math.round(e*n+a),t=Math.round(t*n+a),[m,e,t]}function L2(m,e){const t=m[0]/255,n=m[1]/255,a=m[2]/255,o=Math.max(t,n,a),c=Math.min(t,n,a),h=(o+c)/2;if(o===c)e[0]=e[1]=0;else{const f=o-c;switch(e[1]=h<.5?f/(o+c):f/(2-o-c),o){case t:e[0]=((n-a)/f+(n<a?6:0))*60;break;case n:e[0]=((a-t)/f+2)*60;break;case a:e[0]=((t-n)/f+4)*60;break}}e[2]=h}function vv(m,e){const t=m[0],n=m[1],a=m[2],o=(1-Math.abs(2*a-1))*n,c=o*(1-Math.abs(t/60%2-1)),h=a-o/2;switch(Math.floor(t/60)){case 0:e[0]=o+h,e[1]=c+h,e[2]=h;break;case 1:e[0]=c+h,e[1]=o+h,e[2]=h;break;case 2:e[0]=h,e[1]=o+h,e[2]=c+h;break;case 3:e[0]=h,e[1]=c+h,e[2]=o+h;break;case 4:e[0]=c+h,e[1]=h,e[2]=o+h;break;case 5:case 6:e[0]=o+h,e[1]=h,e[2]=c+h;break}}function O2(m){return m<=.03928?m/12.92:((m+.055)/1.055)**2.4}function P2(m,e,t){vv(m,t),t.map(O2);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];vv(e,t),t.map(O2);const a=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)}const B2=new Map;function lk(m,e){const t=m[0]+m[1]*256+m[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=B2.get(t);if(n)return n;const a=new Float32Array(9),o=a.subarray(0,3),c=a.subarray(3,6);L2(m,c);const h=a.subarray(6,9);L2(e,h);const f=h[2]<.5,p=f?12:4.5;if(c[2]=f?Math.sqrt(c[2]):1-Math.sqrt(1-c[2]),P2(c,h,o)<p){let g,b;f?(g=c[2],b=1):(g=0,b=c[2]);const v=.005;for(;b-g>v;){const S=c[2]=(g+b)/2;f===P2(c,h,o)<p?g=S:b=S}c[2]=f?b:g}return vv(c,o),n=pe.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),B2.set(t,n),n}function kE({html:m,dir:e,className:t},n){const a=document.createDocumentFragment();if(typeof m=="string"){const o=document.createElement("p");o.dir=e||"auto";const c=m.split(/(?:\r\n?|\n)/);for(let h=0,f=c.length;h<f;++h){const p=c[h];o.append(document.createTextNode(p)),h<f-1&&o.append(document.createElement("br"))}a.append(o)}else DE.render({xfaHtml:m,div:a,intent:"richText"});a.firstChild.classList.add("richText",t),n.append(a)}var nl,il,ti,si,Yf,al,Vu,Gu,Xf,lx,RE,Es,LE,OE,Mu,vf;const za=class za{constructor(e){C(this,Es);C(this,nl,null);C(this,il,null);C(this,ti);C(this,si,null);C(this,Yf,null);C(this,al,null);C(this,Vu,null);C(this,Gu,null);w(this,ti,e),l(za,Xf)||w(za,Xf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=w(this,nl,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=l(this,ti)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",pi,{signal:t}),e.addEventListener("pointerdown",j(za,lx,RE),{signal:t}));const n=w(this,si,document.createElement("div"));n.className="buttons",e.append(n);const a=l(this,ti).toolbarPosition;if(a){const{style:o}=e,c=l(this,ti)._uiManager.direction==="ltr"?1-a[0]:a[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return l(this,nl)}hide(){var e;l(this,nl).classList.add("hidden"),(e=l(this,il))==null||e.hideDropdown()}show(){var e,t;l(this,nl).classList.remove("hidden"),(e=l(this,Yf))==null||e.shown(),(t=l(this,al))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=l(this,ti),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",l(za,Xf)[e]),j(this,Es,Mu).call(this,n)&&n.addEventListener("click",a=>{t.delete()},{signal:t._signal}),l(this,si).append(n)}async addAltText(e){const t=await e.render();j(this,Es,Mu).call(this,t),l(this,si).append(t,l(this,Es,vf)),w(this,Yf,e)}addComment(e,t=null){if(l(this,al))return;const n=e.renderForToolbar();if(!n)return;j(this,Es,Mu).call(this,n);const a=w(this,Vu,l(this,Es,vf));t?(l(this,si).insertBefore(n,t),l(this,si).insertBefore(a,t)):l(this,si).append(n,a),w(this,al,e),e.toolbar=this}addColorPicker(e){if(l(this,il))return;w(this,il,e);const t=e.renderButton();j(this,Es,Mu).call(this,t),l(this,si).append(t,l(this,Es,vf))}async addEditSignatureButton(e){const t=w(this,Gu,await e.renderEditButton(l(this,ti)));j(this,Es,Mu).call(this,t),l(this,si).append(t,l(this,Es,vf))}removeButton(e){var t,n;switch(e){case"comment":(t=l(this,al))==null||t.removeToolbarCommentButton(),w(this,al,null),(n=l(this,Vu))==null||n.remove(),w(this,Vu,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,n){const a=l(this,si).querySelector(n);a&&e==="comment"&&this.addComment(t,a)}updateEditSignatureButton(e){l(this,Gu)&&(l(this,Gu).title=e)}remove(){var e;l(this,nl).remove(),(e=l(this,il))==null||e.destroy(),w(this,il,null)}};nl=new WeakMap,il=new WeakMap,ti=new WeakMap,si=new WeakMap,Yf=new WeakMap,al=new WeakMap,Vu=new WeakMap,Gu=new WeakMap,Xf=new WeakMap,lx=new WeakSet,RE=function(e){e.stopPropagation()},Es=new WeakSet,LE=function(e){l(this,ti)._focusEventsAllowed=!1,Pt(e)},OE=function(e){l(this,ti)._focusEventsAllowed=!0,Pt(e)},Mu=function(e){const t=l(this,ti)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",j(this,Es,LE).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",j(this,Es,OE).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",pi,{signal:t}),!0)},vf=function(){const e=document.createElement("div");return e.className="divider",e},C(za,lx),C(za,Xf,null);let wv=za;var Wf,jo,Ha,jr,PE,BE,Sv;class ok{constructor(e){C(this,jr);C(this,Wf,null);C(this,jo,null);C(this,Ha);w(this,Ha,e)}show(e,t,n){const[a,o]=j(this,jr,BE).call(this,t,n),{style:c}=l(this,jo)||w(this,jo,j(this,jr,PE).call(this));e.append(l(this,jo)),c.insetInlineEnd=`${100*a}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,jo).remove()}}Wf=new WeakMap,jo=new WeakMap,Ha=new WeakMap,jr=new WeakSet,PE=function(){const e=w(this,jo,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=l(this,Ha)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",pi,{signal:t});const n=w(this,Wf,document.createElement("div"));return n.className="buttons",e.append(n),l(this,Ha).hasCommentManager()&&j(this,jr,Sv).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{l(this,Ha).commentSelection("floating_button")}),j(this,jr,Sv).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{l(this,Ha).highlightSelection("floating_button")}),e},BE=function(e,t){let n=0,a=0;for(const o of e){const c=o.y+o.height;if(c<n)continue;const h=o.x+(t?o.width:0);if(c>n){a=h,n=c;continue}t?h>a&&(a=h):h<a&&(a=h)}return[t?1-a:a,n]},Sv=function(e,t,n,a){const o=document.createElement("button");o.classList.add("basic",e),o.tabIndex=0,o.setAttribute("data-l10n-id",t);const c=document.createElement("span");o.append(c),c.className="visuallyHidden",c.setAttribute("data-l10n-id",n);const h=l(this,Ha)._signal;h instanceof AbortSignal&&!h.aborted&&(o.addEventListener("contextmenu",pi,{signal:h}),o.addEventListener("click",a,{signal:h})),l(this,Wf).append(o)};function IE(m,e,t){for(const n of t)e.addEventListener(n,m[n].bind(m))}var ox;class ck{constructor(){C(this,ox,0)}get id(){return`${Uf}${Qt(this,ox)._++}`}}ox=new WeakMap;var $u,Kf,_s,qu,g0;const oS=class oS{constructor(){C(this,qu);C(this,$u,_E());C(this,Kf,0);C(this,_s,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=e;const o=a.decode().then(()=>(n.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Pe(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:n,size:a,type:o}=e;return j(this,qu,g0).call(this,`${t}_${n}_${a}_${o}`,e)}async getFromUrl(e){return j(this,qu,g0).call(this,e,e)}async getFromBlob(e,t){const n=await t;return j(this,qu,g0).call(this,e,n)}async getFromId(e){l(this,_s)||w(this,_s,new Map);const t=l(this,_s).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,_s)||w(this,_s,new Map);let n=l(this,_s).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),n={bitmap:a.transferToImageBitmap(),id:`image_${l(this,$u)}_${Qt(this,Kf)._++}`,refCounter:1,isSvg:!1},l(this,_s).set(e,n),l(this,_s).set(n.id,n),n}getSvgUrl(e){const t=l(this,_s).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var a;l(this,_s)||w(this,_s,new Map);const t=l(this,_s).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=o.convertToBlob()}(a=n.close)==null||a.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,$u)}_`)}};$u=new WeakMap,Kf=new WeakMap,_s=new WeakMap,qu=new WeakSet,g0=async function(e,t){l(this,_s)||w(this,_s,new Map);let n=l(this,_s).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${l(this,$u)}_${Qt(this,Kf)._++}`,refCounter:0,isSvg:!1});let a;if(typeof t=="string"?(n.url=t,a=await Dp(t,"blob")):t instanceof File?a=n.file=t:t instanceof Blob&&(a=t),a.type==="image/svg+xml"){const o=oS._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((p,g)=>{h.onload=()=>{n.bitmap=h,n.isSvg=!0,p()},c.onload=async()=>{const b=n.svgUrl=c.result;h.src=await o?`${b}#svgView(preserveAspectRatio(none))`:b},h.onerror=c.onerror=g});c.readAsDataURL(a),await f}else n.bitmap=await createImageBitmap(a);n.refCounter=1}catch(a){Te(a),n=null}return l(this,_s).set(e,n),n&&l(this,_s).set(n.id,n),n};let Av=oS;var zt,rl,Qf,Ct;class uk{constructor(e=128){C(this,zt,[]);C(this,rl,!1);C(this,Qf);C(this,Ct,-1);w(this,Qf,e)}add({cmd:e,undo:t,post:n,mustExec:a,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(a&&e(),l(this,rl))return;const f={cmd:e,undo:t,post:n,type:o};if(l(this,Ct)===-1){l(this,zt).length>0&&(l(this,zt).length=0),w(this,Ct,0),l(this,zt).push(f);return}if(c&&l(this,zt)[l(this,Ct)].type===o){h&&(f.undo=l(this,zt)[l(this,Ct)].undo),l(this,zt)[l(this,Ct)]=f;return}const p=l(this,Ct)+1;p===l(this,Qf)?l(this,zt).splice(0,1):(w(this,Ct,p),p<l(this,zt).length&&l(this,zt).splice(p)),l(this,zt).push(f)}undo(){if(l(this,Ct)===-1)return;w(this,rl,!0);const{undo:e,post:t}=l(this,zt)[l(this,Ct)];e(),t==null||t(),w(this,rl,!1),w(this,Ct,l(this,Ct)-1)}redo(){if(l(this,Ct)<l(this,zt).length-1){w(this,Ct,l(this,Ct)+1),w(this,rl,!0);const{cmd:e,post:t}=l(this,zt)[l(this,Ct)];e(),t==null||t(),w(this,rl,!1)}}hasSomethingToUndo(){return l(this,Ct)!==-1}hasSomethingToRedo(){return l(this,Ct)<l(this,zt).length-1}cleanType(e){if(l(this,Ct)!==-1){for(let t=l(this,Ct);t>=0;t--)if(l(this,zt)[t].type!==e){l(this,zt).splice(t+1,l(this,Ct)-t),w(this,Ct,t);return}l(this,zt).length=0,w(this,Ct,-1)}}destroy(){w(this,zt,null)}}zt=new WeakMap,rl=new WeakMap,Qf=new WeakMap,Ct=new WeakMap;var cx,FE;class Lp{constructor(e){C(this,cx);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Cs.platform;for(const[n,a,o={}]of e)for(const c of n){const h=c.startsWith("mac+");t&&h?(this.callbacks.set(c.slice(4),{callback:a,options:o}),this.allKeys.add(c.split("+").at(-1))):!t&&!h&&(this.callbacks.set(c,{callback:a,options:o}),this.allKeys.add(c.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(j(this,cx,FE).call(this,t));if(!n)return;const{callback:a,options:{bubbles:o=!1,args:c=[],checker:h=null}}=n;h&&!h(e,t)||(a.bind(e,...c,t)(),o||Pt(t))}}cx=new WeakSet,FE=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const ux=class ux{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return nk(e),Pe(this,"_colors",e)}convert(e){const t=Rp(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,a]of this._colors)if(a.every((o,c)=>o===t[c]))return ux._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?pe.makeHexColor(...t):e}};ae(ux,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Nv=ux;var Yu,wn,Xu,kt,es,Wu,ni,Ku,ii,Ms,ll,ol,Qu,cl,Vi,ai,To,Zf,Jf,Zu,em,Gi,ul,Ju,dl,$i,dx,hl,ed,tm,fl,_o,td,ml,sm,Xt,et,Va,pl,gl,nm,sd,im,xl,qi,Ga,am,rm,ri,oe,x0,Ev,zE,UE,wf,HE,VE,GE,Cv,$E,jv,Tv,qE,Ps,Ia,YE,XE,_v,WE,Sf,Mv;const Iu=class Iu{constructor(e,t,n,a,o,c,h,f,p,g,b,v,S,E,A,_){C(this,oe);C(this,Yu,new AbortController);C(this,wn,null);C(this,Xu,null);C(this,kt,new Map);C(this,es,new Map);C(this,Wu,null);C(this,ni,null);C(this,Ku,null);C(this,ii,new uk);C(this,Ms,null);C(this,ll,null);C(this,ol,null);C(this,Qu,0);C(this,cl,new Set);C(this,Vi,null);C(this,ai,null);C(this,To,new Set);ae(this,"_editorUndoBar",null);C(this,Zf,!1);C(this,Jf,!1);C(this,Zu,!1);C(this,em,null);C(this,Gi,null);C(this,ul,null);C(this,Ju,null);C(this,dl,!1);C(this,$i,null);C(this,dx,new ck);C(this,hl,!1);C(this,ed,!1);C(this,tm,!1);C(this,fl,null);C(this,_o,null);C(this,td,null);C(this,ml,null);C(this,sm,null);C(this,Xt,Me.NONE);C(this,et,new Set);C(this,Va,null);C(this,pl,null);C(this,gl,null);C(this,nm,null);C(this,sd,null);C(this,im,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,xl,[0,0]);C(this,qi,null);C(this,Ga,null);C(this,am,null);C(this,rm,null);C(this,ri,null);const T=this._signal=l(this,Yu).signal;w(this,Ga,e),w(this,am,t),w(this,rm,n),w(this,Wu,a),w(this,Ms,o),w(this,pl,c),w(this,sd,f),this._eventBus=h,h._on("editingaction",this.onEditingAction.bind(this),{signal:T}),h._on("pagechanging",this.onPageChanging.bind(this),{signal:T}),h._on("scalechanging",this.onScaleChanging.bind(this),{signal:T}),h._on("rotationchanging",this.onRotationChanging.bind(this),{signal:T}),h._on("setpreference",this.onSetPreference.bind(this),{signal:T}),h._on("switchannotationeditorparams",R=>this.updateParams(R.type,R.value),{signal:T}),window.addEventListener("pointerdown",()=>{w(this,ed,!0)},{capture:!0,signal:T}),window.addEventListener("pointerup",()=>{w(this,ed,!1)},{capture:!0,signal:T}),j(this,oe,HE).call(this),j(this,oe,qE).call(this),j(this,oe,Cv).call(this),w(this,ni,f.annotationStorage),w(this,em,f.filterFactory),w(this,gl,p),w(this,Ju,g||null),w(this,Zf,b),w(this,Jf,v),w(this,Zu,S),w(this,sm,E||null),this.viewParameters={realScale:Zl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=A||null,this._supportsPinchToZoom=_!==!1,o==null||o.setSidebarUiManager(this)}static get _keyboardManager(){const e=Iu.prototype,t=c=>l(c,Ga).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),n=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},a=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Pe(this,"_keyboardManager",new Lp([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&l(c,Ga).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&l(c,Ga).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,n,a,o,c,h,f,p;(e=l(this,ri))==null||e.resolve(),w(this,ri,null),(t=l(this,Yu))==null||t.abort(),w(this,Yu,null),this._signal=null;for(const g of l(this,es).values())g.destroy();l(this,es).clear(),l(this,kt).clear(),l(this,To).clear(),(n=l(this,ml))==null||n.clear(),w(this,wn,null),l(this,et).clear(),l(this,ii).destroy(),(a=l(this,Wu))==null||a.destroy(),(o=l(this,Ms))==null||o.destroy(),(c=l(this,pl))==null||c.destroy(),(h=l(this,$i))==null||h.hide(),w(this,$i,null),(f=l(this,td))==null||f.destroy(),w(this,td,null),w(this,Xu,null),l(this,Gi)&&(clearTimeout(l(this,Gi)),w(this,Gi,null)),l(this,qi)&&(clearTimeout(l(this,qi)),w(this,qi,null)),(p=this._editorUndoBar)==null||p.destroy(),w(this,sd,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,sm)}get useNewAltTextFlow(){return l(this,Jf)}get useNewAltTextWhenAddingImage(){return l(this,Zu)}get hcmFilter(){return Pe(this,"hcmFilter",l(this,gl)?l(this,em).addHCMFilter(l(this,gl).foreground,l(this,gl).background):"none")}get direction(){return Pe(this,"direction",getComputedStyle(l(this,Ga)).direction)}get _highlightColors(){return Pe(this,"_highlightColors",l(this,Ju)?new Map(l(this,Ju).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Pe(this,"highlightColors",null);const t=new Map,n=!!l(this,gl);for(const[a,o]of e){const c=a.endsWith("_HCM");if(n&&c){t.set(a.replace("_HCM",""),o);continue}!n&&!c&&t.set(a,o)}return Pe(this,"highlightColors",t)}get highlightColorNames(){return Pe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),w(this,ol,e)}setMainHighlightColorPicker(e){w(this,td,e)}editAltText(e,t=!1){var n;(n=l(this,Wu))==null||n.editAltText(this,e,t)}hasCommentManager(){return!!l(this,Ms)}editComment(e,t,n,a){var o;(o=l(this,Ms))==null||o.showDialog(this,e,t,n,a)}selectComment(e,t){const n=l(this,es).get(e),a=n==null?void 0:n.getEditorByUID(t);a==null||a.toggleComment(!0,!0)}updateComment(e){var t;(t=l(this,Ms))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=l(this,Ms))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=l(this,Ms))==null||t.removeComments([e.uid])}toggleComment(e,t,n=void 0){var a;(a=l(this,Ms))==null||a.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){var n;return e&&((n=l(this,Ms))==null?void 0:n.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=l(this,Ms))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(l(this,es).has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),a=o=>{o.pageNumber===e&&(this._eventBus._off("editorsrendered",a),t())};this._eventBus.on("editorsrendered",a),await n}getSignature(e){var t;(t=l(this,pl))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return l(this,pl)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":w(this,Zu,t);break}}onPageChanging({pageNumber:e}){w(this,Qu,e-1)}focusMainContainer(){l(this,Ga).focus()}findParent(e,t){for(const n of l(this,es).values()){const{x:a,y:o,width:c,height:h}=n.div.getBoundingClientRect();if(e>=a&&e<=a+c&&t>=o&&t<=o+h)return n}return null}disableUserSelect(e=!1){l(this,am).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,To).add(e)}removeShouldRescale(e){l(this,To).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Zl.PDF_TO_CSS_UNITS;for(const n of l(this,To))n.onScaleChanging();(t=l(this,ol))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:a,anchorOffset:o,focusNode:c,focusOffset:h}=n,f=n.toString(),g=j(this,oe,x0).call(this,n).closest(".textLayer"),b=this.getSelectionBoxes(g);if(!b)return;n.empty();const v=j(this,oe,Ev).call(this,g),S=l(this,Xt)===Me.NONE,E=()=>{const A=v==null?void 0:v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:b,anchorNode:a,anchorOffset:o,focusNode:c,focusOffset:h,text:f});S&&this.showAllEditors("highlight",!0,!0),t&&(A==null||A.editComment())};if(S){this.switchToMode(Me.HIGHLIGHT,E);return}E()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!l(this,ni))return null;const t=`${Uf}${e}`,n=l(this,ni).getRawValue(t);return n&&l(this,ni).remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&l(this,ni)&&!l(this,ni).has(e.id)&&l(this,ni).setValue(e.id,e)}a11yAlert(e,t=null){const n=l(this,rm);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,dl)&&(w(this,dl,!1),j(this,oe,wf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,et))if(t.div.contains(e)){w(this,_o,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,_o))return;const[e,t]=l(this,_o);w(this,_o,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){j(this,oe,Cv).call(this),j(this,oe,jv).call(this)}removeEditListeners(){j(this,oe,$E).call(this),j(this,oe,Tv).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of l(this,ai))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of l(this,ai))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=l(this,wn))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const a of l(this,et)){const o=a.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const c of l(this,ai))if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Te(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const a=this.currentLayer;try{const o=[];for(const f of n){const p=await a.deserialize(f);if(!p)return;o.push(p)}const c=()=>{for(const f of o)j(this,oe,_v).call(this,f);j(this,oe,Mv).call(this,o)},h=()=>{for(const f of o)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(o){Te(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,Xt)!==Me.NONE&&!this.isEditorHandlingKeyboard&&Iu._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,dl)&&(w(this,dl,!1),j(this,oe,wf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(j(this,oe,VE).call(this),j(this,oe,jv).call(this),j(this,oe,Ps).call(this,{isEditing:l(this,Xt)!==Me.NONE,isEmpty:j(this,oe,Sf).call(this),hasSomethingToUndo:l(this,ii).hasSomethingToUndo(),hasSomethingToRedo:l(this,ii).hasSomethingToRedo(),hasSelectedEditor:!1})):(j(this,oe,GE).call(this),j(this,oe,Tv).call(this),j(this,oe,Ps).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,ai)){w(this,ai,e);for(const t of l(this,ai))j(this,oe,Ia).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,dx).id}get currentLayer(){return l(this,es).get(l(this,Qu))}getLayer(e){return l(this,es).get(e)}get currentPageIndex(){return l(this,Qu)}addLayer(e){l(this,es).set(e.pageIndex,e),l(this,hl)?e.enable():e.disable()}removeLayer(e){l(this,es).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,a=!1,o=!1){var c,h,f,p,g,b;if(l(this,Xt)!==e&&!(l(this,ri)&&(await l(this,ri).promise,!l(this,ri)))){if(w(this,ri,Promise.withResolvers()),(c=l(this,ol))==null||c.commitOrRemove(),l(this,Xt)===Me.POPUP&&((h=l(this,Ms))==null||h.hideSidebar()),(f=l(this,Ms))==null||f.destroyPopup(),w(this,Xt,e),e===Me.NONE){this.setEditingState(!1),j(this,oe,XE).call(this);for(const v of l(this,kt).values())v.hideStandaloneCommentButton();(p=this._editorUndoBar)==null||p.hide(),this.toggleComment(null),l(this,ri).resolve();return}for(const v of l(this,kt).values())v.addStandaloneCommentButton();e===Me.SIGNATURE&&await((g=l(this,pl))==null?void 0:g.loadSignatures()),this.setEditingState(!0),await j(this,oe,YE).call(this),this.unselectAll();for(const v of l(this,es).values())v.updateMode(e);if(e===Me.POPUP){l(this,Xu)||w(this,Xu,await l(this,sd).getAnnotationsByType(new Set(l(this,ai).map(E=>E._editorType))));const v=new Set,S=[];for(const E of l(this,kt).values()){const{annotationElementId:A,hasComment:_,deleted:T}=E;A&&v.add(A),_&&!T&&S.push(E.getData())}for(const E of l(this,Xu)){const{id:A,popupRef:_,contentsObj:T}=E;_&&(T!=null&&T.str)&&!v.has(A)&&!l(this,cl).has(A)&&S.push(E)}(b=l(this,Ms))==null||b.showSidebar(S)}if(!t){n&&this.addNewEditorFromKeyboard(),l(this,ri).resolve();return}for(const v of l(this,kt).values())v.uid===t?(this.setSelected(v),o?v.editComment():a?v.enterInEditMode():v.focus()):v.unselect();l(this,ri).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==l(this,Xt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(l(this,ai)){switch(e){case Ve.CREATE:this.currentLayer.addNewEditor(t);return;case Ve.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,nm)||w(this,nm,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of l(this,et))n.updateParams(e,t);else for(const n of l(this,ai))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var o;for(const c of l(this,kt).values())c.editorType===e&&c.show(t);(((o=l(this,nm))==null?void 0:o.get(Ve.HIGHLIGHT_SHOW_ALL))??!0)!==t&&j(this,oe,Ia).call(this,[[Ve.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,tm)!==e){w(this,tm,e);for(const t of l(this,es).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of l(this,kt).values())t.pageIndex===e&&(yield t)}getEditor(e){return l(this,kt).get(e)}addEditor(e){l(this,kt).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(l(this,Gi)&&clearTimeout(l(this,Gi)),w(this,Gi,setTimeout(()=>{this.focusMainContainer(),w(this,Gi,null)},0))),l(this,kt).delete(e.id),e.annotationElementId&&((t=l(this,ml))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!l(this,cl).has(e.annotationElementId))&&((n=l(this,ni))==null||n.remove(e.id))}addDeletedAnnotationElement(e){l(this,cl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,cl).has(e)}removeDeletedAnnotationElement(e){l(this,cl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,wn)!==e&&(w(this,wn,e),e&&j(this,oe,Ia).call(this,e.propertiesToUpdate))}updateUI(e){l(this,oe,WE)===e&&j(this,oe,Ia).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){j(this,oe,Ia).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(l(this,et).has(e)){l(this,et).delete(e),e.unselect(),j(this,oe,Ps).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,et).add(e),e.select(),j(this,oe,Ia).call(this,e.propertiesToUpdate),j(this,oe,Ps).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=l(this,ol))==null||t.commitOrRemove();for(const n of l(this,et))n!==e&&n.unselect();l(this,et).clear(),l(this,et).add(e),e.select(),j(this,oe,Ia).call(this,e.propertiesToUpdate),j(this,oe,Ps).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,et).has(e)}get firstSelectedEditor(){return l(this,et).values().next().value}unselect(e){e.unselect(),l(this,et).delete(e),j(this,oe,Ps).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,et).size!==0}get isEnterHandled(){return l(this,et).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;l(this,ii).undo(),j(this,oe,Ps).call(this,{hasSomethingToUndo:l(this,ii).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:j(this,oe,Sf).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){l(this,ii).redo(),j(this,oe,Ps).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,ii).hasSomethingToRedo(),isEmpty:j(this,oe,Sf).call(this)})}addCommands(e){l(this,ii).add(e),j(this,oe,Ps).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:j(this,oe,Sf).call(this)})}cleanUndoStack(e){l(this,ii).cleanType(e)}delete(){var o;this.commitOrRemove();const e=(o=this.currentLayer)==null?void 0:o.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...l(this,et)],n=()=>{var c;(c=this._editorUndoBar)==null||c.show(a,t.length===1?t[0].editorType:t.length);for(const h of t)h.remove()},a=()=>{for(const c of t)j(this,oe,_v).call(this,c)};this.addCommands({cmd:n,undo:a,mustExec:!0})}commitOrRemove(){var e;(e=l(this,wn))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,wn)||this.hasSelection}selectAll(){for(const e of l(this,et))e.commit();j(this,oe,Mv).call(this,l(this,kt).values())}unselectAll(){var e;if(!(l(this,wn)&&(l(this,wn).commitOrRemove(),l(this,Xt)!==Me.NONE))&&!((e=l(this,ol))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of l(this,et))t.unselect();l(this,et).clear(),j(this,oe,Ps).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;l(this,xl)[0]+=e,l(this,xl)[1]+=t;const[a,o]=l(this,xl),c=[...l(this,et)],h=1e3;l(this,qi)&&clearTimeout(l(this,qi)),w(this,qi,setTimeout(()=>{w(this,qi,null),l(this,xl)[0]=l(this,xl)[1]=0,this.addCommands({cmd:()=>{for(const f of c)l(this,kt).has(f.id)&&(f.translateInPage(a,o),f.translationDone())},undo:()=>{for(const f of c)l(this,kt).has(f.id)&&(f.translateInPage(-a,-o),f.translationDone())},mustExec:!1})},h));for(const f of c)f.translateInPage(e,t),f.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,Vi,new Map);for(const e of l(this,et))l(this,Vi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,Vi))return!1;this.disableUserSelect(!1);const e=l(this,Vi);w(this,Vi,null);let t=!1;for(const[{x:a,y:o,pageIndex:c},h]of e)h.newX=a,h.newY=o,h.newPageIndex=c,t||(t=a!==h.savedX||o!==h.savedY||c!==h.savedPageIndex);if(!t)return!1;const n=(a,o,c,h)=>{if(l(this,kt).has(a.id)){const f=l(this,es).get(h);f?a._setParentAndPosition(f,o,c):(a.pageIndex=h,a.x=o,a.y=c)}};return this.addCommands({cmd:()=>{for(const[a,{newX:o,newY:c,newPageIndex:h}]of e)n(a,o,c,h)},undo:()=>{for(const[a,{savedX:o,savedY:c,savedPageIndex:h}]of e)n(a,o,c,h)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,Vi))for(const n of l(this,Vi).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,et).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,wn)===e}getActive(){return l(this,wn)}getMode(){return l(this,Xt)}isEditingMode(){return l(this,Xt)!==Me.NONE}get imageManager(){return Pe(this,"imageManager",new Av)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,g=t.rangeCount;p<g;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:a,width:o,height:c}=e.getBoundingClientRect();let h;switch(e.getAttribute("data-main-rotation")){case"90":h=(p,g,b,v)=>({x:(g-a)/c,y:1-(p+b-n)/o,width:v/c,height:b/o});break;case"180":h=(p,g,b,v)=>({x:1-(p+b-n)/o,y:1-(g+v-a)/c,width:b/o,height:v/c});break;case"270":h=(p,g,b,v)=>({x:1-(g+v-a)/c,y:(p-n)/o,width:v/c,height:b/o});break;default:h=(p,g,b,v)=>({x:(p-n)/o,y:(g-a)/c,width:b/o,height:v/c});break}const f=[];for(let p=0,g=t.rangeCount;p<g;p++){const b=t.getRangeAt(p);if(!b.collapsed)for(const{x:v,y:S,width:E,height:A}of b.getClientRects())E===0||A===0||f.push(h(v,S,E,A))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,Ku)||w(this,Ku,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,Ku))==null||t.delete(e)}renderAnnotationElement(e){var a;const t=(a=l(this,Ku))==null?void 0:a.get(e.data.id);if(!t)return;const n=l(this,ni).getRawValue(t);n&&(l(this,Xt)===Me.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var o;const a=(o=l(this,ml))==null?void 0:o.get(e);a&&(a.setCanvas(t,n),l(this,ml).delete(e))}addMissingCanvas(e,t){(l(this,ml)||w(this,ml,new Map)).set(e,t)}};Yu=new WeakMap,wn=new WeakMap,Xu=new WeakMap,kt=new WeakMap,es=new WeakMap,Wu=new WeakMap,ni=new WeakMap,Ku=new WeakMap,ii=new WeakMap,Ms=new WeakMap,ll=new WeakMap,ol=new WeakMap,Qu=new WeakMap,cl=new WeakMap,Vi=new WeakMap,ai=new WeakMap,To=new WeakMap,Zf=new WeakMap,Jf=new WeakMap,Zu=new WeakMap,em=new WeakMap,Gi=new WeakMap,ul=new WeakMap,Ju=new WeakMap,dl=new WeakMap,$i=new WeakMap,dx=new WeakMap,hl=new WeakMap,ed=new WeakMap,tm=new WeakMap,fl=new WeakMap,_o=new WeakMap,td=new WeakMap,ml=new WeakMap,sm=new WeakMap,Xt=new WeakMap,et=new WeakMap,Va=new WeakMap,pl=new WeakMap,gl=new WeakMap,nm=new WeakMap,sd=new WeakMap,im=new WeakMap,xl=new WeakMap,qi=new WeakMap,Ga=new WeakMap,am=new WeakMap,rm=new WeakMap,ri=new WeakMap,oe=new WeakSet,x0=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Ev=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of l(this,es).values())if(n.hasTextLayer(e))return n;return null},zE=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=j(this,oe,x0).call(this,e).closest(".textLayer"),a=this.getSelectionBoxes(n);a&&(l(this,$i)||w(this,$i,new ok(this)),l(this,$i).show(n,a,this.direction==="ltr"))},UE=function(){var o,c,h;const e=document.getSelection();if(!e||e.isCollapsed){l(this,Va)&&((o=l(this,$i))==null||o.hide(),w(this,Va,null),j(this,oe,Ps).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,Va))return;const a=j(this,oe,x0).call(this,e).closest(".textLayer");if(!a){l(this,Va)&&((c=l(this,$i))==null||c.hide(),w(this,Va,null),j(this,oe,Ps).call(this,{hasSelectedText:!1}));return}if((h=l(this,$i))==null||h.hide(),w(this,Va,t),j(this,oe,Ps).call(this,{hasSelectedText:!0}),!(l(this,Xt)!==Me.HIGHLIGHT&&l(this,Xt)!==Me.NONE)&&(l(this,Xt)===Me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,dl,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=l(this,Xt)===Me.HIGHLIGHT?j(this,oe,Ev).call(this,a):null;if(f==null||f.toggleDrawing(),l(this,ed)){const p=new AbortController,g=this.combinedSignal(p),b=v=>{v.type==="pointerup"&&v.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),v.type==="pointerup"&&j(this,oe,wf).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:g}),window.addEventListener("blur",b,{signal:g})}else f==null||f.toggleDrawing(!0),j(this,oe,wf).call(this,"main_toolbar")}},wf=function(e=""){l(this,Xt)===Me.HIGHLIGHT?this.highlightSelection(e):l(this,Zf)&&j(this,oe,zE).call(this)},HE=function(){document.addEventListener("selectionchange",j(this,oe,UE).bind(this),{signal:this._signal})},VE=function(){if(l(this,ul))return;w(this,ul,new AbortController);const e=this.combinedSignal(l(this,ul));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},GE=function(){var e;(e=l(this,ul))==null||e.abort(),w(this,ul,null)},Cv=function(){if(l(this,fl))return;w(this,fl,new AbortController);const e=this.combinedSignal(l(this,fl));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},$E=function(){var e;(e=l(this,fl))==null||e.abort(),w(this,fl,null)},jv=function(){if(l(this,ll))return;w(this,ll,new AbortController);const e=this.combinedSignal(l(this,ll));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Tv=function(){var e;(e=l(this,ll))==null||e.abort(),w(this,ll,null)},qE=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ps=function(e){Object.entries(e).some(([n,a])=>l(this,im)[n]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,im),e)}),l(this,Xt)===Me.HIGHLIGHT&&e.hasSelectedEditor===!1&&j(this,oe,Ia).call(this,[[Ve.HIGHLIGHT_FREE,!0]]))},Ia=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},YE=async function(){if(!l(this,hl)){w(this,hl,!0);const e=[];for(const t of l(this,es).values())e.push(t.enable());await Promise.all(e);for(const t of l(this,kt).values())t.enable()}},XE=function(){if(this.unselectAll(),l(this,hl)){w(this,hl,!1);for(const e of l(this,es).values())e.disable();for(const e of l(this,kt).values())e.disable()}},_v=function(e){const t=l(this,es).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},WE=function(){let e=null;for(e of l(this,et));return e},Sf=function(){if(l(this,kt).size===0)return!0;if(l(this,kt).size===1)for(const e of l(this,kt).values())return e.isEmpty();return!1},Mv=function(e){for(const t of l(this,et))t.unselect();l(this,et).clear();for(const t of e)t.isEmpty()||(l(this,et).add(t),t.select());j(this,oe,Ps).call(this,{hasSelectedEditor:this.hasSelection})},ae(Iu,"TRANSLATE_SMALL",1),ae(Iu,"TRANSLATE_BIG",10);let zc=Iu;var as,Yi,Si,nd,Xi,Sn,id,Wi,tn,$a,Mo,Ki,bl,Li,Af,b0;const Bs=class Bs{constructor(e){C(this,Li);C(this,as,null);C(this,Yi,!1);C(this,Si,null);C(this,nd,null);C(this,Xi,null);C(this,Sn,null);C(this,id,!1);C(this,Wi,null);C(this,tn,null);C(this,$a,null);C(this,Mo,null);C(this,Ki,!1);w(this,tn,e),w(this,Ki,e._uiManager.useNewAltTextFlow),l(Bs,bl)||w(Bs,bl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Bs._l10n??(Bs._l10n=e)}async render(){const e=w(this,Si,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=w(this,nd,document.createElement("span"));e.append(t),l(this,Ki)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(Bs,bl).missing),t.setAttribute("data-l10n-id",l(Bs,bl)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=l(this,tn)._uiManager._signal;e.addEventListener("contextmenu",pi,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const a=o=>{o.preventDefault(),l(this,tn)._uiManager.editAltText(l(this,tn)),l(this,Ki)&&l(this,tn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,Li,Af)}})};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(w(this,id,!0),a(o))},{signal:n}),await j(this,Li,b0).call(this),e}finish(){l(this,Si)&&(l(this,Si).focus({focusVisible:l(this,id)}),w(this,id,!1))}isEmpty(){return l(this,Ki)?l(this,as)===null:!l(this,as)&&!l(this,Yi)}hasData(){return l(this,Ki)?l(this,as)!==null||!!l(this,$a):this.isEmpty()}get guessedText(){return l(this,$a)}async setGuessedText(e){l(this,as)===null&&(w(this,$a,e),w(this,Mo,await Bs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),j(this,Li,b0).call(this))}toggleAltTextBadge(e=!1){var t;if(!l(this,Ki)||l(this,as)){(t=l(this,Wi))==null||t.remove(),w(this,Wi,null);return}if(!l(this,Wi)){const n=w(this,Wi,document.createElement("div"));n.className="noAltTextBadge",l(this,tn).div.append(n)}l(this,Wi).classList.toggle("hidden",!e)}serialize(e){let t=l(this,as);return!e&&l(this,$a)===t&&(t=l(this,Mo)),{altText:t,decorative:l(this,Yi),guessedText:l(this,$a),textWithDisclaimer:l(this,Mo)}}get data(){return{altText:l(this,as),decorative:l(this,Yi)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:a,cancel:o=!1}){n&&(w(this,$a,n),w(this,Mo,a)),!(l(this,as)===e&&l(this,Yi)===t)&&(o||(w(this,as,e),w(this,Yi,t)),j(this,Li,b0).call(this))}toggle(e=!1){l(this,Si)&&(!e&&l(this,Sn)&&(clearTimeout(l(this,Sn)),w(this,Sn,null)),l(this,Si).disabled=!e)}shown(){l(this,tn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,Li,Af)}})}destroy(){var e,t;(e=l(this,Si))==null||e.remove(),w(this,Si,null),w(this,nd,null),w(this,Xi,null),(t=l(this,Wi))==null||t.remove(),w(this,Wi,null)}};as=new WeakMap,Yi=new WeakMap,Si=new WeakMap,nd=new WeakMap,Xi=new WeakMap,Sn=new WeakMap,id=new WeakMap,Wi=new WeakMap,tn=new WeakMap,$a=new WeakMap,Mo=new WeakMap,Ki=new WeakMap,bl=new WeakMap,Li=new WeakSet,Af=function(){return l(this,as)&&"added"||l(this,as)===null&&this.guessedText&&"review"||"missing"},b0=async function(){var a,o,c;const e=l(this,Si);if(!e)return;if(l(this,Ki)){if(e.classList.toggle("done",!!l(this,as)),e.setAttribute("data-l10n-id",l(Bs,bl)[l(this,Li,Af)]),(a=l(this,nd))==null||a.setAttribute("data-l10n-id",l(Bs,bl)[`${l(this,Li,Af)}-label`]),!l(this,as)){(o=l(this,Xi))==null||o.remove();return}}else{if(!l(this,as)&&!l(this,Yi)){e.classList.remove("done"),(c=l(this,Xi))==null||c.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,Xi);if(!t){w(this,Xi,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,tn).id}`;const h=100,f=l(this,tn)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(l(this,Sn)),w(this,Sn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{w(this,Sn,setTimeout(()=>{w(this,Sn,null),l(this,Xi).classList.add("show"),l(this,tn)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),e.addEventListener("mouseleave",()=>{var p;l(this,Sn)&&(clearTimeout(l(this,Sn)),w(this,Sn,null)),(p=l(this,Xi))==null||p.classList.remove("show")},{signal:f})}l(this,Yi)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,as)),t.parentNode||e.append(t);const n=l(this,tn).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},C(Bs,bl,null),ae(Bs,"_l10n",null);let K0=Bs;var bs,li,Do,pt,lm,ko,Ai,Ro,Lo,Oo,om,Dv;class s0{constructor(e){C(this,om);C(this,bs,null);C(this,li,null);C(this,Do,!1);C(this,pt,null);C(this,lm,null);C(this,ko,null);C(this,Ai,null);C(this,Ro,null);C(this,Lo,!1);C(this,Oo,null);w(this,pt,e)}renderForToolbar(){const e=w(this,li,document.createElement("button"));return e.className="comment",j(this,om,Dv).call(this,e,!1)}renderForStandalone(){const e=w(this,bs,document.createElement("button"));e.className="annotationCommentButton";const t=l(this,pt).commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(l(this,pt)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const a=l(this,pt).commentButtonColor;a&&(n.backgroundColor=a)}return j(this,om,Dv).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=l(this,bs)??l(this,li))==null||e.focus()},0)}onUpdatedColor(){if(!l(this,bs))return;const e=l(this,pt).commentButtonColor;e&&(l(this,bs).style.backgroundColor=e),l(this,pt)._uiManager.updatePopupColor(l(this,pt))}get commentButtonWidth(){var e;return(((e=l(this,bs))==null?void 0:e.getBoundingClientRect().width)??0)/l(this,pt).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(l(this,Oo))return l(this,Oo);if(!l(this,bs))return null;const{x:e,y:t,height:n}=l(this,bs).getBoundingClientRect(),{x:a,y:o,width:c,height:h}=l(this,pt).parent.boundingClientRect;return[(e-a)/c,(t+n-o)/h]}set commentPopupPositionInLayer(e){w(this,Oo,e)}hasDefaultPopupPosition(){return l(this,Oo)===null}removeStandaloneCommentButton(){var e;(e=l(this,bs))==null||e.remove(),w(this,bs,null)}removeToolbarCommentButton(){var e;(e=l(this,li))==null||e.remove(),w(this,li,null)}setCommentButtonStates({selected:e,hasPopup:t}){l(this,bs)&&(l(this,bs).classList.toggle("selected",e),l(this,bs).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let n,a;if(t)[n,a]=t;else{[n,a]=l(this,pt).commentButtonPosition;const{width:g,height:b,x:v,y:S}=l(this,pt);n=v+n*g,a=S+a*b}const o=l(this,pt).parent.boundingClientRect,{x:c,y:h,width:f,height:p}=o;l(this,pt)._uiManager.editComment(l(this,pt),c+n*f,h+a*p,{...e,parentDimensions:o})}finish(){l(this,li)&&(l(this,li).focus({focusVisible:l(this,Do)}),w(this,Do,!1))}isDeleted(){return l(this,Lo)||l(this,Ai)===""}isEmpty(){return l(this,Ai)===null}hasBeenEdited(){return this.isDeleted()||l(this,Ai)!==l(this,lm)}serialize(){return this.data}get data(){return{text:l(this,Ai),richText:l(this,ko),date:l(this,Ro),deleted:this.isDeleted()}}set data(e){if(e!==l(this,Ai)&&w(this,ko,null),e===null){w(this,Ai,""),w(this,Lo,!0);return}w(this,Ai,e),w(this,Ro,new Date),w(this,Lo,!1)}setInitialText(e,t=null){w(this,lm,e),this.data=e,w(this,Ro,null),w(this,ko,t)}shown(){}destroy(){var e,t;(e=l(this,li))==null||e.remove(),w(this,li,null),(t=l(this,bs))==null||t.remove(),w(this,bs,null),w(this,Ai,""),w(this,ko,null),w(this,Ro,null),w(this,pt,null),w(this,Do,!1),w(this,Lo,!1)}}bs=new WeakMap,li=new WeakMap,Do=new WeakMap,pt=new WeakMap,lm=new WeakMap,ko=new WeakMap,Ai=new WeakMap,Ro=new WeakMap,Lo=new WeakMap,Oo=new WeakMap,om=new WeakSet,Dv=function(e,t){if(!l(this,pt)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[l(this,pt)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=l(this,pt)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",pi,{signal:n}),t&&(e.addEventListener("focusin",o=>{l(this,pt)._focusEventsAllowed=!1,Pt(o)},{capture:!0,signal:n}),e.addEventListener("focusout",o=>{l(this,pt)._focusEventsAllowed=!0,Pt(o)},{capture:!0,signal:n})),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const a=o=>{o.preventDefault(),e===l(this,li)?this.edit():l(this,pt).toggleComment(!0)};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(w(this,Do,!0),a(o))},{signal:n}),e.addEventListener("pointerenter",()=>{l(this,pt).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{l(this,pt).toggleComment(!1,!1)},{signal:n}),e};var ad,Po,cm,um,dm,hm,fm,qa,Bo,Ya,Io,Xa,Jl,KE,QE,ZE;const cS=class cS{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:a=null,onPinching:o=null,onPinchEnd:c=null,signal:h}){C(this,Jl);C(this,ad);C(this,Po,!1);C(this,cm,null);C(this,um);C(this,dm);C(this,hm);C(this,fm);C(this,qa,null);C(this,Bo);C(this,Ya,null);C(this,Io);C(this,Xa,null);w(this,ad,e),w(this,cm,n),w(this,um,t),w(this,dm,a),w(this,hm,o),w(this,fm,c),w(this,Io,new AbortController),w(this,Bo,AbortSignal.any([h,l(this,Io).signal])),e.addEventListener("touchstart",j(this,Jl,KE).bind(this),{passive:!1,signal:l(this,Bo)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ma.pixelRatio}destroy(){var e,t;(e=l(this,Io))==null||e.abort(),w(this,Io,null),(t=l(this,qa))==null||t.abort(),w(this,qa,null)}};ad=new WeakMap,Po=new WeakMap,cm=new WeakMap,um=new WeakMap,dm=new WeakMap,hm=new WeakMap,fm=new WeakMap,qa=new WeakMap,Bo=new WeakMap,Ya=new WeakMap,Io=new WeakMap,Xa=new WeakMap,Jl=new WeakSet,KE=function(e){var a,o,c;if((a=l(this,um))!=null&&a.call(this))return;if(e.touches.length===1){if(l(this,qa))return;const h=w(this,qa,new AbortController),f=AbortSignal.any([l(this,Bo),h.signal]),p=l(this,ad),g={capture:!0,signal:f,passive:!1},b=v=>{var S;v.pointerType==="touch"&&((S=l(this,qa))==null||S.abort(),w(this,qa,null))};p.addEventListener("pointerdown",v=>{v.pointerType==="touch"&&(Pt(v),b(v))},g),p.addEventListener("pointerup",b,g),p.addEventListener("pointercancel",b,g);return}if(!l(this,Xa)){w(this,Xa,new AbortController);const h=AbortSignal.any([l(this,Bo),l(this,Xa).signal]),f=l(this,ad),p={signal:h,capture:!1,passive:!1};f.addEventListener("touchmove",j(this,Jl,QE).bind(this),p);const g=j(this,Jl,ZE).bind(this);f.addEventListener("touchend",g,p),f.addEventListener("touchcancel",g,p),p.capture=!0,f.addEventListener("pointerdown",Pt,p),f.addEventListener("pointermove",Pt,p),f.addEventListener("pointercancel",Pt,p),f.addEventListener("pointerup",Pt,p),(o=l(this,dm))==null||o.call(this)}if(Pt(e),e.touches.length!==2||(c=l(this,cm))!=null&&c.call(this)){w(this,Ya,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),w(this,Ya,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},QE=function(e){var L;if(!l(this,Ya)||e.touches.length!==2)return;Pt(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:a,screenY:o}=t,{screenX:c,screenY:h}=n,f=l(this,Ya),{touch0X:p,touch0Y:g,touch1X:b,touch1Y:v}=f,S=b-p,E=v-g,A=c-a,_=h-o,T=Math.hypot(A,_)||1,R=Math.hypot(S,E)||1;if(!l(this,Po)&&Math.abs(R-T)<=cS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(f.touch0X=a,f.touch0Y=o,f.touch1X=c,f.touch1Y=h,!l(this,Po)){w(this,Po,!0);return}const D=[(a+c)/2,(o+h)/2];(L=l(this,hm))==null||L.call(this,D,R,T)},ZE=function(e){var t;e.touches.length>=2||(l(this,Xa)&&(l(this,Xa).abort(),w(this,Xa,null),(t=l(this,fm))==null||t.call(this)),l(this,Ya)&&(Pt(e),w(this,Ya,null),w(this,Po,!1)))};let Q0=cS;var Fo,Ni,At,dt,Wa,rd,yl,mm,ys,zo,Ka,Qi,vl,pm,Uo,An,gm,Ho,Qa,Zi,ld,od,oi,Vo,xm,hx,Ee,kv,bm,Rv,y0,JE,eC,Lv,v0,Ov,tC,sC,nC,Pv,iC,Bv,aC,rC,lC,Iv,Nf;const _e=class _e{constructor(e){C(this,Ee);C(this,Fo,null);C(this,Ni,null);C(this,At,null);C(this,dt,null);C(this,Wa,null);C(this,rd,!1);C(this,yl,null);C(this,mm,"");C(this,ys,null);C(this,zo,null);C(this,Ka,null);C(this,Qi,null);C(this,vl,null);C(this,pm,"");C(this,Uo,!1);C(this,An,null);C(this,gm,!1);C(this,Ho,!1);C(this,Qa,!1);C(this,Zi,null);C(this,ld,0);C(this,od,0);C(this,oi,null);C(this,Vo,null);ae(this,"isSelected",!1);ae(this,"_isCopy",!1);ae(this,"_editToolbar",null);ae(this,"_initialOptions",Object.create(null));ae(this,"_initialData",null);ae(this,"_isVisible",!0);ae(this,"_uiManager",null);ae(this,"_focusEventsAllowed",!0);C(this,xm,!1);C(this,hx,_e._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:a,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,a],this.pageTranslation=[o,c];const[h,f]=this.parentDimensions;this.x=e.x/h,this.y=e.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=_e.prototype._resizeWithKeyboard,t=zc.TRANSLATE_SMALL,n=zc.TRANSLATE_BIG;return Pe(this,"_resizerKeyboardManager",new Lp([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],_e.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Pe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new dk({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(_e._l10n??(_e._l10n=e),_e._l10nResizer||(_e._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),_e._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);_e._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){mt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,xm)}set _isDraggable(e){var t;w(this,xm,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,hx)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(j(this,Ee,Nf).call(this),(t=l(this,Qi))==null||t.remove(),w(this,Qi,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,Uo)?w(this,Uo,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,a){const[o,c]=this.parentDimensions;[n,a]=this.screenToPageTranslation(n,a),this.x=(e+n)/o,this.y=(t+a)/c,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,a]=this.parentDimensions;this.setAt(e*n,t*a,this.width*n,this.height*a),this._onTranslated()}translate(e,t){j(this,Ee,kv).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,An)||w(this,An,[this.x,this.y,this.width,this.height]),j(this,Ee,kv).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){l(this,An)||w(this,An,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[a,o]}=this;if(this.x+=e/a,this.y+=t/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:b,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,b,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:h}=this;const[f,p]=this.getBaseTranslation();c+=f,h+=p;const{style:g}=n;g.left=`${(100*c).toFixed(2)}%`,g.top=`${(100*h).toFixed(2)}%`,this._onTranslating(c,h),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!l(this,An)&&(l(this,An)[0]!==this.x||l(this,An)[1]!==this.y)}get _hasBeenResized(){return!!l(this,An)&&(l(this,An)[2]!==this.width||l(this,An)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=_e,a=n/e,o=n/t;switch(this.rotation){case 90:return[-a,o];case 180:return[a,o];case 270:return[a,-o];default:return[-a,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,a]}=this;let{x:o,y:c,width:h,height:f}=this;if(h*=n,f*=a,o*=n,c*=a,this._mustFixPosition)switch(e){case 0:o=Hs(o,0,n-h),c=Hs(c,0,a-f);break;case 90:o=Hs(o,0,n-f),c=Hs(c,h,a);break;case 180:o=Hs(o,h,n),c=Hs(c,f,a);break;case 270:o=Hs(o,f,n),c=Hs(c,0,a-h);break}this.x=o/=n,this.y=c/=a;const[p,g]=this.getBaseTranslation();o+=p,c+=g,t.left=`${(100*o).toFixed(2)}%`,t.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return j(n=_e,bm,Rv).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return j(n=_e,bm,Rv).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=l(this,At))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,Ho))return this._editToolbar;this._editToolbar=new wv(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=l(this,At))==null||t.destroy()}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,At)||(K0.initialize(_e._l10n),w(this,At,new K0(this)),l(this,Fo)&&(l(this,At).data=l(this,Fo),w(this,Fo,null))),l(this,At)}get altTextData(){var e;return(e=l(this,At))==null?void 0:e.data}set altTextData(e){l(this,At)&&(l(this,At).data=e)}get guessedAltText(){var e;return(e=l(this,At))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=l(this,At))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=l(this,At))==null?void 0:t.serialize(e)}hasAltText(){return!!l(this,At)&&!l(this,At).isEmpty()}hasAltTextData(){var e;return((e=l(this,At))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=l(this,dt))==null||e.focusButton()}addCommentButton(){return l(this,dt)||w(this,dt,new s0(this))}addStandaloneCommentButton(){if(l(this,Wa)){this._uiManager.isEditingMode()&&l(this,Wa).classList.remove("hidden");return}this.hasComment&&(w(this,Wa,l(this,dt).renderForStandalone()),this.div.append(l(this,Wa)))}removeStandaloneCommentButton(){l(this,dt).removeStandaloneCommentButton(),w(this,Wa,null)}hideStandaloneCommentButton(){var e;(e=l(this,Wa))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:a}}=l(this,dt);return{text:t,richText:e,date:n,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){l(this,dt)||w(this,dt,new s0(this)),l(this,dt).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(l(this,dt)||w(this,dt,new s0(this)),l(this,dt).setInitialText(e,n),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){var e;return(e=l(this,dt))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=l(this,dt))==null?void 0:e.isDeleted()}get hasComment(){return!!l(this,dt)&&!l(this,dt).isEmpty()&&!l(this,dt).isDeleted()}async editComment(e){l(this,dt)||w(this,dt,new s0(this)),l(this,dt).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){l(this,dt).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,a]=e.rect,[o]=this.pageDimensions,[c]=this.pageTranslation,h=c+o+1,f=a-100,p=h+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[h,f,p,a]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){l(this,dt).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var c;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=l(this,rd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),j(this,Ee,Bv).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[a,o]=this.getInitialTranslation();return this.translate(a,o),IE(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,Vo)||w(this,Vo,new Q0({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:j(this,Ee,tC).bind(this),onPinching:j(this,Ee,sC).bind(this),onPinchEnd:j(this,Ee,nC).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(c=this._uiManager._editorUndoBar)==null||c.hide(),e}pointerdown(e){const{isMac:t}=Cs.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(w(this,Uo,!0),this._isDraggable){j(this,Ee,iC).call(this,e);return}j(this,Ee,Pv).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,Zi)&&clearTimeout(l(this,Zi)),w(this,Zi,setTimeout(()=>{var e;w(this,Zi,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const a=this.parentScale,[o,c]=this.pageDimensions,[h,f]=this.pageTranslation,p=e/a,g=t/a,b=this.x*o,v=this.y*c,S=this.width*o,E=this.height*c;switch(n){case 0:return[b+p+h,c-v-g-E+f,b+p+S+h,c-v-g+f];case 90:return[b+g+h,c-v+p+f,b+g+E+h,c-v+p+S+f];case 180:return[b-p-S+h,c-v+g+f,b-p+h,c-v+g+E+f];case 270:return[b-g-E+h,c-v-p-S+f,b-g+h,c-v-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,a,o,c]=e,h=o-n,f=c-a;switch(this.rotation){case 0:return[n,t-c,h,f];case 90:return[n,t-a,f,h];case 180:return[o,t-a,h,f];case 270:return[o,t-c,f,h];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&_e._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=l(this,dt))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:a,deleted:o,richText:c},uid:h,pageIndex:f,creationDate:p,modificationDate:g}=this;return{id:h,pageIndex:f,rect:this.getPDFRect(),richText:c,contentsObj:{str:e},creationDate:p,modificationDate:n||g,popupRef:!o,color:t,opacity:a}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),w(this,Ho,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),w(this,Ho,!1),!0):!1}isInEditMode(){return l(this,Ho)}shouldGetKeyboardEvents(){return l(this,Qa)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:a}=this.getClientDimensions(),{innerHeight:o,innerWidth:c}=window;return t<c&&a>0&&e<o&&n>0}rebuild(){j(this,Ee,Bv).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,t,n){const a=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});a.rotation=e.rotation,w(a,Fo,e.accessibilityData),a._isCopy=e.isCopy||!1;const[o,c]=a.pageDimensions,[h,f,p,g]=a.getRectInCurrentCoords(e.rect,c);return a.x=h/o,a.y=f/c,a.width=p/o,a.height=g/c,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=l(this,vl))==null||e.abort(),w(this,vl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Zi)&&(clearTimeout(l(this,Zi)),w(this,Zi,null)),j(this,Ee,Nf).call(this),this.removeEditToolbar(),l(this,oi)){for(const n of l(this,oi).values())clearTimeout(n);w(this,oi,null)}this.parent=null,(t=l(this,Vo))==null||t.destroy(),w(this,Vo,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(j(this,Ee,JE).call(this),l(this,ys).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,a,o,c]=this.getPDFRect();return[_e._round(n+(o-n)*e),_e._round(a+(c-a)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return l(this,dt).commentPopupPositionInLayer}set commentPopupPosition(e){l(this,dt).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return l(this,dt).hasDefaultPopupPosition()}get commentButtonWidth(){return l(this,dt).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){l(this,dt).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),w(this,Ka,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,ys).children;if(!l(this,Ni)){w(this,Ni,Array.from(t));const c=j(this,Ee,aC).bind(this),h=j(this,Ee,rC).bind(this),f=this._uiManager._signal;for(const p of l(this,Ni)){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:f}),p.addEventListener("blur",h,{signal:f}),p.addEventListener("focus",j(this,Ee,lC).bind(this,g),{signal:f}),p.setAttribute("data-l10n-id",_e._l10nResizer[g])}}const n=l(this,Ni)[0];let a=0;for(const c of t){if(c===n)break;a++}const o=(360-this.rotation+this.parentRotation)%360/90*(l(this,Ni).length/4);if(o!==a){if(o<a)for(let h=0;h<a-o;h++)l(this,ys).append(l(this,ys).firstChild);else if(o>a)for(let h=0;h<o-a;h++)l(this,ys).firstChild.before(l(this,ys).lastChild);let c=0;for(const h of t){const p=l(this,Ni)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",_e._l10nResizer[p])}}j(this,Ee,Iv).call(this,0),w(this,Qa,!0),l(this,ys).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,Qa)&&j(this,Ee,Ov).call(this,l(this,pm),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){j(this,Ee,Nf).call(this),this.div.focus()}select(){var e,t,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var a,o;(a=this.div)!=null&&a.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(n=l(this,At))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,n,a,o;this.isSelected&&(this.isSelected=!1,(e=l(this,ys))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=this._editToolbar)==null||a.hide(),(o=l(this,At))==null||o.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,gm)}set isEditing(e){w(this,gm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,oi)||w(this,oi,new Map);const{action:n}=e;let a=l(this,oi).get(n);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(e),l(this,oi).delete(n),l(this,oi).size===0&&w(this,oi,null)},_e._telemetryTimeout),l(this,oi).set(n,a);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),w(this,rd,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,rd,!0)}updateFakeAnnotationElement(e){if(!l(this,Qi)&&!this.deleted){w(this,Qi,e.addFakeAnnotation(this));return}if(this.deleted){l(this,Qi).remove(),w(this,Qi,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&l(this,Qi).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Fo=new WeakMap,Ni=new WeakMap,At=new WeakMap,dt=new WeakMap,Wa=new WeakMap,rd=new WeakMap,yl=new WeakMap,mm=new WeakMap,ys=new WeakMap,zo=new WeakMap,Ka=new WeakMap,Qi=new WeakMap,vl=new WeakMap,pm=new WeakMap,Uo=new WeakMap,An=new WeakMap,gm=new WeakMap,Ho=new WeakMap,Qa=new WeakMap,Zi=new WeakMap,ld=new WeakMap,od=new WeakMap,oi=new WeakMap,Vo=new WeakMap,xm=new WeakMap,hx=new WeakMap,Ee=new WeakSet,kv=function([e,t],n,a){[n,a]=this.screenToPageTranslation(n,a),this.x+=n/e,this.y+=a/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},bm=new WeakSet,Rv=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},y0=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},JE=function(){if(l(this,ys))return;w(this,ys,document.createElement("div")),l(this,ys).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const a=document.createElement("div");l(this,ys).append(a),a.classList.add("resizer",n),a.setAttribute("data-resizer-name",n),a.addEventListener("pointerdown",j(this,Ee,eC).bind(this,n),{signal:t}),a.addEventListener("contextmenu",pi,{signal:t}),a.tabIndex=-1}this.div.prepend(l(this,ys))},eC=function(e,t){var g;t.preventDefault();const{isMac:n}=Cs.platform;if(t.button!==0||t.ctrlKey&&n)return;(g=l(this,At))==null||g.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,w(this,zo,[t.screenX,t.screenY]);const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",j(this,Ee,Ov).bind(this,e),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",Pt,{passive:!1,signal:c}),window.addEventListener("contextmenu",pi,{signal:c}),w(this,Ka,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var b;o.abort(),this.parent.togglePointerEvents(!0),(b=l(this,At))==null||b.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=h,this.div.style.cursor=f,j(this,Ee,v0).call(this)};window.addEventListener("pointerup",p,{signal:c}),window.addEventListener("blur",p,{signal:c})},Lv=function(e,t,n,a){this.width=n,this.height=a,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},v0=function(){if(!l(this,Ka))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:a}=l(this,Ka);w(this,Ka,null);const o=this.x,c=this.y,h=this.width,f=this.height;o===e&&c===t&&h===n&&f===a||this.addCommands({cmd:j(this,Ee,Lv).bind(this,o,c,h,f),undo:j(this,Ee,Lv).bind(this,e,t,n,a),mustExec:!0})},Ov=function(e,t){const[n,a]=this.parentDimensions,o=this.x,c=this.y,h=this.width,f=this.height,p=_e.MIN_SIZE/n,g=_e.MIN_SIZE/a,b=j(this,Ee,y0).call(this,this.rotation),v=(H,J)=>[b[0]*H+b[2]*J,b[1]*H+b[3]*J],S=j(this,Ee,y0).call(this,360-this.rotation),E=(H,J)=>[S[0]*H+S[2]*J,S[1]*H+S[3]*J];let A,_,T=!1,R=!1;switch(e){case"topLeft":T=!0,A=(H,J)=>[0,0],_=(H,J)=>[H,J];break;case"topMiddle":A=(H,J)=>[H/2,0],_=(H,J)=>[H/2,J];break;case"topRight":T=!0,A=(H,J)=>[H,0],_=(H,J)=>[0,J];break;case"middleRight":R=!0,A=(H,J)=>[H,J/2],_=(H,J)=>[0,J/2];break;case"bottomRight":T=!0,A=(H,J)=>[H,J],_=(H,J)=>[0,0];break;case"bottomMiddle":A=(H,J)=>[H/2,J],_=(H,J)=>[H/2,0];break;case"bottomLeft":T=!0,A=(H,J)=>[0,J],_=(H,J)=>[H,0];break;case"middleLeft":R=!0,A=(H,J)=>[0,J/2],_=(H,J)=>[H,J/2];break}const D=A(h,f),L=_(h,f);let O=v(...L);const B=_e._round(o+O[0]),k=_e._round(c+O[1]);let F=1,G=1,Q,K;if(t.fromKeyboard)({deltaX:Q,deltaY:K}=t);else{const{screenX:H,screenY:J}=t,[le,ee]=l(this,zo);[Q,K]=this.screenToPageTranslation(H-le,J-ee),l(this,zo)[0]=H,l(this,zo)[1]=J}if([Q,K]=E(Q/n,K/a),T){const H=Math.hypot(h,f);F=G=Math.max(Math.min(Math.hypot(L[0]-D[0]-Q,L[1]-D[1]-K)/H,1/h,1/f),p/h,g/f)}else R?F=Hs(Math.abs(L[0]-D[0]-Q),p,1)/h:G=Hs(Math.abs(L[1]-D[1]-K),g,1)/f;const X=_e._round(h*F),he=_e._round(f*G);O=v(..._(X,he));const de=B-O[0],Se=k-O[1];l(this,An)||w(this,An,[this.x,this.y,this.width,this.height]),this.width=X,this.height=he,this.x=de,this.y=Se,this.setDims(),this.fixAndSetPosition(),this._onResizing()},tC=function(){var e;w(this,Ka,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=l(this,At))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},sC=function(e,t,n){let o=.7*(n/t)+1-.7;if(o===1)return;const c=j(this,Ee,y0).call(this,this.rotation),h=(B,k)=>[c[0]*B+c[2]*k,c[1]*B+c[3]*k],[f,p]=this.parentDimensions,g=this.x,b=this.y,v=this.width,S=this.height,E=_e.MIN_SIZE/f,A=_e.MIN_SIZE/p;o=Math.max(Math.min(o,1/v,1/S),E/v,A/S);const _=_e._round(v*o),T=_e._round(S*o);if(_===v&&T===S)return;l(this,An)||w(this,An,[g,b,v,S]);const R=h(v/2,S/2),D=_e._round(g+R[0]),L=_e._round(b+R[1]),O=h(_/2,T/2);this.x=D-O[0],this.y=L-O[1],this.width=_,this.height=T,this.setDims(),this.fixAndSetPosition(),this._onResizing()},nC=function(){var e;(e=l(this,At))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),j(this,Ee,v0).call(this)},Pv=function(e){const{isMac:t}=Cs.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},iC=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const a=new AbortController,o=this._uiManager.combinedSignal(a),c={capture:!0,passive:!1,signal:o},h=p=>{a.abort(),w(this,yl,null),w(this,Uo,!1),this._uiManager.endDragSession()||j(this,Ee,Pv).call(this,p),n&&this._onStopDragging()};t&&(w(this,ld,e.clientX),w(this,od,e.clientY),w(this,yl,e.pointerId),w(this,mm,e.pointerType),window.addEventListener("pointermove",p=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:g,clientY:b,pointerId:v}=p;if(v!==l(this,yl)){Pt(p);return}const[S,E]=this.screenToPageTranslation(g-l(this,ld),b-l(this,od));w(this,ld,g),w(this,od,b),this._uiManager.dragSelectedEditors(S,E)},c),window.addEventListener("touchmove",Pt,c),window.addEventListener("pointerdown",p=>{p.pointerType===l(this,mm)&&(l(this,Vo)||p.isPrimary)&&h(p),Pt(p)},c));const f=p=>{if(!l(this,yl)||l(this,yl)===p.pointerId){h(p);return}Pt(p)};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})},Bv=function(){if(l(this,vl)||!this.div)return;w(this,vl,new AbortController);const e=this._uiManager.combinedSignal(l(this,vl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},aC=function(e){_e._resizerKeyboardManager.exec(this,e)},rC=function(e){var t;l(this,Qa)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,ys)&&j(this,Ee,Nf).call(this)},lC=function(e){w(this,pm,l(this,Qa)?e:"")},Iv=function(e){if(l(this,Ni))for(const t of l(this,Ni))t.tabIndex=e},Nf=function(){w(this,Qa,!1),j(this,Ee,Iv).call(this,-1),j(this,Ee,v0).call(this)},C(_e,bm),ae(_e,"_l10n",null),ae(_e,"_l10nResizer",null),ae(_e,"_borderLineWidth",-1),ae(_e,"_colorManager",new Nv),ae(_e,"_zIndex",1),ae(_e,"_telemetryTimeout",1e3);let gt=_e;class dk extends gt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const I2=3285377520,Jn=4294901760,Ui=65535;class oC{constructor(e){this.h1=e?e&4294967295:I2,this.h2=e?e&4294967295:I2}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let A=0,_=e.length;A<_;A++){const T=e.charCodeAt(A);T<=255?t[n++]=T:(t[n++]=T>>>8,t[n++]=T&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=n>>2,o=n-a*4,c=new Uint32Array(t.buffer,0,a);let h=0,f=0,p=this.h1,g=this.h2;const b=3432918353,v=461845907,S=b&Ui,E=v&Ui;for(let A=0;A<a;A++)A&1?(h=c[A],h=h*b&Jn|h*S&Ui,h=h<<15|h>>>17,h=h*v&Jn|h*E&Ui,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(f=c[A],f=f*b&Jn|f*S&Ui,f=f<<15|f>>>17,f=f*v&Jn|f*E&Ui,g^=f,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,o){case 3:h^=t[a*4+2]<<16;case 2:h^=t[a*4+1]<<8;case 1:h^=t[a*4],h=h*b&Jn|h*S&Ui,h=h<<15|h>>>17,h=h*v&Jn|h*E&Ui,a&1?p^=h:g^=h}this.h1=p,this.h2=g}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Jn|e*36045&Ui,t=t*4283543511&Jn|((t<<16|e>>>16)*2950163797&Jn)>>>16,e^=t>>>1,e=e*444984403&Jn|e*60499&Ui,t=t*3301882366&Jn|((t<<16|e>>>16)*3120437893&Jn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Fv=Object.freeze({map:null,hash:"",transfer:void 0});var Go,$o,Za,vs,fx,cC;class tS{constructor(){C(this,fx);C(this,Go,!1);C(this,$o,null);C(this,Za,null);C(this,vs,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=l(this,vs).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return l(this,vs).get(e)}remove(e){const t=l(this,vs).get(e);if(t!==void 0&&(t instanceof gt&&l(this,Za).delete(t.annotationElementId),l(this,vs).delete(e),l(this,vs).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of l(this,vs).values())if(n instanceof gt)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=l(this,vs).get(e);let a=!1;if(n!==void 0)for(const[o,c]of Object.entries(t))n[o]!==c&&(a=!0,n[o]=c);else a=!0,l(this,vs).set(e,t);a&&j(this,fx,cC).call(this),t instanceof gt&&((l(this,Za)||w(this,Za,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return l(this,vs).has(e)}get size(){return l(this,vs).size}resetModified(){l(this,Go)&&(w(this,Go,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new uC(this)}get serializable(){if(l(this,vs).size===0)return Fv;const e=new Map,t=new oC,n=[],a=Object.create(null);let o=!1;for(const[c,h]of l(this,vs)){const f=h instanceof gt?h.serialize(!1,a):h;f&&(e.set(c,f),t.update(`${c}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const c of e.values())c.bitmap&&n.push(c.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Fv}get editorStats(){let e=null;const t=new Map;let n=0,a=0;for(const o of l(this,vs).values()){if(!(o instanceof gt)){o.popup&&(o.popup.deleted?a+=1:n+=1);continue}o.isCommentDeleted?a+=1:o.hasEditedComment&&(n+=1);const c=o.telemetryFinalData;if(!c)continue;const{type:h}=c;t.has(h)||t.set(h,Object.getPrototypeOf(o).constructor),e||(e=Object.create(null));const f=e[h]||(e[h]=new Map);for(const[p,g]of Object.entries(c)){if(p==="type")continue;let b=f.get(p);b||(b=new Map,f.set(p,b));const v=b.get(g)??0;b.set(g,v+1)}}if((a>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:a,edited:n}),!e)return null;for(const[o,c]of t)e[o]=c.computeTelemetryFinalData(e[o]);return e}resetModifiedIds(){w(this,$o,null)}updateEditor(e,t){var a;const n=(a=l(this,Za))==null?void 0:a.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=l(this,Za))==null?void 0:t.get(e))||null}get modifiedIds(){if(l(this,$o))return l(this,$o);const e=[];if(l(this,Za))for(const t of l(this,Za).values())t.serialize()&&e.push(t.annotationElementId);return w(this,$o,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return l(this,vs).entries()}}Go=new WeakMap,$o=new WeakMap,Za=new WeakMap,vs=new WeakMap,fx=new WeakSet,cC=function(){l(this,Go)||(w(this,Go,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ym;class uC extends tS{constructor(t){super();C(this,ym);const{map:n,hash:a,transfer:o}=t.serializable,c=structuredClone(n,o?{transfer:o}:null);w(this,ym,{map:c,hash:a,transfer:o})}get print(){mt("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,ym)}get modifiedIds(){return Pe(this,"modifiedIds",{ids:new Set,hash:""})}}ym=new WeakMap;var cd;class hk{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){C(this,cd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,cd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||l(this,cd).has(e.loadedName))){if(Ge(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:o,style:c}=e,h=new FontFace(a,o,c);this.addNativeFontFace(h);try{await h.load(),l(this,cd).add(a),n==null||n(e)}catch{Te(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}mt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(a){throw Te(`Failed to load font '${n.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const a=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,a)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Pe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Pe(this,"isSyncFontLoadingSupported",Us||Cs.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ge(!a.done,"completeRequest() cannot be called twice."),a.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,a={done:!1,complete:t,callback:e};return n.push(a),a}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Pe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(L,O){return L.charCodeAt(O)<<24|L.charCodeAt(O+1)<<16|L.charCodeAt(O+2)<<8|L.charCodeAt(O+3)&255}function a(L,O,B,k){const F=L.substring(0,O),G=L.substring(O+B);return F+k+G}let o,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let p=0;function g(L,O){if(++p>30){Te("Load test font never loaded."),O();return}if(f.font="30px "+L,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){O();return}setTimeout(g.bind(null,L,O))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,b.length,b);const E=16,A=1482184792;let _=n(v,E);for(o=0,c=b.length-3;o<c;o+=4)_=_-A+n(b,o)|0;o<b.length&&(_=_-A+n(b+"XXX",o)|0),v=a(v,E,4,qD(_));const T=`url(data:font/opentype;base64,${btoa(v)});`,R=`@font-face {font-family:"${b}";src:${T}}`;this.insertRule(R);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const L of[e.loadedName,b]){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=L,D.append(O)}this._document.body.append(D),g(b,()=>{D.remove(),t.complete()})}}cd=new WeakMap;var at;class fk{constructor(e,t=null,n,a){C(this,at);this.compiledGlyphs=Object.create(null),w(this,at,e),this._inspectFont=t,n&&Object.assign(this,n),a&&(this.charProcOperatorList=a)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${ME(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let a;try{a=e.get(n)}catch(c){Te(`getPathGenerator - ignoring character: "${c}".`)}const o=new Path2D(a||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=o}get black(){return l(this,at).black}get bold(){return l(this,at).bold}get disableFontFace(){return l(this,at).disableFontFace??!1}get fontExtraProperties(){return l(this,at).fontExtraProperties??!1}get isInvalidPDFjsFont(){return l(this,at).isInvalidPDFjsFont}get isType3Font(){return l(this,at).isType3Font}get italic(){return l(this,at).italic}get missingFile(){return l(this,at).missingFile}get remeasure(){return l(this,at).remeasure}get vertical(){return l(this,at).vertical}get ascent(){return l(this,at).ascent}get defaultWidth(){return l(this,at).defaultWidth}get descent(){return l(this,at).descent}get bbox(){return l(this,at).bbox}get fontMatrix(){return l(this,at).fontMatrix}get fallbackName(){return l(this,at).fallbackName}get loadedName(){return l(this,at).loadedName}get mimetype(){return l(this,at).mimetype}get name(){return l(this,at).name}get data(){return l(this,at).data}clearData(){l(this,at).clearData()}get cssFontInfo(){return l(this,at).cssFontInfo}get systemFontInfo(){return l(this,at).systemFontInfo}get defaultVMetrics(){return l(this,at).defaultVMetrics}}at=new WeakMap;function mk(m){if(m instanceof URL)return m.href;if(typeof m=="string"){if(Us)return m;const e=URL.parse(m,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function pk(m){if(Us&&typeof Buffer<"u"&&m instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(m instanceof Uint8Array&&m.byteLength===m.buffer.byteLength)return m;if(typeof m=="string")return Mp(m);if(m instanceof ArrayBuffer||ArrayBuffer.isView(m)||typeof m=="object"&&!isNaN(m==null?void 0:m.length))return new Uint8Array(m);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function n0(m){if(typeof m!="string")return null;if(m.endsWith("/"))return m;throw new Error(`Invalid factory url: "${m}" must include trailing slash.`)}const zv=m=>typeof m=="object"&&Number.isInteger(m==null?void 0:m.num)&&m.num>=0&&Number.isInteger(m==null?void 0:m.gen)&&m.gen>=0,gk=m=>typeof m=="object"&&typeof(m==null?void 0:m.name)=="string",xk=QD.bind(null,zv,gk);var Ja,mx;class bk{constructor(){C(this,Ja,new Map);C(this,mx,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};l(this,mx).then(()=>{for(const[a]of l(this,Ja))a.call(this,n)})}addEventListener(e,t,n=null){let a=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Te("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(e,t);a=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}l(this,Ja).set(t,a)}removeEventListener(e,t){const n=l(this,Ja).get(t);n==null||n(),l(this,Ja).delete(t)}terminate(){for(const[,e]of l(this,Ja))e==null||e();l(this,Ja).clear()}}Ja=new WeakMap,mx=new WeakMap;const i0={DATA:1,ERROR:2},qt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function F2(){}function Js(m){if(m instanceof Ql||m instanceof xv||m instanceof D2||m instanceof X0||m instanceof lv)return m;switch(m instanceof Error||typeof m=="object"&&m!==null||mt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),m.name){case"AbortException":return new Ql(m.message);case"InvalidPDFException":return new xv(m.message);case"PasswordException":return new D2(m.message,m.code);case"ResponseException":return new X0(m.message,m.status,m.missing);case"UnknownErrorException":return new lv(m.message,m.details)}return new lv(m.message,m.toString())}var ud,mi,dC,hC,fC,w0;class Ef{constructor(e,t,n){C(this,mi);C(this,ud,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",j(this,mi,dC).bind(this),{signal:l(this,ud).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const a=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[a]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},n)}catch(c){o.reject(c)}return o.promise}sendWithStream(e,t,n,a){const o=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:e,streamId:o,data:t,desiredSize:p.desiredSize},a),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[o].pullCall=g,f.postMessage({sourceName:c,targetName:h,stream:qt.PULL,streamId:o,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Ge(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[o].cancelCall=g,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:qt.CANCEL,streamId:o,reason:Js(p)}),g.promise}},n)}destroy(){var e;(e=l(this,ud))==null||e.abort(),w(this,ud,null)}}ud=new WeakMap,mi=new WeakSet,dC=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){j(this,mi,fC).call(this,e);return}if(e.callback){const n=e.callbackId,a=this.callbackCapabilities[n];if(!a)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===i0.DATA)a.resolve(e.data);else if(e.callback===i0.ERROR)a.reject(Js(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,a=e.sourceName,o=this.comObj;Promise.try(t,e.data).then(function(c){o.postMessage({sourceName:n,targetName:a,callback:i0.DATA,callbackId:e.callbackId,data:c})},function(c){o.postMessage({sourceName:n,targetName:a,callback:i0.ERROR,callbackId:e.callbackId,reason:Js(c)})});return}if(e.streamId){j(this,mi,hC).call(this,e);return}t(e.data)},hC=function(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,o=this.comObj,c=this,h=this.actionHandler[e.action],f={enqueue(p,g=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=g,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:a,stream:qt.ENQUEUE,streamId:t,chunk:p},b)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:a,stream:qt.CLOSE,streamId:t}),delete c.streamSinks[t])},error(p){Ge(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:a,stream:qt.ERROR,streamId:t,reason:Js(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[t]=f,Promise.try(h,e.data,f).then(function(){o.postMessage({sourceName:n,targetName:a,stream:qt.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:a,stream:qt.START_COMPLETE,streamId:t,reason:Js(p)})})},fC=function(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,o=this.comObj,c=this.streamControllers[t],h=this.streamSinks[t];switch(e.stream){case qt.START_COMPLETE:e.success?c.startCall.resolve():c.startCall.reject(Js(e.reason));break;case qt.PULL_COMPLETE:e.success?c.pullCall.resolve():c.pullCall.reject(Js(e.reason));break;case qt.PULL:if(!h){o.postMessage({sourceName:n,targetName:a,stream:qt.PULL_COMPLETE,streamId:t,success:!0});break}h.desiredSize<=0&&e.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=e.desiredSize,Promise.try(h.onPull||F2).then(function(){o.postMessage({sourceName:n,targetName:a,stream:qt.PULL_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:a,stream:qt.PULL_COMPLETE,streamId:t,reason:Js(p)})});break;case qt.ENQUEUE:if(Ge(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(e.chunk);break;case qt.CLOSE:if(Ge(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),j(this,mi,w0).call(this,c,t);break;case qt.ERROR:Ge(c,"error should have stream controller"),c.controller.error(Js(e.reason)),j(this,mi,w0).call(this,c,t);break;case qt.CANCEL_COMPLETE:e.success?c.cancelCall.resolve():c.cancelCall.reject(Js(e.reason)),j(this,mi,w0).call(this,c,t);break;case qt.CANCEL:if(!h)break;const f=Js(e.reason);Promise.try(h.onCancel||F2,f).then(function(){o.postMessage({sourceName:n,targetName:a,stream:qt.CANCEL_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:n,targetName:a,stream:qt.CANCEL_COMPLETE,streamId:t,reason:Js(p)})}),h.sinkCapability.reject(f),h.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},w0=async function(e,t){var n,a,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(a=e.pullCall)==null?void 0:a.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var vm;class mC{constructor({enableHWA:e=!1}){C(this,vm,!1);w(this,vm,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!l(this,vm)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){mt("Abstract method `_createCanvas` called.")}}vm=new WeakMap;class yk extends mC{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class pC{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){mt("Abstract method `_fetch` called.")}}class z2 extends pC{async _fetch(e){const t=await Dp(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Mp(t)}}class gC{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,a,o){return"none"}destroy(e=!1){}}var qo,dd,er,tr,Ds,Yo,Xo,fe,Ts,Cf,Du,S0,ku,xC,Uv,Ru,jf,Tf,Hv,_f;class vk extends gC{constructor({docId:t,ownerDocument:n=globalThis.document}){super();C(this,fe);C(this,qo);C(this,dd);C(this,er);C(this,tr);C(this,Ds);C(this,Yo);C(this,Xo,0);w(this,tr,t),w(this,Ds,n)}addFilter(t){if(!t)return"none";let n=l(this,fe,Ts).get(t);if(n)return n;const[a,o,c]=j(this,fe,S0).call(this,t),h=t.length===1?a:`${a}${o}${c}`;if(n=l(this,fe,Ts).get(h),n)return l(this,fe,Ts).set(t,n),n;const f=`g_${l(this,tr)}_transfer_map_${Qt(this,Xo)._++}`,p=j(this,fe,ku).call(this,f);l(this,fe,Ts).set(t,p),l(this,fe,Ts).set(h,p);const g=j(this,fe,Ru).call(this,f);return j(this,fe,Tf).call(this,a,o,c,g),p}addHCMFilter(t,n){var E;const a=`${t}-${n}`,o="base";let c=l(this,fe,Cf).get(o);if((c==null?void 0:c.key)===a||(c?((E=c.filter)==null||E.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},l(this,fe,Cf).set(o,c)),!t||!n))return c.url;const h=j(this,fe,_f).call(this,t);t=pe.makeHexColor(...h);const f=j(this,fe,_f).call(this,n);if(n=pe.makeHexColor(...f),l(this,fe,Du).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return c.url;const p=new Array(256);for(let A=0;A<=255;A++){const _=A/255;p[A]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const g=p.join(","),b=`g_${l(this,tr)}_hcm_filter`,v=c.filter=j(this,fe,Ru).call(this,b);j(this,fe,Tf).call(this,g,g,g,v),j(this,fe,Uv).call(this,v);const S=(A,_)=>{const T=h[A]/255,R=f[A]/255,D=new Array(_+1);for(let L=0;L<=_;L++)D[L]=T+L/_*(R-T);return D.join(",")};return j(this,fe,Tf).call(this,S(0,5),S(1,5),S(2,5),v),c.url=j(this,fe,ku).call(this,b),c.url}addAlphaFilter(t){let n=l(this,fe,Ts).get(t);if(n)return n;const[a]=j(this,fe,S0).call(this,[t]),o=`alpha_${a}`;if(n=l(this,fe,Ts).get(o),n)return l(this,fe,Ts).set(t,n),n;const c=`g_${l(this,tr)}_alpha_map_${Qt(this,Xo)._++}`,h=j(this,fe,ku).call(this,c);l(this,fe,Ts).set(t,h),l(this,fe,Ts).set(o,h);const f=j(this,fe,Ru).call(this,c);return j(this,fe,Hv).call(this,a,f),h}addLuminosityFilter(t){let n=l(this,fe,Ts).get(t||"luminosity");if(n)return n;let a,o;if(t?([a]=j(this,fe,S0).call(this,[t]),o=`luminosity_${a}`):o="luminosity",n=l(this,fe,Ts).get(o),n)return l(this,fe,Ts).set(t,n),n;const c=`g_${l(this,tr)}_luminosity_map_${Qt(this,Xo)._++}`,h=j(this,fe,ku).call(this,c);l(this,fe,Ts).set(t,h),l(this,fe,Ts).set(o,h);const f=j(this,fe,Ru).call(this,c);return j(this,fe,xC).call(this,f),t&&j(this,fe,Hv).call(this,a,f),h}addHighlightHCMFilter(t,n,a,o,c){var R;const h=`${n}-${a}-${o}-${c}`;let f=l(this,fe,Cf).get(t);if((f==null?void 0:f.key)===h||(f?((R=f.filter)==null||R.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},l(this,fe,Cf).set(t,f)),!n||!a))return f.url;const[p,g]=[n,a].map(j(this,fe,_f).bind(this));let b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),[S,E]=[o,c].map(j(this,fe,_f).bind(this));v<b&&([b,v,S,E]=[v,b,E,S]),l(this,fe,Du).style.color="";const A=(D,L,O)=>{const B=new Array(256),k=(v-b)/O,F=D/255,G=(L-D)/(255*O);let Q=0;for(let K=0;K<=O;K++){const X=Math.round(b+K*k),he=F+K*G;for(let de=Q;de<=X;de++)B[de]=he;Q=X+1}for(let K=Q;K<256;K++)B[K]=B[Q-1];return B.join(",")},_=`g_${l(this,tr)}_hcm_${t}_filter`,T=f.filter=j(this,fe,Ru).call(this,_);return j(this,fe,Uv).call(this,T),j(this,fe,Tf).call(this,A(S[0],E[0],5),A(S[1],E[1],5),A(S[2],E[2],5),T),f.url=j(this,fe,ku).call(this,_),f.url}destroy(t=!1){var n,a,o,c;t&&((n=l(this,Yo))!=null&&n.size)||((a=l(this,er))==null||a.parentNode.parentNode.remove(),w(this,er,null),(o=l(this,dd))==null||o.clear(),w(this,dd,null),(c=l(this,Yo))==null||c.clear(),w(this,Yo,null),w(this,Xo,0))}}qo=new WeakMap,dd=new WeakMap,er=new WeakMap,tr=new WeakMap,Ds=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,fe=new WeakSet,Ts=function(){return l(this,dd)||w(this,dd,new Map)},Cf=function(){return l(this,Yo)||w(this,Yo,new Map)},Du=function(){if(!l(this,er)){const t=l(this,Ds).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const a=l(this,Ds).createElementNS(Ba,"svg");a.setAttribute("width",0),a.setAttribute("height",0),w(this,er,l(this,Ds).createElementNS(Ba,"defs")),t.append(a),a.append(l(this,er)),l(this,Ds).body.append(t)}return l(this,er)},S0=function(t){if(t.length===1){const p=t[0],g=new Array(256);for(let v=0;v<256;v++)g[v]=p[v]/255;const b=g.join(",");return[b,b,b]}const[n,a,o]=t,c=new Array(256),h=new Array(256),f=new Array(256);for(let p=0;p<256;p++)c[p]=n[p]/255,h[p]=a[p]/255,f[p]=o[p]/255;return[c.join(","),h.join(","),f.join(",")]},ku=function(t){if(l(this,qo)===void 0){w(this,qo,"");const n=l(this,Ds).URL;n!==l(this,Ds).baseURI&&(Dx(n)?Te('#createUrl: ignore "data:"-URL for performance reasons.'):w(this,qo,jE(n,"")))}return`url(${l(this,qo)}#${t})`},xC=function(t){const n=l(this,Ds).createElementNS(Ba,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},Uv=function(t){const n=l(this,Ds).createElementNS(Ba,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Ru=function(t){const n=l(this,Ds).createElementNS(Ba,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),l(this,fe,Du).append(n),n},jf=function(t,n,a){const o=l(this,Ds).createElementNS(Ba,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",a),t.append(o)},Tf=function(t,n,a,o){const c=l(this,Ds).createElementNS(Ba,"feComponentTransfer");o.append(c),j(this,fe,jf).call(this,c,"feFuncR",t),j(this,fe,jf).call(this,c,"feFuncG",n),j(this,fe,jf).call(this,c,"feFuncB",a)},Hv=function(t,n){const a=l(this,Ds).createElementNS(Ba,"feComponentTransfer");n.append(a),j(this,fe,jf).call(this,a,"feFuncA",t)},_f=function(t){return l(this,fe,Du).style.color=t,Rp(getComputedStyle(l(this,fe,Du)).getPropertyValue("color"))};class bC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){mt("Abstract method `_fetch` called.")}}class U2 extends bC{async _fetch(e){const t=await Dp(e,"arraybuffer");return new Uint8Array(t)}}class yC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){mt("Abstract method `_fetch` called.")}}class H2 extends yC{async _fetch(e){const t=await Dp(e,"arraybuffer");return new Uint8Array(t)}}Us&&Te("Please use the `legacy` build in Node.js environments.");async function sS(m){const t=await process.getBuiltinModule("fs").promises.readFile(m);return new Uint8Array(t)}class wk extends gC{}class Sk extends mC{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Ak extends pC{async _fetch(e){return sS(e)}}class Nk extends bC{async _fetch(e){return sS(e)}}class Ek extends yC{async _fetch(e){return sS(e)}}const Tu="__forcedDependency",{floor:V2,ceil:G2}=Math;function a0(m,e,t,n,a,o){m[e*4+0]=Math.min(m[e*4+0],t),m[e*4+1]=Math.min(m[e*4+1],n),m[e*4+2]=Math.max(m[e*4+2],a),m[e*4+3]=Math.max(m[e*4+3],o)}const Vv=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var hd,wl;class Ck{constructor(e,t){C(this,hd);C(this,wl);w(this,hd,e),w(this,wl,t)}get length(){return l(this,hd).length}isEmpty(e){return l(this,hd)[e]===Vv}minX(e){return l(this,wl)[e*4+0]/256}minY(e){return l(this,wl)[e*4+1]/256}maxX(e){return(l(this,wl)[e*4+2]+1)/256}maxY(e){return(l(this,wl)[e*4+3]+1)/256}}hd=new WeakMap,wl=new WeakMap;const r0=(m,e)=>{if(!m)return;let t=m.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},m.set(e,t)),t};var sn,nn,Wo,Ei,Ko,sr,tt,rt,nr,an,wm,fd,Qo,Zo,ir,ks,Ji,Sm,Gv;class jk{constructor(e,t,n=!1){C(this,Sm);C(this,sn,{__proto__:null});C(this,nn,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Tu]:[]});C(this,Wo,new Map);C(this,Ei,[]);C(this,Ko,[]);C(this,sr,[[1,0,0,1,0,0]]);C(this,tt,[-1/0,-1/0,1/0,1/0]);C(this,rt,new Float64Array([1/0,1/0,-1/0,-1/0]));C(this,nr,-1);C(this,an,new Set);C(this,wm,new Map);C(this,fd,new Map);C(this,Qo);C(this,Zo);C(this,ir);C(this,ks);C(this,Ji);w(this,Qo,e.width),w(this,Zo,e.height),j(this,Sm,Gv).call(this,t),n&&w(this,Ji,new Map)}growOperationsCount(e){e>=l(this,ks).length&&j(this,Sm,Gv).call(this,e,l(this,ks))}save(e){return w(this,sn,{__proto__:l(this,sn)}),w(this,nn,{__proto__:l(this,nn),transform:{__proto__:l(this,nn).transform},moveText:{__proto__:l(this,nn).moveText},sameLineText:{__proto__:l(this,nn).sameLineText},[Tu]:{__proto__:l(this,nn)[Tu]}}),w(this,tt,{__proto__:l(this,tt)}),l(this,Ei).push(e),this}restore(e){var a;const t=Object.getPrototypeOf(l(this,sn));if(t===null)return this;w(this,sn,t),w(this,nn,Object.getPrototypeOf(l(this,nn))),w(this,tt,Object.getPrototypeOf(l(this,tt)));const n=l(this,Ei).pop();return n!==void 0&&((a=r0(l(this,Ji),e))==null||a.dependencies.add(n),l(this,ks)[e]=l(this,ks)[n]),this}recordOpenMarker(e){return l(this,Ei).push(e),this}getOpenMarker(){return l(this,Ei).length===0?null:l(this,Ei).at(-1)}recordCloseMarker(e){var n;const t=l(this,Ei).pop();return t!==void 0&&((n=r0(l(this,Ji),e))==null||n.dependencies.add(t),l(this,ks)[e]=l(this,ks)[t]),this}beginMarkedContent(e){return l(this,Ko).push(e),this}endMarkedContent(e){var n;const t=l(this,Ko).pop();return t!==void 0&&((n=r0(l(this,Ji),e))==null||n.dependencies.add(t),l(this,ks)[e]=l(this,ks)[t]),this}pushBaseTransform(e){return l(this,sr).push(pe.multiplyByDOMMatrix(l(this,sr).at(-1),e.getTransform())),this}popBaseTransform(){return l(this,sr).length>1&&l(this,sr).pop(),this}recordSimpleData(e,t){return l(this,sn)[e]=t,this}recordIncrementalData(e,t){return l(this,nn)[e].push(t),this}resetIncrementalData(e,t){return l(this,nn)[e].length=0,this}recordNamedData(e,t){return l(this,Wo).set(e,t),this}recordSimpleDataFromNamed(e,t,n){l(this,sn)[e]=l(this,Wo).get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Tu,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in l(this,sn)&&this.recordFutureForcedDependency(t,l(this,sn)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of l(this,an))this.recordFutureForcedDependency(Tu,e);return this}resetBBox(e){return l(this,nr)!==e&&(w(this,nr,e),l(this,rt)[0]=1/0,l(this,rt)[1]=1/0,l(this,rt)[2]=-1/0,l(this,rt)[3]=-1/0),this}recordClipBox(e,t,n,a,o,c){const h=pe.multiplyByDOMMatrix(l(this,sr).at(-1),t.getTransform()),f=[1/0,1/0,-1/0,-1/0];pe.axialAlignedBoundingBox([n,o,a,c],h,f);const p=pe.intersect(l(this,tt),f);return p?(l(this,tt)[0]=p[0],l(this,tt)[1]=p[1],l(this,tt)[2]=p[2],l(this,tt)[3]=p[3]):(l(this,tt)[0]=l(this,tt)[1]=1/0,l(this,tt)[2]=l(this,tt)[3]=-1/0),this}recordBBox(e,t,n,a,o,c){const h=l(this,tt);if(h[0]===1/0)return this;const f=pe.multiplyByDOMMatrix(l(this,sr).at(-1),t.getTransform());if(h[0]===-1/0)return pe.axialAlignedBoundingBox([n,o,a,c],f,l(this,rt)),this;const p=[1/0,1/0,-1/0,-1/0];return pe.axialAlignedBoundingBox([n,o,a,c],f,p),l(this,rt)[0]=Math.min(l(this,rt)[0],Math.max(p[0],h[0])),l(this,rt)[1]=Math.min(l(this,rt)[1],Math.max(p[1],h[1])),l(this,rt)[2]=Math.max(l(this,rt)[2],Math.min(p[2],h[2])),l(this,rt)[3]=Math.max(l(this,rt)[3],Math.min(p[3],h[3])),this}recordCharacterBBox(e,t,n,a=1,o=0,c=0,h){const f=n.bbox;let p,g;if(f&&(p=f[2]!==f[0]&&f[3]!==f[1]&&l(this,fd).get(n),p!==!1&&(g=[0,0,0,0],pe.axialAlignedBoundingBox(f,n.fontMatrix,g),(a!==1||o!==0||c!==0)&&pe.scaleMinMax([a,0,0,-a,o,c],g),p)))return this.recordBBox(e,t,g[0],g[2],g[1],g[3]);if(!h)return this.recordFullPageBBox(e);const b=h();return f&&g&&p===void 0&&(p=g[0]<=o-b.actualBoundingBoxLeft&&g[2]>=o+b.actualBoundingBoxRight&&g[1]<=c-b.actualBoundingBoxAscent&&g[3]>=c+b.actualBoundingBoxDescent,l(this,fd).set(n,p),p)?this.recordBBox(e,t,g[0],g[2],g[1],g[3]):this.recordBBox(e,t,o-b.actualBoundingBoxLeft,o+b.actualBoundingBoxRight,c-b.actualBoundingBoxAscent,c+b.actualBoundingBoxDescent)}recordFullPageBBox(e){return l(this,rt)[0]=Math.max(0,l(this,tt)[0]),l(this,rt)[1]=Math.max(0,l(this,tt)[1]),l(this,rt)[2]=Math.min(l(this,Qo),l(this,tt)[2]),l(this,rt)[3]=Math.min(l(this,Zo),l(this,tt)[3]),this}getSimpleIndex(e){return l(this,sn)[e]}recordDependencies(e,t){const n=l(this,an),a=l(this,sn),o=l(this,nn);for(const c of t)c in l(this,sn)?n.add(a[c]):c in o&&o[c].forEach(n.add,n);return this}recordNamedDependency(e,t){return l(this,Wo).has(t)&&l(this,an).add(l(this,Wo).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Tu]),l(this,Ji)){const n=r0(l(this,Ji),e),{dependencies:a}=n;l(this,an).forEach(a.add,a),l(this,Ei).forEach(a.add,a),l(this,Ko).forEach(a.add,a),a.delete(e),n.isRenderingOperation=!0}if(l(this,nr)===e){const n=V2(l(this,rt)[0]*256/l(this,Qo)),a=V2(l(this,rt)[1]*256/l(this,Zo)),o=G2(l(this,rt)[2]*256/l(this,Qo)),c=G2(l(this,rt)[3]*256/l(this,Zo));a0(l(this,ir),e,n,a,o,c);for(const h of l(this,an))h!==e&&a0(l(this,ir),h,n,a,o,c);for(const h of l(this,Ei))h!==e&&a0(l(this,ir),h,n,a,o,c);for(const h of l(this,Ko))h!==e&&a0(l(this,ir),h,n,a,o,c);t||(l(this,an).clear(),w(this,nr,-1))}return this}recordShowTextOperation(e,t=!1){const n=Array.from(l(this,an));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const a of n)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(e,t=!1){return l(this,nr)===e&&(w(this,nr,-1),l(this,tt)[0]=Math.max(l(this,tt)[0],l(this,rt)[0]),l(this,tt)[1]=Math.max(l(this,tt)[1],l(this,rt)[1]),l(this,tt)[2]=Math.min(l(this,tt)[2],l(this,rt)[2]),l(this,tt)[3]=Math.min(l(this,tt)[3],l(this,rt)[3]),t||l(this,an).clear()),this}_takePendingDependencies(){const e=l(this,an);return w(this,an,new Set),e}_extractOperation(e){const t=l(this,wm).get(e);return l(this,wm).delete(e),t}_pushPendingDependencies(e){for(const t of e)l(this,an).add(t)}take(){return l(this,fd).clear(),new Ck(l(this,ks),l(this,ir))}takeDebugMetadata(){return l(this,Ji)}}sn=new WeakMap,nn=new WeakMap,Wo=new WeakMap,Ei=new WeakMap,Ko=new WeakMap,sr=new WeakMap,tt=new WeakMap,rt=new WeakMap,nr=new WeakMap,an=new WeakMap,wm=new WeakMap,fd=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,ir=new WeakMap,ks=new WeakMap,Ji=new WeakMap,Sm=new WeakSet,Gv=function(e,t){const n=new ArrayBuffer(e*4);w(this,ir,new Uint8ClampedArray(n)),w(this,ks,new Uint32Array(n)),t&&t.length>0?(l(this,ks).set(t),l(this,ks).fill(Vv,t.length)):l(this,ks).fill(Vv)};var ht,Rt,Ci,md,pd;const uS=class uS{constructor(e,t,n){C(this,ht);C(this,Rt);C(this,Ci);C(this,md,0);C(this,pd,0);if(e instanceof uS&&l(e,Ci)===!!n)return e;w(this,ht,e),w(this,Rt,t),w(this,Ci,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Qt(this,pd)._++,l(this,ht).save(l(this,Rt)),this}restore(e){return l(this,pd)>0&&(l(this,ht).restore(l(this,Rt)),Qt(this,pd)._--),this}recordOpenMarker(e){return Qt(this,md)._++,this}getOpenMarker(){return l(this,md)>0?l(this,Rt):l(this,ht).getOpenMarker()}recordCloseMarker(e){return Qt(this,md)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return l(this,ht).pushBaseTransform(e),this}popBaseTransform(){return l(this,ht).popBaseTransform(),this}recordSimpleData(e,t){return l(this,ht).recordSimpleData(e,l(this,Rt)),this}recordIncrementalData(e,t){return l(this,ht).recordIncrementalData(e,l(this,Rt)),this}resetIncrementalData(e,t){return l(this,ht).resetIncrementalData(e,l(this,Rt)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return l(this,ht).recordSimpleDataFromNamed(e,t,l(this,Rt)),this}recordFutureForcedDependency(e,t){return l(this,ht).recordFutureForcedDependency(e,l(this,Rt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return l(this,ht).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return l(this,ht).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return l(this,Ci)||l(this,ht).resetBBox(l(this,Rt)),this}recordClipBox(e,t,n,a,o,c){return l(this,Ci)||l(this,ht).recordClipBox(l(this,Rt),t,n,a,o,c),this}recordBBox(e,t,n,a,o,c){return l(this,Ci)||l(this,ht).recordBBox(l(this,Rt),t,n,a,o,c),this}recordCharacterBBox(e,t,n,a,o,c,h){return l(this,Ci)||l(this,ht).recordCharacterBBox(l(this,Rt),t,n,a,o,c,h),this}recordFullPageBBox(e){return l(this,Ci)||l(this,ht).recordFullPageBBox(l(this,Rt)),this}getSimpleIndex(e){return l(this,ht).getSimpleIndex(e)}recordDependencies(e,t){return l(this,ht).recordDependencies(l(this,Rt),t),this}recordNamedDependency(e,t){return l(this,ht).recordNamedDependency(l(this,Rt),t),this}recordOperation(e){return l(this,ht).recordOperation(l(this,Rt),!0),this}recordShowTextOperation(e){return l(this,ht).recordShowTextOperation(l(this,Rt),!0),this}bboxToClipBoxDropOperation(e){return l(this,Ci)||l(this,ht).bboxToClipBoxDropOperation(l(this,Rt),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};ht=new WeakMap,Rt=new WeakMap,Ci=new WeakMap,md=new WeakMap,pd=new WeakMap;let Z0=uS;const ei={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},As={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function $v(m,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],t,n),m.clip(a)}class nS{isModifyingCurrentTransform(){return!1}getPattern(){mt("Abstract method `getPattern` called.")}}class Tk extends nS{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,a){let o;if(a===As.STROKE||a===As.FILL){const c=t.current.getClippedPathBoundingBox(a,jt(e))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,p=t.cachedCanvases.getCanvas("pattern",h,f),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-c[0],-c[1]),n=pe.transform(n,[1,0,0,1,c[0],c[1]]),g.transform(...t.baseTransform),this.matrix&&g.transform(...this.matrix),$v(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),o=e.createPattern(p.canvas,"no-repeat");const b=new DOMMatrix(n);o.setTransform(b)}else $v(e,this._bbox),o=this._createGradient(e);return o}}function uv(m,e,t,n,a,o,c,h){const f=e.coords,p=e.colors,g=m.data,b=m.width*4;let v;f[t+1]>f[n+1]&&(v=t,t=n,n=v,v=o,o=c,c=v),f[n+1]>f[a+1]&&(v=n,n=a,a=v,v=c,c=h,h=v),f[t+1]>f[n+1]&&(v=t,t=n,n=v,v=o,o=c,c=v);const S=(f[t]+e.offsetX)*e.scaleX,E=(f[t+1]+e.offsetY)*e.scaleY,A=(f[n]+e.offsetX)*e.scaleX,_=(f[n+1]+e.offsetY)*e.scaleY,T=(f[a]+e.offsetX)*e.scaleX,R=(f[a+1]+e.offsetY)*e.scaleY;if(E>=R)return;const D=p[o],L=p[o+1],O=p[o+2],B=p[c],k=p[c+1],F=p[c+2],G=p[h],Q=p[h+1],K=p[h+2],X=Math.round(E),he=Math.round(R);let de,Se,H,J,le,ee,ce,P;for(let $=X;$<=he;$++){if($<_){const ue=$<E?0:(E-$)/(E-_);de=S-(S-A)*ue,Se=D-(D-B)*ue,H=L-(L-k)*ue,J=O-(O-F)*ue}else{let ue;$>R?ue=1:_===R?ue=0:ue=(_-$)/(_-R),de=A-(A-T)*ue,Se=B-(B-G)*ue,H=k-(k-Q)*ue,J=F-(F-K)*ue}let ie;$<E?ie=0:$>R?ie=1:ie=(E-$)/(E-R),le=S-(S-T)*ie,ee=D-(D-G)*ie,ce=L-(L-Q)*ie,P=O-(O-K)*ie;const re=Math.round(Math.min(de,le)),ve=Math.round(Math.max(de,le));let Ce=b*$+re*4;for(let ue=re;ue<=ve;ue++)ie=(de-ue)/(de-le),ie<0?ie=0:ie>1&&(ie=1),g[Ce++]=Se-(Se-ee)*ie|0,g[Ce++]=H-(H-ce)*ie|0,g[Ce++]=J-(J-P)*ie|0,g[Ce++]=255}}function _k(m,e,t){const n=e.coords,a=e.colors;let o,c;switch(e.type){case"lattice":const h=e.verticesPerRow,f=Math.floor(n.length/h)-1,p=h-1;for(o=0;o<f;o++){let g=o*h;for(let b=0;b<p;b++,g++)uv(m,t,n[g],n[g+1],n[g+h],a[g],a[g+1],a[g+h]),uv(m,t,n[g+h+1],n[g+1],n[g+h],a[g+h+1],a[g+1],a[g+h])}break;case"triangles":for(o=0,c=n.length;o<c;o+=3)uv(m,t,n[o],n[o+1],n[o+2],a[o],a[o+1],a[o+2]);break;default:throw new Error("illegal figure")}}class Mk extends nS{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(g*e[1]*1.1)),3e3),S=p/b,E=g/v,A={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/S,scaleY:1/E},_=b+4,T=v+4,R=n.getCanvas("mesh",_,T),D=R.context,L=D.createImageData(b,v);if(t){const B=L.data;for(let k=0,F=B.length;k<F;k+=4)B[k]=t[0],B[k+1]=t[1],B[k+2]=t[2],B[k+3]=255}for(const B of this._figures)_k(L,B,A);return D.putImageData(L,2,2),{canvas:R.canvas,offsetX:h-2*S,offsetY:f-2*E,scaleX:S,scaleY:E}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,a){$v(e,this._bbox);const o=new Float32Array(2);if(a===As.SHADING)pe.singularValueDecompose2dScale(jt(e),o);else if(this.matrix){pe.singularValueDecompose2dScale(this.matrix,o);const[h,f]=o;pe.singularValueDecompose2dScale(t.baseTransform,o),o[0]*=h,o[1]*=f}else pe.singularValueDecompose2dScale(t.baseTransform,o);const c=this._createMeshCanvas(o,a===As.SHADING?null:this._background,t.cachedCanvases);return a!==As.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class Dk extends nS{getPattern(){return"hotpink"}}function kk(m){switch(m[0]){case"RadialAxial":return new Tk(m);case"Mesh":return new Mk(m);case"Dummy":return new Dk}throw new Error(`Unknown IR type: ${m[0]}`)}const $2={COLORED:1,UNCOLORED:2},px=class px{constructor(e,t,n,a){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=a}createPatternCanvas(e,t){var ee,ce;const{bbox:n,operatorList:a,paintType:o,tilingType:c,color:h,canvasGraphicsFactory:f}=this;let{xstep:p,ystep:g}=this;p=Math.abs(p),g=Math.abs(g),Mx("TilingType: "+c);const b=n[0],v=n[1],S=n[2],E=n[3],A=S-b,_=E-v,T=new Float32Array(2);pe.singularValueDecompose2dScale(this.matrix,T);const[R,D]=T;pe.singularValueDecompose2dScale(this.baseTransform,T);const L=R*T[0],O=D*T[1];let B=A,k=_,F=!1,G=!1;const Q=Math.ceil(p*L),K=Math.ceil(g*O),X=Math.ceil(A*L),he=Math.ceil(_*O);Q>=X?B=p:F=!0,K>=he?k=g:G=!0;const de=this.getSizeAndScale(B,this.ctx.canvas.width,L),Se=this.getSizeAndScale(k,this.ctx.canvas.height,O),H=e.cachedCanvases.getCanvas("pattern",de.size,Se.size),J=H.context,le=f.createCanvasGraphics(J,t);if(le.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(le,o,h),J.translate(-de.scale*b,-Se.scale*v),le.transform(0,de.scale,0,0,Se.scale,0,0),J.save(),(ee=le.dependencyTracker)==null||ee.save(),this.clipBbox(le,b,v,S,E),le.baseTransform=jt(le.ctx),le.executeOperatorList(a),le.endDrawing(),(ce=le.dependencyTracker)==null||ce.restore(),J.restore(),F||G){const P=H.canvas;F&&(B=p),G&&(k=g);const $=this.getSizeAndScale(B,this.ctx.canvas.width,L),ie=this.getSizeAndScale(k,this.ctx.canvas.height,O),re=$.size,ve=ie.size,Ce=e.cachedCanvases.getCanvas("pattern-workaround",re,ve),ue=Ce.context,Bt=F?Math.floor(A/p):0,xt=G?Math.floor(_/g):0;for(let gi=0;gi<=Bt;gi++)for(let Hn=0;Hn<=xt;Hn++)ue.drawImage(P,re*gi,ve*Hn,re,ve,0,0,re,ve);return{canvas:Ce.canvas,scaleX:$.scale,scaleY:ie.scale,offsetX:b,offsetY:v}}return{canvas:H.canvas,scaleX:de.scale,scaleY:Se.scale,offsetX:b,offsetY:v}}getSizeAndScale(e,t,n){const a=Math.max(px.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*n);return o>=a?o=a:n=o/e,{scale:n,size:o}}clipBbox(e,t,n,a,o){const c=a-t,h=o-n;e.ctx.rect(t,n,c,h),pe.axialAlignedBoundingBox([t,n,a,o],jt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const a=e.ctx,o=e.current;switch(t){case $2.COLORED:const{fillStyle:c,strokeStyle:h}=this.ctx;a.fillStyle=o.fillColor=c,a.strokeStyle=o.strokeColor=h;break;case $2.UNCOLORED:a.fillStyle=a.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new $D(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,a,o){let c=n;a!==As.SHADING&&(c=pe.transform(c,t.baseTransform),this.matrix&&(c=pe.transform(c,this.matrix)));const h=this.createPatternCanvas(t,o);let f=new DOMMatrix(c);f=f.translate(h.offsetX,h.offsetY),f=f.scale(1/h.scaleX,1/h.scaleY);const p=e.createPattern(h.canvas,"repeat");return p.setTransform(f),p}};ae(px,"MAX_PATTERN_SIZE",3e3);let qv=px;function Rk({src:m,srcPos:e=0,dest:t,width:n,height:a,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const h=Cs.isLittleEndian?4278190080:255,[f,p]=c?[o,h]:[h,o],g=n>>3,b=n&7,v=m.length;t=new Uint32Array(t.buffer);let S=0;for(let E=0;E<a;E++){for(const _=e+g;e<_;e++){const T=e<v?m[e]:255;t[S++]=T&128?p:f,t[S++]=T&64?p:f,t[S++]=T&32?p:f,t[S++]=T&16?p:f,t[S++]=T&8?p:f,t[S++]=T&4?p:f,t[S++]=T&2?p:f,t[S++]=T&1?p:f}if(b===0)continue;const A=e<v?m[e++]:255;for(let _=0;_<b;_++)t[S++]=A&1<<7-_?p:f}return{srcPos:e,destPos:S}}const q2=16,Y2=100,Lk=15,X2=10,cn=16,dv=new DOMMatrix,Fn=new Float32Array(2),Bu=new Float32Array([1/0,1/0,-1/0,-1/0]);function Ok(m,e){if(m._removeMirroring)throw new Error("Context is already forwarding operations.");m.__originalSave=m.save,m.__originalRestore=m.restore,m.__originalRotate=m.rotate,m.__originalScale=m.scale,m.__originalTranslate=m.translate,m.__originalTransform=m.transform,m.__originalSetTransform=m.setTransform,m.__originalResetTransform=m.resetTransform,m.__originalClip=m.clip,m.__originalMoveTo=m.moveTo,m.__originalLineTo=m.lineTo,m.__originalBezierCurveTo=m.bezierCurveTo,m.__originalRect=m.rect,m.__originalClosePath=m.closePath,m.__originalBeginPath=m.beginPath,m._removeMirroring=()=>{m.save=m.__originalSave,m.restore=m.__originalRestore,m.rotate=m.__originalRotate,m.scale=m.__originalScale,m.translate=m.__originalTranslate,m.transform=m.__originalTransform,m.setTransform=m.__originalSetTransform,m.resetTransform=m.__originalResetTransform,m.clip=m.__originalClip,m.moveTo=m.__originalMoveTo,m.lineTo=m.__originalLineTo,m.bezierCurveTo=m.__originalBezierCurveTo,m.rect=m.__originalRect,m.closePath=m.__originalClosePath,m.beginPath=m.__originalBeginPath,delete m._removeMirroring},m.save=function(){e.save(),this.__originalSave()},m.restore=function(){e.restore(),this.__originalRestore()},m.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},m.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},m.transform=function(t,n,a,o,c,h){e.transform(t,n,a,o,c,h),this.__originalTransform(t,n,a,o,c,h)},m.setTransform=function(t,n,a,o,c,h){e.setTransform(t,n,a,o,c,h),this.__originalSetTransform(t,n,a,o,c,h)},m.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},m.rotate=function(t){e.rotate(t),this.__originalRotate(t)},m.clip=function(t){e.clip(t),this.__originalClip(t)},m.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},m.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},m.bezierCurveTo=function(t,n,a,o,c,h){e.bezierCurveTo(t,n,a,o,c,h),this.__originalBezierCurveTo(t,n,a,o,c,h)},m.rect=function(t,n,a,o){e.rect(t,n,a,o),this.__originalRect(t,n,a,o)},m.closePath=function(){e.closePath(),this.__originalClosePath()},m.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Pk{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let a;return this.cache[e]!==void 0?(a=this.cache[e],this.canvasFactory.reset(a,t,n)):(a=this.canvasFactory.create(t,n),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function l0(m,e,t,n,a,o,c,h,f,p){const[g,b,v,S,E,A]=jt(m);if(b===0&&v===0){const R=c*g+E,D=Math.round(R),L=h*S+A,O=Math.round(L),B=(c+f)*g+E,k=Math.abs(Math.round(B)-D)||1,F=(h+p)*S+A,G=Math.abs(Math.round(F)-O)||1;return m.setTransform(Math.sign(g),0,0,Math.sign(S),D,O),m.drawImage(e,t,n,a,o,0,0,k,G),m.setTransform(g,b,v,S,E,A),[k,G]}if(g===0&&S===0){const R=h*v+E,D=Math.round(R),L=c*b+A,O=Math.round(L),B=(h+p)*v+E,k=Math.abs(Math.round(B)-D)||1,F=(c+f)*b+A,G=Math.abs(Math.round(F)-O)||1;return m.setTransform(0,Math.sign(b),Math.sign(v),0,D,O),m.drawImage(e,t,n,a,o,0,0,G,k),m.setTransform(g,b,v,S,E,A),[G,k]}m.drawImage(e,t,n,a,o,c,h,f,p);const _=Math.hypot(g,b),T=Math.hypot(v,S);return[_*f,T*p]}class W2{constructor(e,t,n){ae(this,"alphaIsShape",!1);ae(this,"fontSize",0);ae(this,"fontSizeScale",1);ae(this,"textMatrix",null);ae(this,"textMatrixScale",1);ae(this,"fontMatrix",gv);ae(this,"leading",0);ae(this,"x",0);ae(this,"y",0);ae(this,"lineX",0);ae(this,"lineY",0);ae(this,"charSpacing",0);ae(this,"wordSpacing",0);ae(this,"textHScale",1);ae(this,"textRenderingMode",xs.FILL);ae(this,"textRise",0);ae(this,"fillColor","#000000");ae(this,"strokeColor","#000000");ae(this,"patternFill",!1);ae(this,"patternStroke",!1);ae(this,"fillAlpha",1);ae(this,"strokeAlpha",1);ae(this,"lineWidth",1);ae(this,"activeSMask",null);ae(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Bu.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=As.FILL,t=null){const n=this.minMax.slice();if(e===As.STROKE){t||mt("Stroke bounding box must include transform."),pe.singularValueDecompose2dScale(t,Fn);const a=Fn[0]*this.lineWidth/2,o=Fn[1]*this.lineWidth/2;n[0]-=a,n[1]-=o,n[2]+=a,n[3]+=o}return n}updateClipFromPath(){const e=pe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Bu,0)}getClippedPathBoundingBox(e=As.FILL,t=null){return pe.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function K2(m,e){if(e instanceof ImageData){m.putImageData(e,0,0);return}const t=e.height,n=e.width,a=t%cn,o=(t-a)/cn,c=a===0?o:o+1,h=m.createImageData(n,cn);let f=0,p;const g=e.data,b=h.data;let v,S,E,A;if(e.kind===m0.GRAYSCALE_1BPP){const _=g.byteLength,T=new Uint32Array(b.buffer,0,b.byteLength>>2),R=T.length,D=n+7>>3,L=4294967295,O=Cs.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(E=v<o?cn:a,p=0,S=0;S<E;S++){const B=_-f;let k=0;const F=B>D?n:B*8-7,G=F&-8;let Q=0,K=0;for(;k<G;k+=8)K=g[f++],T[p++]=K&128?L:O,T[p++]=K&64?L:O,T[p++]=K&32?L:O,T[p++]=K&16?L:O,T[p++]=K&8?L:O,T[p++]=K&4?L:O,T[p++]=K&2?L:O,T[p++]=K&1?L:O;for(;k<F;k++)Q===0&&(K=g[f++],Q=128),T[p++]=K&Q?L:O,Q>>=1}for(;p<R;)T[p++]=0;m.putImageData(h,0,v*cn)}}else if(e.kind===m0.RGBA_32BPP){for(S=0,A=n*cn*4,v=0;v<o;v++)b.set(g.subarray(f,f+A)),f+=A,m.putImageData(h,0,S),S+=cn;v<c&&(A=n*a*4,b.set(g.subarray(f,f+A)),m.putImageData(h,0,S))}else if(e.kind===m0.RGB_24BPP)for(E=cn,A=n*E,v=0;v<c;v++){for(v>=o&&(E=a,A=n*E),p=0,S=A;S--;)b[p++]=g[f++],b[p++]=g[f++],b[p++]=g[f++],b[p++]=255;m.putImageData(h,0,v*cn)}else throw new Error(`bad image kind: ${e.kind}`)}function Q2(m,e){if(e.bitmap){m.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,a=t%cn,o=(t-a)/cn,c=a===0?o:o+1,h=m.createImageData(n,cn);let f=0;const p=e.data,g=h.data;for(let b=0;b<c;b++){const v=b<o?cn:a;({srcPos:f}=Rk({src:p,srcPos:f,dest:g,width:n,height:v,nonBlackColor:0})),m.putImageData(h,0,b*cn)}}function ff(m,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)m[n]!==void 0&&(e[n]=m[n]);m.setLineDash!==void 0&&(e.setLineDash(m.getLineDash()),e.lineDashOffset=m.lineDashOffset)}function o0(m){m.strokeStyle=m.fillStyle="#000000",m.fillRule="nonzero",m.globalAlpha=1,m.lineWidth=1,m.lineCap="butt",m.lineJoin="miter",m.miterLimit=10,m.globalCompositeOperation="source-over",m.font="10px sans-serif",m.setLineDash!==void 0&&(m.setLineDash([]),m.lineDashOffset=0);const{filter:e}=m;e!=="none"&&e!==""&&(m.filter="none")}function Z2(m,e){if(e)return!0;pe.singularValueDecompose2dScale(m,Fn);const t=Math.fround(ma.pixelRatio*Zl.PDF_TO_CSS_UNITS);return Fn[0]<=t&&Fn[1]<=t}const Bk=["butt","round","square"],Ik=["miter","round","bevel"],Fk={},J2={};var Oi,Yv,Xv,Wv;const dS=class dS{constructor(e,t,n,a,o,{optionalContentConfig:c,markedContentStack:h=null},f,p,g){C(this,Oi);this.ctx=e,this.current=new W2(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=a,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new Pk(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=g??null}getObject(e,t,n=null){var a;return typeof t=="string"?((a=this.dependencyTracker)==null||a.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:a=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=h,n){const f=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...jt(this.compositeCtx))}this.ctx.save(),o0(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=jt(this.ctx)}executeOperatorList(e,t,n,a,o){var T;const c=e.argsArray,h=e.fnArray;let f=t||0;const p=c.length;if(p===f)return f;const g=p-f>X2&&typeof n=="function",b=g?Date.now()+Lk:0;let v=0;const S=this.commonObjs,E=this.objs;let A,_;for(;;){if(a!==void 0&&f===a.nextBreakPoint)return a.breakIt(f,n),f;if(!o||o(f))if(A=h[f],_=c[f]??null,A!==Hf.dependency)_===null?this[A](f):this[A](f,..._);else for(const R of _){(T=this.dependencyTracker)==null||T.recordNamedData(R,f);const D=R.startsWith("g_")?S:E;if(!D.has(R))return D.get(R,n),f}if(f++,f===p)return f;if(g&&++v>X2){if(Date.now()>b)return n(),f;v=0}}}endDrawing(){j(this,Oi,Yv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),j(this,Oi,Xv).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,a=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),h=n,f=a,p="prescale1",g,b;for(;o>2&&h>1||c>2&&f>1;){let v=h,S=f;o>2&&h>1&&(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),o/=h/v),c>2&&f>1&&(S=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/S),g=this.cachedCanvases.getCanvas(p,v,S),b=g.context,b.clearRect(0,0,v,S),b.drawImage(e,0,0,h,f,0,0,v,S),e=g.canvas,h=v,f=S,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:h,paintHeight:f}}_createMaskCanvas(e,t){var Q,K;const n=this.ctx,{width:a,height:o}=t,c=this.current.fillColor,h=this.current.patternFill,f=jt(n);let p,g,b,v;if((t.bitmap||t.data)&&t.count>1){const X=t.bitmap||t.data.buffer;g=JSON.stringify(h?f:[f.slice(0,4),c]),p=this._cachedBitmapsMap.get(X),p||(p=new Map,this._cachedBitmapsMap.set(X,p));const he=p.get(g);if(he&&!h){const de=Math.round(Math.min(f[0],f[2])+f[4]),Se=Math.round(Math.min(f[1],f[3])+f[5]);return(Q=this.dependencyTracker)==null||Q.recordDependencies(e,ei.transformAndFill),{canvas:he,offsetX:de,offsetY:Se}}b=he}b||(v=this.cachedCanvases.getCanvas("maskCanvas",a,o),Q2(v.context,t));let S=pe.transform(f,[1/a,0,0,-1/o,0,0]);S=pe.transform(S,[1,0,0,1,0,-o]);const E=Bu.slice();pe.axialAlignedBoundingBox([0,0,a,o],S,E);const[A,_,T,R]=E,D=Math.round(T-A)||1,L=Math.round(R-_)||1,O=this.cachedCanvases.getCanvas("fillCanvas",D,L),B=O.context,k=A,F=_;B.translate(-k,-F),B.transform(...S),b||(b=this._scaleImage(v.canvas,zi(B)),b=b.img,p&&h&&p.set(g,b)),B.imageSmoothingEnabled=Z2(jt(B),t.interpolate),l0(B,b,0,0,b.width,b.height,0,0,a,o),B.globalCompositeOperation="source-in";const G=pe.transform(zi(B),[1,0,0,1,-k,-F]);return B.fillStyle=h?c.getPattern(n,this,G,As.FILL,e):c,B.fillRect(0,0,a,o),p&&!h&&(this.cachedCanvases.delete("fillCanvas"),p.set(g,O.canvas)),(K=this.dependencyTracker)==null||K.recordDependencies(e,ei.transformAndFill),{canvas:O.canvas,offsetX:Math.round(k),offsetY:Math.round(F)}}setLineWidth(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=Bk[t]}setLineJoin(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Ik[t]}setMiterLimit(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var o;(o=this.dependencyTracker)==null||o.recordSimpleData("dash",e);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(t),a.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,a,o,c,h;for(const[f,p]of t)switch(f){case"LW":this.setLineWidth(e,p);break;case"LC":this.setLineCap(e,p);break;case"LJ":this.setLineJoin(e,p);break;case"ML":this.setMiterLimit(e,p);break;case"D":this.setDash(e,p[0],p[1]);break;case"RI":this.setRenderingIntent(e,p);break;case"FL":this.setFlatness(e,p);break;case"Font":this.setFont(e,p[0],p[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=p;break;case"ca":(a=this.dependencyTracker)==null||a.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=p;break;case"BM":(o=this.dependencyTracker)==null||o.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=p;break;case"SMask":(c=this.dependencyTracker)==null||c.recordSimpleData("SMask",e),this.current.activeSMask=p?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(h=this.dependencyTracker)==null||h.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(p);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(a,t,n);this.suspendedCtx=this.ctx;const c=this.ctx=o.context;c.setTransform(this.suspendedCtx.getTransform()),ff(this.suspendedCtx,c),Ok(c,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ff(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,a){const o=a[0],c=a[1],h=a[2]-o,f=a[3]-c;h===0||f===0||(this.genericComposeSMask(t.context,n,h,f,t.subtype,t.backdrop,t.transferMap,o,c,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,a,o,c,h,f,p,g,b){let v=e.canvas,S=f-g,E=p-b;if(c)if(S<0||E<0||S+n>v.width||E+a>v.height){const _=this.cachedCanvases.getCanvas("maskExtension",n,a),T=_.context;T.drawImage(v,-S,-E),T.globalCompositeOperation="destination-atop",T.fillStyle=c,T.fillRect(0,0,n,a),T.globalCompositeOperation="source-over",v=_.canvas,S=E=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(S,E,n,a),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=c,e.fillRect(S,E,n,a),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&h?t.filter=this.filterFactory.addAlphaFilter(h):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(h));const A=new Path2D;A.rect(f,p,n,a),t.clip(A),t.globalCompositeOperation="destination-in",t.drawImage(v,S,E,n,a,f,p,n,a),t.restore()}save(e){var n;this.inSMaskMode&&ff(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&ff(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,a,o,c,h){var f;(f=this.dependencyTracker)==null||f.recordIncrementalData("transform",e),this.ctx.transform(t,n,a,o,c,h),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,a){let[o]=n;if(!a){o||(o=n[0]=new Path2D),this[t](e,o);return}if(this.dependencyTracker!==null){const c=t===Hf.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,a[0]-c,a[2]+c,a[1]-c,a[3]+c).recordDependencies(e,["transform"])}if(!(o instanceof Path2D)){const c=n[0]=new Path2D;for(let h=0,f=o.length;h<f;)switch(o[h++]){case t0.moveTo:c.moveTo(o[h++],o[h++]);break;case t0.lineTo:c.lineTo(o[h++],o[h++]);break;case t0.curveTo:c.bezierCurveTo(o[h++],o[h++],o[h++],o[h++],o[h++],o[h++]);break;case t0.closePath:c.closePath();break;default:Te(`Unrecognized drawing path operator: ${o[h-1]}`);break}o=c}pe.axialAlignedBoundingBox(a,jt(this.ctx),this.current.minMax),this[t](e,o),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){var c;const a=this.ctx,o=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&(o!=null&&o.getPattern)){const h=o.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=o.getPattern(a,this,zi(a),As.STROKE,e),h){const f=new Path2D;f.addPath(t,a.getTransform().invertSelf().multiplySelf(h)),t=f}this.rescaleAndStroke(t,!1),a.restore()}else this.rescaleAndStroke(t,!0);(c=this.dependencyTracker)==null||c.recordDependencies(e,ei.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(As.STROKE,jt(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){var p,g,b;const a=this.ctx,o=this.current.fillColor,c=this.current.patternFill;let h=!1;if(c){const v=o.isModifyingCurrentTransform()?a.getTransform():null;if((p=this.dependencyTracker)==null||p.save(e),a.save(),a.fillStyle=o.getPattern(a,this,zi(a),As.FILL,e),v){const S=new Path2D;S.addPath(t,a.getTransform().invertSelf().multiplySelf(v)),t=S}h=!0}const f=this.current.getClippedPathBoundingBox();this.contentVisible&&f!==null&&(this.pendingEOFill?(a.fill(t,"evenodd"),this.pendingEOFill=!1):a.fill(t)),(g=this.dependencyTracker)==null||g.recordDependencies(e,ei.fill),h&&(a.restore(),(b=this.dependencyTracker)==null||b.restore(e)),n&&this.consumePath(e,t,f)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),(n=this.dependencyTracker)==null||n.recordDependencies(e,ei.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=Fk}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=J2}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;t!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",e),a.recordCloseMarker(e)}if(t!==void 0){const a=new Path2D,o=n.getTransform().invertSelf();for(const{transform:c,x:h,y:f,fontSize:p,path:g}of t)g&&a.addPath(g,new DOMMatrix(c).preMultiplySelf(o).translate(h,f).scale(p,-p));n.clip(a)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var b,v;(b=this.dependencyTracker)==null||b.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const a=this.commonObjs.get(t),o=this.current;if(!a)throw new Error(`Can't find font for ${t}`);if(o.fontMatrix=a.fontMatrix||gv,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Te("Invalid font matrix for font "+t),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const c=a.loadedName||"sans-serif",h=((v=a.systemFontInfo)==null?void 0:v.css)||`"${c}", ${a.fallbackName}`;let f="normal";a.black?f="900":a.bold&&(f="bold");const p=a.italic?"italic":"normal";let g=n;n<q2?g=q2:n>Y2&&(g=Y2),this.current.fontSizeScale=n/g,this.ctx.font=`${p} ${f} ${g}px ${h}`}setTextRenderingMode(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var a;(a=this.dependencyTracker)==null||a.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,n,a,o,c){var T,R,D,L;const h=this.ctx,f=this.current,p=f.font,g=f.textRenderingMode,b=f.fontSize/f.fontSizeScale,v=g&xs.FILL_STROKE_MASK,S=!!(g&xs.ADD_TO_PATH_FLAG),E=f.patternFill&&!p.missingFile,A=f.patternStroke&&!p.missingFile;let _;if((p.disableFontFace||S||E||A)&&!p.missingFile&&(_=p.getPathGenerator(this.commonObjs,t)),_&&(p.disableFontFace||E||A)){h.save(),h.translate(n,a),h.scale(b,-b),(T=this.dependencyTracker)==null||T.recordCharacterBBox(e,h,p);let O;if(v===xs.FILL||v===xs.FILL_STROKE)if(o){O=h.getTransform(),h.setTransform(...o);const B=j(this,Oi,Wv).call(this,_,O,o);h.fill(B)}else h.fill(_);if(v===xs.STROKE||v===xs.FILL_STROKE)if(c){O||(O=h.getTransform()),h.setTransform(...c);const{a:B,b:k,c:F,d:G}=O,Q=pe.inverseTransform(c),K=pe.transform([B,k,F,G,0,0],Q);pe.singularValueDecompose2dScale(K,Fn),h.lineWidth*=Math.max(Fn[0],Fn[1])/b,h.stroke(j(this,Oi,Wv).call(this,_,O,c))}else h.lineWidth/=b,h.stroke(_);h.restore()}else(v===xs.FILL||v===xs.FILL_STROKE)&&(h.fillText(t,n,a),(R=this.dependencyTracker)==null||R.recordCharacterBBox(e,h,p,b,n,a,()=>h.measureText(t))),(v===xs.STROKE||v===xs.FILL_STROKE)&&(this.dependencyTracker&&((D=this.dependencyTracker)==null||D.recordCharacterBBox(e,h,p,b,n,a,()=>h.measureText(t)).recordDependencies(e,ei.stroke)),h.strokeText(t,n,a));S&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:jt(h),x:n,y:a,fontSize:b,path:_}),(L=this.dependencyTracker)==null||L.recordCharacterBBox(e,h,p,b,n,a))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){n=!0;break}return Pe(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var F,G,Q,K;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ei.showText).resetBBox(e),this.current.textRenderingMode&xs.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,a=n.font;if(a.isType3Font){this.showType3Text(e,t),(F=this.dependencyTracker)==null||F.recordShowTextOperation(e);return}const o=n.fontSize;if(o===0){(G=this.dependencyTracker)==null||G.recordOperation(e);return}const c=this.ctx,h=n.fontSizeScale,f=n.charSpacing,p=n.wordSpacing,g=n.fontDirection,b=n.textHScale*g,v=t.length,S=a.vertical,E=S?1:-1,A=a.defaultVMetrics,_=o*n.fontMatrix[0],T=n.textRenderingMode===xs.FILL&&!a.disableFontFace&&!n.patternFill;c.save(),n.textMatrix&&c.transform(...n.textMatrix),c.translate(n.x,n.y+n.textRise),g>0?c.scale(b,-1):c.scale(b,1);let R,D;if(n.patternFill){c.save();const X=n.fillColor.getPattern(c,this,zi(c),As.FILL,e);R=jt(c),c.restore(),c.fillStyle=X}if(n.patternStroke){c.save();const X=n.strokeColor.getPattern(c,this,zi(c),As.STROKE,e);D=jt(c),c.restore(),c.strokeStyle=X}let L=n.lineWidth;const O=n.textMatrixScale;if(O===0||L===0){const X=n.textRenderingMode&xs.FILL_STROKE_MASK;(X===xs.STROKE||X===xs.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=O;if(h!==1&&(c.scale(h,h),L/=h),c.lineWidth=L,a.isInvalidPDFjsFont){const X=[];let he=0;for(const Se of t)X.push(Se.unicode),he+=Se.width;const de=X.join("");if(c.fillText(de,0,0),this.dependencyTracker!==null){const Se=c.measureText(de);this.dependencyTracker.recordBBox(e,this.ctx,-Se.actualBoundingBoxLeft,Se.actualBoundingBoxRight,-Se.actualBoundingBoxAscent,Se.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=he*_*b,c.restore(),this.compose();return}let B=0,k;for(k=0;k<v;++k){const X=t[k];if(typeof X=="number"){B+=E*X*o/1e3;continue}let he=!1;const de=(X.isSpace?p:0)+f,Se=X.fontChar,H=X.accent;let J,le,ee=X.width;if(S){const $=X.vmetric||A,ie=-(X.vmetric?$[1]:ee*.5)*_,re=$[2]*_;ee=$?-$[0]:ee,J=ie/h,le=(B+re)/h}else J=B/h,le=0;let ce;if(a.remeasure&&ee>0){ce=c.measureText(Se);const $=ce.width*1e3/o*h;if(ee<$&&this.isFontSubpixelAAEnabled){const ie=ee/$;he=!0,c.save(),c.scale(ie,1),J/=ie}else ee!==$&&(J+=(ee-$)/2e3*o/h)}if(this.contentVisible&&(X.isInFont||a.missingFile)){if(T&&!H)c.fillText(Se,J,le),(Q=this.dependencyTracker)==null||Q.recordCharacterBBox(e,c,ce?{bbox:null}:a,o/h,J,le,()=>ce??c.measureText(Se));else if(this.paintChar(e,Se,J,le,R,D),H){const $=J+o*H.offset.x/h,ie=le-o*H.offset.y/h;this.paintChar(e,H.fontChar,$,ie,R,D)}}const P=S?ee*_-de*g:ee*_+de*g;B+=P,he&&c.restore()}S?n.y-=B:n.x+=B*b,c.restore(),this.compose(),(K=this.dependencyTracker)==null||K.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,a=this.current,o=a.font,c=a.fontSize,h=a.fontDirection,f=o.vertical?1:-1,p=a.charSpacing,g=a.wordSpacing,b=a.textHScale*h,v=a.fontMatrix||gv,S=t.length,E=a.textRenderingMode===xs.INVISIBLE;let A,_,T,R;if(E||c===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),a.textMatrix&&n.transform(...a.textMatrix),n.translate(a.x,a.y+a.textRise),n.scale(b,h);const D=this.dependencyTracker;for(this.dependencyTracker=D?new Z0(D,e):null,A=0;A<S;++A){if(_=t[A],typeof _=="number"){R=f*_*c/1e3,this.ctx.translate(R,0),a.x+=R*b;continue}const L=(_.isSpace?g:0)+p,O=o.charProcOperatorList[_.operatorListId];O?this.contentVisible&&(this.save(),n.scale(c,c),n.transform(...v),this.executeOperatorList(O),this.restore()):Te(`Type3 character "${_.operatorListId}" is not available.`);const B=[_.width,0];pe.applyTransform(B,v),T=B[0]*c+L,n.translate(T,0),a.x+=T*b}n.restore(),D&&(this.dependencyTracker=D)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,a,o,c,h){var p;const f=new Path2D;f.rect(a,o,c-a,h-o),this.ctx.clip(f),(p=this.dependencyTracker)==null||p.recordBBox(e,this.ctx,a,c,o,h).recordClipBox(e,this.ctx,a,c,o,h),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const a=this.baseTransform||jt(this.ctx),o={createCanvasGraphics:(c,h)=>new dS(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Z0(this.dependencyTracker,h,!0):null)};n=new qv(t,this.ctx,o,a)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let a;return this.cachedPatterns.has(t)?a=this.cachedPatterns.get(t):(a=kk(this.getObject(e,t)),this.cachedPatterns.set(t,a)),n&&(a.matrix=n),a}shadingFill(e,t){var c;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const a=this._getPattern(e,t);n.fillStyle=a.getPattern(n,this,zi(n),As.SHADING,e);const o=zi(n);if(o){const{width:h,height:f}=n.canvas,p=Bu.slice();pe.axialAlignedBoundingBox([0,0,h,f],o,p);const[g,b,v,S]=p;this.ctx.fillRect(g,b,v-g,S-b)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(c=this.dependencyTracker)==null||c.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ei.transform).recordDependencies(e,ei.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){mt("Should not call beginInlineImage")}beginImageData(){mt("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){var a;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=jt(this.ctx),n)){pe.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[o,c,h,f]=n,p=new Path2D;p.rect(o,c,h-o,f-c),this.ctx.clip(p),(a=this.dependencyTracker)==null||a.recordClipBox(e,this.ctx,o,h,c,f),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var D;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||Mx("TODO: Support non-isolated groups."),t.knockout&&Te("Knockout groups not supported.");const a=jt(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let o=Bu.slice();pe.axialAlignedBoundingBox(t.bbox,jt(n),o);const c=[0,0,n.canvas.width,n.canvas.height];o=pe.intersect(o,c)||[0,0,0,0];const h=Math.floor(o[0]),f=Math.floor(o[1]),p=Math.max(Math.ceil(o[2])-h,1),g=Math.max(Math.ceil(o[3])-f,1);this.current.startNewPathAndClipBox([0,0,p,g]);let b="groupAt"+this.groupLevel;t.smask&&(b+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(b,p,g),S=v.context;S.translate(-h,-f),S.transform(...a);let E=new Path2D;const[A,_,T,R]=t.bbox;if(E.rect(A,_,T-A,R-_),t.matrix){const L=new Path2D;L.addPath(E,new DOMMatrix(t.matrix)),E=L}S.clip(E),t.smask&&this.smaskStack.push({canvas:v.canvas,context:S,offsetX:h,offsetY:f,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(h,f),n.save()),ff(n,S),this.ctx=S,(D=this.dependencyTracker)==null||D.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){var o;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,(o=this.dependencyTracker)==null||o.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const c=jt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...c);const h=Bu.slice();pe.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],c,h),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(h)}}beginAnnotation(e,t,n,a,o,c){if(j(this,Oi,Yv).call(this),o0(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const h=n[2]-n[0],f=n[3]-n[1];if(c&&this.annotationCanvasMap){a=a.slice(),a[4]-=n[0],a[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=h,n[3]=f,pe.singularValueDecompose2dScale(jt(this.ctx),Fn);const{viewportScale:p}=this,g=Math.ceil(h*this.outputScaleX*p),b=Math.ceil(f*this.outputScaleY*p);this.annotationCanvas=this.canvasFactory.create(g,b);const{canvas:v,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(t,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(Fn[0],0,0,-Fn[1],0,f*Fn[1]),o0(this.ctx)}else{o0(this.ctx),this.endPath(e);const p=new Path2D;p.rect(n[0],n[1],h,f),this.ctx.clip(p)}}this.current=new W2(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...a),this.transform(e,...o)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),j(this,Oi,Xv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var h;if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const a=this.ctx,o=this._createMaskCanvas(e,t),c=o.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(c,o.offsetX,o.offsetY),(h=this.dependencyTracker)==null||h.resetBBox(e).recordBBox(e,this.ctx,o.offsetX,o.offsetX+c.width,o.offsetY,o.offsetY+c.height).recordOperation(e),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,a=0,o=0,c,h){var b,v,S;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const f=this.ctx;f.save();const p=jt(f);f.transform(n,a,o,c,0,0);const g=this._createMaskCanvas(e,t);f.setTransform(1,0,0,1,g.offsetX-p[4],g.offsetY-p[5]),(b=this.dependencyTracker)==null||b.resetBBox(e);for(let E=0,A=h.length;E<A;E+=2){const _=pe.transform(p,[n,a,o,c,h[E],h[E+1]]);f.drawImage(g.canvas,_[4],_[5]),(v=this.dependencyTracker)==null||v.recordBBox(e,this.ctx,_[4],_[4]+g.canvas.width,_[5],_[5]+g.canvas.height)}f.restore(),this.compose(),(S=this.dependencyTracker)==null||S.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var c,h,f;if(!this.contentVisible)return;const n=this.ctx,a=this.current.fillColor,o=this.current.patternFill;(c=this.dependencyTracker)==null||c.resetBBox(e).recordDependencies(e,ei.transformAndFill);for(const p of t){const{data:g,width:b,height:v,transform:S}=p,E=this.cachedCanvases.getCanvas("maskCanvas",b,v),A=E.context;A.save();const _=this.getObject(e,g,p);Q2(A,_),A.globalCompositeOperation="source-in",A.fillStyle=o?a.getPattern(A,this,zi(n),As.FILL,e):a,A.fillRect(0,0,b,v),A.restore(),n.save(),n.transform(...S),n.scale(1,-1),l0(n,E.canvas,0,0,b,v,0,-1,1,1),(h=this.dependencyTracker)==null||h.recordBBox(e,n,0,b,0,v),n.restore()}this.compose(),(f=this.dependencyTracker)==null||f.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){Te("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,a,o){if(!this.contentVisible)return;const c=this.getObject(e,t);if(!c){Te("Dependent image isn't ready yet");return}const h=c.width,f=c.height,p=[];for(let g=0,b=o.length;g<b;g+=2)p.push({transform:[n,0,0,a,o[g],o[g+1]],x:0,y:0,w:h,h:f});this.paintInlineImageXObjectGroup(e,c,p)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:a}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,a),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(t,0,0),c.filter="none",o.canvas}paintInlineImageXObject(e,t){var p;if(!this.contentVisible)return;const n=t.width,a=t.height,o=this.ctx;this.save(e);const{filter:c}=o;c!=="none"&&c!==""&&(o.filter="none"),o.scale(1/n,-1/a);let h;if(t.bitmap)h=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)h=t;else{const b=this.cachedCanvases.getCanvas("inlineImage",n,a).context;K2(b,t),h=this.applyTransferMapsToCanvas(b)}const f=this._scaleImage(h,zi(o));o.imageSmoothingEnabled=Z2(jt(o),t.interpolate),(p=this.dependencyTracker)==null||p.resetBBox(e).recordBBox(e,o,0,n,-a,0).recordDependencies(e,ei.imageXObject).recordOperation(e),l0(o,f.img,0,0,f.paintWidth,f.paintHeight,0,-a,n,a),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var c,h,f;if(!this.contentVisible)return;const a=this.ctx;let o;if(t.bitmap)o=t.bitmap;else{const p=t.width,g=t.height,v=this.cachedCanvases.getCanvas("inlineImage",p,g).context;K2(v,t),o=this.applyTransferMapsToCanvas(v)}(c=this.dependencyTracker)==null||c.resetBBox(e);for(const p of n)a.save(),a.transform(...p.transform),a.scale(1,-1),l0(a,o,p.x,p.y,p.w,p.h,0,-1,1,1),(h=this.dependencyTracker)==null||h.recordBBox(e,a,0,1,-1,0),a.restore();(f=this.dependencyTracker)==null||f.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ei.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var a;(a=this.dependencyTracker)==null||a.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){var c,h;const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(a||(this.pendingClip===J2?o.clip(t,"evenodd"):o.clip(t)),this.pendingClip=null,(c=this.dependencyTracker)==null||c.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(h=this.dependencyTracker)==null||h.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=jt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,a)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:a,d:o}=this.ctx.getTransform();let c,h;if(n===0&&a===0){const f=Math.abs(t),p=Math.abs(o);if(f===p)if(e===0)c=h=1/f;else{const g=f*e;c=h=g<1?1/g:1}else if(e===0)c=1/f,h=1/p;else{const g=f*e,b=p*e;c=g<1?1/g:1,h=b<1?1/b:1}}else{const f=Math.abs(t*o-n*a),p=Math.hypot(t,n),g=Math.hypot(a,o);if(e===0)c=g/f,h=p/f;else{const b=e*f;c=g>b?g/b:1,h=p>b?p/b:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:a}}=this,[o,c]=this.getScaleForStroking();if(o===c){n.lineWidth=(a||1)*o,n.stroke(e);return}const h=n.getLineDash();t&&n.save(),n.scale(o,c),dv.a=1/o,dv.d=1/c;const f=new Path2D;if(f.addPath(e,dv),h.length>0){const p=Math.max(o,c);n.setLineDash(h.map(g=>g/p)),n.lineDashOffset/=p}n.lineWidth=a||1,n.stroke(f),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Oi=new WeakSet,Yv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Xv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Wv=function(e,t,n){const a=new Path2D;return a.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),a};let Hu=dS;for(const m in Hf)Hu.prototype[m]!==void 0&&(Hu.prototype[Hf[m]]=Hu.prototype[m]);var gd,xd,Am,bd,A0;const Fu=class Fu{constructor(e){C(this,bd);C(this,gd);C(this,xd);C(this,Am);w(this,gd,e),w(this,xd,new DataView(l(this,gd))),w(this,Am,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let a=0;for(const p of Fu.strings){const g=t.encode(e[p]);n[p]=g,a+=4+g.length}const o=new ArrayBuffer(a),c=new Uint8Array(o),h=new DataView(o);let f=0;for(const p of Fu.strings){const g=n[p],b=g.length;h.setUint32(f,b),c.set(g,f+4),f+=4+b}return Ge(f===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}get fontFamily(){return j(this,bd,A0).call(this,0)}get fontWeight(){return j(this,bd,A0).call(this,1)}get italicAngle(){return j(this,bd,A0).call(this,2)}};gd=new WeakMap,xd=new WeakMap,Am=new WeakMap,bd=new WeakSet,A0=function(e){Ge(e<Fu.strings.length,"Invalid string index");let t=0;for(let a=0;a<e;a++)t+=l(this,xd).getUint32(t)+4;const n=l(this,xd).getUint32(t);return l(this,Am).decode(new Uint8Array(l(this,gd),t+4,n))},ae(Fu,"strings",["fontFamily","fontWeight","italicAngle"]);let J0=Fu;var Sl,ea,Jo,ec,Mf;const zu=class zu{constructor(e){C(this,ec);C(this,Sl);C(this,ea);C(this,Jo);w(this,Sl,e),w(this,ea,new DataView(l(this,Sl))),w(this,Jo,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let a=0;for(const v of zu.strings){const S=t.encode(e[v]);n[v]=S,a+=4+S.length}a+=4;let o,c,h=1+a;e.style&&(o=t.encode(e.style.style),c=t.encode(e.style.weight),h+=4+o.length+4+c.length);const f=new ArrayBuffer(h),p=new Uint8Array(f),g=new DataView(f);let b=0;g.setUint8(b++,e.guessFallback?1:0),g.setUint32(b,0),b+=4,a=0;for(const v of zu.strings){const S=n[v],E=S.length;a+=4+E,g.setUint32(b,E),p.set(S,b+4),b+=4+E}return g.setUint32(b-a-4,a),e.style&&(g.setUint32(b,o.length),p.set(o,b+4),b+=4+o.length,g.setUint32(b,c.length),p.set(c,b+4),b+=4+c.length),Ge(b<=f.byteLength,"SubstitionInfo.write: Buffer overflow"),f.transferToFixedLength(b)}get guessFallback(){return l(this,ea).getUint8(0)!==0}get css(){return j(this,ec,Mf).call(this,0)}get loadedName(){return j(this,ec,Mf).call(this,1)}get baseFontName(){return j(this,ec,Mf).call(this,2)}get src(){return j(this,ec,Mf).call(this,3)}get style(){let e=1;e+=4+l(this,ea).getUint32(e);const t=l(this,ea).getUint32(e),n=l(this,Jo).decode(new Uint8Array(l(this,Sl),e+4,t));e+=4+t;const a=l(this,ea).getUint32(e),o=l(this,Jo).decode(new Uint8Array(l(this,Sl),e+4,a));return{style:n,weight:o}}};Sl=new WeakMap,ea=new WeakMap,Jo=new WeakMap,ec=new WeakSet,Mf=function(e){Ge(e<zu.strings.length,"Invalid string index");let t=5;for(let a=0;a<e;a++)t+=l(this,ea).getUint32(t)+4;const n=l(this,ea).getUint32(t);return l(this,Jo).decode(new Uint8Array(l(this,Sl),t+4,n))},ae(zu,"strings",["css","loadedName","baseFontName","src"]);let ex=zu;var yd,vd,wd,Sd,Nn,ta,Nm,lt,Ot,vi,N0,Df;const ke=class ke{constructor({data:e,extra:t}){C(this,Ot);C(this,ta);C(this,Nm);C(this,lt);w(this,ta,e),w(this,Nm,new TextDecoder),w(this,lt,new DataView(l(this,ta))),t&&Object.assign(this,t)}get black(){return j(this,Ot,vi).call(this,0)}get bold(){return j(this,Ot,vi).call(this,1)}get disableFontFace(){return j(this,Ot,vi).call(this,2)}get fontExtraProperties(){return j(this,Ot,vi).call(this,3)}get isInvalidPDFjsFont(){return j(this,Ot,vi).call(this,4)}get isType3Font(){return j(this,Ot,vi).call(this,5)}get italic(){return j(this,Ot,vi).call(this,6)}get missingFile(){return j(this,Ot,vi).call(this,7)}get remeasure(){return j(this,Ot,vi).call(this,8)}get vertical(){return j(this,Ot,vi).call(this,9)}get ascent(){return j(this,Ot,N0).call(this,0)}get defaultWidth(){return j(this,Ot,N0).call(this,1)}get descent(){return j(this,Ot,N0).call(this,2)}get bbox(){let e=l(ke,vd);if(l(this,lt).getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<4;a++)n.push(l(this,lt).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=l(ke,wd);if(l(this,lt).getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<6;a++)n.push(l(this,lt).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=l(ke,Sd);if(l(this,lt).getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<3;a++)n.push(l(this,lt).getInt16(e,!0)),e+=2;return n}get fallbackName(){return j(this,Ot,Df).call(this,0)}get loadedName(){return j(this,Ot,Df).call(this,1)}get mimetype(){return j(this,Ot,Df).call(this,2)}get name(){return j(this,Ot,Df).call(this,3)}get data(){let e=l(ke,Nn);const t=l(this,lt).getUint32(e);e+=4+t;const n=l(this,lt).getUint32(e);e+=4+n;const a=l(this,lt).getUint32(e);e+=4+a;const o=l(this,lt).getUint32(e);if(o!==0)return new Uint8Array(l(this,ta),e+4,o)}clearData(){let e=l(ke,Nn);const t=l(this,lt).getUint32(e);e+=4+t;const n=l(this,lt).getUint32(e);e+=4+n;const a=l(this,lt).getUint32(e);e+=4+a;const o=l(this,lt).getUint32(e);new Uint8Array(l(this,ta),e+4,o).fill(0),l(this,lt).setUint32(e,0)}get cssFontInfo(){let e=l(ke,Nn);const t=l(this,lt).getUint32(e);e+=4+t;const n=l(this,lt).getUint32(e);e+=4+n;const a=l(this,lt).getUint32(e);if(a===0)return null;const o=new Uint8Array(a);return o.set(new Uint8Array(l(this,ta),e+4,a)),new J0(o.buffer)}get systemFontInfo(){let e=l(ke,Nn);const t=l(this,lt).getUint32(e);e+=4+t;const n=l(this,lt).getUint32(e);if(n===0)return null;const a=new Uint8Array(n);return a.set(new Uint8Array(l(this,ta),e+4,n)),new ex(a.buffer)}static write(e){const t=e.systemFontInfo?ex.write(e.systemFontInfo):null,n=e.cssFontInfo?J0.write(e.cssFontInfo):null,a=new TextEncoder,o={};let c=0;for(const A of ke.strings)o[A]=a.encode(e[A]),c+=4+o[A].length;const h=l(ke,Nn)+4+c+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),f=new ArrayBuffer(h),p=new Uint8Array(f),g=new DataView(f);let b=0;const v=ke.bools.length;let S=0,E=0;for(let A=0;A<v;A++){const _=e[ke.bools[A]];S|=(_===void 0?0:_?2:1)<<E,E+=2,(E===8||A===v-1)&&(g.setUint8(b++,S),S=0,E=0)}Ge(b===l(ke,yd),"FontInfo.write: Boolean properties offset mismatch");for(const A of ke.numbers)g.setFloat64(b,e[A]),b+=8;if(Ge(b===l(ke,vd),"FontInfo.write: Number properties offset mismatch"),e.bbox){g.setUint8(b++,4);for(const A of e.bbox)g.setInt16(b,A,!0),b+=2}else g.setUint8(b++,0),b+=8;if(Ge(b===l(ke,wd),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){g.setUint8(b++,6);for(const A of e.fontMatrix)g.setFloat64(b,A,!0),b+=8}else g.setUint8(b++,0),b+=48;if(Ge(b===l(ke,Sd),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){g.setUint8(b++,1);for(const A of e.defaultVMetrics)g.setInt16(b,A,!0),b+=2}else g.setUint8(b++,0),b+=6;Ge(b===l(ke,Nn),"FontInfo.write: DefaultVMetrics properties offset mismatch"),g.setUint32(l(ke,Nn),0),b+=4;for(const A of ke.strings){const _=o[A],T=_.length;g.setUint32(b,T),p.set(_,b+4),b+=4+T}if(g.setUint32(l(ke,Nn),b-l(ke,Nn)-4),!t)g.setUint32(b,0),b+=4;else{const A=t.byteLength;g.setUint32(b,A),Ge(b+4+A<=f.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),p.set(new Uint8Array(t),b+4),b+=4+A}if(!n)g.setUint32(b,0),b+=4;else{const A=n.byteLength;g.setUint32(b,A),Ge(b+4+A<=f.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),p.set(new Uint8Array(n),b+4),b+=4+A}return e.data===void 0?(g.setUint32(b,0),b+=4):(g.setUint32(b,e.data.length),p.set(e.data,b+4),b+=4+e.data.length),Ge(b<=f.byteLength,"FontInfo.write: Buffer overflow"),f.transferToFixedLength(b)}};yd=new WeakMap,vd=new WeakMap,wd=new WeakMap,Sd=new WeakMap,Nn=new WeakMap,ta=new WeakMap,Nm=new WeakMap,lt=new WeakMap,Ot=new WeakSet,vi=function(e){Ge(e<ke.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,a=l(this,lt).getUint8(t)>>n&3;return a===0?void 0:a===2},N0=function(e){return Ge(e<ke.numbers.length,"Invalid number index"),l(this,lt).getFloat64(l(ke,yd)+e*8)},Df=function(e){Ge(e<ke.strings.length,"Invalid string index");let t=l(ke,Nn)+4;for(let o=0;o<e;o++)t+=l(this,lt).getUint32(t)+4;const n=l(this,lt).getUint32(t),a=new Uint8Array(n);return a.set(new Uint8Array(l(this,ta),t+4,n)),l(this,Nm).decode(a)},ae(ke,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),ae(ke,"numbers",["ascent","defaultWidth","descent"]),ae(ke,"strings",["fallbackName","loadedName","mimetype","name"]),C(ke,yd,Math.ceil(ke.bools.length*2/8)),C(ke,vd,l(ke,yd)+ke.numbers.length*8),C(ke,wd,l(ke,vd)+1+8),C(ke,Sd,l(ke,wd)+1+48),C(ke,Nn,l(ke,Sd)+1+6);let Kv=ke;var Em,Cm;class ha{static get workerPort(){return l(this,Em)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");w(this,Em,e)}static get workerSrc(){return l(this,Cm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");w(this,Cm,e)}}Em=new WeakMap,Cm=new WeakMap,C(ha,Em,null),C(ha,Cm,"");var Ad,jm;class zk{constructor({parsedData:e,rawData:t}){C(this,Ad);C(this,jm);w(this,Ad,e),w(this,jm,t)}getRaw(){return l(this,jm)}get(e){return l(this,Ad).get(e)??null}[Symbol.iterator](){return l(this,Ad).entries()}}Ad=new WeakMap,jm=new WeakMap;const Lu=Symbol("INTERNAL");var Tm,_m,Mm,Nd;class Uk{constructor(e,{name:t,intent:n,usage:a,rbGroups:o}){C(this,Tm,!1);C(this,_m,!1);C(this,Mm,!1);C(this,Nd,!0);w(this,Tm,!!(e&In.DISPLAY)),w(this,_m,!!(e&In.PRINT)),this.name=t,this.intent=n,this.usage=a,this.rbGroups=o}get visible(){if(l(this,Mm))return l(this,Nd);if(!l(this,Nd))return!1;const{print:e,view:t}=this.usage;return l(this,Tm)?(t==null?void 0:t.viewState)!=="OFF":l(this,_m)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==Lu&&mt("Internal method `_setVisible` called."),w(this,Mm,n),w(this,Nd,t)}}Tm=new WeakMap,_m=new WeakMap,Mm=new WeakMap,Nd=new WeakMap;var Al,ot,Ed,Cd,Dm,Qv;class Hk{constructor(e,t=In.DISPLAY){C(this,Dm);C(this,Al,null);C(this,ot,new Map);C(this,Ed,null);C(this,Cd,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,w(this,Cd,e.order);for(const n of e.groups)l(this,ot).set(n.id,new Uk(t,n));if(e.baseState==="OFF")for(const n of l(this,ot).values())n._setVisible(Lu,!1);for(const n of e.on)l(this,ot).get(n)._setVisible(Lu,!0);for(const n of e.off)l(this,ot).get(n)._setVisible(Lu,!1);w(this,Ed,this.getHash())}}isVisible(e){if(l(this,ot).size===0)return!0;if(!e)return Mx("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,ot).has(e.id)?l(this,ot).get(e.id).visible:(Te(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return j(this,Dm,Qv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,ot).has(t))return Te(`Optional content group not found: ${t}`),!0;if(l(this,ot).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,ot).has(t))return Te(`Optional content group not found: ${t}`),!0;if(!l(this,ot).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,ot).has(t))return Te(`Optional content group not found: ${t}`),!0;if(!l(this,ot).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,ot).has(t))return Te(`Optional content group not found: ${t}`),!0;if(l(this,ot).get(t).visible)return!1}return!0}return Te(`Unknown optional content policy ${e.policy}.`),!0}return Te(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var o;const a=l(this,ot).get(e);if(!a){Te(`Optional content group not found: ${e}`);return}if(n&&t&&a.rbGroups.length)for(const c of a.rbGroups)for(const h of c)h!==e&&((o=l(this,ot).get(h))==null||o._setVisible(Lu,!1,!0));a._setVisible(Lu,!!t,!0),w(this,Al,null)}setOCGState({state:e,preserveRB:t}){let n;for(const a of e){switch(a){case"ON":case"OFF":case"Toggle":n=a;continue}const o=l(this,ot).get(a);if(o)switch(n){case"ON":this.setVisibility(a,!0,t);break;case"OFF":this.setVisibility(a,!1,t);break;case"Toggle":this.setVisibility(a,!o.visible,t);break}}w(this,Al,null)}get hasInitialVisibility(){return l(this,Ed)===null||this.getHash()===l(this,Ed)}getOrder(){return l(this,ot).size?l(this,Cd)?l(this,Cd).slice():[...l(this,ot).keys()]:null}getGroup(e){return l(this,ot).get(e)||null}getHash(){if(l(this,Al)!==null)return l(this,Al);const e=new oC;for(const[t,n]of l(this,ot))e.update(`${t}:${n.visible}`);return w(this,Al,e.hexdigest())}[Symbol.iterator](){return l(this,ot).entries()}}Al=new WeakMap,ot=new WeakMap,Ed=new WeakMap,Cd=new WeakMap,Dm=new WeakSet,Qv=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let a=1;a<t;a++){const o=e[a];let c;if(Array.isArray(o))c=j(this,Dm,Qv).call(this,o);else if(l(this,ot).has(o))c=l(this,ot).get(o).visible;else return Te(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return n==="And"};class Vk{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Ge(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:o,progressiveDone:c,contentDispositionFilename:h}=e;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),e.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),e.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const a=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Ge(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,a,o;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(o=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||o.call(a,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ge(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Gk(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new $k(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Gk{constructor(e,t,n=!1,a=null){this._stream=e,this._done=n||!1,this._filename=eS(a)?a:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class $k{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function qk(m){let e=!0,t=n("filename\\*","i").exec(m);if(t){t=t[1];let g=h(t);return g=unescape(g),g=f(g),g=p(g),o(g)}if(t=c(m),t){const g=p(t);return o(g)}if(t=n("filename","i").exec(m),t){t=t[1];let g=h(t);return g=p(g),o(g)}function n(g,b){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function a(g,b){if(g){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(g,{fatal:!0}),S=Mp(b);b=v.decode(S),e=!1}catch{}}return b}function o(g){return e&&/[\x80-\xff]/.test(g)&&(g=a("utf-8",g),e&&(g=a("iso-8859-1",g))),g}function c(g){const b=[];let v;const S=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=S.exec(g))!==null;){let[,A,_,T]=v;if(A=parseInt(A,10),A in b){if(A===0)break;continue}b[A]=[_,T]}const E=[];for(let A=0;A<b.length&&A in b;++A){let[_,T]=b[A];T=h(T),_&&(T=unescape(T),A===0&&(T=f(T))),E.push(T)}return E.join("")}function h(g){if(g.startsWith('"')){const b=g.slice(1).split('\\"');for(let v=0;v<b.length;++v){const S=b[v].indexOf('"');S!==-1&&(b[v]=b[v].slice(0,S),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}g=b.join('"')}return g}function f(g){const b=g.indexOf("'");if(b===-1)return g;const v=g.slice(0,b),E=g.slice(b+1).replace(/^[^']*'/,"");return a(v,E)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,S,E){if(S==="q"||S==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,_){return String.fromCharCode(parseInt(_,16))}),a(v,E);try{E=atob(E)}catch{}return a(v,E)})}return""}function vC(m,e){const t=new Headers;if(!m||!e||typeof e!="object")return t;for(const n in e){const a=e[n];a!==void 0&&t.append(n,a)}return t}function kx(m){var e;return((e=URL.parse(m))==null?void 0:e.origin)??null}function wC({responseHeaders:m,isHttp:e,rangeChunkSize:t,disableRange:n}){const a={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(m.get("Content-Length"),10);return!Number.isInteger(o)||(a.suggestedLength=o,o<=2*t)||n||!e||m.get("Accept-Ranges")!=="bytes"||(m.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function SC(m){const e=m.get("Content-Disposition");if(e){let t=qk(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(eS(t))return t}return null}function Op(m,e){return new X0(`Unexpected server response (${m}) while retrieving PDF "${e}".`,m,m===404||m===0&&e.startsWith("file:"))}function AC(m){return m===200||m===206}function NC(m,e,t){return{method:"GET",headers:m,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function EC(m){return m instanceof Uint8Array?m.buffer:m instanceof ArrayBuffer?m:(Te(`getArrayBuffer - unexpected data format: ${m}`),new Uint8Array(m).buffer)}class Yk{constructor(e){ae(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=vC(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ge(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Xk(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Wk(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Xk{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),a=t.url;fetch(a,NC(n,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=kx(o.url),!AC(o.status))throw Op(o.status,a);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:h,suggestedLength:f}=wC({responseHeaders:c,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=SC(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ql("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:EC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class Wk{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${n-1}`);const c=a.url;fetch(c,NC(o,this._withCredentials,this._abortController)).then(h=>{const f=kx(h.url);if(f!==e._responseOrigin)throw new Error(`Expected range response-origin "${f}" to match "${e._responseOrigin}".`);if(!AC(h.status))throw Op(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:EC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const hv=200,fv=206;function Kk(m){const e=m.response;return typeof e!="string"?e:Mp(e).buffer}class Qk{constructor({url:e,httpHeaders:t,withCredentials:n}){ae(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=vC(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,a=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,c]of this.headers)t.setRequestHeader(o,c);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),a.expectedStatus=fv):a.expectedStatus=hv,t.responseType="arraybuffer",Ge(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var a;const n=this.pendingRequests[e];n&&((a=n.onProgress)==null||a.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){n.onError(a.status);return}const o=a.status||hv;if(!(o===hv&&n.expectedStatus===fv)&&o!==n.expectedStatus){n.onError(a.status);return}const h=Kk(a);if(o===fv){const f=a.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);p?n.onDone({begin:parseInt(p[1],10),chunk:h}):(Te('Missing or invalid "Content-Range" header.'),n.onError(0))}else h?n.onDone({begin:0,chunk:h}):n.onError(a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Zk{constructor(e){this._source=e,this._manager=new Qk(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ge(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Jk(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new eR(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Jk{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=kx(t.responseURL);const n=t.getAllResponseHeaders(),a=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(h=>{const[f,...p]=h.split(": ");return[f,p.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:c}=wC({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=SC(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Op(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class eR{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=kx((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Op(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const tR=/^[a-z][a-z0-9\-+.]+:/i;function sR(m){if(tR.test(m))return new URL(m);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(m))}class nR{constructor(e){this.source=e,this.url=sR(e.url),Ge(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ge(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new iR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new aR(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class iR{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=Op(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ql("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class aR{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=e.source;this._isStreamingSupported=!a.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const mf=Symbol("INITIAL_DATA");var En,km,Zv;class CC{constructor(){C(this,km);C(this,En,Object.create(null))}get(e,t=null){if(t){const a=j(this,km,Zv).call(this,e);return a.promise.then(()=>t(a.data)),null}const n=l(this,En)[e];if(!n||n.data===mf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=l(this,En)[e];return!!t&&t.data!==mf}delete(e){const t=l(this,En)[e];return!t||t.data===mf?!1:(delete l(this,En)[e],!0)}resolve(e,t=null){const n=j(this,km,Zv).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in l(this,En)){const{data:n}=l(this,En)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}w(this,En,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,En)){const{data:t}=l(this,En)[e];t!==mf&&(yield[e,t])}}}En=new WeakMap,km=new WeakSet,Zv=function(e){var t;return(t=l(this,En))[e]||(t[e]={...Promise.withResolvers(),data:mf})};const rR=1e5,eE=30;var lE,Nl,rn,Rm,Lm,tc,ar,Om,Pm,sc,jd,Td,El,_d,Bm,Md,nc,Im,Fm,Dd,ic,zm,Cl,kd,Tr,jC,TC,Jv,Un,E0,ew,_C,MC;const Zt=class Zt{constructor({textContentSource:e,container:t,viewport:n}){C(this,Tr);C(this,Nl,Promise.withResolvers());C(this,rn,null);C(this,Rm,!1);C(this,Lm,!!((lE=globalThis.FontInspector)!=null&&lE.enabled));C(this,tc,null);C(this,ar,null);C(this,Om,0);C(this,Pm,0);C(this,sc,null);C(this,jd,null);C(this,Td,0);C(this,El,0);C(this,_d,Object.create(null));C(this,Bm,[]);C(this,Md,null);C(this,nc,[]);C(this,Im,new WeakMap);C(this,Fm,null);var f;if(e instanceof ReadableStream)w(this,Md,e);else if(typeof e=="object")w(this,Md,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,rn,w(this,jd,t)),w(this,El,n.scale*ma.pixelRatio),w(this,Td,n.rotation),w(this,ar,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:o,pageX:c,pageY:h}=n.rawDims;w(this,Fm,[1,0,0,-1,-c,h+o]),w(this,Pm,a),w(this,Om,o),j(f=Zt,Un,_C).call(f),Fc(t,n),l(this,Nl).promise.finally(()=>{l(Zt,kd).delete(this),w(this,ar,null),w(this,_d,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Cs.platform;return Pe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{l(this,sc).read().then(({value:t,done:n})=>{if(n){l(this,Nl).resolve();return}l(this,tc)??w(this,tc,t.lang),Object.assign(l(this,_d),t.styles),j(this,Tr,jC).call(this,t.items),e()},l(this,Nl).reject)};return w(this,sc,l(this,Md).getReader()),l(Zt,kd).add(this),e(),l(this,Nl).promise}update({viewport:e,onBefore:t=null}){var o;const n=e.scale*ma.pixelRatio,a=e.rotation;if(a!==l(this,Td)&&(t==null||t(),w(this,Td,a),Fc(l(this,jd),{rotation:a})),n!==l(this,El)){t==null||t(),w(this,El,n);const c={div:null,properties:null,ctx:j(o=Zt,Un,E0).call(o,l(this,tc))};for(const h of l(this,nc))c.properties=l(this,Im).get(h),c.div=h,j(this,Tr,Jv).call(this,c)}}cancel(){var t;const e=new Ql("TextLayer task cancelled.");(t=l(this,sc))==null||t.cancel(e).catch(()=>{}),w(this,sc,null),l(this,Nl).reject(e)}get textDivs(){return l(this,nc)}get textContentItemsStr(){return l(this,Bm)}static cleanup(){if(!(l(this,kd).size>0)){l(this,Dd).clear();for(const{canvas:e}of l(this,ic).values())e.remove();l(this,ic).clear()}}};Nl=new WeakMap,rn=new WeakMap,Rm=new WeakMap,Lm=new WeakMap,tc=new WeakMap,ar=new WeakMap,Om=new WeakMap,Pm=new WeakMap,sc=new WeakMap,jd=new WeakMap,Td=new WeakMap,El=new WeakMap,_d=new WeakMap,Bm=new WeakMap,Md=new WeakMap,nc=new WeakMap,Im=new WeakMap,Fm=new WeakMap,Dd=new WeakMap,ic=new WeakMap,zm=new WeakMap,Cl=new WeakMap,kd=new WeakMap,Tr=new WeakSet,jC=function(e){var a,o;if(l(this,Rm))return;(o=l(this,ar)).ctx??(o.ctx=j(a=Zt,Un,E0).call(a,l(this,tc)));const t=l(this,nc),n=l(this,Bm);for(const c of e){if(t.length>rR){Te("Ignoring additional textDivs for performance reasons."),w(this,Rm,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=l(this,rn);w(this,rn,document.createElement("span")),l(this,rn).classList.add("markedContent"),c.id&&l(this,rn).setAttribute("id",`${c.id}`),h.append(l(this,rn))}else c.type==="endMarkedContent"&&w(this,rn,l(this,rn).parentNode);continue}n.push(c.str),j(this,Tr,TC).call(this,c)}},TC=function(e){var A;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,nc).push(t);const a=pe.transform(l(this,Fm),e.transform);let o=Math.atan2(a[1],a[0]);const c=l(this,_d)[e.fontName];c.vertical&&(o+=Math.PI/2);let h=l(this,Lm)&&c.fontSubstitution||c.fontFamily;h=Zt.fontFamilyMap.get(h)||h;const f=Math.hypot(a[2],a[3]),p=f*j(A=Zt,Un,MC).call(A,h,c,l(this,tc));let g,b;o===0?(g=a[4],b=a[5]-p):(g=a[4]+p*Math.sin(o),b=a[5]-p*Math.cos(o));const v="calc(var(--total-scale-factor) *",S=t.style;l(this,rn)===l(this,jd)?(S.left=`${(100*g/l(this,Pm)).toFixed(2)}%`,S.top=`${(100*b/l(this,Om)).toFixed(2)}%`):(S.left=`${v}${g.toFixed(2)}px)`,S.top=`${v}${b.toFixed(2)}px)`),S.fontSize=`${v}${(l(Zt,Cl)*f).toFixed(2)}px)`,S.fontFamily=h,n.fontSize=f,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,Lm)&&(t.dataset.fontName=c.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let E=!1;if(e.str.length>1)E=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const _=Math.abs(e.transform[0]),T=Math.abs(e.transform[3]);_!==T&&Math.max(_,T)/Math.min(_,T)>1.5&&(E=!0)}if(E&&(n.canvasWidth=c.vertical?e.height:e.width),l(this,Im).set(t,n),l(this,ar).div=t,l(this,ar).properties=n,j(this,Tr,Jv).call(this,l(this,ar)),n.hasText&&l(this,rn).append(t),n.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),l(this,rn).append(_)}},Jv=function(e){var h;const{div:t,properties:n,ctx:a}=e,{style:o}=t;let c="";if(l(Zt,Cl)>1&&(c=`scale(${1/l(Zt,Cl)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:f}=o,{canvasWidth:p,fontSize:g}=n;j(h=Zt,Un,ew).call(h,a,g*l(this,El),f);const{width:b}=a.measureText(t.textContent);b>0&&(c=`scaleX(${p*l(this,El)/b}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(o.transform=c)},Un=new WeakSet,E0=function(e=null){let t=l(this,ic).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,ic).set(e,t),l(this,zm).set(t,{size:0,family:""})}return t},ew=function(e,t,n){const a=l(this,zm).get(e);t===a.size&&n===a.family||(e.font=`${t}px ${n}`,a.size=t,a.family=n)},_C=function(){if(l(this,Cl)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),w(this,Cl,e.getBoundingClientRect().height),e.remove()},MC=function(e,t,n){const a=l(this,Dd).get(e);if(a)return a;const o=j(this,Un,E0).call(this,n);o.canvas.width=o.canvas.height=eE,j(this,Un,ew).call(this,o,eE,e);const c=o.measureText(""),h=c.fontBoundingBoxAscent,f=Math.abs(c.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let p=.8;return h?p=h/(h+f):(Cs.platform.isFirefox&&Te("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?p=t.ascent:t.descent&&(p=1+t.descent)),l(this,Dd).set(e,p),p},C(Zt,Un),C(Zt,Dd,new Map),C(Zt,ic,new Map),C(Zt,zm,new WeakMap),C(Zt,Cl,null),C(Zt,kd,new Set);let Gf=Zt;const lR=100;function DC(m={}){typeof m=="string"||m instanceof URL?m={url:m}:(m instanceof ArrayBuffer||ArrayBuffer.isView(m))&&(m={data:m});const e=new tw,{docId:t}=e,n=m.url?mk(m.url):null,a=m.data?pk(m.data):null,o=m.httpHeaders||null,c=m.withCredentials===!0,h=m.password??null,f=m.range instanceof kC?m.range:null,p=Number.isInteger(m.rangeChunkSize)&&m.rangeChunkSize>0?m.rangeChunkSize:2**16;let g=m.worker instanceof $f?m.worker:null;const b=m.verbosity,v=typeof m.docBaseUrl=="string"&&!Dx(m.docBaseUrl)?m.docBaseUrl:null,S=n0(m.cMapUrl),E=m.cMapPacked!==!1,A=m.CMapReaderFactory||(Us?Ak:z2),_=n0(m.iccUrl),T=n0(m.standardFontDataUrl),R=m.StandardFontDataFactory||(Us?Nk:U2),D=n0(m.wasmUrl),L=m.WasmFactory||(Us?Ek:H2),O=m.stopAtErrors!==!0,B=Number.isInteger(m.maxImageSize)&&m.maxImageSize>-1?m.maxImageSize:-1,k=m.isEvalSupported!==!1,F=typeof m.isOffscreenCanvasSupported=="boolean"?m.isOffscreenCanvasSupported:!Us,G=typeof m.isImageDecoderSupported=="boolean"?m.isImageDecoderSupported:!Us&&(Cs.platform.isFirefox||!globalThis.chrome),Q=Number.isInteger(m.canvasMaxAreaInBytes)?m.canvasMaxAreaInBytes:-1,K=typeof m.disableFontFace=="boolean"?m.disableFontFace:Us,X=m.fontExtraProperties===!0,he=m.enableXfa===!0,de=m.ownerDocument||globalThis.document,Se=m.disableRange===!0,H=m.disableStream===!0,J=m.disableAutoFetch===!0,le=m.pdfBug===!0,ee=m.CanvasFactory||(Us?Sk:yk),ce=m.FilterFactory||(Us?wk:vk),P=m.enableHWA===!0,$=m.useWasm!==!1,ie=f?f.length:m.length??NaN,re=typeof m.useSystemFonts=="boolean"?m.useSystemFonts:!Us&&!K,ve=typeof m.useWorkerFetch=="boolean"?m.useWorkerFetch:!!(A===z2&&R===U2&&L===H2&&S&&T&&D&&yf(S,document.baseURI)&&yf(T,document.baseURI)&&yf(D,document.baseURI)),Ce=null;HD(b);const ue={canvasFactory:new ee({ownerDocument:de,enableHWA:P}),filterFactory:new ce({docId:t,ownerDocument:de}),cMapReaderFactory:ve?null:new A({baseUrl:S,isCompressed:E}),standardFontDataFactory:ve?null:new R({baseUrl:T}),wasmFactory:ve?null:new L({baseUrl:D})};g||(g=$f.create({verbosity:b,port:ha.workerPort}),e._worker=g);const Bt={docId:t,apiVersion:"5.4.296",data:a,password:h,disableAutoFetch:J,rangeChunkSize:p,length:ie,docBaseUrl:v,enableXfa:he,evaluatorOptions:{maxImageSize:B,disableFontFace:K,ignoreErrors:O,isEvalSupported:k,isOffscreenCanvasSupported:F,isImageDecoderSupported:G,canvasMaxAreaInBytes:Q,fontExtraProperties:X,useSystemFonts:re,useWasm:$,useWorkerFetch:ve,cMapUrl:S,iccUrl:_,standardFontDataUrl:T,wasmUrl:D}},xt={ownerDocument:de,pdfBug:le,styleElement:Ce,loadingParams:{disableAutoFetch:J,enableXfa:he}};return g.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const gi=g.messageHandler.sendWithPromise("GetDocRequest",Bt,a?[a.buffer]:null);let Hn;if(f)Hn=new Vk(f,{disableRange:Se,disableStream:H});else if(!a){if(!n)throw new Error("getDocument - no `url` parameter provided.");const to=yf(n)?Yk:Us?nR:Zk;Hn=new to({url:n,length:ie,httpHeaders:o,withCredentials:c,rangeChunkSize:p,disableRange:Se,disableStream:H})}return gi.then(to=>{if(e.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const gh=new Ef(t,to,g.port),ba=new uR(gh,e,Hn,xt,ue,P);e._transport=ba,gh.send("Ready",null)})}).catch(e._capability.reject),e}var gx;const xx=class xx{constructor(){ae(this,"_capability",Promise.withResolvers());ae(this,"_transport",null);ae(this,"_worker",null);ae(this,"docId",`d${Qt(xx,gx)._++}`);ae(this,"destroyed",!1);ae(this,"onPassword",null);ae(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,a;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(o){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,o}this._transport=null,(a=this._worker)==null||a.destroy(),this._worker=null}async getData(){return this._transport.getData()}};gx=new WeakMap,C(xx,gx,0);let tw=xx;var ac,Um,Hm,Vm,Gm;class kC{constructor(e,t,n=!1,a=null){C(this,ac,Promise.withResolvers());C(this,Um,[]);C(this,Hm,[]);C(this,Vm,[]);C(this,Gm,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=a}addRangeListener(e){l(this,Gm).push(e)}addProgressListener(e){l(this,Vm).push(e)}addProgressiveReadListener(e){l(this,Hm).push(e)}addProgressiveDoneListener(e){l(this,Um).push(e)}onDataRange(e,t){for(const n of l(this,Gm))n(e,t)}onDataProgress(e,t){l(this,ac).promise.then(()=>{for(const n of l(this,Vm))n(e,t)})}onDataProgressiveRead(e){l(this,ac).promise.then(()=>{for(const t of l(this,Hm))t(e)})}onDataProgressiveDone(){l(this,ac).promise.then(()=>{for(const e of l(this,Um))e()})}transportReady(){l(this,ac).resolve()}requestDataRange(e,t){mt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}ac=new WeakMap,Um=new WeakMap,Hm=new WeakMap,Vm=new WeakMap,Gm=new WeakMap;class oR{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Pe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var rr,rc,kf;class cR{constructor(e,t,n,a=!1){C(this,rc);C(this,rr,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=a?new R2:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new CC,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:a=0,dontFlip:o=!1}={}){return new kp({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:a,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Pe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:a="display",annotationMode:o=sl.ENABLE,transform:c=null,background:h=null,optionalContentConfigPromise:f=null,annotationCanvasMap:p=null,pageColors:g=null,printAnnotationStorage:b=null,isEditing:v=!1,recordOperations:S=!1,operationsFilter:E=null}){var G,Q,K;(G=this._stats)==null||G.time("Overall");const A=this._transport.getRenderingIntent(a,o,b,v),{renderingIntent:_,cacheKey:T}=A;w(this,rr,!1),f||(f=this._transport.getOptionalContentConfig(_));let R=this._intentStates.get(T);R||(R=Object.create(null),this._intentStates.set(T,R)),R.streamReaderCancelTimeout&&(clearTimeout(R.streamReaderCancelTimeout),R.streamReaderCancelTimeout=null);const D=!!(_&In.PRINT);R.displayReadyCapability||(R.displayReadyCapability=Promise.withResolvers(),R.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Q=this._stats)==null||Q.time("Page Request"),this._pumpOperatorList(A));const L=!!(this._pdfBug&&((K=globalThis.StepperManager)!=null&&K.enabled)),O=!this.recordedBBoxes&&(S||L),B=X=>{var he,de;if(R.renderTasks.delete(k),O){const Se=(he=k.gfx)==null?void 0:he.dependencyTracker.take();Se&&(k.stepper&&k.stepper.setOperatorBBoxes(Se,k.gfx.dependencyTracker.takeDebugMetadata()),S&&(this.recordedBBoxes=Se))}D&&w(this,rr,!0),j(this,rc,kf).call(this),X?(k.capability.reject(X),this._abortOperatorList({intentState:R,reason:X instanceof Error?X:new Error(X)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(de=globalThis.Stats)!=null&&de.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new sw({callback:B,params:{canvas:t,canvasContext:e,dependencyTracker:O?new jk(t,R.operatorList.length,L):null,viewport:n,transform:c,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:R.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:g,enableHWA:this._transport.enableHWA,operationsFilter:E});(R.renderTasks||(R.renderTasks=new Set)).add(k);const F=k.task;return Promise.all([R.displayReadyCapability.promise,f]).then(([X,he])=>{var de;if(this.destroyed){B();return}if((de=this._stats)==null||de.time("Rendering"),!(he.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:X,optionalContentConfig:he}),k.operatorListChanged()}).catch(B),F}getOperatorList({intent:e="display",annotationMode:t=sl.ENABLE,printAnnotationStorage:n=null,isEditing:a=!1}={}){var p;function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(e,t,n,a,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=o,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Vf.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,a){function o(){c.read().then(function({value:f,done:p}){if(p){n(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),o()},a)}const c=t.getReader(),h={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),w(this,rr,!1),Promise.all(e)}cleanup(e=!1){w(this,rr,!0);const t=j(this,rc,kf).call(this);return e&&t&&this._stats&&(this._stats=new R2),t}_startRenderPage(e,t){var a,o;const n=this._intentStates.get(t);n&&((a=this._stats)==null||a.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let n=0,a=e.length;n<a;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&j(this,rc,kf).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:a}){const{map:o,transfer:c}=n,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:a},c).getReader(),p=this._intentStates.get(t);p.streamReader=f;const g=()=>{f.read().then(({value:b,done:v})=>{if(v){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,p),g())},b=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const v of p.renderTasks)v.operatorListChanged();j(this,rc,kf).call(this)}if(p.displayReadyCapability)p.displayReadyCapability.reject(b);else if(p.opListReadCapability)p.opListReadCapability.reject(b);else throw b}})};g()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof Jw){let a=lR;t.extraDelay>0&&t.extraDelay<1e3&&(a+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},a);return}}if(e.streamReader.cancel(new Ql(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[a,o]of this._intentStates)if(o===e){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}rr=new WeakMap,rc=new WeakSet,kf=function(){if(!l(this,rr)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,rr,!1),!0};var jl,ji,lr,lc,bx,oc,cc,Vs,C0,RC,LC,Rf,Rd,j0;const St=class St{constructor({name:e=null,port:t=null,verbosity:n=VD()}={}){C(this,Vs);C(this,jl,Promise.withResolvers());C(this,ji,null);C(this,lr,null);C(this,lc,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(l(St,cc).has(t))throw new Error("Cannot use more than one PDFWorker per port.");l(St,cc).set(t,this),j(this,Vs,RC).call(this,t)}else j(this,Vs,LC).call(this)}get promise(){return l(this,jl).promise}get port(){return l(this,lr)}get messageHandler(){return l(this,ji)}destroy(){var e,t;this.destroyed=!0,(e=l(this,lc))==null||e.terminate(),w(this,lc,null),l(St,cc).delete(l(this,lr)),w(this,lr,null),(t=l(this,ji))==null||t.destroy(),w(this,ji,null)}static create(e){const t=l(this,cc).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new St(e)}static get workerSrc(){if(ha.workerSrc)return ha.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Pe(this,"_setupFakeWorkerGlobal",(async()=>l(this,Rd,j0)?l(this,Rd,j0):(await import(this.workerSrc)).WorkerMessageHandler)())}};jl=new WeakMap,ji=new WeakMap,lr=new WeakMap,lc=new WeakMap,bx=new WeakMap,oc=new WeakMap,cc=new WeakMap,Vs=new WeakSet,C0=function(){l(this,jl).resolve(),l(this,ji).send("configure",{verbosity:this.verbosity})},RC=function(e){w(this,lr,e),w(this,ji,new Ef("main","worker",e)),l(this,ji).on("ready",()=>{}),j(this,Vs,C0).call(this)},LC=function(){if(l(St,oc)||l(St,Rd,j0)){j(this,Vs,Rf).call(this);return}let{workerSrc:e}=St;try{St._isSameOrigin(window.location,e)||(e=St._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Ef("main","worker",t),a=()=>{o.abort(),n.destroy(),t.terminate(),this.destroyed?l(this,jl).reject(new Error("Worker was destroyed")):j(this,Vs,Rf).call(this)},o=new AbortController;t.addEventListener("error",()=>{l(this,lc)||a()},{signal:o.signal}),n.on("test",h=>{if(o.abort(),this.destroyed||!h){a();return}w(this,ji,n),w(this,lr,t),w(this,lc,t),j(this,Vs,C0).call(this)}),n.on("ready",h=>{if(o.abort(),this.destroyed){a();return}try{c()}catch{j(this,Vs,Rf).call(this)}});const c=()=>{const h=new Uint8Array;n.send("test",h,[h.buffer])};c();return}catch{Mx("The worker has been disabled.")}j(this,Vs,Rf).call(this)},Rf=function(){l(St,oc)||(Te("Setting up fake worker."),w(St,oc,!0)),St._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){l(this,jl).reject(new Error("Worker was destroyed"));return}const t=new bk;w(this,lr,t);const n=`fake${Qt(St,bx)._++}`,a=new Ef(n+"_worker",n,t);e.setup(a,t),w(this,ji,new Ef(n,n+"_worker",t)),j(this,Vs,C0).call(this)}).catch(e=>{l(this,jl).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Rd=new WeakSet,j0=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},C(St,Rd),C(St,bx,0),C(St,oc,!1),C(St,cc,new WeakMap),Us&&(w(St,oc,!0),ha.workerSrc||(ha.workerSrc="./pdf.worker.mjs")),St._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const a=new URL(t,n);return n.origin===a.origin},St._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},St.fromPort=e=>{if(tk("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return St.create(e)};let $f=St;var or,sa,Ld,Od,cr,uc,Lf;class uR{constructor(e,t,n,a,o,c){C(this,uc);C(this,or,new Map);C(this,sa,new Map);C(this,Ld,new Map);C(this,Od,new Map);C(this,cr,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new CC,this.fontLoader=new hk({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=c,this.setupMessageHandler()}get annotationStorage(){return Pe(this,"annotationStorage",new tS)}getRenderingIntent(e,t=sl.ENABLE,n=null,a=!1,o=!1){let c=In.DISPLAY,h=Fv;switch(e){case"any":c=In.ANY;break;case"display":break;case"print":c=In.PRINT;break;default:Te(`getRenderingIntent - invalid intent: ${e}`)}const f=c&In.PRINT&&n instanceof uC?n:this.annotationStorage;switch(t){case sl.DISABLE:c+=In.ANNOTATIONS_DISABLE;break;case sl.ENABLE:break;case sl.ENABLE_FORMS:c+=In.ANNOTATIONS_FORMS;break;case sl.ENABLE_STORAGE:c+=In.ANNOTATIONS_STORAGE,h=f.serializable;break;default:Te(`getRenderingIntent - invalid annotationMode: ${t}`)}a&&(c+=In.IS_EDITING),o&&(c+=In.OPLIST);const{ids:p,hash:g}=f.modifiedIds,b=[c,h.hash,g];return{renderingIntent:c,cacheKey:b.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=l(this,cr))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const a of l(this,sa).values())e.push(a._destroy());l(this,sa).clear(),l(this,Ld).clear(),l(this,Od).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var a,o;this.commonObjs.clear(),this.fontLoader.clear(),l(this,or).clear(),this.filterFactory.destroy(),Gf.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new Ql("Worker was terminated.")),(o=this.messageHandler)==null||o.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,a)=>{Ge(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},a.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){a.close();return}Ge(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{this._fullReader.cancel(o),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("ReaderHeadersReady",async n=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:o,contentLength:c}=this._fullReader;return(!a||!o)&&(this._lastProgress&&((h=t.onProgress)==null||h.call(t,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=t.onProgress)==null||p.call(t,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:a,isRangeSupported:o,contentLength:c}}),e.on("GetRangeReader",(n,a)=>{Ge(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){a.close();return}a.onPull=()=>{o.read().then(function({value:c,done:h}){if(h){a.close();return}Ge(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{a.error(c)})},a.onCancel=c=>{o.cancel(c),a.ready.catch(h=>{if(!this.destroyed)throw h})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new oR(n,this))}),e.on("DocException",n=>{t._capability.reject(Js(n))}),e.on("PasswordRequest",n=>{w(this,cr,Promise.withResolvers());try{if(!t.onPassword)throw Js(n);const a=o=>{o instanceof Error?l(this,cr).reject(o):l(this,cr).resolve({password:o})};t.onPassword(a,n.code)}catch(a){l(this,cr).reject(a)}return l(this,cr).promise}),e.on("DataLoaded",n=>{var a;(a=t.onProgress)==null||a.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;l(this,sa).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,a,o])=>{var c;if(this.destroyed||this.commonObjs.has(n))return null;switch(a){case"Font":if("error"in o){const b=o.error;Te(`Error during font loading: ${b}`),this.commonObjs.resolve(n,b);break}const h=new Kv(o),f=this._params.pdfBug&&((c=globalThis.FontInspector)!=null&&c.enabled)?(b,v)=>globalThis.FontInspector.fontAdded(b,v):null,p=new fk(h,f,o.extra,o.charProcOperatorList);this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!p.fontExtraProperties&&p.data&&p.clearData(),this.commonObjs.resolve(n,p)});break;case"CopyLocalImage":const{imageRef:g}=o;Ge(g,"The imageRef must be defined.");for(const b of l(this,sa).values())for(const[,v]of b.objs)if((v==null?void 0:v.ref)===g)return v.dataLen?(this.commonObjs.resolve(n,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),e.on("obj",([n,a,o,c])=>{var f;if(this.destroyed)return;const h=l(this,sa).get(a);if(!h.objs.has(n)){if(h._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(o){case"Image":case"Pattern":h.objs.resolve(n,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var a;this.destroyed||(a=t.onProgress)==null||a.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[n.type];if(!a)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Te("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=l(this,Ld).get(t);if(n)return n;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&l(this,Od).set(o.refStr,e);const c=new cR(t,o,this,this._params.pdfBug);return l(this,sa).set(t,c),c});return l(this,Ld).set(t,a),a}getPageIndex(e){return zv(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return j(this,uc,Lf).call(this,"GetFieldObjects")}hasJSActions(){return j(this,uc,Lf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return j(this,uc,Lf).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return j(this,uc,Lf).call(this,"GetOptionalContentConfig").then(t=>new Hk(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,or).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(a=>{var o,c;return{info:a[0],metadata:a[1]?new zk(a[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return l(this,or).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,sa).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,or).clear(),this.filterFactory.destroy(!0),Gf.cleanup()}}cachedPageNumber(e){if(!zv(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,Od).get(t)??null}}or=new WeakMap,sa=new WeakMap,Ld=new WeakMap,Od=new WeakMap,cr=new WeakMap,uc=new WeakSet,Lf=function(e,t=null){const n=l(this,or).get(e);if(n)return n;const a=this.messageHandler.sendWithPromise(e,t);return l(this,or).set(e,a),a};var Tl;class dR{constructor(e){C(this,Tl,null);ae(this,"onContinue",null);ae(this,"onError",null);w(this,Tl,e)}get promise(){return l(this,Tl).capability.promise}cancel(e=0){l(this,Tl).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,Tl).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,Tl);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Tl=new WeakMap;var _l,dc;const Eo=class Eo{constructor({callback:e,params:t,objs:n,commonObjs:a,annotationCanvasMap:o,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:b=!1,pageColors:v=null,enableHWA:S=!1,operationsFilter:E=null}){C(this,_l,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=a,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new dR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=S,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=E}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var f,p;if(this.cancelled)return;if(this._canvas){if(l(Eo,dc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Eo,dc).add(this._canvas)}this._pdfBug&&((f=globalThis.StepperManager)!=null&&f.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:a,background:o,dependencyTracker:c}=this.params,h=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Hu(h,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,c),this.gfx.beginDrawing({transform:a,viewport:n,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(p=this.graphicsReadyCallback)==null||p.call(this)}cancel(e=null,t=0){var n,a,o;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),l(this,_l)&&(window.cancelAnimationFrame(l(this,_l)),w(this,_l,null)),l(Eo,dc).delete(this._canvas),e||(e=new Jw(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(o=(a=this.task).onError)==null||o.call(a,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,_l,window.requestAnimationFrame(()=>{w(this,_l,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Eo,dc).delete(this._canvas),this.callback())))}};_l=new WeakMap,dc=new WeakMap,C(Eo,dc,new WeakSet);let sw=Eo;const hR="5.4.296",fR="f56dc8601";var Cn,hc,Pd,ts,$m,Bd,ur,qm,Ml,Ti,Ym,ct,nw,iw,aw,wo,OC,tl;const en=class en{constructor({editor:e=null,uiManager:t=null}){C(this,ct);C(this,Cn,null);C(this,hc,null);C(this,Pd);C(this,ts,null);C(this,$m,!1);C(this,Bd,!1);C(this,ur,null);C(this,qm);C(this,Ml,null);C(this,Ti,null);var n,a;e?(w(this,Bd,!1),w(this,ur,e)):w(this,Bd,!0),w(this,Ti,(e==null?void 0:e._uiManager)||t),w(this,qm,l(this,Ti)._eventBus),w(this,Pd,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((a=l(this,Ti))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),l(en,Ym)||w(en,Ym,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Pe(this,"_keyboardManager",new Lp([[["Escape","mac+Escape"],en.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],en.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],en.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],en.prototype._moveToPrevious],[["Home","mac+Home"],en.prototype._moveToBeginning],[["End","mac+End"],en.prototype._moveToEnd]]))}renderButton(){const e=w(this,Cn,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",l(this,ur)&&(e.ariaControls=`${l(this,ur).id}_colorpicker_dropdown`);const t=l(this,Ti)._signal;e.addEventListener("click",j(this,ct,wo).bind(this),{signal:t}),e.addEventListener("keydown",j(this,ct,aw).bind(this),{signal:t});const n=w(this,hc,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=l(this,Pd),e.append(n),e}renderMainDropdown(){const e=w(this,ts,j(this,ct,nw).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===l(this,Cn)){j(this,ct,wo).call(this,e);return}const t=e.target.getAttribute("data-color");t&&j(this,ct,iw).call(this,t,e)}_moveToNext(e){var t,n;if(!l(this,ct,tl)){j(this,ct,wo).call(this,e);return}if(e.target===l(this,Cn)){(t=l(this,ts).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=l(this,ts))==null?void 0:t.firstChild)||e.target===l(this,Cn)){l(this,ct,tl)&&this._hideDropdownFromKeyboard();return}l(this,ct,tl)||j(this,ct,wo).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!l(this,ct,tl)){j(this,ct,wo).call(this,e);return}(t=l(this,ts).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,ct,tl)){j(this,ct,wo).call(this,e);return}(t=l(this,ts).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=l(this,ts))==null||e.classList.add("hidden"),l(this,Cn).ariaExpanded="false",(t=l(this,Ml))==null||t.abort(),w(this,Ml,null)}_hideDropdownFromKeyboard(){var e;if(!l(this,Bd)){if(!l(this,ct,tl)){(e=l(this,ur))==null||e.unselect();return}this.hideDropdown(),l(this,Cn).focus({preventScroll:!0,focusVisible:l(this,$m)})}}updateColor(e){if(l(this,hc)&&(l(this,hc).style.backgroundColor=e),!l(this,ts))return;const t=l(this,Ti).highlightColors.values();for(const n of l(this,ts).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=l(this,Cn))==null||e.remove(),w(this,Cn,null),w(this,hc,null),(t=l(this,ts))==null||t.remove(),w(this,ts,null)}};Cn=new WeakMap,hc=new WeakMap,Pd=new WeakMap,ts=new WeakMap,$m=new WeakMap,Bd=new WeakMap,ur=new WeakMap,qm=new WeakMap,Ml=new WeakMap,Ti=new WeakMap,Ym=new WeakMap,ct=new WeakSet,nw=function(){const e=document.createElement("div"),t=l(this,Ti)._signal;e.addEventListener("contextmenu",pi,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,ur)&&(e.id=`${l(this,ur).id}_colorpicker_dropdown`);for(const[n,a]of l(this,Ti).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",a),o.title=n,o.setAttribute("data-l10n-id",l(en,Ym)[n]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=a,o.ariaSelected=a===l(this,Pd),o.addEventListener("click",j(this,ct,iw).bind(this,a),{signal:t}),e.append(o)}return e.addEventListener("keydown",j(this,ct,aw).bind(this),{signal:t}),e},iw=function(e,t){t.stopPropagation(),l(this,qm).dispatch("switchannotationeditorparams",{source:this,type:Ve.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},aw=function(e){en._keyboardManager.exec(this,e)},wo=function(e){if(l(this,ct,tl)){this.hideDropdown();return}if(w(this,$m,e.detail===0),l(this,Ml)||(w(this,Ml,new AbortController),window.addEventListener("pointerdown",j(this,ct,OC).bind(this),{signal:l(this,Ti).combinedSignal(l(this,Ml))})),l(this,Cn).ariaExpanded="true",l(this,ts)){l(this,ts).classList.remove("hidden");return}const t=w(this,ts,j(this,ct,nw).call(this));l(this,Cn).append(t)},OC=function(e){var t;(t=l(this,ts))!=null&&t.contains(e.target)||this.hideDropdown()},tl=function(){return l(this,ts)&&!l(this,ts).classList.contains("hidden")},C(en,Ym,null);let tx=en;var na,Xm,Id,Wm;const Co=class Co{constructor(e){C(this,na,null);C(this,Xm,null);C(this,Id,null);w(this,Xm,e),w(this,Id,e._uiManager),l(Co,Wm)||w(Co,Wm,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(l(this,na))return l(this,na);const{editorType:e,colorType:t,colorValue:n}=l(this,Xm),a=w(this,na,document.createElement("input"));return a.type="color",a.value=n||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",l(Co,Wm)[e]),a.addEventListener("input",()=>{l(this,Id).updateParams(t,a.value)},{signal:l(this,Id)._signal}),a}update(e){l(this,na)&&(l(this,na).value=e)}destroy(){var e;(e=l(this,na))==null||e.remove(),w(this,na,null)}hideDropdown(){}};na=new WeakMap,Xm=new WeakMap,Id=new WeakMap,Wm=new WeakMap,C(Co,Wm,null);let sx=Co;function tE(m){return Math.floor(Math.max(0,Math.min(1,m))*255).toString(16).padStart(2,"0")}function pf(m){return Math.max(0,Math.min(255,255*m))}class sE{static CMYK_G([e,t,n,a]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=pf(e),[e,e,e]}static G_HTML([e]){const t=tE(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(pf)}static RGB_HTML(e){return`#${e.map(tE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,n+a),1-Math.min(1,t+a)]}static CMYK_rgb([e,t,n,a]){return[pf(1-Math.min(1,e+a)),pf(1-Math.min(1,n+a)),pf(1-Math.min(1,t+a))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const a=1-e,o=1-t,c=1-n,h=Math.min(a,o,c);return["CMYK",a,o,c,h]}}class mR{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),n||(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${t}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} ${t}`),a}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){mt("Abstract method `_createSVG` called.")}}class nx extends mR{_createSVG(e){return document.createElementNS(Ba,e)}}const pR=9,Uc=new WeakSet,gR=new Date().getTimezoneOffset()*60*1e3;class nE{static create(e){switch(e.data.annotationType){case Yt.LINK:return new iS(e);case Yt.TEXT:return new bR(e);case Yt.WIDGET:switch(e.data.fieldType){case"Tx":return new yR(e);case"Btn":return e.data.radioButton?new IC(e):e.data.checkBox?new wR(e):new SR(e);case"Ch":return new AR(e);case"Sig":return new vR(e)}return new Vc(e);case Yt.POPUP:return new lw(e);case Yt.FREETEXT:return new VC(e);case Yt.LINE:return new ER(e);case Yt.SQUARE:return new CR(e);case Yt.CIRCLE:return new jR(e);case Yt.POLYLINE:return new GC(e);case Yt.CARET:return new _R(e);case Yt.INK:return new aS(e);case Yt.POLYGON:return new TR(e);case Yt.HIGHLIGHT:return new $C(e);case Yt.UNDERLINE:return new MR(e);case Yt.SQUIGGLY:return new DR(e);case Yt.STRIKEOUT:return new kR(e);case Yt.STAMP:return new qC(e);case Yt.FILEATTACHMENT:return new RR(e);default:return new _t(e)}}}var fc,Fd,ci,Km,rw;const hS=class hS{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:a=!1}={}){C(this,Km);C(this,fc,null);C(this,Fd,!1);C(this,ci,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return hS._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,t=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var h;const e=(h=this.annotationStorage)==null?void 0:h.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:a}=this.data;let o=-1/0,c=-1/0;if((t==null?void 0:t.length)>=8){for(let f=0;f<t.length;f+=8)t[f+1]>c?(c=t[f+1],o=t[f+2]):t[f+1]===c&&(o=Math.max(o,t[f+2]));return[o,c]}if((n==null?void 0:n.length)>=1){for(const f of n)for(let p=0,g=f.length;p<g;p+=2)f[p+1]>c?(c=f[p+1],o=f[p]):f[p+1]===c&&(o=Math.max(o,f[p]));if(o!==1/0)return[o,c]}return a?[a[2],a[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:o,pageY:c}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-o)/n,e[1]=100*(e[1]-c)/a,e}get commentText(){var t,n,a;const{data:e}=this;return((n=(t=this.annotationStorage.getRawValue(`${Uf}${e.id}`))==null?void 0:t.popup)==null?void 0:n.contents)||((a=e.contentsObj)==null?void 0:a.str)||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${Uf}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=l(this,ci))==null?void 0:e.popup)||this.popup)==null||t.remove(),w(this,ci,this.popup=null)}updateEdited(e){var o;if(!this.container)return;e.rect&&(l(this,fc)||w(this,fc,{rect:this.data.rect.slice(0)}));const{rect:t,popup:n}=e;t&&j(this,Km,rw).call(this,t);let a=((o=l(this,ci))==null?void 0:o.popup)||this.popup;!a&&(n!=null&&n.text)&&(this._createPopup(n),a=l(this,ci).popup),a&&(a.updateEdited(e),n!=null&&n.deleted&&(a.remove(),w(this,ci,null),this.popup=null))}resetEdited(){var e;l(this,fc)&&(j(this,Km,rw).call(this,l(this,fc).rect),(e=l(this,ci))==null||e.popup.resetEdited(),w(this,fc,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:a}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),!(this instanceof Vc)&&!(this instanceof iS)&&(o.tabIndex=0);const{style:c}=o;if(c.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof lw){const{rotation:A}=t;return!t.hasOwnCanvas&&A!==0&&this.setRotation(A,o),o}const{width:h,height:f}=this;if(!e&&t.borderStyle.width>0){c.borderWidth=`${t.borderStyle.width}px`;const A=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(A>0||_>0){const R=`calc(${A}px * var(--total-scale-factor)) / calc(${_}px * var(--total-scale-factor))`;c.borderRadius=R}else if(this instanceof IC){const R=`calc(${h}px * var(--total-scale-factor)) / calc(${f}px * var(--total-scale-factor))`;c.borderRadius=R}switch(t.borderStyle.style){case _u.SOLID:c.borderStyle="solid";break;case _u.DASHED:c.borderStyle="dashed";break;case _u.BEVELED:Te("Unimplemented border style: beveled");break;case _u.INSET:Te("Unimplemented border style: inset");break;case _u.UNDERLINE:c.borderBottomStyle="solid";break}const T=t.borderColor||null;T?(w(this,Fd,!0),c.borderColor=pe.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):c.borderWidth=0}const p=pe.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:g,pageHeight:b,pageX:v,pageY:S}=a.rawDims;c.left=`${100*(p[0]-v)/g}%`,c.top=`${100*(p[1]-S)/b}%`;const{rotation:E}=t;return t.hasOwnCanvas||E===0?(c.width=`${100*h/g}%`,c.height=`${100*f/b}%`):this.setRotation(E,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:a}=this.parent.viewport.rawDims;let{width:o,height:c}=this;e%180!==0&&([o,c]=[c,o]),t.style.width=`${100*o/n}%`,t.style.height=`${100*c/a}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,a)=>{const o=a.detail[t],c=o[0],h=o.slice(1);a.target.style[n]=sE[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[n]:sE[`${c}_rgb`](h)})};return Pe(this,"_commonActions",{display:t=>{const{display:n}=t.detail,a=n%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const a of Object.keys(t.detail)){const o=e[a]||n[a];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[a,o]of Object.entries(t)){const c=n[a];if(c){const h={detail:{[a]:o},target:e};c(h),delete t[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,a,o]=this.data.rect.map(A=>Math.fround(A));if(e.length===8){const[A,_,T,R]=e.subarray(2,6);if(a===A&&o===_&&t===T&&n===R)return}const{style:c}=this.container;let h;if(l(this,Fd)){const{borderColor:A,borderWidth:_}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const f=a-t,p=o-n,{svgFactory:g}=this,b=g.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0),b.role="none";const v=g.createElement("defs");b.append(v);const S=g.createElement("clipPath"),E=`clippath_${this.data.id}`;S.setAttribute("id",E),S.setAttribute("clipPathUnits","objectBoundingBox"),v.append(S);for(let A=2,_=e.length;A<_;A+=8){const T=e[A],R=e[A+1],D=e[A+2],L=e[A+3],O=g.createElement("rect"),B=(D-t)/f,k=(o-R)/p,F=(T-D)/f,G=(R-L)/p;O.setAttribute("x",B),O.setAttribute("y",k),O.setAttribute("width",F),O.setAttribute("height",G),S.append(O),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${k}" width="${F}" height="${G}"/>`)}l(this,Fd)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(b),this.container.style.clipPath=`url(#${E})`}_createPopup(e=null){const{data:t}=this;let n,a;e?(n={str:e.text},a=e.date):(n=t.contentsObj,a=t.modificationDate);const o=w(this,ci,new lw({data:{color:t.color,titleObj:t.titleObj,modificationDate:a,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(l(this,ci)||this.popup||this.data.popupRef)}get extraPopupElement(){return l(this,ci)}render(){mt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const a=this._fieldObjects[e];if(a)for(const{page:o,id:c,exportValues:h}of a){if(o===-1||c===t)continue;const f=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!Uc.has(p)){Te(`_getElementsByName - element not allowed: ${c}`);continue}n.push({id:c,exportValue:f,domElement:p})}return n}for(const a of document.getElementsByName(e)){const{exportValue:o}=a,c=a.getAttribute("data-element-id");c!==t&&Uc.has(a)&&n.push({id:c,exportValue:o,domElement:a})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};fc=new WeakMap,Fd=new WeakMap,ci=new WeakMap,Km=new WeakSet,rw=function(e){const{container:{style:t},data:{rect:n,rotation:a},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:h,pageY:f}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-h)/o}%`,t.top=`${100*(c-e[3]+f)/c}%`,a===0?(t.width=`${100*(e[2]-e[0])/o}%`,t.height=`${100*(e[3]-e[1])/c}%`):this.setRotation(a)};let _t=hS;class xR extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var zn,So,PC,BC;class iS extends _t{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});C(this,zn);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,a=document.createElement("a");a.setAttribute("data-element-id",t.id);let o=!1;return t.url?(n.addLinkAttributes(a,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(a,t.action,t.overlaidText),o=!0):t.attachment?(j(this,zn,PC).call(this,a,t.attachment,t.overlaidText,t.attachmentDest),o=!0):t.setOCGState?(j(this,zn,BC).call(this,a,t.setOCGState,t.overlaidText),o=!0):t.dest?(this._bindLink(a,t.dest,t.overlaidText),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,t),o=!0),t.resetForm?(this._bindResetFormAction(a,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(a,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(a),this.container}_bindLink(t,n,a=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&j(this,zn,So).call(this),a&&(t.title=a)}_bindNamedAction(t,n,a=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),a&&(t.title=a),j(this,zn,So).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const c=a.get(o);c&&(t[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),j(this,zn,So).call(this)}_bindResetFormAction(t,n){const a=t.onclick;if(a||(t.href=this.linkService.getAnchorUrl("")),j(this,zn,So).call(this),!this._fieldObjects){Te('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(t.onclick=()=>!1);return}t.onclick=()=>{var b;a==null||a();const{fields:o,refs:c,include:h}=n,f=[];if(o.length!==0||c.length!==0){const v=new Set(c);for(const S of o){const E=this._fieldObjects[S]||[];for(const{id:A}of E)v.add(A)}for(const S of Object.values(this._fieldObjects))for(const E of S)v.has(E.id)===h&&f.push(E)}else for(const v of Object.values(this._fieldObjects))f.push(...v);const p=this.annotationStorage,g=[];for(const v of f){const{id:S}=v;switch(g.push(S),v.type){case"text":{const A=v.defaultValue||"";p.setValue(S,{value:A});break}case"checkbox":case"radiobutton":{const A=v.defaultValue===v.exportValues;p.setValue(S,{value:A});break}case"combobox":case"listbox":{const A=v.defaultValue||"";p.setValue(S,{value:A});break}default:continue}const E=document.querySelector(`[data-element-id="${S}"]`);if(E){if(!Uc.has(E)){Te(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:g,name:"ResetForm"}})),!1}}}zn=new WeakSet,So=function(){this.container.setAttribute("data-internal-link","")},PC=function(t,n,a="",o=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:a&&(t.title=a),t.onclick=()=>{var c;return(c=this.downloadManager)==null||c.openOrDownloadData(n.content,n.filename,o),!1},j(this,zn,So).call(this)},BC=function(t,n,a=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),a&&(t.title=a),j(this,zn,So).call(this)};class bR extends _t{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Vc extends _t{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Cs.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,a,o){n.includes("mouse")?e.addEventListener(n,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):e.addEventListener(n,c=>{var h;if(n==="blur"){if(!t.focused||!c.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}o&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:o(c)}}))})}_setEventListeners(e,t,n,a){var o,c,h;for(const[f,p]of n)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,f,p,a),p==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":pe.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||pR,o=e.style;let c;const h=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(p/(rv*a))||1,b=p/g;c=Math.min(a,f(b/rv))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(a,f(p/rv))}o.fontSize=`calc(${c}px * var(--total-scale-factor))`,o.color=pe.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class yR extends Vc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,a){const o=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[t]=n),o.setValue(c.id,{[a]:n})}render(){var a,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const c=e.getValue(t,{value:this.data.fieldValue});let h=c.value||"";const f=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let p=c.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const g={userValue:h,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??h,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",p??h),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Uc.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:b,datetimeType:v,timeStep:S}=this.data,E=!!v&&this.enableScripting;b&&(n.title=b),this._setRequired(n,this.data.required),f&&(n.maxLength=f),n.addEventListener("input",_=>{e.setValue(t,{value:_.target.value}),this.setPropertyOnSiblings(n,"value",_.target.value,"value"),g.formattedValue=null}),n.addEventListener("resetform",_=>{const T=this.data.defaultFieldValue??"";n.value=g.userValue=T,g.formattedValue=null});let A=_=>{const{formattedValue:T}=g;T!=null&&(_.target.value=T),_.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",T=>{var D;if(g.focused)return;const{target:R}=T;if(E&&(R.type=v,S&&(R.step=S)),g.userValue){const L=g.userValue;if(E)if(v==="time"){const O=new Date(L),B=[O.getHours(),O.getMinutes(),O.getSeconds()];R.value=B.map(k=>k.toString().padStart(2,"0")).join(":")}else R.value=new Date(L-gR).toISOString().split(v==="date"?"T":".",1)[0];else R.value=L}g.lastCommittedValue=R.value,g.commitKey=1,(D=this.data.actions)!=null&&D.Focus||(g.focused=!0)}),n.addEventListener("updatefromsandbox",T=>{this.showElementAndHideCanvas(T.target);const R={value(D){g.userValue=D.detail.value??"",E||e.setValue(t,{value:g.userValue.toString()}),D.target.value=g.userValue},formattedValue(D){const{formattedValue:L}=D.detail;g.formattedValue=L,L!=null&&D.target!==document.activeElement&&(D.target.value=L);const O={formattedValue:L};E&&(O.value=L),e.setValue(t,O)},selRange(D){D.target.setSelectionRange(...D.detail.selRange)},charLimit:D=>{var k;const{charLimit:L}=D.detail,{target:O}=D;if(L===0){O.removeAttribute("maxLength");return}O.setAttribute("maxLength",L);let B=g.userValue;!B||B.length<=L||(B=B.slice(0,L),O.value=g.userValue=B,e.setValue(t,{value:B}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:B,willCommit:!0,commitKey:1,selStart:O.selectionStart,selEnd:O.selectionEnd}}))}};this._dispatchEventFromSandbox(R,T)}),n.addEventListener("keydown",T=>{var L;g.commitKey=1;let R=-1;if(T.key==="Escape"?R=0:T.key==="Enter"&&!this.data.multiLine?R=2:T.key==="Tab"&&(g.commitKey=3),R===-1)return;const{value:D}=T.target;g.lastCommittedValue!==D&&(g.lastCommittedValue=D,g.userValue=D,(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:R,selStart:T.target.selectionStart,selEnd:T.target.selectionEnd}}))});const _=A;A=null,n.addEventListener("blur",T=>{var L,O;if(!g.focused||!T.relatedTarget)return;(L=this.data.actions)!=null&&L.Blur||(g.focused=!1);const{target:R}=T;let{value:D}=R;if(E){if(D&&v==="time"){const B=D.split(":").map(k=>parseInt(k,10));D=new Date(2e3,0,1,B[0],B[1],B[2]||0).valueOf(),R.step=""}else D.includes("T")||(D=`${D}T00:00`),D=new Date(D).valueOf();R.type="text"}g.userValue=D,g.lastCommittedValue!==D&&((O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:g.commitKey,selStart:T.target.selectionStart,selEnd:T.target.selectionEnd}})),_(T)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",T=>{var G;g.lastCommittedValue=null;const{data:R,target:D}=T,{value:L,selectionStart:O,selectionEnd:B}=D;let k=O,F=B;switch(T.inputType){case"deleteWordBackward":{const Q=L.substring(0,O).match(/\w*[^\w]*$/);Q&&(k-=Q[0].length);break}case"deleteWordForward":{const Q=L.substring(O).match(/^[^\w]*\w*/);Q&&(F+=Q[0].length);break}case"deleteContentBackward":O===B&&(k-=1);break;case"deleteContentForward":O===B&&(F+=1);break}T.preventDefault(),(G=this.linkService.eventBus)==null||G.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,change:R||"",willCommit:!1,selStart:k,selEnd:F}})}),this._setEventListeners(n,g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],T=>T.target.value)}if(A&&n.addEventListener("blur",A),this.data.comb){const T=(this.data.rect[2]-this.data.rect[0])/f;n.classList.add("comb"),n.style.letterSpacing=`calc(${T}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class vR extends Vc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class wR extends Vc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let a=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",e.setValue(n,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Uc.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,a&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=0,o.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,n)){const g=f&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}e.setValue(n,{value:f})}),o.addEventListener("resetform",c=>{const h=t.defaultFieldValue||"Off";c.target.checked=h===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",e.setValue(n,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class IC extends Vc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let a=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof a=="string"&&(a=a!==t.buttonValue,e.setValue(n,{value:a})),a)for(const c of this._getElementsByName(t.fieldName,n))e.setValue(c.id,{value:!1});const o=document.createElement("input");if(Uc.add(o),o.setAttribute("data-element-id",n),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,a&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,n))e.setValue(p.id,{value:!1});e.setValue(n,{value:f})}),o.addEventListener("resetform",c=>{const h=t.defaultFieldValue;c.target.checked=h!=null&&h===t.buttonValue}),this.enableScripting&&this.hasJSActions){const c=t.buttonValue;o.addEventListener("updatefromsandbox",h=>{const f={value:p=>{const g=c===p.detail.value;for(const b of this._getElementsByName(p.target.name)){const v=g&&b.id===n;b.domElement&&(b.domElement.checked=v),e.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class SR extends iS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class AR extends Vc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),a=document.createElement("select");Uc.add(a),a.setAttribute("data-element-id",t),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",g=>{const b=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===b});for(const g of this.data.options){const b=document.createElement("option");b.textContent=g.displayValue,b.value=g.exportValue,n.value.includes(g.exportValue)&&(b.setAttribute("selected",!0),o=!1),a.append(b)}let c=null;if(o){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),a.prepend(g),c=()=>{g.remove(),a.removeEventListener("input",c),c=null},a.addEventListener("input",c)}const h=g=>{const b=g?"value":"textContent",{options:v,multiple:S}=a;return S?Array.prototype.filter.call(v,E=>E.selected).map(E=>E[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let f=h(!1);const p=g=>{const b=g.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",g=>{const b={value(v){c==null||c();const S=v.detail.value,E=new Set(Array.isArray(S)?S:[S]);for(const A of a.options)A.selected=E.has(A.value);e.setValue(t,{value:h(!0)}),f=h(!1)},multipleSelection(v){a.multiple=!0},remove(v){const S=a.options,E=v.detail.remove;S[E].selected=!1,a.remove(E),S.length>0&&Array.prototype.findIndex.call(S,_=>_.selected)===-1&&(S[0].selected=!0),e.setValue(t,{value:h(!0),items:p(v)}),f=h(!1)},clear(v){for(;a.length!==0;)a.remove(0);e.setValue(t,{value:null,items:[]}),f=h(!1)},insert(v){const{index:S,displayValue:E,exportValue:A}=v.detail.insert,_=a.children[S],T=document.createElement("option");T.textContent=E,T.value=A,_?_.before(T):a.append(T),e.setValue(t,{value:h(!0),items:p(v)}),f=h(!1)},items(v){const{items:S}=v.detail;for(;a.length!==0;)a.remove(0);for(const E of S){const{displayValue:A,exportValue:_}=E,T=document.createElement("option");T.textContent=A,T.value=_,a.append(T)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(t,{value:h(!0),items:p(v)}),f=h(!1)},indices(v){const S=new Set(v.detail.indices);for(const E of v.target.options)E.selected=S.has(E.index);e.setValue(t,{value:h(!0)}),f=h(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,g)}),a.addEventListener("input",g=>{var S;const b=h(!0),v=h(!1);e.setValue(t,{value:b}),g.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:f,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):a.addEventListener("input",function(g){e.setValue(t,{value:h(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}var Qm,ow;class lw extends _t{constructor(t){const{data:n,elements:a,parent:o}=t,c=!!o._commentManager;super(t,{isRenderable:!c&&_t._hasPopupData(n)});C(this,Qm);if(this.elements=a,c&&_t._hasPopupData(n)){const h=this.popup=j(this,Qm,ow).call(this);for(const f of a)f.popup=h}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=j(this,Qm,ow).call(this),a=[];for(const o of this.elements)o.popup=n,o.container.ariaHasPopup="dialog",a.push(o.data.id),o.addHighlightArea();return this.container.setAttribute("aria-controls",a.map(o=>`${Zw}${o}`).join(",")),this.container}}Qm=new WeakSet,ow=function(){return new NR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var jn,Dl,yx,vx,zd,Ud,Lt,ia,kl,mc,Hd,Vd,aa,Tn,dr,hr,rs,fr,Rl,Zm,mr,Gd,pc,Ll,Rs,Ol,Oe,T0,cw,uw,dw,_0,hw,FC,zC,UC,HC,M0,D0,fw;class NR{constructor({container:e,color:t,elements:n,titleObj:a,modificationDate:o,contentsObj:c,richText:h,parent:f,rect:p,parentRect:g,open:b,commentManager:v=null}){C(this,Oe);C(this,jn,null);C(this,Dl,j(this,Oe,UC).bind(this));C(this,yx,j(this,Oe,fw).bind(this));C(this,vx,j(this,Oe,D0).bind(this));C(this,zd,j(this,Oe,M0).bind(this));C(this,Ud,null);C(this,Lt,null);C(this,ia,null);C(this,kl,null);C(this,mc,null);C(this,Hd,null);C(this,Vd,null);C(this,aa,!1);C(this,Tn,null);C(this,dr,null);C(this,hr,null);C(this,rs,null);C(this,fr,null);C(this,Rl,null);C(this,Zm,null);C(this,mr,null);C(this,Gd,null);C(this,pc,null);C(this,Ll,!1);C(this,Rs,null);C(this,Ol,null);w(this,Lt,e),w(this,Gd,a),w(this,ia,c),w(this,mr,h),w(this,Hd,f),w(this,Ud,t),w(this,Zm,p),w(this,Vd,g),w(this,mc,n),w(this,jn,v),w(this,Rs,n[0]),w(this,kl,W0.toDateObject(o)),this.trigger=n.flatMap(S=>S.getElementsToTriggerPopup()),v?this.renderCommentButton():(j(this,Oe,T0).call(this),l(this,Lt).hidden=!0,b&&j(this,Oe,M0).call(this))}renderCommentButton(){if(l(this,rs)||(l(this,fr)||j(this,Oe,cw).call(this),!l(this,fr)))return;const{signal:e}=w(this,dr,new AbortController),t=!!l(this,Rs).extraPopupElement,n=()=>{l(this,jn).toggleCommentPopup(this,!0,void 0,!t)},a=()=>{l(this,jn).toggleCommentPopup(this,!1,!0,!t)},o=()=>{l(this,jn).toggleCommentPopup(this,!1,!1)};if(t){w(this,rs,l(this,Rs).container);for(const c of this.trigger)c.ariaHasPopup="dialog",c.ariaControls="commentPopup",c.addEventListener("keydown",l(this,Dl),{signal:e}),c.addEventListener("click",n,{signal:e}),c.addEventListener("pointerenter",a,{signal:e}),c.addEventListener("pointerleave",o,{signal:e}),c.classList.add("popupTriggerArea")}else{const c=w(this,rs,document.createElement("button"));c.className="annotationCommentButton";const h=l(this,Rs).container;c.style.zIndex=h.style.zIndex+1,c.tabIndex=0,c.ariaHasPopup="dialog",c.ariaControls="commentPopup",c.setAttribute("data-l10n-id","pdfjs-show-comment-button"),j(this,Oe,dw).call(this),j(this,Oe,uw).call(this),c.addEventListener("keydown",l(this,Dl),{signal:e}),c.addEventListener("click",n,{signal:e}),c.addEventListener("pointerenter",a,{signal:e}),c.addEventListener("pointerleave",o,{signal:e}),h.after(c)}}get commentButtonColor(){const{color:e,opacity:t}=l(this,Rs).commentData;return e?l(this,Hd)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=l(this,rs))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:a,modificationDate:o}=l(this,Rs).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:a,modificationDate:o}}get elementBeforePopup(){return l(this,rs)}get comment(){return l(this,Ol)||w(this,Ol,l(this,Rs).commentText),l(this,Ol)}set comment(e){e!==this.comment&&(l(this,Rs).commentText=w(this,Ol,e))}get parentBoundingClientRect(){return l(this,Rs).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){l(this,rs)&&(l(this,rs).classList.toggle("selected",e),l(this,rs).ariaExpanded=t)}setSelectedCommentButton(e){l(this,rs).classList.toggle("selected",e)}get commentPopupPosition(){if(l(this,Rl))return l(this,Rl);const{x:e,y:t,height:n}=l(this,rs).getBoundingClientRect(),{x:a,y:o,width:c,height:h}=l(this,Rs).layer.getBoundingClientRect();return[(e-a)/c,(t+n-o)/h]}set commentPopupPosition(e){w(this,Rl,e)}hasDefaultPopupPosition(){return l(this,Rl)===null}get commentButtonPosition(){return l(this,fr)}get commentButtonWidth(){return l(this,rs).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=l(this,Rl)||this.commentButtonPosition.map(p=>p/100),a=this.parentBoundingClientRect,{x:o,y:c,width:h,height:f}=a;l(this,jn).showDialog(null,this,o+t*h,c+n*f,{...e,parentDimensions:a})}render(){var n,a;if(l(this,Tn))return;const e=w(this,Tn,document.createElement("div"));if(e.className="popup",l(this,Ud)){const o=e.style.outlineColor=pe.makeHexColor(...l(this,Ud));e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`}const t=document.createElement("span");if(t.className="header",(n=l(this,Gd))!=null&&n.str){const o=document.createElement("span");o.className="title",t.append(o),{dir:o.dir,str:o.textContent}=l(this,Gd)}if(e.append(t),l(this,kl)){const o=document.createElement("time");o.className="popupDate",o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,kl).valueOf()})),o.dateTime=l(this,kl).toISOString(),t.append(o)}kE({html:l(this,Oe,_0)||l(this,ia).str,dir:(a=l(this,ia))==null?void 0:a.dir,className:"popupContent"},e),l(this,Lt).append(e)}updateEdited({rect:e,popup:t,deleted:n}){var a;if(l(this,jn)){n?(this.remove(),w(this,Ol,null)):t&&(t.deleted?this.remove():(j(this,Oe,dw).call(this),w(this,Ol,t.text))),e&&(w(this,fr,null),j(this,Oe,cw).call(this),j(this,Oe,uw).call(this));return}if(n||t!=null&&t.deleted){this.remove();return}j(this,Oe,T0).call(this),l(this,pc)||w(this,pc,{contentsObj:l(this,ia),richText:l(this,mr)}),e&&w(this,hr,null),t&&t.text&&(w(this,mr,j(this,Oe,zC).call(this,t.text)),w(this,kl,W0.toDateObject(t.date)),w(this,ia,null)),(a=l(this,Tn))==null||a.remove(),w(this,Tn,null)}resetEdited(){var e;l(this,pc)&&({contentsObj:Qt(this,ia)._,richText:Qt(this,mr)._}=l(this,pc),w(this,pc,null),(e=l(this,Tn))==null||e.remove(),w(this,Tn,null),w(this,hr,null))}remove(){var e,t,n;if((e=l(this,dr))==null||e.abort(),w(this,dr,null),(t=l(this,Tn))==null||t.remove(),w(this,Tn,null),w(this,Ll,!1),w(this,aa,!1),(n=l(this,rs))==null||n.remove(),w(this,rs,null),this.trigger)for(const a of this.trigger)a.classList.remove("popupTriggerArea")}forceHide(){w(this,Ll,this.isVisible),l(this,Ll)&&(l(this,Lt).hidden=!0)}maybeShow(){l(this,jn)||(j(this,Oe,T0).call(this),l(this,Ll)&&(l(this,Tn)||j(this,Oe,D0).call(this),w(this,Ll,!1),l(this,Lt).hidden=!1))}get isVisible(){return l(this,jn)?!1:l(this,Lt).hidden===!1}}jn=new WeakMap,Dl=new WeakMap,yx=new WeakMap,vx=new WeakMap,zd=new WeakMap,Ud=new WeakMap,Lt=new WeakMap,ia=new WeakMap,kl=new WeakMap,mc=new WeakMap,Hd=new WeakMap,Vd=new WeakMap,aa=new WeakMap,Tn=new WeakMap,dr=new WeakMap,hr=new WeakMap,rs=new WeakMap,fr=new WeakMap,Rl=new WeakMap,Zm=new WeakMap,mr=new WeakMap,Gd=new WeakMap,pc=new WeakMap,Ll=new WeakMap,Rs=new WeakMap,Ol=new WeakMap,Oe=new WeakSet,T0=function(){var t;if(l(this,dr))return;w(this,dr,new AbortController);const{signal:e}=l(this,dr);for(const n of this.trigger)n.addEventListener("click",l(this,zd),{signal:e}),n.addEventListener("pointerenter",l(this,vx),{signal:e}),n.addEventListener("pointerleave",l(this,yx),{signal:e}),n.classList.add("popupTriggerArea");for(const n of l(this,mc))(t=n.container)==null||t.addEventListener("keydown",l(this,Dl),{signal:e})},cw=function(){const e=l(this,mc).find(t=>t.hasCommentButton);e&&w(this,fr,e._normalizePoint(e.commentButtonPosition))},uw=function(){if(l(this,Rs).extraPopupElement&&!l(this,Rs).editor)return;this.renderCommentButton();const[e,t]=l(this,fr),{style:n}=l(this,rs);n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`},dw=function(){l(this,Rs).extraPopupElement||(this.renderCommentButton(),l(this,rs).style.backgroundColor=this.commentButtonColor||"")},_0=function(){const e=l(this,mr),t=l(this,ia);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,mr).html||null},hw=function(){var e,t,n;return((n=(t=(e=l(this,Oe,_0))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},FC=function(){var e,t,n;return((n=(t=(e=l(this,Oe,_0))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},zC=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},a={style:{color:l(this,Oe,FC),fontSize:l(this,Oe,hw)?`calc(${l(this,Oe,hw)}px * var(--total-scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:a});return n},UC=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,aa))&&j(this,Oe,M0).call(this)},HC=function(){if(l(this,hr)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:a,pageY:o}}}=l(this,Hd);let c=!!l(this,Vd),h=c?l(this,Vd):l(this,Zm);for(const E of l(this,mc))if(!h||pe.intersect(E.data.rect,h)!==null){h=E.data.rect,c=!0;break}const f=pe.normalizeRect([h[0],e[3]-h[1]+e[1],h[2],e[3]-h[3]+e[1]]),g=c?h[2]-h[0]+5:0,b=f[0]+g,v=f[1];w(this,hr,[100*(b-a)/t,100*(v-o)/n]);const{style:S}=l(this,Lt);S.left=`${l(this,hr)[0]}%`,S.top=`${l(this,hr)[1]}%`},M0=function(){if(l(this,jn)){l(this,jn).toggleCommentPopup(this,!1);return}w(this,aa,!l(this,aa)),l(this,aa)?(j(this,Oe,D0).call(this),l(this,Lt).addEventListener("click",l(this,zd)),l(this,Lt).addEventListener("keydown",l(this,Dl))):(j(this,Oe,fw).call(this),l(this,Lt).removeEventListener("click",l(this,zd)),l(this,Lt).removeEventListener("keydown",l(this,Dl)))},D0=function(){l(this,Tn)||this.render(),this.isVisible?l(this,aa)&&l(this,Lt).classList.add("focused"):(j(this,Oe,HC).call(this),l(this,Lt).hidden=!1,l(this,Lt).style.zIndex=parseInt(l(this,Lt).style.zIndex)+1e3)},fw=function(){l(this,Lt).classList.remove("focused"),!(l(this,aa)||!this.isVisible)&&(l(this,Lt).hidden=!0,l(this,Lt).style.zIndex=parseInt(l(this,Lt).style.zIndex)-1e3)};class VC extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Jm;class ER extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,Jm,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:a}=this,o=this.svgFactory.create(n,a,!0),c=w(this,Jm,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),c.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),c.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),c.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),c.setAttribute("stroke-width",t.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Jm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jm=new WeakMap;var ep;class CR extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,ep,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:a}=this,o=this.svgFactory.create(n,a,!0),c=t.borderStyle.width,h=w(this,ep,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",n-c),h.setAttribute("height",a-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,ep)}addHighlightArea(){this.container.classList.add("highlightArea")}}ep=new WeakMap;var tp;class jR extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,tp,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:a}=this,o=this.svgFactory.create(n,a,!0),c=t.borderStyle.width,h=w(this,tp,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",n/2),h.setAttribute("cy",a/2),h.setAttribute("rx",n/2-c/2),h.setAttribute("ry",a/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),o.append(h),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,tp)}addHighlightArea(){this.container.classList.add("highlightArea")}}tp=new WeakMap;var sp;class GC extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,sp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:a,popupRef:o},width:c,height:h}=this;if(!n)return this.container;const f=this.svgFactory.create(c,h,!0);let p=[];for(let b=0,v=n.length;b<v;b+=2){const S=n[b]-t[0],E=t[3]-n[b+1];p.push(`${S},${E}`)}p=p.join(" ");const g=w(this,sp,this.svgFactory.createElement(this.svgElementName));return g.setAttribute("points",p),g.setAttribute("stroke-width",a.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),f.append(g),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,sp)}addHighlightArea(){this.container.classList.add("highlightArea")}}sp=new WeakMap;class TR extends GC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _R extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var np,gc,ip,mw;class aS extends _t{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,ip);C(this,np,null);C(this,gc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Me.HIGHLIGHT:Me.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:a,borderStyle:o,popupRef:c}}=this,{transform:h,width:f,height:p}=j(this,ip,mw).call(this,n,t),g=this.svgFactory.create(f,p,!0),b=w(this,np,this.svgFactory.createElement("svg:g"));g.append(b),b.setAttribute("stroke-width",o.width||1),b.setAttribute("stroke-linecap","round"),b.setAttribute("stroke-linejoin","round"),b.setAttribute("stroke-miterlimit",10),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),b.setAttribute("transform",h);for(let v=0,S=a.length;v<S;v++){const E=this.svgFactory.createElement(this.svgElementName);l(this,gc).push(E),E.setAttribute("points",a[v].join(",")),b.append(E)}return!c&&this.hasPopupData&&this._createPopup(),this.container.append(g),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:a,rect:o}=t,c=l(this,np);if(n>=0&&c.setAttribute("stroke-width",n||1),a)for(let h=0,f=l(this,gc).length;h<f;h++)l(this,gc)[h].setAttribute("points",a[h].join(","));if(o){const{transform:h,width:f,height:p}=j(this,ip,mw).call(this,this.data.rotation,o);c.parentElement.setAttribute("viewBox",`0 0 ${f} ${p}`),c.setAttribute("transform",h)}}getElementsToTriggerPopup(){return l(this,gc)}addHighlightArea(){this.container.classList.add("highlightArea")}}np=new WeakMap,gc=new WeakMap,ip=new WeakSet,mw=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class $C extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Me.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class MR extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class DR extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class kR extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class qC extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Me.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ap,rp,pw;class RR extends _t{constructor(t){var a;super(t,{isRenderable:!0});C(this,rp);C(this,ap,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let a;n.hasAppearance||n.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),a.addEventListener("dblclick",j(this,rp,pw).bind(this)),w(this,ap,a);const{isMac:o}=Cs.platform;return t.addEventListener("keydown",c=>{c.key==="Enter"&&(o?c.metaKey:c.ctrlKey)&&j(this,rp,pw).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),t.append(a),t}getElementsToTriggerPopup(){return l(this,ap)}addHighlightArea(){this.container.classList.add("highlightArea")}}ap=new WeakMap,rp=new WeakSet,pw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var $d,xc,qd,Pl,lp,bc,eo,xw,bw;const fS=class fS{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:a,page:o,viewport:c,structTreeLayer:h,commentManager:f,linkService:p,annotationStorage:g}){C(this,eo);C(this,$d,null);C(this,xc,null);C(this,qd,null);C(this,Pl,new Map);C(this,lp,null);C(this,bc,null);this.div=e,w(this,$d,t),w(this,xc,n),w(this,lp,h||null),w(this,bc,p||null),w(this,qd,g||new tS),this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=f||null}hasEditableAnnotations(){return l(this,Pl).size>0}async render(e){var c,h,f;const{annotations:t}=e,n=this.div;Fc(n,this.viewport);const a=new Map,o={data:null,layer:n,linkService:l(this,bc),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new nx,annotationStorage:l(this,qd),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const p of t){if(p.noHTML)continue;const g=p.annotationType===Yt.POPUP;if(g){const S=a.get(p.id);if(!S)continue;o.elements=S}else if(p.rect[2]===p.rect[0]||p.rect[3]===p.rect[1])continue;o.data=p;const b=nE.create(o);if(!b.isRenderable)continue;if(!g&&p.popupRef){const S=a.get(p.popupRef);S?S.push(b):a.set(p.popupRef,[b])}const v=b.render();p.hidden&&(v.style.visibility="hidden"),await j(this,eo,xw).call(this,v,p.id,o.elements),(h=(c=b.extraPopupElement)==null?void 0:c.popup)==null||h.renderCommentButton(),b._isEditable&&(l(this,Pl).set(b.data.id,b),(f=this._annotationEditorUIManager)==null||f.renderAnnotationElement(b))}j(this,eo,bw).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:l(this,bc),svgFactory:new nx,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=fS._defaultBorderStyle),t.data=n;const a=nE.create(t);if(!a.isRenderable)continue;const o=a.render();await j(this,eo,xw).call(this,o,n.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Fc(t,{rotation:e.rotation}),j(this,eo,bw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,Pl).values())}getEditableAnnotation(e){return l(this,Pl).get(e)}addFakeAnnotation(e){var h;const{div:t}=this,{id:n,rotation:a}=e,o=new xR({data:{id:n,rect:e.getPDFRect(),rotation:a},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:l(this,bc),annotationStorage:l(this,qd)}),c=o.render();return t.append(c),(h=l(this,$d))==null||h.moveElementInDOM(t,c,c,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Pe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:_u.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};$d=new WeakMap,xc=new WeakMap,qd=new WeakMap,Pl=new WeakMap,lp=new WeakMap,bc=new WeakMap,eo=new WeakSet,xw=async function(e,t,n){var h,f;const a=e.firstChild||e,o=a.id=`${Zw}${t}`,c=await((h=l(this,lp))==null?void 0:h.getAriaAttributes(o));if(c)for(const[p,g]of c)a.setAttribute(p,g);n?n.at(-1).container.after(e):(this.div.append(e),(f=l(this,$d))==null||f.moveElementInDOM(this.div,e,a,!1))},bw=function(){var t;if(!l(this,xc))return;const e=this.div;for(const[n,a]of l(this,xc)){const o=e.querySelector(`[data-annotation-id="${n}"]`);if(!o)continue;a.className="annotationContent";const{firstChild:c}=o;c?c.nodeName==="CANVAS"?c.replaceWith(a):c.classList.contains("annotationContent")?c.after(a):c.before(a):o.append(a);const h=l(this,Pl).get(n);h&&(h._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,o.id,a),h._hasNoCanvas=!1):h.canvas=a)}l(this,xc).clear()};let gw=fS;const c0=/\r\n?|\n/g;var _n,op,yc,Mn,Wt,YC,XC,WC,k0,Er,R0,L0,KC,vw,QC;const vt=class vt extends gt{constructor(t){super({...t,name:"freeTextEditor"});C(this,Wt);C(this,_n,"");C(this,op,`${this.id}-editor`);C(this,yc,null);C(this,Mn);ae(this,"_colorPicker",null);this.color=t.color||vt._defaultColor||gt._defaultLineColor,w(this,Mn,t.fontSize||vt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=vt.prototype,n=c=>c.isEmpty(),a=zc.TRANSLATE_SMALL,o=zc.TRANSLATE_BIG;return Pe(this,"_keyboardManager",new Lp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[a,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,a],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(t,n){gt.initialize(t,n);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Ve.FREETEXT_SIZE:vt._defaultFontSize=n;break;case Ve.FREETEXT_COLOR:vt._defaultColor=n;break}}updateParams(t,n){switch(t){case Ve.FREETEXT_SIZE:j(this,Wt,YC).call(this,n);break;case Ve.FREETEXT_COLOR:j(this,Wt,XC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ve.FREETEXT_SIZE,vt._defaultFontSize],[Ve.FREETEXT_COLOR,vt._defaultColor||gt._defaultLineColor]]}get propertiesToUpdate(){return[[Ve.FREETEXT_SIZE,l(this,Mn)],[Ve.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new sx(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ve.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-vt._internalPadding*t,-(vt._internalPadding+l(this,Mn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),w(this,yc,new AbortController);const t=this._uiManager.combinedSignal(l(this,yc));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,op)),this._isDraggable=!0,(t=l(this,yc))==null||t.abort(),w(this,yc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,_n),n=w(this,_n,j(this,Wt,WC).call(this).trimEnd());if(t===n)return;const a=o=>{if(w(this,_n,o),!o){this.remove();return}j(this,Wt,L0).call(this),this._uiManager.rebuild(this),j(this,Wt,k0).call(this)};this.addCommands({cmd:()=>{a(n)},undo:()=>{a(t)},mustExec:!1}),j(this,Wt,k0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){vt._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,op)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${l(this,Mn)}px * var(--total-scale-factor))`,a.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[o,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[g,b]=this.pageDimensions,[v,S]=this.pageTranslation;let E,A;switch(this.rotation){case 0:E=t+(h[0]-v)/g,A=n+this.height-(h[1]-S)/b;break;case 90:E=t+(h[0]-v)/g,A=n-(h[1]-S)/b,[f,p]=[p,-f];break;case 180:E=t-this.width+(h[0]-v)/g,A=n-(h[1]-S)/b,[f,p]=[-f,-p];break;case 270:E=t+(h[0]-v-this.height*b)/g,A=n+(h[1]-S-this.width*g)/b,[f,p]=[-p,f];break}this.setAt(E*o,A*c,f,p)}else this._moveAfterPaste(t,n);j(this,Wt,L0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var E,A,_;const n=t.clipboardData||window.clipboardData,{types:a}=n;if(a.length===1&&a[0]==="text/plain")return;t.preventDefault();const o=j(E=vt,Er,vw).call(E,n.getData("text")||"").replaceAll(c0,`
`);if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!o.includes(`
`)){h.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:p}=h,g=[],b=[];if(f.nodeType===Node.TEXT_NODE){const T=f.parentElement;if(b.push(f.nodeValue.slice(p).replaceAll(c0,"")),T!==this.editorDiv){let R=g;for(const D of this.editorDiv.childNodes){if(D===T){R=b;continue}R.push(j(A=vt,Er,R0).call(A,D))}}g.push(f.nodeValue.slice(0,p).replaceAll(c0,""))}else if(f===this.editorDiv){let T=g,R=0;for(const D of this.editorDiv.childNodes)R++===p&&(T=b),T.push(j(_=vt,Er,R0).call(_,D))}w(this,_n,`${g.join(`
`)}${o}${b.join(`
`)}`),j(this,Wt,L0).call(this);const v=new Range;let S=Math.sumPrecise(g.map(T=>T.length));for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const R=T.nodeValue.length;if(S<=R){v.setStart(T,S),v.setEnd(T,S);break}S-=R}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=vt._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,a){var h;let o=null;if(t instanceof VC){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:g,rotation:b,id:v,popupRef:S,richText:E,contentsObj:A,creationDate:_,modificationDate:T},textContent:R,textPosition:D,parent:{page:{pageNumber:L}}}=t;if(!R||R.length===0)return null;o=t={annotationType:Me.FREETEXT,color:Array.from(p),fontSize:f,value:R.join(`
`),position:D,pageIndex:L-1,rect:g.slice(0),rotation:b,annotationElementId:v,id:v,deleted:!1,popupRef:S,comment:(A==null?void 0:A.str)||null,richText:E,creationDate:_,modificationDate:T}}const c=await super.deserialize(t,n,a);return w(c,Mn,t.fontSize),c.color=pe.makeHexColor(...t.color),w(c,_n,j(h=vt,Er,vw).call(h,t.value)),c._initialData=o,t.comment&&c.setCommentData(t),c}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=gt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),a=Object.assign(super.serialize(t),{color:n,fontSize:l(this,Mn),value:j(this,Wt,KC).call(this)});return this.addComment(a),t?(a.isCopy=!0,a):this.annotationElementId&&!j(this,Wt,QC).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(!n)return null;const{style:a}=n;a.fontSize=`calc(${l(this,Mn)}px * var(--total-scale-factor))`,a.color=this.color,n.replaceChildren();for(const o of l(this,_n).split(`
`)){const c=document.createElement("div");c.append(o?document.createTextNode(o):document.createElement("br")),n.append(c)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:l(this,_n)}}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};_n=new WeakMap,op=new WeakMap,yc=new WeakMap,Mn=new WeakMap,Wt=new WeakSet,YC=function(t){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--total-scale-factor))`,this.translate(0,-(o-l(this,Mn))*this.parentScale),w(this,Mn,o),j(this,Wt,k0).call(this)},a=l(this,Mn);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},XC=function(t){const n=o=>{this.color=o,this.onUpdatedColor()},a=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},WC=function(){var a;const t=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(j(a=vt,Er,R0).call(a,o)),n=o);return t.join(`
`)},k0=function(){const[t,n]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:o,div:c}=this,h=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",o.div.append(this.div),a=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=a.width/t,this.height=a.height/n):(this.width=a.height/t,this.height=a.width/n),this.fixAndSetPosition()},Er=new WeakSet,R0=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(c0,"")},L0=function(){if(this.editorDiv.replaceChildren(),!!l(this,_n))for(const t of l(this,_n).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},KC=function(){return l(this,_n).replaceAll(" "," ")},vw=function(t){return t.replaceAll(" "," ")},QC=function(t){const{value:n,fontSize:a,color:o,pageIndex:c}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==a||t.color.some((h,f)=>h!==o[f])||t.pageIndex!==c},C(vt,Er),ae(vt,"_freeTextDefaultContent",""),ae(vt,"_internalPadding",0),ae(vt,"_defaultColor",null),ae(vt,"_defaultFontSize",10),ae(vt,"_type","freetext"),ae(vt,"_editorType",Me.FREETEXT);let yw=vt;class me{toSVGPath(){mt("Abstract method `toSVGPath` must be implemented.")}get box(){mt("Abstract getter `box` must be implemented.")}serialize(e,t){mt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,a,o,c){c||(c=new Float32Array(e.length));for(let h=0,f=e.length;h<f;h+=2)c[h]=t+e[h]*a,c[h+1]=n+e[h+1]*o;return c}static _rescaleAndSwap(e,t,n,a,o,c){c||(c=new Float32Array(e.length));for(let h=0,f=e.length;h<f;h+=2)c[h]=t+e[h+1]*a,c[h+1]=n+e[h]*o;return c}static _translate(e,t,n,a){a||(a=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)a[o]=t+e[o],a[o+1]=n+e[o+1];return a}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,a,o){switch(o){case 90:return[1-t/n,e/a];case 180:return[1-e/n,1-t/a];case 270:return[t/n,1-e/a];default:return[e/n,t/a]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,a,o,c){return[(e+5*n)/6,(t+5*a)/6,(5*n+o)/6,(5*a+c)/6,(n+o)/2,(a+c)/2]}}ae(me,"PRECISION",1e-4);var Dn,_i,Yd,Xd,ra,Be,vc,wc,cp,up,Wd,Kd,Bl,dp,wx,Sx,ss,Of,ZC,JC,ej,tj,sj,nj;const Ua=class Ua{constructor({x:e,y:t},n,a,o,c,h=0){C(this,ss);C(this,Dn);C(this,_i,[]);C(this,Yd);C(this,Xd);C(this,ra,[]);C(this,Be,new Float32Array(18));C(this,vc);C(this,wc);C(this,cp);C(this,up);C(this,Wd);C(this,Kd);C(this,Bl,[]);w(this,Dn,n),w(this,Kd,o*a),w(this,Xd,c),l(this,Be).set([NaN,NaN,NaN,NaN,e,t],6),w(this,Yd,h),w(this,up,l(Ua,dp)*a),w(this,cp,l(Ua,Sx)*a),w(this,Wd,a),l(this,Bl).push(e,t)}isEmpty(){return isNaN(l(this,Be)[8])}add({x:e,y:t}){var G;w(this,vc,e),w(this,wc,t);const[n,a,o,c]=l(this,Dn);let[h,f,p,g]=l(this,Be).subarray(8,12);const b=e-p,v=t-g,S=Math.hypot(b,v);if(S<l(this,cp))return!1;const E=S-l(this,up),A=E/S,_=A*b,T=A*v;let R=h,D=f;h=p,f=g,p+=_,g+=T,(G=l(this,Bl))==null||G.push(e,t);const L=-T/E,O=_/E,B=L*l(this,Kd),k=O*l(this,Kd);return l(this,Be).set(l(this,Be).subarray(2,8),0),l(this,Be).set([p+B,g+k],4),l(this,Be).set(l(this,Be).subarray(14,18),12),l(this,Be).set([p-B,g-k],16),isNaN(l(this,Be)[6])?(l(this,ra).length===0&&(l(this,Be).set([h+B,f+k],2),l(this,ra).push(NaN,NaN,NaN,NaN,(h+B-n)/o,(f+k-a)/c),l(this,Be).set([h-B,f-k],14),l(this,_i).push(NaN,NaN,NaN,NaN,(h-B-n)/o,(f-k-a)/c)),l(this,Be).set([R,D,h,f,p,g],6),!this.isEmpty()):(l(this,Be).set([R,D,h,f,p,g],6),Math.abs(Math.atan2(D-f,R-h)-Math.atan2(T,_))<Math.PI/2?([h,f,p,g]=l(this,Be).subarray(2,6),l(this,ra).push(NaN,NaN,NaN,NaN,((h+p)/2-n)/o,((f+g)/2-a)/c),[h,f,R,D]=l(this,Be).subarray(14,18),l(this,_i).push(NaN,NaN,NaN,NaN,((R+h)/2-n)/o,((D+f)/2-a)/c),!0):([R,D,h,f,p,g]=l(this,Be).subarray(0,6),l(this,ra).push(((R+5*h)/6-n)/o,((D+5*f)/6-a)/c,((5*h+p)/6-n)/o,((5*f+g)/6-a)/c,((h+p)/2-n)/o,((f+g)/2-a)/c),[p,g,h,f,R,D]=l(this,Be).subarray(12,18),l(this,_i).push(((R+5*h)/6-n)/o,((D+5*f)/6-a)/c,((5*h+p)/6-n)/o,((5*f+g)/6-a)/c,((h+p)/2-n)/o,((f+g)/2-a)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,ra),t=l(this,_i);if(isNaN(l(this,Be)[6])&&!this.isEmpty())return j(this,ss,ZC).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let a=6;a<e.length;a+=6)isNaN(e[a])?n.push(`L${e[a+4]} ${e[a+5]}`):n.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);j(this,ss,ej).call(this,n);for(let a=t.length-6;a>=6;a-=6)isNaN(t[a])?n.push(`L${t[a+4]} ${t[a+5]}`):n.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);return j(this,ss,JC).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,a,o,c){return new ij(e,t,n,a,o,c)}getOutlines(){var b;const e=l(this,ra),t=l(this,_i),n=l(this,Be),[a,o,c,h]=l(this,Dn),f=new Float32Array((((b=l(this,Bl))==null?void 0:b.length)??0)+2);for(let v=0,S=f.length-2;v<S;v+=2)f[v]=(l(this,Bl)[v]-a)/c,f[v+1]=(l(this,Bl)[v+1]-o)/h;if(f[f.length-2]=(l(this,vc)-a)/c,f[f.length-1]=(l(this,wc)-o)/h,isNaN(n[6])&&!this.isEmpty())return j(this,ss,tj).call(this,f);const p=new Float32Array(l(this,ra).length+24+l(this,_i).length);let g=e.length;for(let v=0;v<g;v+=2){if(isNaN(e[v])){p[v]=p[v+1]=NaN;continue}p[v]=e[v],p[v+1]=e[v+1]}g=j(this,ss,nj).call(this,p,g);for(let v=t.length-6;v>=6;v-=6)for(let S=0;S<6;S+=2){if(isNaN(t[v+S])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=t[v+S],p[g+1]=t[v+S+1],g+=2}return j(this,ss,sj).call(this,p,g),this.newFreeDrawOutline(p,f,l(this,Dn),l(this,Wd),l(this,Yd),l(this,Xd))}};Dn=new WeakMap,_i=new WeakMap,Yd=new WeakMap,Xd=new WeakMap,ra=new WeakMap,Be=new WeakMap,vc=new WeakMap,wc=new WeakMap,cp=new WeakMap,up=new WeakMap,Wd=new WeakMap,Kd=new WeakMap,Bl=new WeakMap,dp=new WeakMap,wx=new WeakMap,Sx=new WeakMap,ss=new WeakSet,Of=function(){const e=l(this,Be).subarray(4,6),t=l(this,Be).subarray(16,18),[n,a,o,c]=l(this,Dn);return[(l(this,vc)+(e[0]-t[0])/2-n)/o,(l(this,wc)+(e[1]-t[1])/2-a)/c,(l(this,vc)+(t[0]-e[0])/2-n)/o,(l(this,wc)+(t[1]-e[1])/2-a)/c]},ZC=function(){const[e,t,n,a]=l(this,Dn),[o,c,h,f]=j(this,ss,Of).call(this);return`M${(l(this,Be)[2]-e)/n} ${(l(this,Be)[3]-t)/a} L${(l(this,Be)[4]-e)/n} ${(l(this,Be)[5]-t)/a} L${o} ${c} L${h} ${f} L${(l(this,Be)[16]-e)/n} ${(l(this,Be)[17]-t)/a} L${(l(this,Be)[14]-e)/n} ${(l(this,Be)[15]-t)/a} Z`},JC=function(e){const t=l(this,_i);e.push(`L${t[4]} ${t[5]} Z`)},ej=function(e){const[t,n,a,o]=l(this,Dn),c=l(this,Be).subarray(4,6),h=l(this,Be).subarray(16,18),[f,p,g,b]=j(this,ss,Of).call(this);e.push(`L${(c[0]-t)/a} ${(c[1]-n)/o} L${f} ${p} L${g} ${b} L${(h[0]-t)/a} ${(h[1]-n)/o}`)},tj=function(e){const t=l(this,Be),[n,a,o,c]=l(this,Dn),[h,f,p,g]=j(this,ss,Of).call(this),b=new Float32Array(36);return b.set([NaN,NaN,NaN,NaN,(t[2]-n)/o,(t[3]-a)/c,NaN,NaN,NaN,NaN,(t[4]-n)/o,(t[5]-a)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(t[16]-n)/o,(t[17]-a)/c,NaN,NaN,NaN,NaN,(t[14]-n)/o,(t[15]-a)/c],0),this.newFreeDrawOutline(b,e,l(this,Dn),l(this,Wd),l(this,Yd),l(this,Xd))},sj=function(e,t){const n=l(this,_i);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},nj=function(e,t){const n=l(this,Be).subarray(4,6),a=l(this,Be).subarray(16,18),[o,c,h,f]=l(this,Dn),[p,g,b,v]=j(this,ss,Of).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/h,(n[1]-c)/f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(a[0]-o)/h,(a[1]-c)/f],t),t+=24},C(Ua,dp,8),C(Ua,wx,2),C(Ua,Sx,l(Ua,dp)+l(Ua,wx));let ix=Ua;var Qd,Sc,pr,hp,kn,fp,Ut,Ax,aj;class ij extends me{constructor(t,n,a,o,c,h){super();C(this,Ax);C(this,Qd);C(this,Sc,new Float32Array(4));C(this,pr);C(this,hp);C(this,kn);C(this,fp);C(this,Ut);w(this,Ut,t),w(this,kn,n),w(this,Qd,a),w(this,fp,o),w(this,pr,c),w(this,hp,h),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],j(this,Ax,aj).call(this,h);const[f,p,g,b]=l(this,Sc);for(let v=0,S=t.length;v<S;v+=2)t[v]=(t[v]-f)/g,t[v+1]=(t[v+1]-p)/b;for(let v=0,S=n.length;v<S;v+=2)n[v]=(n[v]-f)/g,n[v+1]=(n[v+1]-p)/b}toSVGPath(){const t=[`M${l(this,Ut)[4]} ${l(this,Ut)[5]}`];for(let n=6,a=l(this,Ut).length;n<a;n+=6){if(isNaN(l(this,Ut)[n])){t.push(`L${l(this,Ut)[n+4]} ${l(this,Ut)[n+5]}`);continue}t.push(`C${l(this,Ut)[n]} ${l(this,Ut)[n+1]} ${l(this,Ut)[n+2]} ${l(this,Ut)[n+3]} ${l(this,Ut)[n+4]} ${l(this,Ut)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,a,o],c){const h=a-t,f=o-n;let p,g;switch(c){case 0:p=me._rescale(l(this,Ut),t,o,h,-f),g=me._rescale(l(this,kn),t,o,h,-f);break;case 90:p=me._rescaleAndSwap(l(this,Ut),t,n,h,f),g=me._rescaleAndSwap(l(this,kn),t,n,h,f);break;case 180:p=me._rescale(l(this,Ut),a,n,-h,f),g=me._rescale(l(this,kn),a,n,-h,f);break;case 270:p=me._rescaleAndSwap(l(this,Ut),a,o,-h,-f),g=me._rescaleAndSwap(l(this,kn),a,o,-h,-f);break}return{outline:Array.from(p),points:[Array.from(g)]}}get box(){return l(this,Sc)}newOutliner(t,n,a,o,c,h=0){return new ix(t,n,a,o,c,h)}getNewOutline(t,n){const[a,o,c,h]=l(this,Sc),[f,p,g,b]=l(this,Qd),v=c*g,S=h*b,E=a*g+f,A=o*b+p,_=this.newOutliner({x:l(this,kn)[0]*v+E,y:l(this,kn)[1]*S+A},l(this,Qd),l(this,fp),t,l(this,hp),n??l(this,pr));for(let T=2;T<l(this,kn).length;T+=2)_.add({x:l(this,kn)[T]*v+E,y:l(this,kn)[T+1]*S+A});return _.getOutlines()}}Qd=new WeakMap,Sc=new WeakMap,pr=new WeakMap,hp=new WeakMap,kn=new WeakMap,fp=new WeakMap,Ut=new WeakMap,Ax=new WeakSet,aj=function(t){const n=l(this,Ut);let a=n[4],o=n[5];const c=[a,o,a,o];let h=a,f=o,p=a,g=o;const b=t?Math.max:Math.min,v=new Float32Array(4);for(let E=6,A=n.length;E<A;E+=6){const _=n[E+4],T=n[E+5];isNaN(n[E])?(pe.pointBoundingBox(_,T,c),f>T?(h=_,f=T):f===T&&(h=b(h,_)),g<T?(p=_,g=T):g===T&&(p=b(p,_))):(v[0]=v[1]=1/0,v[2]=v[3]=-1/0,pe.bezierBoundingBox(a,o,...n.slice(E,E+6),v),pe.rectBoundingBox(v[0],v[1],v[2],v[3],c),f>v[1]?(h=v[0],f=v[1]):f===v[1]&&(h=b(h,v[0])),g<v[3]?(p=v[2],g=v[3]):g===v[3]&&(p=b(p,v[2]))),a=_,o=T}const S=l(this,Sc);S[0]=c[0]-l(this,pr),S[1]=c[1]-l(this,pr),S[2]=c[2]-c[0]+2*l(this,pr),S[3]=c[3]-c[1]+2*l(this,pr),this.firstPoint=[h,f],this.lastPoint=[p,g]};var mp,pp,gp,Il,Mi,Gs,rj,O0,lj,oj,Sw;class ww{constructor(e,t=0,n=0,a=!0){C(this,Gs);C(this,mp);C(this,pp);C(this,gp);C(this,Il,[]);C(this,Mi,[]);const o=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:A,y:_,width:T,height:R}of e){const D=Math.floor((A-t)/c)*c,L=Math.ceil((A+T+t)/c)*c,O=Math.floor((_-t)/c)*c,B=Math.ceil((_+R+t)/c)*c,k=[D,O,B,!0],F=[L,O,B,!1];l(this,Il).push(k,F),pe.rectBoundingBox(D,O,L,B,o)}const h=o[2]-o[0]+2*n,f=o[3]-o[1]+2*n,p=o[0]-n,g=o[1]-n;let b=a?-1/0:1/0,v=1/0;const S=l(this,Il).at(a?-1:-2),E=[S[0],S[2]];for(const A of l(this,Il)){const[_,T,R,D]=A;!D&&a?T<v?(v=T,b=_):T===v&&(b=Math.max(b,_)):D&&!a&&(T<v?(v=T,b=_):T===v&&(b=Math.min(b,_))),A[0]=(_-p)/h,A[1]=(T-g)/f,A[2]=(R-g)/f}w(this,mp,new Float32Array([p,g,h,f])),w(this,pp,[b,v]),w(this,gp,E)}getOutlines(){l(this,Il).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of l(this,Il))t[3]?(e.push(...j(this,Gs,Sw).call(this,t)),j(this,Gs,lj).call(this,t)):(j(this,Gs,oj).call(this,t),e.push(...j(this,Gs,Sw).call(this,t)));return j(this,Gs,rj).call(this,e)}}mp=new WeakMap,pp=new WeakMap,gp=new WeakMap,Il=new WeakMap,Mi=new WeakMap,Gs=new WeakSet,rj=function(e){const t=[],n=new Set;for(const c of e){const[h,f,p]=c;t.push([h,f,c],[h,p,c])}t.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=t.length;c<h;c+=2){const f=t[c][2],p=t[c+1][2];f.push(p),p.push(f),n.add(f),n.add(p)}const a=[];let o;for(;n.size>0;){const c=n.values().next().value;let[h,f,p,g,b]=c;n.delete(c);let v=h,S=f;for(o=[h,p],a.push(o);;){let E;if(n.has(g))E=g;else if(n.has(b))E=b;else break;n.delete(E),[h,f,p,g,b]=E,v!==h&&(o.push(v,S,h,S===f?f:p),v=h),S=S===f?p:f}o.push(v,S)}return new LR(a,l(this,mp),l(this,pp),l(this,gp))},O0=function(e){const t=l(this,Mi);let n=0,a=t.length-1;for(;n<=a;){const o=n+a>>1,c=t[o][0];if(c===e)return o;c<e?n=o+1:a=o-1}return a+1},lj=function([,e,t]){const n=j(this,Gs,O0).call(this,e);l(this,Mi).splice(n,0,[e,t])},oj=function([,e,t]){const n=j(this,Gs,O0).call(this,e);for(let a=n;a<l(this,Mi).length;a++){const[o,c]=l(this,Mi)[a];if(o!==e)break;if(o===e&&c===t){l(this,Mi).splice(a,1);return}}for(let a=n-1;a>=0;a--){const[o,c]=l(this,Mi)[a];if(o!==e)break;if(o===e&&c===t){l(this,Mi).splice(a,1);return}}},Sw=function(e){const[t,n,a]=e,o=[[t,n,a]],c=j(this,Gs,O0).call(this,a);for(let h=0;h<c;h++){const[f,p]=l(this,Mi)[h];for(let g=0,b=o.length;g<b;g++){const[,v,S]=o[g];if(!(p<=v||S<=f)){if(v>=f){if(S>p)o[g][1]=p;else{if(b===1)return[];o.splice(g,1),g--,b--}continue}o[g][2]=f,S>p&&o.push([t,p,S])}}}return o};var xp,Zd;class LR extends me{constructor(t,n,a,o){super();C(this,xp);C(this,Zd);w(this,Zd,t),w(this,xp,n),this.firstPoint=a,this.lastPoint=o}toSVGPath(){const t=[];for(const n of l(this,Zd)){let[a,o]=n;t.push(`M${a} ${o}`);for(let c=2;c<n.length;c+=2){const h=n[c],f=n[c+1];h===a?(t.push(`V${f}`),o=f):f===o&&(t.push(`H${h}`),a=h)}t.push("Z")}return t.join(" ")}serialize([t,n,a,o],c){const h=[],f=a-t,p=o-n;for(const g of l(this,Zd)){const b=new Array(g.length);for(let v=0;v<g.length;v+=2)b[v]=t+g[v]*f,b[v+1]=o-g[v+1]*p;h.push(b)}return h}get box(){return l(this,xp)}get classNamesForOutlining(){return["highlightOutline"]}}xp=new WeakMap,Zd=new WeakMap;class Aw extends ix{newFreeDrawOutline(e,t,n,a,o,c){return new OR(e,t,n,a,o,c)}}class OR extends ij{newOutliner(e,t,n,a,o,c=0){return new Aw(e,t,n,a,o,c)}}var Jd,bp,gr,Ac,yp,ln,vp,wp,Nc,Rn,Ln,ws,eh,th,Ls,sh,ui,Sp,Le,Nw,P0,cj,uj,dj,Ew,Ao,fi,Ou,hj,B0,I0,fj,mj,pj,gj,xj;const Ke=class Ke extends gt{constructor(t){super({...t,name:"highlightEditor"});C(this,Le);C(this,Jd,null);C(this,bp,0);C(this,gr);C(this,Ac,null);C(this,yp,null);C(this,ln,null);C(this,vp,null);C(this,wp,0);C(this,Nc,null);C(this,Rn,null);C(this,Ln,null);C(this,ws,!1);C(this,eh,null);C(this,th,null);C(this,Ls,null);C(this,sh,"");C(this,ui);C(this,Sp,"");this.color=t.color||Ke._defaultColor,w(this,ui,t.thickness||Ke._defaultThickness),this.opacity=t.opacity||Ke._defaultOpacity,w(this,gr,t.boxes||null),w(this,Sp,t.methodOfCreation||""),w(this,sh,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(w(this,ws,!0),j(this,Le,P0).call(this,t),j(this,Le,Ao).call(this)):l(this,gr)&&(w(this,Jd,t.anchorNode),w(this,bp,t.anchorOffset),w(this,vp,t.focusNode),w(this,wp,t.focusOffset),j(this,Le,Nw).call(this),j(this,Le,Ao).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ke.prototype;return Pe(this,"_keyboardManager",new Lp([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,ws)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:l(this,ui),methodOfCreation:l(this,Sp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var a;gt.initialize(t,n),Ke._defaultColor||(Ke._defaultColor=((a=n.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Ve.HIGHLIGHT_COLOR:Ke._defaultColor=n;break;case Ve.HIGHLIGHT_THICKNESS:Ke._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return l(this,th)}get commentButtonPosition(){return l(this,eh)}updateParams(t,n){switch(t){case Ve.HIGHLIGHT_COLOR:j(this,Le,cj).call(this,n);break;case Ve.HIGHLIGHT_THICKNESS:j(this,Le,uj).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Ve.HIGHLIGHT_COLOR,Ke._defaultColor],[Ve.HIGHLIGHT_THICKNESS,Ke._defaultThickness]]}get propertiesToUpdate(){return[[Ve.HIGHLIGHT_COLOR,this.color||Ke._defaultColor],[Ve.HIGHLIGHT_THICKNESS,l(this,ui)||Ke._defaultThickness],[Ve.HIGHLIGHT_FREE,l(this,ws)]]}onUpdatedColor(){var t,n;(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Ln),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=l(this,yp))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",w(this,yp,new tx({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(j(this,Le,I0).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,j(this,Le,I0).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){j(this,Le,Ew).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(j(this,Le,Ao).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var a;let n=!1;this.parent&&!t?j(this,Le,Ew).call(this):t&&(j(this,Le,Ao).call(this,t),n=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var o,c,h;const{drawLayer:n}=this.parent;let a;l(this,ws)?(t=(t-this.rotation+360)%360,a=j(o=Ke,fi,Ou).call(o,l(this,Rn).box,t)):a=j(c=Ke,fi,Ou).call(c,[this.x,this.y,this.width,this.height],t),n.updateProperties(l(this,Ln),{bbox:a,root:{"data-main-rotation":t}}),n.updateProperties(l(this,Ls),{bbox:j(h=Ke,fi,Ou).call(h,l(this,ln).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();l(this,sh)&&(t.setAttribute("aria-label",l(this,sh)),t.setAttribute("role","mark")),l(this,ws)?t.classList.add("free"):this.div.addEventListener("keydown",j(this,Le,hj).bind(this),{signal:this._uiManager._signal});const n=w(this,Nc,document.createElement("div"));return t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=l(this,Ac),this.setDims(this.width,this.height),IE(this,l(this,Nc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Ls),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,Ls),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:j(this,Le,B0).call(this,!0);break;case 1:case 3:j(this,Le,B0).call(this,!1);break}}select(){var t;super.select(),l(this,Ls)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,Ls),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),l(this,Ls)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,Ls),{rootClass:{selected:!1}}),l(this,ws)||j(this,Le,B0).call(this,!1))}get _mustFixPosition(){return!l(this,ws)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(l(this,Ln),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(l(this,Ls),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:a,x:o,y:c}){const{x:h,y:f,width:p,height:g}=a.getBoundingClientRect(),b=new AbortController,v=t.combinedSignal(b),S=E=>{b.abort(),j(this,fi,gj).call(this,t,E)};window.addEventListener("blur",S,{signal:v}),window.addEventListener("pointerup",S,{signal:v}),window.addEventListener("pointerdown",Pt,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",pi,{signal:v}),a.addEventListener("pointermove",j(this,fi,pj).bind(this,t),{signal:v}),this._freeHighlight=new Aw({x:o,y:c},[h,f,p,g],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,a){var A,_,T,R;let o=null;if(t instanceof $C){const{data:{quadPoints:D,rect:L,rotation:O,id:B,color:k,opacity:F,popupRef:G,richText:Q,contentsObj:K,creationDate:X,modificationDate:he},parent:{page:{pageNumber:de}}}=t;o=t={annotationType:Me.HIGHLIGHT,color:Array.from(k),opacity:F,quadPoints:D,boxes:null,pageIndex:de-1,rect:L.slice(0),rotation:O,annotationElementId:B,id:B,deleted:!1,popupRef:G,richText:Q,comment:(K==null?void 0:K.str)||null,creationDate:X,modificationDate:he}}else if(t instanceof aS){const{data:{inkLists:D,rect:L,rotation:O,id:B,color:k,borderStyle:{rawWidth:F},popupRef:G,richText:Q,contentsObj:K,creationDate:X,modificationDate:he},parent:{page:{pageNumber:de}}}=t;o=t={annotationType:Me.HIGHLIGHT,color:Array.from(k),thickness:F,inkLists:D,boxes:null,pageIndex:de-1,rect:L.slice(0),rotation:O,annotationElementId:B,id:B,deleted:!1,popupRef:G,richText:Q,comment:(K==null?void 0:K.str)||null,creationDate:X,modificationDate:he}}const{color:c,quadPoints:h,inkLists:f,opacity:p}=t,g=await super.deserialize(t,n,a);g.color=pe.makeHexColor(...c),g.opacity=p||1,f&&w(g,ui,t.thickness),g._initialData=o,t.comment&&g.setCommentData(t);const[b,v]=g.pageDimensions,[S,E]=g.pageTranslation;if(h){const D=w(g,gr,[]);for(let L=0;L<h.length;L+=8)D.push({x:(h[L]-S)/b,y:1-(h[L+1]-E)/v,width:(h[L+2]-h[L])/b,height:(h[L+1]-h[L+5])/v});j(A=g,Le,Nw).call(A),j(_=g,Le,Ao).call(_),g.rotate(g.rotation)}else if(f){w(g,ws,!0);const D=f[0],L={x:D[0]-S,y:v-(D[1]-E)},O=new Aw(L,[0,0,b,v],1,l(g,ui)/2,!0,.001);for(let F=0,G=D.length;F<G;F+=2)L.x=D[F]-S,L.y=v-(D[F+1]-E),O.add(L);const{id:B,clipPathId:k}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:g.color,"fill-opacity":g._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:O.toSVGPath()}},!0,!0);j(T=g,Le,P0).call(T,{highlightOutlines:O.getOutlines(),highlightId:B,clipPathId:k}),j(R=g,Le,Ao).call(R),g.rotate(g.parentRotation)}return g}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=gt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),a=super.serialize(t);return Object.assign(a,{color:n,opacity:this.opacity,thickness:l(this,ui),quadPoints:j(this,Le,fj).call(this),outlines:j(this,Le,mj).call(this,a.rect)}),this.addComment(a),this.annotationElementId&&!j(this,Le,xj).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Jd=new WeakMap,bp=new WeakMap,gr=new WeakMap,Ac=new WeakMap,yp=new WeakMap,ln=new WeakMap,vp=new WeakMap,wp=new WeakMap,Nc=new WeakMap,Rn=new WeakMap,Ln=new WeakMap,ws=new WeakMap,eh=new WeakMap,th=new WeakMap,Ls=new WeakMap,sh=new WeakMap,ui=new WeakMap,Sp=new WeakMap,Le=new WeakSet,Nw=function(){const t=new ww(l(this,gr),.001);w(this,Rn,t.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,Rn).box;const n=new ww(l(this,gr),.0025,.001,this._uiManager.direction==="ltr");w(this,ln,n.getOutlines());const{firstPoint:a}=l(this,Rn);w(this,eh,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]);const{lastPoint:o}=l(this,ln);w(this,th,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},P0=function({highlightOutlines:t,highlightId:n,clipPathId:a}){var v,S;if(w(this,Rn,t),w(this,ln,t.getNewOutline(l(this,ui)/2+1.5,.0025)),n>=0)w(this,Ln,n),w(this,Ac,a),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),w(this,Ls,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,ln).box,path:{d:l(this,ln).toSVGPath()}},!0));else if(this.parent){const E=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,Ln),{bbox:j(v=Ke,fi,Ou).call(v,l(this,Rn).box,(E-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,Ls),{bbox:j(S=Ke,fi,Ou).call(S,l(this,ln).box,E),path:{d:l(this,ln).toSVGPath()}})}const[c,h,f,p]=t.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=f,this.height=p;break;case 90:{const[E,A]=this.parentDimensions;this.x=h,this.y=1-c,this.width=f*A/E,this.height=p*E/A;break}case 180:this.x=1-c,this.y=1-h,this.width=f,this.height=p;break;case 270:{const[E,A]=this.parentDimensions;this.x=1-h,this.y=c,this.width=f*A/E,this.height=p*E/A;break}}const{firstPoint:g}=t;w(this,eh,[(g[0]-c)/f,(g[1]-h)/p]);const{lastPoint:b}=l(this,ln);w(this,th,[(b[0]-c)/f,(b[1]-h)/p])},cj=function(t){const n=(c,h)=>{this.color=c,this.opacity=h,this.onUpdatedColor()},a=this.color,o=this.opacity;this.addCommands({cmd:n.bind(this,t,Ke._defaultOpacity),undo:n.bind(this,a,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},uj=function(t){const n=l(this,ui),a=o=>{w(this,ui,o),j(this,Le,dj).call(this,o)};this.addCommands({cmd:a.bind(this,t),undo:a.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ve.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},dj=function(t){l(this,ws)&&(j(this,Le,P0).call(this,{highlightOutlines:l(this,Rn).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},Ew=function(){l(this,Ln)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Ln)),w(this,Ln,null),this.parent.drawLayer.remove(l(this,Ls)),w(this,Ls,null))},Ao=function(t=this.parent){l(this,Ln)===null&&({id:Qt(this,Ln)._,clipPathId:Qt(this,Ac)._}=t.drawLayer.draw({bbox:l(this,Rn).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:l(this,ws)},path:{d:l(this,Rn).toSVGPath()}},!1,!0),w(this,Ls,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,ws)},bbox:l(this,ln).box,path:{d:l(this,ln).toSVGPath()}},l(this,ws))),l(this,Nc)&&(l(this,Nc).style.clipPath=l(this,Ac)))},fi=new WeakSet,Ou=function([t,n,a,o],c){switch(c){case 90:return[1-n-o,t,o,a];case 180:return[1-t-a,1-n-o,a,o];case 270:return[n,1-t-a,o,a]}return[t,n,a,o]},hj=function(t){Ke._keyboardManager.exec(this,t)},B0=function(t){if(!l(this,Jd))return;const n=window.getSelection();t?n.setPosition(l(this,Jd),l(this,bp)):n.setPosition(l(this,vp),l(this,wp))},I0=function(){return l(this,ws)?this.rotation:0},fj=function(){if(l(this,ws))return null;const[t,n]=this.pageDimensions,[a,o]=this.pageTranslation,c=l(this,gr),h=new Float32Array(c.length*8);let f=0;for(const{x:p,y:g,width:b,height:v}of c){const S=p*t+a,E=(1-g)*n+o;h[f]=h[f+4]=S,h[f+1]=h[f+3]=E,h[f+2]=h[f+6]=S+b*t,h[f+5]=h[f+7]=E-v*n,f+=8}return h},mj=function(t){return l(this,Rn).serialize(t,j(this,Le,I0).call(this))},pj=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},gj=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},xj=function(t){const{color:n}=this._initialData;return this.hasEditedComment||t.color.some((a,o)=>a!==n[o])},C(Ke,fi),ae(Ke,"_defaultColor",null),ae(Ke,"_defaultOpacity",1),ae(Ke,"_defaultThickness",12),ae(Ke,"_type","highlight"),ae(Ke,"_editorType",Me.HIGHLIGHT),ae(Ke,"_freeHighlightId",-1),ae(Ke,"_freeHighlight",null),ae(Ke,"_freeHighlightClipId","");let ax=Ke;var Ec;class bj{constructor(){C(this,Ec,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){l(this,Ec)[e]=t}toSVGProperties(){const e=l(this,Ec);return w(this,Ec,Object.create(null)),{root:e}}reset(){w(this,Ec,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){mt("Not implemented")}}Ec=new WeakMap;var On,nh,ls,Cc,jc,Fl,zl,Ul,Tc,$e,Cw,jw,Tw,Pf,yj,F0,Bf,Pu;const xe=class xe extends gt{constructor(t){super(t);C(this,$e);C(this,On,null);C(this,nh);ae(this,"_colorPicker",null);ae(this,"_drawId",null);w(this,nh,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(j(this,$e,Cw).call(this,t),j(this,$e,Pf).call(this))}static _mergeSVGProperties(t,n){const a=new Set(Object.keys(t));for(const[o,c]of Object.entries(n))a.has(o)?Object.assign(t[o],c):t[o]=c;return t}static getDefaultDrawingOptions(t){mt("Not implemented")}static get typesMap(){mt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const a=this.typesMap.get(t);a&&this._defaultDrawingOptions.updateProperty(a,n),this._currentParent&&(l(xe,ls).updateProperty(a,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const a=this.constructor.typesMap.get(t);a&&this._updateProperty(t,a,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[a,o]of this.typesMap)t.push([a,n[o]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[a,o]of this.constructor.typesMap)t.push([a,n[o]]);return t}_updateProperty(t,n,a){const o=this._drawingOptions,c=o[n],h=f=>{var g;o.updateProperty(n,f);const p=l(this,On).updateProperty(n,f);p&&j(this,$e,Bf).call(this,p),(g=this.parent)==null||g.drawLayer.updateProperties(this._drawId,o.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:h.bind(this,a),undo:h.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties(l(this,On).getPathResizingSVGProperties(j(this,$e,F0).call(this)),{bbox:j(this,$e,Pu).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties(l(this,On).getPathResizedSVGProperties(j(this,$e,F0).call(this)),{bbox:j(this,$e,Pu).call(this)}))}_onTranslating(t,n){var a;(a=this.parent)==null||a.drawLayer.updateProperties(this._drawId,{bbox:j(this,$e,Pu).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties(l(this,On).getPathTranslatedSVGProperties(j(this,$e,F0).call(this),this.parentDimensions),{bbox:j(this,$e,Pu).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,nh)&&(w(this,nh,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){j(this,$e,Tw).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(j(this,$e,Pf).call(this),j(this,$e,Bf).call(this,l(this,On).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var a;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),j(this,$e,Tw).call(this)):t&&(this._uiManager.addShouldRescale(this),j(this,$e,Pf).call(this,t),n=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,xe._mergeSVGProperties({bbox:j(this,$e,Pu).call(this)},l(this,On).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&j(this,$e,Bf).call(this,l(this,On).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const a=super.render();a.classList.add("draw");const o=document.createElement("div");return a.append(o),o.setAttribute("aria-hidden","true"),o.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),a}static createDrawerInstance(t,n,a,o,c){mt("Not implemented")}static startDrawing(t,n,a,o){var _;const{target:c,offsetX:h,offsetY:f,pointerId:p,pointerType:g}=o;if(l(xe,zl)&&l(xe,zl)!==g)return;const{viewport:{rotation:b}}=t,{width:v,height:S}=c.getBoundingClientRect(),E=w(xe,Cc,new AbortController),A=t.combinedSignal(E);if(l(xe,Fl)||w(xe,Fl,p),l(xe,zl)??w(xe,zl,g),window.addEventListener("pointerup",T=>{var R;l(xe,Fl)===T.pointerId?this._endDraw(T):(R=l(xe,Ul))==null||R.delete(T.pointerId)},{signal:A}),window.addEventListener("pointercancel",T=>{var R;l(xe,Fl)===T.pointerId?this._currentParent.endDrawingSession():(R=l(xe,Ul))==null||R.delete(T.pointerId)},{signal:A}),window.addEventListener("pointerdown",T=>{l(xe,zl)===T.pointerType&&((l(xe,Ul)||w(xe,Ul,new Set)).add(T.pointerId),l(xe,ls).isCancellable()&&(l(xe,ls).removeLastElement(),l(xe,ls).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",pi,{signal:A}),c.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),c.addEventListener("touchmove",T=>{T.timeStamp===l(xe,Tc)&&Pt(T)},{signal:A}),t.toggleDrawing(),(_=n._editorUndoBar)==null||_.hide(),l(xe,ls)){t.drawLayer.updateProperties(this._currentDrawId,l(xe,ls).startNew(h,f,v,S,b));return}n.updateUIForDefaultProperties(this),w(xe,ls,this.createDrawerInstance(h,f,v,S,b)),w(xe,jc,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(l(xe,jc).toSVGProperties(),l(xe,ls).defaultSVGProperties),!0,!1)}static _drawMove(t){var c;if(w(xe,Tc,-1),!l(xe,ls))return;const{offsetX:n,offsetY:a,pointerId:o}=t;if(l(xe,Fl)===o){if(((c=l(xe,Ul))==null?void 0:c.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(xe,ls).add(n,a)),w(xe,Tc,t.timeStamp),Pt(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,w(xe,ls,null),w(xe,jc,null),w(xe,zl,null),w(xe,Tc,NaN)),l(xe,Cc)&&(l(xe,Cc).abort(),w(xe,Cc,null),w(xe,Fl,NaN),w(xe,Ul,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,l(xe,ls).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const a=l(xe,ls),o=this._currentDrawId,c=a.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(o,a.setLastElement(c))},undo:()=>{n.drawLayer.updateProperties(o,a.removeLastElement())},mustExec:!1,type:Ve.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Ve.DRAW_STEP),!l(xe,ls).isEmpty()){const{pageDimensions:[a,o],scale:c}=n,h=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(xe,ls).getOutlines(a*c,o*c,c,this._INNER_MARGIN),drawingOptions:l(xe,jc),mustBeCommitted:!t});return this._cleanup(!0),h}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,a,o,c,h){mt("Not implemented")}static async deserialize(t,n,a){var b,v;const{rawDims:{pageWidth:o,pageHeight:c,pageX:h,pageY:f}}=n.viewport,p=this.deserializeDraw(h,f,o,c,this._INNER_MARGIN,t),g=await super.deserialize(t,n,a);return g.createDrawingOptions(t),j(b=g,$e,Cw).call(b,{drawOutlines:p}),j(v=g,$e,Pf).call(v),g.onScaleChanging(),g.rotate(),g}serializeDraw(t){const[n,a]=this.pageTranslation,[o,c]=this.pageDimensions;return l(this,On).serialize([n,a,o,c],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};On=new WeakMap,nh=new WeakMap,ls=new WeakMap,Cc=new WeakMap,jc=new WeakMap,Fl=new WeakMap,zl=new WeakMap,Ul=new WeakMap,Tc=new WeakMap,$e=new WeakSet,Cw=function({drawOutlines:t,drawId:n,drawingOptions:a}){w(this,On,t),this._drawingOptions||(this._drawingOptions=a),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=j(this,$e,jw).call(this,t,this.parent),j(this,$e,Bf).call(this,t.box)},jw=function(t,n){const{id:a}=n.drawLayer.draw(xe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return a},Tw=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Pf=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=j(this,$e,jw).call(this,l(this,On),t)}},yj=function([t,n,a,o]){const{parentDimensions:[c,h],rotation:f}=this;switch(f){case 90:return[n,1-t,a*(h/c),o*(c/h)];case 180:return[1-t,1-n,a,o];case 270:return[1-n,t,a*(h/c),o*(c/h)];default:return[t,n,a,o]}},F0=function(){const{x:t,y:n,width:a,height:o,parentDimensions:[c,h],rotation:f}=this;switch(f){case 90:return[1-n,t,a*(c/h),o*(h/c)];case 180:return[1-t,1-n,a,o];case 270:return[n,1-t,a*(c/h),o*(h/c)];default:return[t,n,a,o]}},Bf=function(t){[this.x,this.y,this.width,this.height]=j(this,$e,yj).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Pu=function(){const{x:t,y:n,width:a,height:o,rotation:c,parentRotation:h,parentDimensions:[f,p]}=this;switch((c*4+h)/90){case 1:return[1-n-o,t,o,a];case 2:return[1-t-a,1-n-o,a,o];case 3:return[n,1-t-a,o,a];case 4:return[t,n-a*(f/p),o*(p/f),a*(f/p)];case 5:return[1-n,t,a*(f/p),o*(p/f)];case 6:return[1-t-o*(p/f),1-n,o*(p/f),a*(f/p)];case 7:return[n-a*(f/p),1-t-o*(p/f),a*(f/p),o*(p/f)];case 8:return[t-a,n-o,a,o];case 9:return[1-n,t-a,o,a];case 10:return[1-t,1-n,a,o];case 11:return[n-o,1-t,o,a];case 12:return[t-o*(p/f),n,o*(p/f),a*(f/p)];case 13:return[1-n-a*(f/p),t-o*(p/f),a*(f/p),o*(p/f)];case 14:return[1-t,1-n-a*(f/p),o*(p/f),a*(f/p)];case 15:return[n,1-t,a*(f/p),o*(p/f)];default:return[t,n,a,o]}},ae(xe,"_currentDrawId",-1),ae(xe,"_currentParent",null),C(xe,ls,null),C(xe,Cc,null),C(xe,jc,null),C(xe,Fl,NaN),C(xe,zl,null),C(xe,Ul,null),C(xe,Tc,NaN),ae(xe,"_INNER_MARGIN",3);let rx=xe;var la,os,cs,_c,ih,Is,Ss,di,Mc,Dc,kc,ah,z0;class PR{constructor(e,t,n,a,o,c){C(this,ah);C(this,la,new Float64Array(6));C(this,os);C(this,cs);C(this,_c);C(this,ih);C(this,Is);C(this,Ss,"");C(this,di,0);C(this,Mc,new Pp);C(this,Dc);C(this,kc);w(this,Dc,n),w(this,kc,a),w(this,_c,o),w(this,ih,c),[e,t]=j(this,ah,z0).call(this,e,t);const h=w(this,os,[NaN,NaN,NaN,NaN,e,t]);w(this,Is,[e,t]),w(this,cs,[{line:h,points:l(this,Is)}]),l(this,la).set(h,0)}updateProperty(e,t){e==="stroke-width"&&w(this,ih,t)}isEmpty(){return!l(this,cs)||l(this,cs).length===0}isCancellable(){return l(this,Is).length<=10}add(e,t){[e,t]=j(this,ah,z0).call(this,e,t);const[n,a,o,c]=l(this,la).subarray(2,6),h=e-o,f=t-c;return Math.hypot(l(this,Dc)*h,l(this,kc)*f)<=2?null:(l(this,Is).push(e,t),isNaN(n)?(l(this,la).set([o,c,e,t],2),l(this,os).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(l(this,la)[0])&&l(this,os).splice(6,6),l(this,la).set([n,a,o,c,e,t],0),l(this,os).push(...me.createBezierPoints(n,a,o,c,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(l(this,Is).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,a,o){w(this,Dc,n),w(this,kc,a),w(this,_c,o),[e,t]=j(this,ah,z0).call(this,e,t);const c=w(this,os,[NaN,NaN,NaN,NaN,e,t]);w(this,Is,[e,t]);const h=l(this,cs).at(-1);return h&&(h.line=new Float32Array(h.line),h.points=new Float32Array(h.points)),l(this,cs).push({line:c,points:l(this,Is)}),l(this,la).set(c,0),w(this,di,0),this.toSVGPath(),null}getLastElement(){return l(this,cs).at(-1)}setLastElement(e){return l(this,cs)?(l(this,cs).push(e),w(this,os,e.line),w(this,Is,e.points),w(this,di,0),{path:{d:this.toSVGPath()}}):l(this,Mc).setLastElement(e)}removeLastElement(){if(!l(this,cs))return l(this,Mc).removeLastElement();l(this,cs).pop(),w(this,Ss,"");for(let e=0,t=l(this,cs).length;e<t;e++){const{line:n,points:a}=l(this,cs)[e];w(this,os,n),w(this,Is,a),w(this,di,0),this.toSVGPath()}return{path:{d:l(this,Ss)}}}toSVGPath(){const e=me.svgRound(l(this,os)[4]),t=me.svgRound(l(this,os)[5]);if(l(this,Is).length===2)return w(this,Ss,`${l(this,Ss)} M ${e} ${t} Z`),l(this,Ss);if(l(this,Is).length<=6){const a=l(this,Ss).lastIndexOf("M");w(this,Ss,`${l(this,Ss).slice(0,a)} M ${e} ${t}`),w(this,di,6)}if(l(this,Is).length===4){const a=me.svgRound(l(this,os)[10]),o=me.svgRound(l(this,os)[11]);return w(this,Ss,`${l(this,Ss)} L ${a} ${o}`),w(this,di,12),l(this,Ss)}const n=[];l(this,di)===0&&(n.push(`M ${e} ${t}`),w(this,di,6));for(let a=l(this,di),o=l(this,os).length;a<o;a+=6){const[c,h,f,p,g,b]=l(this,os).slice(a,a+6).map(me.svgRound);n.push(`C${c} ${h} ${f} ${p} ${g} ${b}`)}return w(this,Ss,l(this,Ss)+n.join(" ")),w(this,di,l(this,os).length),l(this,Ss)}getOutlines(e,t,n,a){const o=l(this,cs).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),l(this,Mc).build(l(this,cs),e,t,n,l(this,_c),l(this,ih),a),w(this,la,null),w(this,os,null),w(this,cs,null),w(this,Ss,null),l(this,Mc)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}la=new WeakMap,os=new WeakMap,cs=new WeakMap,_c=new WeakMap,ih=new WeakMap,Is=new WeakMap,Ss=new WeakMap,di=new WeakMap,Mc=new WeakMap,Dc=new WeakMap,kc=new WeakMap,ah=new WeakSet,z0=function(e,t){return me._normalizePoint(e,t,l(this,Dc),l(this,kc),l(this,_c))};var Fs,Ap,Np,Pn,oa,ca,rh,lh,Rc,Ns,Fa,vj,wj,Sj;class Pp extends me{constructor(){super(...arguments);C(this,Ns);C(this,Fs);C(this,Ap,0);C(this,Np);C(this,Pn);C(this,oa);C(this,ca);C(this,rh);C(this,lh);C(this,Rc)}build(t,n,a,o,c,h,f){w(this,oa,n),w(this,ca,a),w(this,rh,o),w(this,lh,c),w(this,Rc,h),w(this,Np,f??0),w(this,Pn,t),j(this,Ns,wj).call(this)}get thickness(){return l(this,Rc)}setLastElement(t){return l(this,Pn).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,Pn).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of l(this,Pn)){if(t.push(`M${me.svgRound(n[4])} ${me.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${me.svgRound(n[10])} ${me.svgRound(n[11])}`);continue}for(let a=6,o=n.length;a<o;a+=6){const[c,h,f,p,g,b]=n.subarray(a,a+6).map(me.svgRound);t.push(`C${c} ${h} ${f} ${p} ${g} ${b}`)}}return t.join("")}serialize([t,n,a,o],c){const h=[],f=[],[p,g,b,v]=j(this,Ns,vj).call(this);let S,E,A,_,T,R,D,L,O;switch(l(this,lh)){case 0:O=me._rescale,S=t,E=n+o,A=a,_=-o,T=t+p*a,R=n+(1-g-v)*o,D=t+(p+b)*a,L=n+(1-g)*o;break;case 90:O=me._rescaleAndSwap,S=t,E=n,A=a,_=o,T=t+g*a,R=n+p*o,D=t+(g+v)*a,L=n+(p+b)*o;break;case 180:O=me._rescale,S=t+a,E=n,A=-a,_=o,T=t+(1-p-b)*a,R=n+g*o,D=t+(1-p)*a,L=n+(g+v)*o;break;case 270:O=me._rescaleAndSwap,S=t+a,E=n+o,A=-a,_=-o,T=t+(1-g-v)*a,R=n+(1-p-b)*o,D=t+(1-g)*a,L=n+(1-p)*o;break}for(const{line:B,points:k}of l(this,Pn))h.push(O(B,S,E,A,_,c?new Array(B.length):null)),f.push(O(k,S,E,A,_,c?new Array(k.length):null));return{lines:h,points:f,rect:[T,R,D,L]}}static deserialize(t,n,a,o,c,{paths:{lines:h,points:f},rotation:p,thickness:g}){const b=[];let v,S,E,A,_;switch(p){case 0:_=me._rescale,v=-t/a,S=n/o+1,E=1/a,A=-1/o;break;case 90:_=me._rescaleAndSwap,v=-n/o,S=-t/a,E=1/o,A=1/a;break;case 180:_=me._rescale,v=t/a+1,S=-n/o,E=-1/a,A=1/o;break;case 270:_=me._rescaleAndSwap,v=n/o+1,S=t/a+1,E=-1/o,A=-1/a;break}if(!h){h=[];for(const R of f){const D=R.length;if(D===2){h.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(D===4){h.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const L=new Float32Array(3*(D-2));h.push(L);let[O,B,k,F]=R.subarray(0,4);L.set([NaN,NaN,NaN,NaN,O,B],0);for(let G=4;G<D;G+=2){const Q=R[G],K=R[G+1];L.set(me.createBezierPoints(O,B,k,F,Q,K),(G-2)*3),[O,B,k,F]=[k,F,Q,K]}}}for(let R=0,D=h.length;R<D;R++)b.push({line:_(h[R].map(L=>L??NaN),v,S,E,A),points:_(f[R].map(L=>L??NaN),v,S,E,A)});const T=new this.prototype.constructor;return T.build(b,a,o,1,p,g,c),T}get box(){return l(this,Fs)}updateProperty(t,n){return t==="stroke-width"?j(this,Ns,Sj).call(this,n):null}updateParentDimensions([t,n],a){const[o,c]=j(this,Ns,Fa).call(this);w(this,oa,t),w(this,ca,n),w(this,rh,a);const[h,f]=j(this,Ns,Fa).call(this),p=h-o,g=f-c,b=l(this,Fs);return b[0]-=p,b[1]-=g,b[2]+=2*p,b[3]+=2*g,b}updateRotation(t){return w(this,Ap,t),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,Fs).map(me.svgRound).join(" ")}get defaultProperties(){const[t,n]=l(this,Fs);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(t)} ${me.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=l(this,Fs);let a=0,o=0,c=0,h=0,f=0,p=0;switch(l(this,Ap)){case 90:o=n/t,c=-t/n,f=t;break;case 180:a=-1,h=-1,f=t,p=n;break;case 270:o=-n/t,c=t/n,p=n;break;default:return""}return`matrix(${a} ${o} ${c} ${h} ${me.svgRound(f)} ${me.svgRound(p)})`}getPathResizingSVGProperties([t,n,a,o]){const[c,h]=j(this,Ns,Fa).call(this),[f,p,g,b]=l(this,Fs);if(Math.abs(g-c)<=me.PRECISION||Math.abs(b-h)<=me.PRECISION){const _=t+a/2-(f+g/2),T=n+o/2-(p+b/2);return{path:{"transform-origin":`${me.svgRound(t)} ${me.svgRound(n)}`,transform:`${this.rotationTransform} translate(${_} ${T})`}}}const v=(a-2*c)/(g-2*c),S=(o-2*h)/(b-2*h),E=g/a,A=b/o;return{path:{"transform-origin":`${me.svgRound(f)} ${me.svgRound(p)}`,transform:`${this.rotationTransform} scale(${E} ${A}) translate(${me.svgRound(c)} ${me.svgRound(h)}) scale(${v} ${S}) translate(${me.svgRound(-c)} ${me.svgRound(-h)})`}}}getPathResizedSVGProperties([t,n,a,o]){const[c,h]=j(this,Ns,Fa).call(this),f=l(this,Fs),[p,g,b,v]=f;if(f[0]=t,f[1]=n,f[2]=a,f[3]=o,Math.abs(b-c)<=me.PRECISION||Math.abs(v-h)<=me.PRECISION){const T=t+a/2-(p+b/2),R=n+o/2-(g+v/2);for(const{line:D,points:L}of l(this,Pn))me._translate(D,T,R,D),me._translate(L,T,R,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(t)} ${me.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const S=(a-2*c)/(b-2*c),E=(o-2*h)/(v-2*h),A=-S*(p+c)+t+c,_=-E*(g+h)+n+h;if(S!==1||E!==1||A!==0||_!==0)for(const{line:T,points:R}of l(this,Pn))me._rescale(T,A,_,S,E,T),me._rescale(R,A,_,S,E,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(t)} ${me.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],a){const[o,c]=a,h=l(this,Fs),f=t-h[0],p=n-h[1];if(l(this,oa)===o&&l(this,ca)===c)for(const{line:g,points:b}of l(this,Pn))me._translate(g,f,p,g),me._translate(b,f,p,b);else{const g=l(this,oa)/o,b=l(this,ca)/c;w(this,oa,o),w(this,ca,c);for(const{line:v,points:S}of l(this,Pn))me._rescale(v,f,p,g,b,v),me._rescale(S,f,p,g,b,S);h[2]*=g,h[3]*=b}return h[0]=t,h[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${me.svgRound(t)} ${me.svgRound(n)}`}}}get defaultSVGProperties(){const t=l(this,Fs);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${me.svgRound(t[0])} ${me.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Fs=new WeakMap,Ap=new WeakMap,Np=new WeakMap,Pn=new WeakMap,oa=new WeakMap,ca=new WeakMap,rh=new WeakMap,lh=new WeakMap,Rc=new WeakMap,Ns=new WeakSet,Fa=function(t=l(this,Rc)){const n=l(this,Np)+t/2*l(this,rh);return l(this,lh)%180===0?[n/l(this,oa),n/l(this,ca)]:[n/l(this,ca),n/l(this,oa)]},vj=function(){const[t,n,a,o]=l(this,Fs),[c,h]=j(this,Ns,Fa).call(this,0);return[t+c,n+h,a-2*c,o-2*h]},wj=function(){const t=w(this,Fs,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:o}of l(this,Pn)){if(o.length<=12){for(let f=4,p=o.length;f<p;f+=6)pe.pointBoundingBox(o[f],o[f+1],t);continue}let c=o[4],h=o[5];for(let f=6,p=o.length;f<p;f+=6){const[g,b,v,S,E,A]=o.subarray(f,f+6);pe.bezierBoundingBox(c,h,g,b,v,S,E,A,t),c=E,h=A}}const[n,a]=j(this,Ns,Fa).call(this);t[0]=Hs(t[0]-n,0,1),t[1]=Hs(t[1]-a,0,1),t[2]=Hs(t[2]+n,0,1),t[3]=Hs(t[3]+a,0,1),t[2]-=t[0],t[3]-=t[1]},Sj=function(t){const[n,a]=j(this,Ns,Fa).call(this);w(this,Rc,t);const[o,c]=j(this,Ns,Fa).call(this),[h,f]=[o-n,c-a],p=l(this,Fs);return p[0]-=h,p[1]-=f,p[2]+=2*h,p[3]+=2*f,p};class Rx extends bj{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:gt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Rx(this._viewParameters);return e.updateAll(this),e}}var Nx,Aj;const Uu=class Uu extends rx{constructor(t){super({...t,name:"inkEditor"});C(this,Nx);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){gt.initialize(t,n),this._defaultDrawingOptions=new Rx(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Pe(this,"typesMap",new Map([[Ve.INK_THICKNESS,"stroke-width"],[Ve.INK_COLOR,"stroke"],[Ve.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,a,o,c){return new PR(t,n,a,o,c,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,a,o,c,h){return Pp.deserialize(t,n,a,o,c,h)}static async deserialize(t,n,a){let o=null;if(t instanceof aS){const{data:{inkLists:h,rect:f,rotation:p,id:g,color:b,opacity:v,borderStyle:{rawWidth:S},popupRef:E,richText:A,contentsObj:_,creationDate:T,modificationDate:R},parent:{page:{pageNumber:D}}}=t;o=t={annotationType:Me.INK,color:Array.from(b),thickness:S,opacity:v,paths:{points:h},boxes:null,pageIndex:D-1,rect:f.slice(0),rotation:p,annotationElementId:g,id:g,deleted:!1,popupRef:E,richText:A,comment:(_==null?void 0:_.str)||null,creationDate:T,modificationDate:R}}const c=await super.deserialize(t,n,a);return c._initialData=o,t.comment&&c.setCommentData(t),c}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new sx(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ve.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:a}=this;n.updateSVGProperty("stroke-width"),a.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:a}){this._drawingOptions=Uu.getDefaultDrawingOptions({stroke:pe.makeHexColor(...t),"stroke-width":n,"stroke-opacity":a})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:a}=this.serializeDraw(t),{_drawingOptions:{stroke:o,"stroke-opacity":c,"stroke-width":h}}=this,f=Object.assign(super.serialize(t),{color:gt._colorManager.convert(o),opacity:c,thickness:h,paths:{lines:n,points:a}});return this.addComment(f),t?(f.isCopy=!0,f):this.annotationElementId&&!j(this,Nx,Aj).call(this,f)?null:(f.id=this.annotationElementId,f)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:n,rect:a}=this.serializeDraw(!1);return t.updateEdited({rect:a,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};Nx=new WeakSet,Aj=function(t){const{color:n,thickness:a,opacity:o,pageIndex:c}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((h,f)=>h!==n[f])||t.thickness!==a||t.opacity!==o||t.pageIndex!==c},ae(Uu,"_type","ink"),ae(Uu,"_editorType",Me.INK),ae(Uu,"_defaultDrawingOptions",null);let _w=Uu;class Mw extends Pp{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const u0=8,gf=3;var Lc,Qe,Dw,Di,Nj,Ej,kw,U0,Cj,jj,Tj,Rw,Lw,_j;class Sr{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:a},o,c,h,f){let p=new OffscreenCanvas(1,1),g=p.getContext("2d",{alpha:!1});const b=200,v=g.font=`${n} ${a} ${b}px ${t}`,{actualBoundingBoxLeft:S,actualBoundingBoxRight:E,actualBoundingBoxAscent:A,actualBoundingBoxDescent:_,fontBoundingBoxAscent:T,fontBoundingBoxDescent:R,width:D}=g.measureText(e),L=1.5,O=Math.ceil(Math.max(Math.abs(S)+Math.abs(E)||0,D)*L),B=Math.ceil(Math.max(Math.abs(A)+Math.abs(_)||b,Math.abs(T)+Math.abs(R)||b)*L);p=new OffscreenCanvas(O,B),g=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),g.font=v,g.filter="grayscale(1)",g.fillStyle="white",g.fillRect(0,0,O,B),g.fillStyle="black",g.fillText(e,O*(L-1)/2,B*(3-L)/2);const k=j(this,Qe,Rw).call(this,g.getImageData(0,0,O,B).data),F=j(this,Qe,Tj).call(this,k),G=j(this,Qe,Lw).call(this,F),Q=j(this,Qe,kw).call(this,k,O,B,G);return this.processDrawnLines({lines:{curves:Q,width:O,height:B},pageWidth:o,pageHeight:c,rotation:h,innerMargin:f,mustSmooth:!0,areContours:!0})}static process(e,t,n,a,o){const[c,h,f]=j(this,Qe,_j).call(this,e),[p,g]=j(this,Qe,jj).call(this,c,h,f,Math.hypot(h,f)*l(this,Lc).sigmaSFactor,l(this,Lc).sigmaR,l(this,Lc).kernelSize),b=j(this,Qe,Lw).call(this,g),v=j(this,Qe,kw).call(this,p,h,f,b);return this.processDrawnLines({lines:{curves:v,width:h,height:f},pageWidth:t,pageHeight:n,rotation:a,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:a,innerMargin:o,mustSmooth:c,areContours:h}){a%180!==0&&([t,n]=[n,t]);const{curves:f,width:p,height:g}=e,b=e.thickness??0,v=[],S=Math.min(t/p,n/g),E=S/t,A=S/n,_=[];for(const{points:R}of f){const D=c?j(this,Qe,Cj).call(this,R):R;if(!D)continue;_.push(D);const L=D.length,O=new Float32Array(L),B=new Float32Array(3*(L===2?2:L-2));if(v.push({line:B,points:O}),L===2){O[0]=D[0]*E,O[1]=D[1]*A,B.set([NaN,NaN,NaN,NaN,O[0],O[1]],0);continue}let[k,F,G,Q]=D;k*=E,F*=A,G*=E,Q*=A,O.set([k,F,G,Q],0),B.set([NaN,NaN,NaN,NaN,k,F],0);for(let K=4;K<L;K+=2){const X=O[K]=D[K]*E,he=O[K+1]=D[K+1]*A;B.set(me.createBezierPoints(k,F,G,Q,X,he),(K-2)*3),[k,F,G,Q]=[G,Q,X,he]}}if(v.length===0)return null;const T=h?new Mw:new Pp;return T.build(v,t,n,1,a,h?0:b,o),{outline:T,newCurves:_,areContours:h,thickness:b,width:p,height:g}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:a,height:o}){let c=1/0,h=-1/0,f=0;for(const D of e){f+=D.length;for(let L=2,O=D.length;L<O;L++){const B=D[L]-D[L-2];c=Math.min(c,B),h=Math.max(h,B)}}let p;c>=-128&&h<=127?p=Int8Array:c>=-32768&&h<=32767?p=Int16Array:p=Int32Array;const g=e.length,b=u0+gf*g,v=new Uint32Array(b);let S=0;v[S++]=b*Uint32Array.BYTES_PER_ELEMENT+(f-2*g)*p.BYTES_PER_ELEMENT,v[S++]=0,v[S++]=a,v[S++]=o,v[S++]=t?0:1,v[S++]=Math.max(0,Math.floor(n??0)),v[S++]=g,v[S++]=p.BYTES_PER_ELEMENT;for(const D of e)v[S++]=D.length-2,v[S++]=D[0],v[S++]=D[1];const E=new CompressionStream("deflate-raw"),A=E.writable.getWriter();await A.ready,A.write(v);const _=p.prototype.constructor;for(const D of e){const L=new _(D.length-2);for(let O=2,B=D.length;O<B;O++)L[O-2]=D[O]-D[O-2];A.write(L)}A.close();const T=await new Response(E.readable).arrayBuffer(),R=new Uint8Array(T);return ME(R)}static async decompressSignature(e){try{const t=ZD(e),{readable:n,writable:a}=new DecompressionStream("deflate-raw"),o=a.getWriter();await o.ready,o.write(t).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let c=null,h=0;for await(const D of n)c||(c=new Uint8Array(new Uint32Array(D.buffer,0,4)[0])),c.set(D,h),h+=D.length;const f=new Uint32Array(c.buffer,0,c.length>>2),p=f[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const g=f[2],b=f[3],v=f[4]===0,S=f[5],E=f[6],A=f[7],_=[],T=(u0+gf*E)*Uint32Array.BYTES_PER_ELEMENT;let R;switch(A){case Int8Array.BYTES_PER_ELEMENT:R=new Int8Array(c.buffer,T);break;case Int16Array.BYTES_PER_ELEMENT:R=new Int16Array(c.buffer,T);break;case Int32Array.BYTES_PER_ELEMENT:R=new Int32Array(c.buffer,T);break}h=0;for(let D=0;D<E;D++){const L=f[gf*D+u0],O=new Float32Array(L+2);_.push(O);for(let B=0;B<gf-1;B++)O[B]=f[gf*D+u0+B+1];for(let B=0;B<L;B++)O[B+2]=O[B]+R[h++]}return{areContours:v,thickness:S,outlines:_,width:g,height:b}}catch(t){return Te(`decompressSignature: ${t}`),null}}}Lc=new WeakMap,Qe=new WeakSet,Dw=function(e,t,n,a){return n-=e,a-=t,n===0?a>0?0:4:n===1?a+6:2-a},Di=new WeakMap,Nj=function(e,t,n,a,o,c,h){const f=j(this,Qe,Dw).call(this,n,a,o,c);for(let p=0;p<8;p++){const g=(-p+f-h+16)%8,b=l(this,Di)[2*g],v=l(this,Di)[2*g+1];if(e[(n+b)*t+(a+v)]!==0)return g}return-1},Ej=function(e,t,n,a,o,c,h){const f=j(this,Qe,Dw).call(this,n,a,o,c);for(let p=0;p<8;p++){const g=(p+f+h+16)%8,b=l(this,Di)[2*g],v=l(this,Di)[2*g+1];if(e[(n+b)*t+(a+v)]!==0)return g}return-1},kw=function(e,t,n,a){const o=e.length,c=new Int32Array(o);for(let g=0;g<o;g++)c[g]=e[g]<=a?1:0;for(let g=1;g<n-1;g++)c[g*t]=c[g*t+t-1]=0;for(let g=0;g<t;g++)c[g]=c[t*n-1-g]=0;let h=1,f;const p=[];for(let g=1;g<n-1;g++){f=1;for(let b=1;b<t-1;b++){const v=g*t+b,S=c[v];if(S===0)continue;let E=g,A=b;if(S===1&&c[v-1]===0)h+=1,A-=1;else if(S>=1&&c[v+1]===0)h+=1,A+=1,S>1&&(f=S);else{S!==1&&(f=Math.abs(S));continue}const _=[b,g],T=A===b+1,R={isHole:T,points:_,id:h,parent:0};p.push(R);let D;for(const K of p)if(K.id===f){D=K;break}D?D.isHole?R.parent=T?D.parent:f:R.parent=T?f:D.parent:R.parent=T?f:0;const L=j(this,Qe,Nj).call(this,c,t,g,b,E,A,0);if(L===-1){c[v]=-h,c[v]!==1&&(f=Math.abs(c[v]));continue}let O=l(this,Di)[2*L],B=l(this,Di)[2*L+1];const k=g+O,F=b+B;E=k,A=F;let G=g,Q=b;for(;;){const K=j(this,Qe,Ej).call(this,c,t,G,Q,E,A,1);O=l(this,Di)[2*K],B=l(this,Di)[2*K+1];const X=G+O,he=Q+B;_.push(he,X);const de=G*t+Q;if(c[de+1]===0?c[de]=-h:c[de]===1&&(c[de]=h),X===g&&he===b&&G===k&&Q===F){c[v]!==1&&(f=Math.abs(c[v]));break}else E=G,A=Q,G=X,Q=he}}}return p},U0=function(e,t,n,a){if(n-t<=4){for(let k=t;k<n-2;k+=2)a.push(e[k],e[k+1]);return}const o=e[t],c=e[t+1],h=e[n-4]-o,f=e[n-3]-c,p=Math.hypot(h,f),g=h/p,b=f/p,v=g*c-b*o,S=f/h,E=1/p,A=Math.atan(S),_=Math.cos(A),T=Math.sin(A),R=E*(Math.abs(_)+Math.abs(T)),D=E*(1-R+R**2),L=Math.max(Math.atan(Math.abs(T+_)*D),Math.atan(Math.abs(T-_)*D));let O=0,B=t;for(let k=t+2;k<n-2;k+=2){const F=Math.abs(v-g*e[k+1]+b*e[k]);F>O&&(B=k,O=F)}O>(p*L)**2?(j(this,Qe,U0).call(this,e,t,B+2,a),j(this,Qe,U0).call(this,e,B,n,a)):a.push(o,c)},Cj=function(e){const t=[],n=e.length;return j(this,Qe,U0).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},jj=function(e,t,n,a,o,c){const h=new Float32Array(c**2),f=-2*a**2,p=c>>1;for(let A=0;A<c;A++){const _=(A-p)**2;for(let T=0;T<c;T++)h[A*c+T]=Math.exp((_+(T-p)**2)/f)}const g=new Float32Array(256),b=-2*o**2;for(let A=0;A<256;A++)g[A]=Math.exp(A**2/b);const v=e.length,S=new Uint8Array(v),E=new Uint32Array(256);for(let A=0;A<n;A++)for(let _=0;_<t;_++){const T=A*t+_,R=e[T];let D=0,L=0;for(let B=0;B<c;B++){const k=A+B-p;if(!(k<0||k>=n))for(let F=0;F<c;F++){const G=_+F-p;if(G<0||G>=t)continue;const Q=e[k*t+G],K=h[B*c+F]*g[Math.abs(Q-R)];D+=Q*K,L+=K}}const O=S[T]=Math.round(D/L);E[O]++}return[S,E]},Tj=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},Rw=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let a=-1/0,o=1/0;for(let h=0,f=n.length;h<f;h++){const p=n[h]=e[h<<2];a=Math.max(a,p),o=Math.min(o,p)}const c=255/(a-o);for(let h=0,f=n.length;h<f;h++)n[h]=(n[h]-o)*c;return n},Lw=function(e){let t,n=-1/0,a=-1/0;const o=e.findIndex(f=>f!==0);let c=o,h=o;for(t=o;t<256;t++){const f=e[t];f>n&&(t-c>a&&(a=t-c,h=t-1),n=f,c=t)}for(t=h-1;t>=0&&!(e[t]>e[t+1]);t--);return t},_j=function(e){const t=e,{width:n,height:a}=e,{maxDim:o}=l(this,Lc);let c=n,h=a;if(n>o||a>o){let v=n,S=a,E=Math.log2(Math.max(n,a)/o);const A=Math.floor(E);E=E===A?A-1:A;for(let T=0;T<E;T++){c=Math.ceil(v/2),h=Math.ceil(S/2);const R=new OffscreenCanvas(c,h);R.getContext("2d").drawImage(e,0,0,v,S,0,0,c,h),v=c,S=h,e!==t&&e.close(),e=R.transferToImageBitmap()}const _=Math.min(o/c,o/h);c=Math.round(c*_),h=Math.round(h*_)}const p=new OffscreenCanvas(c,h).getContext("2d",{willReadFrequently:!0});p.fillStyle="white",p.fillRect(0,0,c,h),p.filter="grayscale(1)",p.drawImage(e,0,0,e.width,e.height,0,0,c,h);const g=p.getImageData(0,0,c,h).data;return[j(this,Qe,Rw).call(this,g),c,h]},C(Sr,Qe),C(Sr,Lc,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),C(Sr,Di,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class rS extends bj{constructor(){super(),super.updateProperties({fill:gt._defaultLineColor,"stroke-width":0})}clone(){const e=new rS;return e.updateAll(this),e}}class lS extends Rx{constructor(e){super(e),super.updateProperties({stroke:gt._defaultLineColor,"stroke-width":1})}clone(){const e=new lS(this._viewParameters);return e.updateAll(this),e}}var Hl,ua,Vl,Oc;const vn=class vn extends rx{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});C(this,Hl,!1);C(this,ua,null);C(this,Vl,null);C(this,Oc,null);this._willKeepAspectRatio=!0,w(this,Vl,t.signatureData||null),w(this,ua,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){gt.initialize(t,n),this._defaultDrawingOptions=new rS,this._defaultDrawnSignatureOptions=new lS(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Pe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,ua)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:a}=this;if(a&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(l(this,Vl)){const{lines:o,mustSmooth:c,areContours:h,description:f,uuid:p,heightInPage:g}=l(this,Vl),{rawDims:{pageWidth:b,pageHeight:v},rotation:S}=this.parent.viewport,E=Sr.processDrawnLines({lines:o,pageWidth:b,pageHeight:v,rotation:S,innerMargin:vn._INNER_MARGIN,mustSmooth:c,areContours:h});this.addSignature(E,g,f,p)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:l(this,ua)||""}));return a&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){w(this,Oc,t),this.addEditToolbar()}getUuid(){return l(this,Oc)}get description(){return l(this,ua)}set description(t){w(this,ua,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:a,width:o,height:c}=l(this,Vl),h=Math.max(o,c),f=Sr.processDrawnLines({lines:{curves:t.map(p=>({points:p})),thickness:a,width:o,height:c},pageWidth:h,pageHeight:h,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:f.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,a,o){const{x:c,y:h}=this,{outline:f}=w(this,Vl,t);w(this,Hl,f instanceof Mw),this.description=a;let p;l(this,Hl)?p=vn.getDefaultDrawingOptions():(p=vn._defaultDrawnSignatureOptions.clone(),p.updateProperties({"stroke-width":f.thickness})),this._addOutlines({drawOutlines:f,drawingOptions:p});const[,g]=this.pageDimensions;let b=n/g;b=b>=1?.5:b,this.width*=b/this.height,this.width>=1&&(b*=.9/this.width,this.width=.9),this.height=b,this.setDims(),this.x=c,this.y=h,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(o),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!o,hasDescription:!!a}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:a},rotation:o}=this.parent.viewport;return Sr.process(t,n,a,o,vn._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:a,pageHeight:o},rotation:c}=this.parent.viewport;return Sr.extractContoursFromText(t,n,a,o,c,vn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:a},rotation:o}=this.parent.viewport;return Sr.processDrawnLines({lines:t,pageWidth:n,pageHeight:a,rotation:o,innerMargin:vn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=vn.getDefaultDrawingOptions():(this._drawingOptions=vn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:a}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":o}}=this,c=Object.assign(super.serialize(t),{isSignature:!0,areContours:l(this,Hl),color:[0,0,0],thickness:l(this,Hl)?0:o});return this.addComment(c),t?(c.paths={lines:n,points:a},c.uuid=l(this,Oc),c.isCopy=!0):c.lines=n,l(this,ua)&&(c.accessibilityData={type:"Figure",alt:l(this,ua)}),c}static deserializeDraw(t,n,a,o,c,h){return h.areContours?Mw.deserialize(t,n,a,o,c,h):Pp.deserialize(t,n,a,o,c,h)}static async deserialize(t,n,a){var c;const o=await super.deserialize(t,n,a);return w(o,Hl,t.areContours),o.description=((c=t.accessibilityData)==null?void 0:c.alt)||"",w(o,Oc,t.uuid),o}};Hl=new WeakMap,ua=new WeakMap,Vl=new WeakMap,Oc=new WeakMap,ae(vn,"_type","signature"),ae(vn,"_editorType",Me.SIGNATURE),ae(vn,"_defaultDrawingOptions",null);let Ow=vn;var Nt,us,Gl,xr,$l,oh,br,Pc,da,Bn,ch,qe,If,Ff,H0,V0,G0,Bw,$0,Mj;class Pw extends gt{constructor(t){super({...t,name:"stampEditor"});C(this,qe);C(this,Nt,null);C(this,us,null);C(this,Gl,null);C(this,xr,null);C(this,$l,null);C(this,oh,"");C(this,br,null);C(this,Pc,!1);C(this,da,null);C(this,Bn,!1);C(this,ch,!1);w(this,xr,t.bitmapUrl),w(this,$l,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){gt.initialize(t,n)}static isHandlingMimeForPasting(t){return yv.includes(t)}static paste(t,n){n.pasteEditor({mode:Me.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:c,height:h}=t||this.copyCanvas(null,null,!0).imageData,f=await a.guess({name:"altText",request:{data:o,width:c,height:h,channels:o.length/(c*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),n&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var t;l(this,us)&&(w(this,Nt,null),this._uiManager.imageManager.deleteId(l(this,us)),(t=l(this,br))==null||t.remove(),w(this,br,null),l(this,da)&&(clearTimeout(l(this,da)),w(this,da,null))),super.remove()}rebuild(){if(!this.parent){l(this,us)&&j(this,qe,H0).call(this);return}super.rebuild(),this.div!==null&&(l(this,us)&&l(this,br)===null&&j(this,qe,H0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(l(this,Gl)||l(this,Nt)||l(this,xr)||l(this,$l)||l(this,us)||l(this,Pc))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,Pc)||(l(this,Nt)?j(this,qe,V0).call(this):j(this,qe,H0).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:a,bitmap:o}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),a&&this._uiManager.imageManager.isValidId(a)&&(w(this,us,a),o&&w(this,Nt,o),w(this,Pc,!1),j(this,qe,V0).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,da)!==null&&clearTimeout(l(this,da)),w(this,da,setTimeout(()=>{w(this,da,null),j(this,qe,Bw).call(this)},200))}copyCanvas(t,n,a=!1){t||(t=224);const{width:o,height:c}=l(this,Nt),h=new ma;let f=l(this,Nt),p=o,g=c,b=null;if(n){if(o>n||c>n){const k=Math.min(n/o,n/c);p=Math.floor(o*k),g=Math.floor(c*k)}b=document.createElement("canvas");const S=b.width=Math.ceil(p*h.sx),E=b.height=Math.ceil(g*h.sy);l(this,Bn)||(f=j(this,qe,G0).call(this,S,E));const A=b.getContext("2d");A.filter=this._uiManager.hcmFilter;let _="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":ik.isDarkMode&&(_="#8f8f9d",T="#42414d");const R=15,D=R*h.sx,L=R*h.sy,O=new OffscreenCanvas(D*2,L*2),B=O.getContext("2d");B.fillStyle=_,B.fillRect(0,0,D*2,L*2),B.fillStyle=T,B.fillRect(0,0,D,L),B.fillRect(D,L,D,L),A.fillStyle=A.createPattern(O,"repeat"),A.fillRect(0,0,S,E),A.drawImage(f,0,0,f.width,f.height,0,0,S,E)}let v=null;if(a){let S,E;if(h.symmetric&&f.width<t&&f.height<t)S=f.width,E=f.height;else if(f=l(this,Nt),o>t||c>t){const T=Math.min(t/o,t/c);S=Math.floor(o*T),E=Math.floor(c*T),l(this,Bn)||(f=j(this,qe,G0).call(this,S,E))}const _=new OffscreenCanvas(S,E).getContext("2d",{willReadFrequently:!0});_.drawImage(f,0,0,f.width,f.height,0,0,S,E),v={width:S,height:E,data:_.getImageData(0,0,S,E).data}}return{canvas:b,width:p,height:g,imageData:v}}static async deserialize(t,n,a){var _;let o=null,c=!1;if(t instanceof qC){const{data:{rect:T,rotation:R,id:D,structParent:L,popupRef:O,richText:B,contentsObj:k,creationDate:F,modificationDate:G},container:Q,parent:{page:{pageNumber:K}},canvas:X}=t;let he,de;X?(delete t.canvas,{id:he,bitmap:de}=a.imageManager.getFromCanvas(Q.id,X),X.remove()):(c=!0,t._hasNoCanvas=!0);const Se=((_=await n._structTree.getAriaAttributes(`${Zw}${D}`))==null?void 0:_.get("aria-label"))||"";o=t={annotationType:Me.STAMP,bitmapId:he,bitmap:de,pageIndex:K-1,rect:T.slice(0),rotation:R,annotationElementId:D,id:D,deleted:!1,accessibilityData:{decorative:!1,altText:Se},isSvg:!1,structParent:L,popupRef:O,richText:B,comment:(k==null?void 0:k.str)||null,creationDate:F,modificationDate:G}}const h=await super.deserialize(t,n,a),{rect:f,bitmap:p,bitmapUrl:g,bitmapId:b,isSvg:v,accessibilityData:S}=t;c?(a.addMissingCanvas(t.id,h),w(h,Pc,!0)):b&&a.imageManager.isValidId(b)?(w(h,us,b),p&&w(h,Nt,p)):w(h,xr,g),w(h,Bn,v);const[E,A]=h.pageDimensions;return h.width=(f[2]-f[0])/E,h.height=(f[3]-f[1])/A,S&&(h.altTextData=S),h._initialData=o,t.comment&&h.setCommentData(t),w(h,ch,!!o),h}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a=Object.assign(super.serialize(t),{bitmapId:l(this,us),isSvg:l(this,Bn)});if(this.addComment(a),t)return a.bitmapUrl=j(this,qe,$0).call(this,!0),a.accessibilityData=this.serializeAltText(!0),a.isCopy=!0,a;const{decorative:o,altText:c}=this.serializeAltText(!1);if(!o&&c&&(a.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=j(this,qe,Mj).call(this,a);return f.isSame?null:(f.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1,a.id=this.annotationElementId,delete a.bitmapId,a)}if(n===null)return a;n.stamps||(n.stamps=new Map);const h=l(this,Bn)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!n.stamps.has(l(this,us)))n.stamps.set(l(this,us),{area:h,serialized:a}),a.bitmap=j(this,qe,$0).call(this,!1);else if(l(this,Bn)){const f=n.stamps.get(l(this,us));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=j(this,qe,$0).call(this,!1))}return a}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Nt=new WeakMap,us=new WeakMap,Gl=new WeakMap,xr=new WeakMap,$l=new WeakMap,oh=new WeakMap,br=new WeakMap,Pc=new WeakMap,da=new WeakMap,Bn=new WeakMap,ch=new WeakMap,qe=new WeakSet,If=function(t,n=!1){if(!t){this.remove();return}w(this,Nt,t.bitmap),n||(w(this,us,t.id),w(this,Bn,t.isSvg)),t.file&&w(this,oh,t.file.name),j(this,qe,V0).call(this)},Ff=function(){if(w(this,Gl,null),this._uiManager.enableWaiting(!1),!!l(this,br)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Nt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,Nt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},H0=function(){if(l(this,us)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,us)).then(a=>j(this,qe,If).call(this,a,!0)).finally(()=>j(this,qe,Ff).call(this));return}if(l(this,xr)){const a=l(this,xr);w(this,xr,null),this._uiManager.enableWaiting(!0),w(this,Gl,this._uiManager.imageManager.getFromUrl(a).then(o=>j(this,qe,If).call(this,o)).finally(()=>j(this,qe,Ff).call(this)));return}if(l(this,$l)){const a=l(this,$l);w(this,$l,null),this._uiManager.enableWaiting(!0),w(this,Gl,this._uiManager.imageManager.getFromFile(a).then(o=>j(this,qe,If).call(this,o)).finally(()=>j(this,qe,Ff).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=yv.join(",");const n=this._uiManager._signal;w(this,Gl,new Promise(a=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),j(this,qe,If).call(this,o)}a()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),a()},{signal:n})}).finally(()=>j(this,qe,Ff).call(this))),t.click()},V0=function(){var p;const{div:t}=this;let{width:n,height:a}=l(this,Nt);const[o,c]=this.pageDimensions,h=.75;if(this.width)n=this.width*o,a=this.height*c;else if(n>h*o||a>h*c){const g=Math.min(h*o/n,h*c/a);n*=g,a*=g}this._uiManager.enableWaiting(!1);const f=w(this,br,document.createElement("canvas"));f.setAttribute("role","img"),this.addContainer(f),this.width=n/o,this.height=a/c,this.setDims(),(p=this._initialOptions)!=null&&p.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),j(this,qe,Bw).call(this),l(this,ch)||(this.parent.addUndoableEditor(this),w(this,ch,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,oh)&&this.div.setAttribute("aria-description",l(this,oh)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},G0=function(t,n){const{width:a,height:o}=l(this,Nt);let c=a,h=o,f=l(this,Nt);for(;c>2*t||h>2*n;){const p=c,g=h;c>2*t&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*n&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const b=new OffscreenCanvas(c,h);b.getContext("2d").drawImage(f,0,0,p,g,0,0,c,h),f=b.transferToImageBitmap()}return f},Bw=function(){const[t,n]=this.parentDimensions,{width:a,height:o}=this,c=new ma,h=Math.ceil(a*t*c.sx),f=Math.ceil(o*n*c.sy),p=l(this,br);if(!p||p.width===h&&p.height===f)return;p.width=h,p.height=f;const g=l(this,Bn)?l(this,Nt):j(this,qe,G0).call(this,h,f),b=p.getContext("2d");b.filter=this._uiManager.hcmFilter,b.drawImage(g,0,0,g.width,g.height,0,0,h,f)},$0=function(t){if(t){if(l(this,Bn)){const o=this._uiManager.imageManager.getSvgUrl(l(this,us));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=l(this,Nt),n.getContext("2d").drawImage(l(this,Nt),0,0),n.toDataURL()}if(l(this,Bn)){const[n,a]=this.pageDimensions,o=Math.round(this.width*n*Zl.PDF_TO_CSS_UNITS),c=Math.round(this.height*a*Zl.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(o,c);return h.getContext("2d").drawImage(l(this,Nt),0,0,l(this,Nt).width,l(this,Nt).height,0,0,o,c),h.transferToImageBitmap()}return structuredClone(l(this,Nt))},Mj=function(t){var h;const{pageIndex:n,accessibilityData:{altText:a}}=this._initialData,o=t.pageIndex===n,c=(((h=t.accessibilityData)==null?void 0:h.alt)||"")===a;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&o&&c,isSameAltText:c}},ae(Pw,"_type","stamp"),ae(Pw,"_editorType",Me.STAMP);var Bc,uh,ql,Yl,yr,on,Xl,dh,hh,ki,vr,ds,wr,Wl,fh,ye,Kl,ft,Fw,Dj,Hi,zw,Uw,q0;const wi=class wi{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:a,accessibilityManager:o,annotationLayer:c,drawLayer:h,textLayer:f,viewport:p,l10n:g}){C(this,ft);C(this,Bc);C(this,uh,!1);C(this,ql,null);C(this,Yl,null);C(this,yr,null);C(this,on,new Map);C(this,Xl,!1);C(this,dh,!1);C(this,hh,!1);C(this,ki,null);C(this,vr,null);C(this,ds,null);C(this,wr,null);C(this,Wl,null);C(this,fh,-1);C(this,ye);const b=[...l(wi,Kl).values()];if(!wi._initialized){wi._initialized=!0;for(const v of b)v.initialize(g,e)}e.registerEditorTypes(b),w(this,ye,e),this.pageIndex=t,this.div=n,w(this,Bc,o),w(this,ql,c),this.viewport=p,w(this,ds,f),this.drawLayer=h,this._structTree=a,l(this,ye).addLayer(this)}get isEmpty(){return l(this,on).size===0}get isInvisible(){return this.isEmpty&&l(this,ye).getMode()===Me.NONE}updateToolbar(e){l(this,ye).updateToolbar(e)}updateMode(e=l(this,ye).getMode()){switch(j(this,ft,q0).call(this),e){case Me.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Me.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Me.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of l(wi,Kl).values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,ds))==null?void 0:t.div)}setEditingState(e){l(this,ye).setEditingState(e)}addCommands(e){l(this,ye).addCommands(e)}cleanUndoStack(e){l(this,ye).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,ql))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;w(this,hh,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=l(this,Wl))==null||n.abort(),w(this,Wl,null);const e=new Set;for(const a of l(this,ft,Fw))a.enableEditing(),a.show(!0),a.annotationElementId&&(l(this,ye).removeChangedExistingAnnotation(a),e.add(a.annotationElementId));const t=l(this,ql);if(t)for(const a of t.getEditableAnnotations()){if(a.hide(),l(this,ye).isDeletedAnnotationElement(a.data.id)||e.has(a.data.id))continue;const o=await this.deserialize(a);o&&(this.addOrRebuild(o),o.enableEditing())}w(this,hh,!1),l(this,ye)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var n;if(w(this,dh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),l(this,ds)&&!l(this,Wl)){w(this,Wl,new AbortController);const a=l(this,ye).combinedSignal(l(this,Wl));l(this,ds).div.addEventListener("pointerdown",o=>{const{clientX:h,clientY:f,timeStamp:p}=o,g=l(this,fh);if(p-g>500){w(this,fh,p);return}w(this,fh,-1);const{classList:b}=this.div;b.toggle("getElements",!0);const v=document.elementsFromPoint(h,f);if(b.toggle("getElements",!1),!this.div.contains(v[0]))return;let S;const E=new RegExp(`^${Uf}[0-9]+$`);for(const _ of v)if(E.test(_.id)){S=_.id;break}if(!S)return;const A=l(this,on).get(S);(A==null?void 0:A.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),A.dblclick(o))},{signal:a,capture:!0})}const e=l(this,ql);if(e){const a=new Map,o=new Map;for(const h of l(this,ft,Fw)){if(h.disableEditing(),!h.annotationElementId){h.updateFakeAnnotationElement(e);continue}if(h.serialize()!==null){a.set(h.annotationElementId,h);continue}else o.set(h.annotationElementId,h);(n=this.getEditableAnnotation(h.annotationElementId))==null||n.show(),h.remove()}const c=e.getEditableAnnotations();for(const h of c){const{id:f}=h.data;if(l(this,ye).isDeletedAnnotationElement(f)){h.updateEdited({deleted:!0});continue}let p=o.get(f);if(p){p.resetAnnotationElement(h),p.show(!1),h.show();continue}p=a.get(f),p&&(l(this,ye).addChangedExistingAnnotation(p),p.renderAnnotationElement(h)&&p.show(!1)),h.show()}}j(this,ft,q0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const a of l(wi,Kl).values())t.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,dh,!1)}getEditableAnnotation(e){var t;return((t=l(this,ql))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,ye).getActive()!==e&&l(this,ye).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=l(this,ds))!=null&&e.div&&!l(this,wr)){w(this,wr,new AbortController);const t=l(this,ye).combinedSignal(l(this,wr));l(this,ds).div.addEventListener("pointerdown",j(this,ft,Dj).bind(this),{signal:t}),l(this,ds).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,ds))!=null&&e.div&&l(this,wr)&&(l(this,wr).abort(),w(this,wr,null),l(this,ds).div.classList.remove("highlighting"))}enableClick(){if(l(this,Yl))return;w(this,Yl,new AbortController);const e=l(this,ye).combinedSignal(l(this,Yl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=l(this,Yl))==null||e.abort(),w(this,Yl,null)}attach(e){l(this,on).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,ye).isDeletedAnnotationElement(t)&&l(this,ye).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,on).delete(e.id),(t=l(this,Bc))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,dh)&&e.annotationElementId&&l(this,ye).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,ye).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,ye).addDeletedAnnotationElement(e.annotationElementId),gt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,ye).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!l(this,hh)),l(this,ye).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,yr)&&(e._focusEventsAllowed=!1,w(this,yr,setTimeout(()=>{w(this,yr,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,ye)._signal}),t.focus())},0))),e._structTreeParentId=(n=l(this,Bc))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of l(this,on).values())if(t.uid===e)return t;return null}getNextId(){return l(this,ye).getId()}combinedSignal(e){return l(this,ye).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=l(this,ft,Hi))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await l(this,ye).updateMode(e.mode);const{offsetX:n,offsetY:a}=j(this,ft,Uw).call(this),o=this.getNextId(),c=j(this,ft,zw).call(this,{parent:this,id:o,x:n,y:a,uiManager:l(this,ye),isCentered:!0,...t});c&&this.add(c)}async deserialize(e){var t;return await((t=l(wi,Kl).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,ye)))||null}createAndAddNewEditor(e,t,n={}){const a=this.getNextId(),o=j(this,ft,zw).call(this,{parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:l(this,ye),isCentered:t,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(j(this,ft,Uw).call(this),!0,e)}setSelected(e){l(this,ye).setSelected(e)}toggleSelected(e){l(this,ye).toggleSelected(e)}unselect(e){l(this,ye).unselect(e)}pointerup(e){var a;const{isMac:t}=Cs.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!l(this,Xl)||(w(this,Xl,!1),(a=l(this,ft,Hi))!=null&&a.isDrawer&&l(this,ft,Hi).supportMultipleDrawings))return;if(!l(this,uh)){w(this,uh,!0);return}const n=l(this,ye).getMode();if(n===Me.STAMP||n===Me.SIGNATURE){l(this,ye).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var a;if(l(this,ye).getMode()===Me.HIGHLIGHT&&this.enableTextSelection(),l(this,Xl)){w(this,Xl,!1);return}const{isMac:t}=Cs.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(w(this,Xl,!0),(a=l(this,ft,Hi))!=null&&a.isDrawer){this.startDrawingSession(e);return}const n=l(this,ye).getActive();w(this,uh,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),l(this,ki)){l(this,ft,Hi).startDrawing(this,l(this,ye),!1,e);return}l(this,ye).setCurrentDrawingSession(this),w(this,ki,new AbortController);const t=l(this,ye).combinedSignal(l(this,ki));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(w(this,vr,null),this.commitOrRemove())},{signal:t}),l(this,ft,Hi).startDrawing(this,l(this,ye),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&w(this,vr,t);return}l(this,vr)&&setTimeout(()=>{var t;(t=l(this,vr))==null||t.focus(),w(this,vr,null)},0)}endDrawingSession(e=!1){return l(this,ki)?(l(this,ye).setCurrentDrawingSession(null),l(this,ki).abort(),w(this,ki,null),w(this,vr,null),l(this,ft,Hi).endDrawing(e)):null}findNewParent(e,t,n){const a=l(this,ye).findParent(t,n);return a===null||a===this?!1:(a.changeParent(e),!0)}commitOrRemove(){return l(this,ki)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,ki)&&l(this,ft,Hi).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=l(this,ye).getActive())==null?void 0:e.parent)===this&&(l(this,ye).commitOrRemove(),l(this,ye).setActiveEditor(null)),l(this,yr)&&(clearTimeout(l(this,yr)),w(this,yr,null));for(const n of l(this,on).values())(t=l(this,Bc))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,l(this,on).clear(),l(this,ye).removeLayer(this)}render({viewport:e}){this.viewport=e,Fc(this.div,e);for(const t of l(this,ye).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,ye).commitOrRemove(),j(this,ft,q0).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Fc(this.div,{rotation:n}),t!==n)for(const a of l(this,on).values())a.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,ye).viewParameters.realScale}};Bc=new WeakMap,uh=new WeakMap,ql=new WeakMap,Yl=new WeakMap,yr=new WeakMap,on=new WeakMap,Xl=new WeakMap,dh=new WeakMap,hh=new WeakMap,ki=new WeakMap,vr=new WeakMap,ds=new WeakMap,wr=new WeakMap,Wl=new WeakMap,fh=new WeakMap,ye=new WeakMap,Kl=new WeakMap,ft=new WeakSet,Fw=function(){return l(this,on).size!==0?l(this,on).values():l(this,ye).getEditors(this.pageIndex)},Dj=function(e){l(this,ye).unselectAll();const{target:t}=e;if(t===l(this,ds).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,ds).div.contains(t)){const{isMac:n}=Cs.platform;if(e.button!==0||e.ctrlKey&&n)return;l(this,ye).showAllEditors("highlight",!0,!0),l(this,ds).div.classList.add("free"),this.toggleDrawing(),ax.startHighlighting(this,l(this,ye).direction==="ltr",{target:l(this,ds).div,x:e.x,y:e.y}),l(this,ds).div.addEventListener("pointerup",()=>{l(this,ds).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,ye)._signal}),e.preventDefault()}},Hi=function(){return l(wi,Kl).get(l(this,ye).getMode())},zw=function(e){const t=l(this,ft,Hi);return t?new t.prototype.constructor(e):null},Uw=function(){const{x:e,y:t,width:n,height:a}=this.boundingClientRect,o=Math.max(0,e),c=Math.max(0,t),h=Math.min(window.innerWidth,e+n),f=Math.min(window.innerHeight,t+a),p=(o+h)/2-e,g=(c+f)/2-t,[b,v]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:b,offsetY:v}},q0=function(){for(const e of l(this,on).values())e.isEmpty()&&e.remove()},ae(wi,"_initialized",!1),C(wi,Kl,new Map([yw,_w,Pw,ax,Ow].map(e=>[e._editorType,e])));let Iw=wi;var Ri,zs,Ic,Ep,Ex,kj,pa,Vw,Rj,Gw;const Jt=class Jt{constructor({pageIndex:e}){C(this,pa);C(this,Ri,null);C(this,zs,new Map);C(this,Ic,new Map);this.pageIndex=e}setParent(e){if(!l(this,Ri)){w(this,Ri,e);return}if(l(this,Ri)!==e){if(l(this,zs).size>0)for(const t of l(this,zs).values())t.remove(),e.append(t);w(this,Ri,e)}}static get _svgFactory(){return Pe(this,"_svgFactory",new nx)}draw(e,t=!1,n=!1){const a=Qt(Jt,Ep)._++,o=j(this,pa,Vw).call(this),c=Jt._svgFactory.createElement("defs");o.append(c);const h=Jt._svgFactory.createElement("path");c.append(h);const f=`path_p${this.pageIndex}_${a}`;h.setAttribute("id",f),h.setAttribute("vector-effect","non-scaling-stroke"),t&&l(this,Ic).set(a,h);const p=n?j(this,pa,Rj).call(this,c,f):null,g=Jt._svgFactory.createElement("use");return o.append(g),g.setAttribute("href",`#${f}`),this.updateProperties(o,e),l(this,zs).set(a,o),{id:a,clipPathId:`url(#${p})`}}drawOutline(e,t){const n=Qt(Jt,Ep)._++,a=j(this,pa,Vw).call(this),o=Jt._svgFactory.createElement("defs");a.append(o);const c=Jt._svgFactory.createElement("path");o.append(c);const h=`path_p${this.pageIndex}_${n}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke");let f;if(t){const b=Jt._svgFactory.createElement("mask");o.append(b),f=`mask_p${this.pageIndex}_${n}`,b.setAttribute("id",f),b.setAttribute("maskUnits","objectBoundingBox");const v=Jt._svgFactory.createElement("rect");b.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const S=Jt._svgFactory.createElement("use");b.append(S),S.setAttribute("href",`#${h}`),S.setAttribute("stroke","none"),S.setAttribute("fill","black"),S.setAttribute("fill-rule","nonzero"),S.classList.add("mask")}const p=Jt._svgFactory.createElement("use");a.append(p),p.setAttribute("href",`#${h}`),f&&p.setAttribute("mask",`url(#${f})`);const g=p.cloneNode();return a.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),this.updateProperties(a,e),l(this,zs).set(n,a),n}finalizeDraw(e,t){l(this,Ic).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var f;if(!t)return;const{root:n,bbox:a,rootClass:o,path:c}=t,h=typeof e=="number"?l(this,zs).get(e):e;if(h){if(n&&j(this,pa,Gw).call(this,h,n),a&&j(f=Jt,Ex,kj).call(f,h,a),o){const{classList:p}=h;for(const[g,b]of Object.entries(o))p.toggle(g,b)}if(c){const g=h.firstChild.firstChild;j(this,pa,Gw).call(this,g,c)}}}updateParent(e,t){if(t===this)return;const n=l(this,zs).get(e);n&&(l(t,Ri).append(n),l(this,zs).delete(e),l(t,zs).set(e,n))}remove(e){l(this,Ic).delete(e),l(this,Ri)!==null&&(l(this,zs).get(e).remove(),l(this,zs).delete(e))}destroy(){w(this,Ri,null);for(const e of l(this,zs).values())e.remove();l(this,zs).clear(),l(this,Ic).clear()}};Ri=new WeakMap,zs=new WeakMap,Ic=new WeakMap,Ep=new WeakMap,Ex=new WeakSet,kj=function(e,[t,n,a,o]){const{style:c}=e;c.top=`${100*n}%`,c.left=`${100*t}%`,c.width=`${100*a}%`,c.height=`${100*o}%`},pa=new WeakSet,Vw=function(){const e=Jt._svgFactory.create(1,1,!0);return l(this,Ri).append(e),e.setAttribute("aria-hidden",!0),e},Rj=function(e,t){const n=Jt._svgFactory.createElement("clipPath");e.append(n);const a=`clip_${t}`;n.setAttribute("id",a),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Jt._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),a},Gw=function(e,t){for(const[n,a]of Object.entries(t))a===null?e.removeAttribute(n):e.setAttribute(n,a)},C(Jt,Ex),C(Jt,Ep,0);let Hw=Jt;globalThis._pdfjsTestingUtils={HighlightOutliner:ww};globalThis.pdfjsLib={AbortException:Ql,AnnotationEditorLayer:Iw,AnnotationEditorParamsType:Ve,AnnotationEditorType:Me,AnnotationEditorUIManager:zc,AnnotationLayer:gw,AnnotationMode:sl,AnnotationType:Yt,applyOpacity:rk,build:fR,ColorPicker:tx,createValidAbsoluteUrl:CE,CSSConstants:ak,DOMSVGFactory:nx,DrawLayer:Hw,FeatureTest:Cs,fetchData:Dp,findContrastColor:lk,getDocument:DC,getFilenameFromUrl:JD,getPdfFilenameFromUrl:ek,getRGB:Rp,getUuid:_E,getXfaPageViewport:sk,GlobalWorkerOptions:ha,ImageKind:m0,InvalidPDFException:xv,isDataScheme:Dx,isPdfFile:eS,isValidExplicitDest:xk,MathClamp:Hs,noContextMenu:pi,normalizeUnicode:KD,OPS:Hf,OutputScale:ma,PasswordResponses:UD,PDFDataRangeTransport:kC,PDFDateString:W0,PDFWorker:$f,PermissionFlag:zD,PixelsPerInch:Zl,RenderingCancelledException:Jw,renderRichText:kE,ResponseException:X0,setLayerDimensions:Fc,shadow:Pe,SignatureExtractor:Sr,stopEvent:Pt,SupportedImageMimeTypes:yv,TextLayer:Gf,TouchManager:Q0,updateUrlHash:jE,Util:pe,VerbosityLevel:Tx,version:hR,XfaLayer:DE};ha.workerSrc="/pdf.worker.min.mjs";function BR(){const m=$s(),e=U.useRef(null),[t,n]=U.useState(!1),[a,o]=U.useState({name:"",valueProp:"",website:"",stage:"Pre-Seed",industry:"",founderName:"",founderEmail:"",problem:"",solution:"",team:"",funding:"",presentationUrl:"",videoUrl:"",fivePoints:[]}),[c,h]=U.useState(!1),[f,p]=U.useState(!1),[g,b]=U.useState(""),v=D=>{const{name:L,value:O}=D.target;(L==="website"||L==="presentationUrl"||L==="videoUrl")&&O&&!O.startsWith("http://")&&!O.startsWith("https://")?o(B=>({...B,[L]:`https://${O}`})):o(B=>({...B,[L]:O}))},S=async D=>{try{const L=D.name.toLowerCase();if(L.endsWith(".pdf")){const O=await D.arrayBuffer(),B=await DC({data:O}).promise;let k="";for(let F=1;F<=B.numPages;F++){const K=(await(await B.getPage(F)).getTextContent()).items.map(X=>X.str).join(" ");k+=K+`
`}return k}else if(L.endsWith(".ppt")||L.endsWith(".pptx"))return`PowerPoint file: ${D.name}
Note: Full PPT parsing requires backend processing. Please use PDF format for best results.`;return`Document: ${D.name}`}catch(L){return console.error("Error extracting text:",L),`Document: ${D.name}`}},E=async(D,L)=>(console.log("🔑 API Key status:",`Configured (${"your-openai-api-key-here".substring(0,10)}...)`),console.warn("⚠️ OpenAI API key not configured. Using keyword detection fallback."),_(D,L)),A=D=>D.replace(/\.(pdf|pptx?)/gi,"").replace(/[-_]/g," ").replace(/pitch|deck|presentation|investor|funding|slide/gi,"").trim(),_=(D,L)=>{const O=A(L),B=`${D} ${L}`.toLowerCase();let k="Technology",F="",G="",Q="",K="",X="";return B.includes("dog")||B.includes("pet")||B.includes("animal")?(k="Pet Tech",F="Revolutionary solution for pet care and wellness",G="Pet owners struggle with providing consistent care and monitoring their pets' health needs",Q="Smart technology platform that helps pet owners track health, schedule care, and access expert advice",K="Founded by veterinarians and pet industry experts with 15+ years experience",X="$1.5M Seed"):B.includes("health")||B.includes("medical")||B.includes("wellness")?(k="HealthTech",F="Making healthcare accessible and affordable for everyone",G="Healthcare is fragmented, expensive, and difficult to navigate for most people",Q="Integrated platform that simplifies healthcare access and reduces costs by 40%",K="Medical professionals and healthcare technology experts from top institutions",X="$2M Seed"):B.includes("finance")||B.includes("payment")||B.includes("banking")?(k="FinTech",F="Democratizing financial services for the next generation",G="Traditional financial services are complex, expensive, and exclude millions of users",Q="Mobile-first financial platform with no hidden fees and instant access",K="Former executives from Goldman Sachs, PayPal, and Stripe",X="$3M Seed"):B.includes("ai")||B.includes("machine learning")||B.includes("artificial")?(k="AI",F="AI-powered automation that transforms business operations",G="Businesses waste countless hours on repetitive tasks that could be automated",Q="Enterprise AI platform that automates workflows and provides intelligent insights",K="PhD researchers from Stanford and MIT with deep learning expertise",X="$5M Series A"):B.includes("education")||B.includes("learning")||B.includes("student")?(k="EdTech",F="Personalized learning that adapts to every student",G="Traditional education fails to meet individual student needs and learning styles",Q="AI-powered learning platform that personalizes curriculum for each student",K="Educators and technologists from leading universities",X="$2M Seed"):B.includes("food")||B.includes("restaurant")||B.includes("delivery")?(k="Food Tech",F="Transforming the food industry with technology",G="Food industry lacks efficient systems for ordering, delivery, and inventory management",Q="All-in-one platform connecting restaurants, suppliers, and customers seamlessly",K="Restaurant operators and logistics experts from DoorDash and Uber Eats",X="$2.5M Seed"):B.includes("ecommerce")||B.includes("retail")||B.includes("shop")?(k="E-commerce",F="Next-generation shopping experience powered by AI",G="Online shopping is overwhelming with too many choices and poor recommendations",Q="Personalized shopping platform that uses AI to find exactly what customers want",K="Former leaders from Amazon, Shopify, and Walmart",X="$3M Seed"):(k="SaaS",F="Enterprise software that scales with your business",G="Modern businesses need flexible, powerful software without the complexity",Q="Cloud-based platform that combines power with simplicity for growing companies",K="Experienced founders with successful exits and Fortune 500 experience",X="$2M Seed"),{name:O||"Startup Name",valueProp:F,problem:G,solution:Q,team:K,funding:X,industry:k,stage:"Seed"}},T=async D=>{var B;const L=(B=D.target.files)==null?void 0:B[0];if(!L)return;const O=L.name.toLowerCase();if(!O.endsWith(".pdf")&&!O.endsWith(".ppt")&&!O.endsWith(".pptx")){alert("❌ Please upload a PDF or PowerPoint file");return}n(!0);try{console.log("🔍 Extracting text from document...");const k=await S(L);console.log("📄 Extracted text length:",k.length),console.log("📄 First 500 chars:",k.substring(0,500)),console.log("🤖 Parsing with AI...");const F=await E(k,L.name);console.log("✅ Parsed data:",F);const G={name:a.name||F.name,valueProp:a.valueProp||F.valueProp||F.pitch,problem:a.problem||F.problem,solution:a.solution||F.solution,team:a.team||F.team,funding:a.funding||F.funding,industry:a.industry||F.industry,stage:a.stage||F.stage,fivePoints:F.fivePoints||a.fivePoints||[]};console.log("📝 Setting form data:",G),o(X=>({...X,...G}));const Q="your-openai-api-key-here",K=Q&&Q!=="your-openai-api-key-here";alert(`✅ Document "${L.name}" scanned successfully!

🤖 ${K?"AI-powered analysis":"Keyword detection"} detected: ${F.industry}

📝 Please review the auto-filled data and make any necessary edits.`)}catch(k){alert("❌ Error scanning document. Please try again."),console.error("Document scan error:",k)}finally{n(!1)}},R=async D=>{D.preventDefault(),p(!0),b("");try{const L={id:Date.now(),name:a.name,tagline:a.valueProp,pitch:a.valueProp||`${a.problem} | ${a.solution}`,stage:a.stage==="Pre-Seed"||a.stage==="Seed"?1:a.stage==="Series A"?2:1,team:a.team,funding:a.funding,raise:a.funding,website:a.website,industries:a.industry?[a.industry]:[],problem:a.problem,solution:a.solution,founderName:a.founderName,founderEmail:a.founderEmail,presentationUrl:a.presentationUrl,videoUrl:a.videoUrl,fivePoints:a.fivePoints.length>0?a.fivePoints:[a.problem,a.solution,`${a.industry||"Technology"} market`,a.team,a.funding],yesVotes:0,noVotes:0,hotness:0},O=localStorage.getItem("uploadedStartups"),B=O?JSON.parse(O):[];B.push(L),localStorage.setItem("uploadedStartups",JSON.stringify(B)),console.log("Startup saved successfully:",L),h(!0),setTimeout(()=>{m("/vote")},3e3)}catch(L){console.error("Error submitting startup:",L),b(L.message||"Failed to submit startup. Please try again.")}finally{p(!1)}};return c?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-yellow-50 flex items-center justify-center p-8",children:u.jsxs("div",{className:"bg-white rounded-3xl p-12 shadow-2xl text-center max-w-2xl",children:[u.jsx("div",{className:"text-8xl mb-6",children:"🎉"}),u.jsx("h1",{className:"text-4xl font-bold text-orange-600 mb-4",children:"Submission Received!"}),u.jsxs("p",{className:"text-xl text-gray-700 mb-6",children:["Thank you for submitting ",u.jsx("strong",{children:a.name}),"!"]}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Your startup is now in our system. Get ready to get Hot! 🔥"}),u.jsx("button",{onClick:()=>m("/vote-demo"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"See Other Hot Startups →"})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-yellow-50 p-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("button",{onClick:()=>m("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>m("/admin/bulk-import"),className:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all text-sm",children:"🚀 Bulk Import"}),u.jsx("button",{onClick:()=>{confirm("Clear all uploaded startups? This cannot be undone.")&&(localStorage.removeItem("uploadedStartups"),alert("✅ All uploaded startups cleared!"),window.location.reload())},className:"bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all text-sm",children:"🗑️ Clear Uploads"})]})]}),u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"text-8xl mb-4",children:"🚀"}),u.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"Submit Your Startup"}),u.jsx("p",{className:"text-xl text-gray-700 font-medium mb-2",children:"Get discovered by investors who want to find you"}),u.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below to join Hot Honey 🍯"})]}),u.jsxs("div",{className:"bg-gradient-to-r from-green-400 via-purple-500 to-purple-700 rounded-3xl p-8 mb-8 text-white shadow-2xl",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"text-6xl mb-3",children:"📄"}),u.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Upload Your Pitch Deck"}),u.jsx("p",{className:"text-lg",children:"AI will auto-fill the form below from your presentation!"})]}),u.jsxs("div",{className:"flex justify-center",children:[u.jsx("input",{ref:e,type:"file",accept:".pdf,.ppt,.pptx",onChange:T,className:"hidden"}),u.jsx("button",{type:"button",onClick:()=>{var D;return(D=e.current)==null?void 0:D.click()},disabled:t,className:"px-8 py-4 bg-white text-purple-700 font-bold rounded-2xl shadow-lg hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:t?u.jsx(u.Fragment,{children:"🔍 Scanning Document..."}):u.jsx(u.Fragment,{children:"📤 Upload PDF or PowerPoint"})})]}),u.jsx("p",{className:"text-center mt-4 text-sm opacity-90",children:"✨ Accepted: PDF, PPT, PPTX • Auto-extracts: Problem, Solution, Team & more!"})]}),g&&u.jsxs("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-xl mb-6",children:[u.jsx("strong",{children:"Error:"})," ",g]}),u.jsxs("form",{onSubmit:R,className:"bg-white rounded-3xl p-8 shadow-2xl mb-8",children:[u.jsxs("section",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-6 flex items-center gap-2",children:[u.jsx("span",{children:"📋"})," Basic Information"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Startup Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"name",value:a.name,onChange:v,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"e.g., HyperLoop"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Value Proposition ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"valueProp",value:a.valueProp,onChange:v,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"One sentence that describes what you do"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Website"}),u.jsx("input",{type:"text",name:"website",value:a.website,onChange:v,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"www.yourstartup.com or https://yourstartup.com"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Stage ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{name:"stage",value:a.stage,onChange:v,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",children:[u.jsx("option",{value:"Idea",children:"Idea"}),u.jsx("option",{value:"Pre-Seed",children:"Pre-Seed"}),u.jsx("option",{value:"Seed",children:"Seed"}),u.jsx("option",{value:"Series A",children:"Series A"}),u.jsx("option",{value:"Series B+",children:"Series B+"})]})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Industry ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"industry",value:a.industry,onChange:v,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"e.g., AI, FinTech, HealthTech, CleanTech"})]})]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-6 flex items-center gap-2",children:[u.jsx("span",{children:"👤"})," Founder Information"]}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Your Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"founderName",value:a.founderName,onChange:v,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"Full name"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Email ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"email",name:"founderEmail",value:a.founderEmail,onChange:v,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"founder@startup.com"})]})]})})]}),u.jsxs("section",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-4 flex items-center gap-2",children:[u.jsx("span",{children:"🔥"})," Your Pitch"]}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us about your startup. Keep it concise and compelling!"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Problem ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{name:"problem",value:a.problem,onChange:v,required:!0,rows:3,maxLength:300,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"What problem are you solving? (Max 300 characters)"}),u.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[a.problem.length,"/300"]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Solution ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{name:"solution",value:a.solution,onChange:v,required:!0,rows:3,maxLength:300,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"How does your product solve it? (Max 300 characters)"}),u.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[a.solution.length,"/300"]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Team ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{name:"team",value:a.team,onChange:v,required:!0,rows:3,maxLength:300,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"Who's building this? Key backgrounds? (Max 300 characters)"}),u.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[a.team.length,"/300"]})]})]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-6 flex items-center gap-2",children:[u.jsx("span",{children:"💰"})," Funding & Resources"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Funding Goal ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",name:"funding",value:a.funding,onChange:v,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"e.g., $500K seed round"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Presentation URL"}),u.jsx("input",{type:"text",name:"presentationUrl",value:a.presentationUrl,onChange:v,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"www.dropbox.com/presentation or https://..."}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Link to your pitch deck or presentation"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Video URL"}),u.jsx("input",{type:"text",name:"videoUrl",value:a.videoUrl,onChange:v,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"www.youtube.com/watch?v=... or https://..."}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Link to your pitch video (YouTube, Vimeo, etc.)"})]})]})]}),u.jsxs("div",{className:"flex gap-4 justify-center pt-6 border-t-2 border-orange-100",children:[u.jsx("button",{type:"button",onClick:()=>m("/"),className:"bg-white text-orange-600 font-bold py-4 px-8 rounded-2xl shadow-lg hover:bg-gray-100 transition-all text-lg border-2 border-orange-500",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:f,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-12 rounded-2xl shadow-lg transition-all text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f?"⏳ Submitting...":"🚀 Submit Startup"})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 rounded-2xl p-6 text-white mb-8",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",children:"What happens next?"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:"✓"}),u.jsx("span",{children:"Your startup is added to our database"})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:"✓"}),u.jsx("span",{children:"Investors can discover and vote on your startup"})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:"✓"}),u.jsx("span",{children:"Start collecting votes and building Heat 🔥"})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{children:"✓"}),u.jsx("span",{children:"Get discovered by investors actively looking for deals like yours"})]})]})]})]})})}const iE=m=>{let e;const t=new Set,n=(p,g)=>{const b=typeof p=="function"?p(e):p;if(!Object.is(b,e)){const v=e;e=g??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(S=>S(e,v))}},a=()=>e,h={setState:n,getState:a,getInitialState:()=>f,subscribe:p=>(t.add(p),()=>t.delete(p))},f=e=m(n,a,h);return h},IR=(m=>m?iE(m):iE),FR=m=>m;function zR(m,e=FR){const t=bf.useSyncExternalStore(m.subscribe,bf.useCallback(()=>e(m.getState()),[m,e]),bf.useCallback(()=>e(m.getInitialState()),[m,e]));return bf.useDebugValue(t),t}const UR=m=>{const e=IR(m),t=n=>zR(e,n);return Object.assign(t,e),t},HR=(m=>UR);function VR(m,e){let t;try{t=m()}catch{return}return{getItem:a=>{var o;const c=f=>f===null?null:JSON.parse(f,void 0),h=(o=t.getItem(a))!=null?o:null;return h instanceof Promise?h.then(c):c(h)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const $w=m=>e=>{try{const t=m(e);return t instanceof Promise?t:{then(n){return $w(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return $w(n)(t)}}}},GR=(m,e)=>(t,n,a)=>{let o={storage:VR(()=>localStorage),partialize:A=>A,version:0,merge:(A,_)=>({..._,...A}),...e},c=!1;const h=new Set,f=new Set;let p=o.storage;if(!p)return m((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...A)},n,a);const g=()=>{const A=o.partialize({...n()});return p.setItem(o.name,{state:A,version:o.version})},b=a.setState;a.setState=(A,_)=>(b(A,_),g());const v=m((...A)=>(t(...A),g()),n,a);a.getInitialState=()=>v;let S;const E=()=>{var A,_;if(!p)return;c=!1,h.forEach(R=>{var D;return R((D=n())!=null?D:v)});const T=((_=o.onRehydrateStorage)==null?void 0:_.call(o,(A=n())!=null?A:v))||void 0;return $w(p.getItem.bind(p))(o.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==o.version){if(o.migrate){const D=o.migrate(R.state,R.version);return D instanceof Promise?D.then(L=>[!0,L]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var D;const[L,O]=R;if(S=o.merge(O,(D=n())!=null?D:v),t(S,!0),L)return g()}).then(()=>{T==null||T(S,void 0),S=n(),c=!0,f.forEach(R=>R(S))}).catch(R=>{T==null||T(void 0,R)})};return a.persist={setOptions:A=>{o={...o,...A},A.storage&&(p=A.storage)},clearStorage:()=>{p==null||p.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>E(),hasHydrated:()=>c,onHydrate:A=>(h.add(A),()=>{h.delete(A)}),onFinishHydration:A=>(f.add(A),()=>{f.delete(A)})},o.skipHydration||E(),S||v},$R=GR,qR=HR()($R((m,e)=>({unvote:t=>{const n=e(),a=n.portfolio.filter(c=>c.id!==t.id),o=n.startups.map(c=>c.id===t.id?{...c,yesVotes:Math.max((c.yesVotes||1)-1,0)}:c);m({startups:o,portfolio:a})},startups:hi.map((t,n)=>({...t,id:n,yesVotes:0})),currentIndex:0,portfolio:[],voteYes:t=>{const n=e(),a=[...n.startups],o=a.findIndex(p=>p.id===t.id);let c=t;o!==-1&&(a[o].yesVotes=(a[o].yesVotes||0)+1,c={...a[o]});const f=n.portfolio.some(p=>p.id===c.id)?n.portfolio.map(p=>p.id===c.id?c:p):[...n.portfolio,c];m({startups:a,portfolio:f,currentIndex:n.currentIndex+1})},voteNo:()=>{m(t=>({currentIndex:t.currentIndex+1}))},rateStartup:(t,n)=>{m(a=>{const o=[...a.portfolio];return o[t]&&(o[t].rating=n),{portfolio:o}})},resetVoting:()=>{m(t=>({currentIndex:0}))}}),{name:"hot-money-honey-store"})),YR=()=>{const{id:m}=bE(),t=qR(n=>n.startups).find(n=>String(n.id)===String(m));return t?u.jsxs("div",{className:"p-6 bg-orange-50 min-h-screen",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:t.name}),u.jsxs("p",{className:"mb-2",children:[u.jsx("strong",{children:"Value:"})," ",t.description]}),u.jsxs("p",{className:"mb-2",children:[u.jsx("strong",{children:"Market:"})," ",t.marketSize]}),u.jsxs("p",{className:"mb-2",children:[u.jsx("strong",{children:"Unique:"})," ",t.unique]}),u.jsxs("p",{className:"mb-2",children:[u.jsx("strong",{children:"Raise:"})," ",t.raise]}),t.video&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"🎥 Pitch Video"}),u.jsx("a",{className:"text-blue-600 underline",href:t.video,target:"_blank",rel:"noopener noreferrer",children:"Watch now"})]})]}):u.jsx("p",{className:"text-red-500 p-6",children:"Startup not found."})},XR=()=>u.jsxs("div",{className:"p-6 text-center bg-orange-50 min-h-screen",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-500 mb-4",children:"🚧 Deals Page"}),u.jsx("p",{className:"text-gray-600",children:"Coming soon — exciting investment deals are on the way!"})]}),WR=()=>{const[m,e]=U.useState([]);U.useEffect(()=>{const a=localStorage.getItem("myYesVotes");if(a){const c=JSON.parse(a).map(h=>{if(!h.fivePoints){const f=hi.find(p=>p.id===h.id);if(f)return{...h,fivePoints:f.fivePoints}}return h});localStorage.setItem("myYesVotes",JSON.stringify(c)),e(c)}},[]);const t=()=>{confirm("⚠️ Are you sure you want to clear ALL your votes? This cannot be undone.")&&(localStorage.removeItem("myYesVotes"),localStorage.removeItem("votedStartups"),e([]),alert("✅ All votes cleared! You can start voting again."),window.location.href="/vote")},n=a=>{console.log(`Voted ${a}`)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50",children:[u.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:u.jsxs("div",{className:"flex gap-1",children:[u.jsx(we,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:"👤 Sign Up"}),u.jsx(we,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"🏠 Home"}),u.jsx(we,{to:"/vote",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"📊 Vote"}),u.jsx(we,{to:"/dashboard",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:"👤 Dashboard"})]})}),u.jsxs("div",{className:"pt-28 px-8 max-w-7xl mx-auto",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-5xl font-bold text-gray-800 mb-2",children:"🔥 My Hot Picks"}),u.jsxs("p",{className:"text-lg text-gray-600",children:["You've voted YES on ",u.jsx("span",{className:"font-bold text-orange-600",children:m.length})," ",m.length===1?"startup":"startups"]})]}),m.length>0&&u.jsx("button",{onClick:t,className:"px-6 py-3 bg-red-500 text-white rounded-lg font-medium text-sm hover:bg-red-600 transition-colors shadow-lg",children:"🗑️ Clear All Votes"})]})}),m.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx("div",{className:"text-8xl mb-6",children:"🤷‍♂️"}),u.jsx("p",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No hot picks yet!"}),u.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Start voting YES on startups you're interested in"}),u.jsx(we,{to:"/vote",className:"px-8 py-4 bg-orange-500 text-white rounded-xl font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg inline-block",children:"🔥 Start Voting Now"})]}):u.jsx("div",{className:"space-y-8",children:m.map(a=>u.jsx("div",{children:u.jsx(_p,{startup:a,onVote:n})},a.id))})]})]})},xf=[{id:"fintech",name:"FinTech",emoji:"💰"},{id:"ai",name:"AI/ML",emoji:"🤖"},{id:"saas",name:"SaaS",emoji:"☁️"},{id:"deeptech",name:"Deep Tech",emoji:"🔬"},{id:"robotics",name:"Robotics",emoji:"🦾"},{id:"healthtech",name:"HealthTech",emoji:"🏥"},{id:"edtech",name:"EdTech",emoji:"📚"},{id:"cleantech",name:"CleanTech",emoji:"🌱"},{id:"ecommerce",name:"E-Commerce",emoji:"🛒"},{id:"crypto",name:"Crypto/Web3",emoji:"₿"},{id:"consumer",name:"Consumer",emoji:"🛍️"},{id:"enterprise",name:"Enterprise",emoji:"🏢"}];function KR({isOpen:m,onClose:e,yesVotes:t}){const[n,a]=U.useState(""),[o,c]=U.useState([]),[h,f]=U.useState(""),[p,g]=U.useState(!1);U.useEffect(()=>{m&&(f(""),g(!1),c([]))},[m]);const b=A=>{c(_=>_.includes(A)?_.filter(T=>T!==A):[..._,A])},v=()=>{o.length===xf.length?c([]):c(xf.map(A=>A.id))},S=()=>{const A=`share-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,_={id:A,investorName:n||"Anonymous Investor",industries:o,startups:t,createdAt:new Date().toISOString()},T=localStorage.getItem("portfolioShares"),R=T?JSON.parse(T):{};R[A]=_,localStorage.setItem("portfolioShares",JSON.stringify(R));const D=`${window.location.origin}/shared-portfolio/${A}`;f(D)},E=()=>{navigator.clipboard.writeText(h),g(!0),setTimeout(()=>g(!1),3e3)};return m?u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2",children:"Share Your Portfolio"}),u.jsx("p",{className:"text-gray-600",children:"Choose which deals to share with friends and colleagues"})]}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none",children:"×"})]}),h?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"bg-green-50 border-2 border-green-400 rounded-xl p-6 mb-4",children:u.jsxs("div",{className:"text-center mb-4",children:[u.jsx("div",{className:"text-5xl mb-3",children:"✅"}),u.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Share Link Created!"}),u.jsx("p",{className:"text-green-700",children:"Anyone with this link can view your selected deals"})]})}),u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Shareable Link"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",value:h,readOnly:!0,className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-xl bg-gray-50 text-sm"}),u.jsx("button",{onClick:E,className:"px-6 py-3 bg-orange-500 text-white rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:p?"✅ Copied!":"📋 Copy"})]})]}),u.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-xl p-4 mb-6",children:[u.jsx("h4",{className:"font-bold text-purple-700 mb-2",children:"📊 What's being shared:"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[u.jsxs("li",{children:["• ",u.jsx("strong",{children:"Investor:"})," ",n||"Anonymous"]}),u.jsxs("li",{children:["• ",u.jsx("strong",{children:"Industries:"})," ",o.length," selected"]}),u.jsxs("li",{children:["• ",u.jsx("strong",{children:"Filtered Startups:"})," Showing only ",o.map(A=>{var _;return(_=xf.find(T=>T.id===A))==null?void 0:_.name}).join(", ")]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{f(""),c([])},className:"flex-1 bg-gray-200 text-gray-700 font-bold py-3 px-6 rounded-2xl hover:bg-gray-300 transition-all",children:"Create Another"}),u.jsx("button",{onClick:e,className:"flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:"Done"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Name (Optional)"}),u.jsx("input",{type:"text",value:n,onChange:A=>a(A.target.value),placeholder:"e.g., Murray's Hot Picks",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to share anonymously"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Select Industries to Share"}),u.jsx("button",{onClick:v,className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-lg font-semibold hover:bg-purple-200 transition-colors text-xs",children:o.length===xf.length?"Deselect All":"Select All"})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Only startups in selected industries will be shared"}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:xf.map(A=>u.jsxs("button",{onClick:()=>b(A.id),className:`p-3 rounded-xl border-2 transition-all text-center ${o.includes(A.id)?"border-orange-500 bg-orange-50":"border-gray-300 bg-white hover:border-orange-300"}`,children:[u.jsx("div",{className:"text-2xl mb-1",children:A.emoji}),u.jsx("div",{className:`font-semibold text-xs ${o.includes(A.id)?"text-orange-700":"text-gray-700"}`,children:A.name})]},A.id))})]}),u.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-xl p-4 mb-6",children:u.jsxs("p",{className:"text-sm text-gray-700",children:["💡 ",u.jsx("strong",{children:"Pro Tip:"})," You can share different portfolios with different people! For example, share FinTech+AI deals with Murray, but keep your DeepTech picks private."]})}),u.jsx("button",{onClick:S,disabled:o.length===0,className:`w-full font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg ${o.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white"}`,children:o.length===0?"⚠️ Select at least one industry":"🔗 Generate Share Link"})]})]})}):null}const QR=()=>{const m=_r(),[e,t]=U.useState([]),[n,a]=U.useState(!1),[o,c]=U.useState(!1);U.useEffect(()=>{const g=localStorage.getItem("myYesVotes");g&&t(JSON.parse(g));const b=localStorage.getItem("userProfile");if(b){const v=JSON.parse(b);c(v.email==="admin@hotmoneyhoney.com"||v.isAdmin)}},[]);const h=()=>{confirm("⚠️ Are you sure you want to clear ALL your votes? This cannot be undone.")&&(localStorage.removeItem("myYesVotes"),localStorage.removeItem("votedStartups"),t([]),alert("✅ All votes cleared! You can start voting again."),window.location.href="/vote")},f=g=>m.pathname===g,p=g=>f(g)?"text-lg py-3 px-6":"text-sm py-2 px-4";return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[u.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:u.jsxs("div",{className:"flex gap-3 items-center",children:[u.jsx(we,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Hot Money Honey",children:"🍯"}),u.jsx(we,{to:"/",className:`font-bold rounded-2xl transition-all ${p("/")} ${f("/")?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:"🏠 Home"}),u.jsx(we,{to:"/dashboard",className:`font-bold rounded-2xl transition-all ${f("/dashboard")?"text-lg py-3 px-7":"text-base py-2.5 px-5"} ${f("/dashboard")?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-xl scale-110":"bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white shadow-lg"}`,children:"📊 Dashboard"}),u.jsx(we,{to:"/vote",className:`font-bold rounded-2xl transition-all ${p("/vote")} ${f("/vote")?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:"🗳️ Vote"}),o&&u.jsx(we,{to:"/admin/bulk-upload",className:`font-bold rounded-2xl transition-all ${p("/admin/bulk-upload")} ${f("/admin/bulk-upload")?"bg-gradient-to-r from-gray-500 to-gray-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-gray-400 to-gray-600 hover:from-gray-500 hover:to-gray-700 text-white"}`,children:"📊 Bulk Upload"}),o&&u.jsx(we,{to:"/admin/document-upload",className:`font-bold rounded-2xl transition-all ${p("/admin/document-upload")} ${f("/admin/document-upload")?"bg-gradient-to-r from-green-500 to-purple-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-green-400 to-purple-600 hover:from-green-500 hover:to-purple-700 text-white"}`,children:"📄 Scan Docs"})]})}),u.jsxs("div",{className:"pt-28 px-8 max-w-7xl mx-auto",children:[u.jsx("div",{className:"mb-6 flex justify-end",children:u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl px-6 py-3 flex items-center gap-4 shadow-xl border border-white/20",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-purple-200",children:"Logged in as"}),u.jsx("p",{className:"text-white font-bold",children:(()=>{const g=localStorage.getItem("userProfile");return g?JSON.parse(g).name:"User"})()})]}),u.jsx(we,{to:"/settings",className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-full text-sm font-semibold transition-all flex items-center gap-2",children:"⚙️ Settings"}),u.jsx("button",{onClick:()=>{confirm("Are you sure you want to log out?")&&(localStorage.removeItem("isLoggedIn"),alert("✅ Logged out successfully!"),window.location.href="/")},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-full text-sm font-semibold transition-all flex items-center gap-2",children:"🚪 Log Out"})]})}),u.jsxs("div",{className:"mb-8 text-center",children:[u.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"🔥 My Hot Picks"}),u.jsxs("p",{className:"text-lg text-purple-200",children:["You've voted YES on ",u.jsx("span",{className:"font-bold text-yellow-300",children:e.length})," ",e.length===1?"startup":"startups"]}),e.length>0&&u.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[u.jsx("button",{onClick:()=>a(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg font-medium text-sm transition-colors shadow-lg",children:"📤 Share Portfolio"}),u.jsx(we,{to:"/analytics",className:"px-6 py-3 bg-gradient-to-r from-purple-700 to-purple-900 hover:from-purple-800 hover:to-purple-950 text-yellow-400 rounded-lg font-bold text-sm transition-all shadow-lg",children:"📈 View Analytics"}),u.jsx("button",{onClick:h,className:"px-6 py-3 bg-red-500 text-white rounded-lg font-medium text-sm hover:bg-red-600 transition-colors shadow-lg",children:"🗑️ Clear All Votes"})]})]}),e.length===0?u.jsxs("div",{className:"text-center py-16",children:[u.jsx("div",{className:"text-8xl mb-6",children:"🤷‍♂️"}),u.jsx("p",{className:"text-3xl font-bold text-white mb-4",children:"No hot picks yet!"}),u.jsx("p",{className:"text-xl text-purple-200 mb-8",children:"Start voting YES on startups you're interested in"}),u.jsx(we,{to:"/vote",className:"px-8 py-4 bg-orange-500 text-white rounded-xl font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg inline-block",children:"🔥 Start Voting Now"})]}):u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(g=>u.jsxs("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-2xl p-6 shadow-2xl border-4 border-orange-500 relative hover:scale-105 transition-transform",children:[u.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-2xl font-black text-gray-900 leading-tight mb-1",children:g.name}),g.stage&&u.jsxs("p",{className:"text-blue-700 font-bold text-xs",children:["stage #",g.stage]})]}),u.jsx("div",{className:"text-3xl",children:"🔥"})]}),g.pitch&&u.jsxs("p",{className:"text-sm font-black text-gray-900 leading-tight mb-2",children:['"',g.pitch,'"']}),g.tagline&&u.jsx("p",{className:"text-xs font-bold text-gray-800 leading-tight mb-3",children:g.tagline}),u.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t-2 border-orange-500",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"👍"}),u.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Voted YES"})]}),u.jsx("span",{className:"text-xs text-gray-700 font-semibold",children:new Date(g.votedAt).toLocaleDateString()})]})]})]},g.id))})]}),u.jsx("div",{className:"fixed bottom-8 right-8 z-50",children:u.jsx(we,{to:"/settings",className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-full font-semibold shadow-2xl hover:from-purple-600 hover:to-purple-700 transition-all hover:scale-105",children:"⚙️ Settings"})}),u.jsx(KR,{isOpen:n,onClose:()=>a(!1),yesVotes:e})]})},aE=()=>{const[m,e]=U.useState([0,1,2]),[t,n]=U.useState(hi),[a,o]=U.useState(3),[c,h]=U.useState([]),f=(b,v,S)=>{if(n(E=>E.map(A=>A.id===b?{...A,yesVotes:v==="yes"?(A.yesVotes||0)+1:A.yesVotes||0,noVotes:v==="no"?(A.noVotes||0)+1:A.noVotes||0}:A)),v==="yes"){const E=localStorage.getItem("myYesVotes"),A=E?JSON.parse(E):[],_=hi.find(T=>T.id===b);_&&(A.push({id:b,name:_.name,pitch:_.pitch,tagline:_.tagline,stage:_.stage,fivePoints:_.fivePoints,votedAt:new Date().toISOString()}),localStorage.setItem("myYesVotes",JSON.stringify(A)))}},p=b=>{const v=[b+1,b+2].filter(S=>S<3);h(v),setTimeout(()=>{e(S=>{const E=[...S];for(let A=b;A<2;A++)E[A]=S[A+1];return E[2]=a%hi.length,E}),o(S=>S+1),h([])},250)},g=m.map(b=>t[b]);return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[u.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx(we,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up/In",children:"🍯"}),u.jsx(we,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:"👤 Sign Up/In"}),u.jsx(we,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"🏠 Home"}),u.jsx(we,{to:"/vote",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:u.jsx("span",{className:"blink-text",children:"📊 Vote"})}),u.jsx(we,{to:"/analytics",className:"px-4 py-1.5 bg-gradient-to-r from-purple-700 to-purple-900 text-yellow-400 rounded-full font-bold text-sm shadow-lg hover:from-purple-800 hover:to-purple-950 transition-all",children:"📈 Analytics"}),u.jsx(we,{to:"/dashboard",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"👤 Dashboard"})]})}),u.jsx("div",{className:"fixed top-4 right-8 z-50",children:u.jsx(we,{to:"/login",className:"px-6 py-2 bg-white text-purple-700 rounded-full font-bold text-sm shadow-lg hover:bg-gray-100 transition-all border-2 border-purple-300",children:"🔑 Log In"})}),u.jsxs("div",{className:"pt-28 px-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"relative inline-block",children:[u.jsx("h1",{className:"text-8xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 mb-2",children:"Hot Honey"}),u.jsx("img",{src:"/images/Mr_Bee.png",alt:"Mr. Bee",className:"absolute -right-32 w-40 h-40 object-contain",style:{top:"-20px"}})]}),u.jsxs("div",{className:"mt-6 mb-4",children:[u.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"🔥 Start Collecting Hot Deals 🔥"}),u.jsx("p",{className:"text-lg text-purple-200 max-w-2xl mx-auto mb-6 font-medium",children:"Discover the hottest startup deals and grow your investment portfolio"})]}),u.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[u.jsx(we,{to:"/vote",className:"px-6 py-2.5 bg-orange-500 text-white rounded-lg font-medium text-base hover:bg-orange-600 transition-colors shadow-lg",children:"📊 Start Voting"}),u.jsx(we,{to:"/submit",className:"px-6 py-2.5 bg-white text-orange-500 border-2 border-orange-500 rounded-lg font-medium text-base hover:bg-orange-50 transition-colors shadow-lg",children:"📈 Submit Startup"})]})]}),u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("div",{className:"text-center mb-6",children:u.jsx("h3",{className:"text-2xl font-bold text-white",style:{textShadow:"2px 2px 4px rgba(147, 51, 234, 0.6), -2px -2px 4px rgba(134, 239, 172, 0.4)"},children:"⭐ Featured Startups"})}),u.jsx("div",{className:"grid md:grid-cols-3 gap-6 justify-items-center",children:g.map((b,v)=>u.jsx("div",{className:`transition-all duration-250 ease-out ${c.includes(v)?"animate-slide-left":""}`,children:u.jsx(_p,{startup:b,onVote:S=>f(b.id,S),onSwipeAway:()=>p(v)})},`${b.id}-${v}`))})]})]}),u.jsx("style",{children:`
        @keyframes slide-left {
          from {
            transform: translateX(0);
            opacity: 1;
          }
          to {
            transform: translateX(-420px);
            opacity: 0.3;
          }
        }
        .animate-slide-left {
          animation: slide-left 0.25s ease-out forwards;
        }
      `})]})};function ZR(){const m=$s(),[e,t]=U.useState(0),[n,a]=U.useState(hi),o=n[e],c=f=>{const p=[...n];f==="yes"?p[e].yesVotes=(p[e].yesVotes||0)+1:p[e].noVotes=(p[e].noVotes||0)+1,a(p)},h=()=>{e<n.length-1?t(e+1):m("/")};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-800 via-purple-700 to-indigo-800 p-8",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("button",{onClick:()=>m("/"),className:"bg-white text-purple-700 font-bold py-3 px-6 rounded-2xl shadow-lg hover:bg-gray-100 transition-all",children:"← Home"}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-yellow-200",children:"Progress"}),u.jsxs("div",{className:"text-2xl font-bold text-white",children:[e+1," / ",n.length]})]})]}),u.jsx(_p,{startup:o,onVote:c,onSwipeAway:h}),u.jsx("div",{className:"text-center mt-6",children:u.jsx("button",{onClick:h,className:"text-yellow-200 hover:text-white font-semibold underline text-lg",children:"Skip this startup →"})})]})})}function JR(){const m=$s(),[e,t]=U.useState("signup"),[n,a]=U.useState("startup"),[o,c]=U.useState(""),[h,f]=U.useState({name:"",email:"",password:"",description:""}),p=v=>{v.preventDefault(),c("");const S={id:`user-${Date.now()}`,name:h.name,email:h.email,userType:n,description:h.description,createdAt:new Date().toISOString(),preferences:{industries:[],filterEnabled:!1}};localStorage.setItem("userProfile",JSON.stringify(S)),localStorage.setItem("isLoggedIn","true"),console.log("User profile created:",S),alert(`Welcome to Hot Honey! 🍯

Signed up as: ${n}

✅ Your account has been created!`),m(n==="investor"?"/settings":"/submit")},g=v=>{v.preventDefault(),c("");const S=localStorage.getItem("userProfile");if(!S){c("No account found with this email. Please sign up first.");return}const E=JSON.parse(S);E.email.toLowerCase()===h.email.toLowerCase()?(localStorage.setItem("isLoggedIn","true"),alert(`Welcome back, ${E.name}! 🍯`),E.userType==="investor"?m("/dashboard"):m("/submit")):c("Invalid email or password. Please try again.")},b=v=>{f({...h,[v.target.name]:v.target.value})};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-8",children:u.jsx("button",{onClick:()=>m("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"})}),u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"text-8xl mb-4 animate-pulse",children:"🍯"}),u.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:e==="signup"?"Join Hot Honey":"Welcome Back!"}),u.jsx("p",{className:"text-xl text-white font-bold drop-shadow-lg",children:e==="signup"?"Connect startups with investors who share your vision":"Log in to Hot Honey"}),u.jsxs("div",{className:"mt-4 flex justify-center gap-4 text-4xl",children:[u.jsx("span",{className:"animate-pulse",style:{animationDelay:"0s"},children:"🔥"}),u.jsx("span",{className:"animate-pulse",style:{animationDelay:"0.3s"},children:"💰"}),u.jsx("span",{className:"animate-pulse",style:{animationDelay:"0.6s"},children:"🚀"})]})]}),u.jsx("div",{className:"flex justify-center mb-8",children:u.jsxs("div",{className:"bg-white rounded-3xl p-2 shadow-lg inline-flex",children:[u.jsx("button",{onClick:()=>{t("signup"),c("")},className:`px-8 py-3 rounded-2xl font-bold transition-all ${e==="signup"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:"✨ Sign Up"}),u.jsx("button",{onClick:()=>{t("login"),c("")},className:`px-8 py-3 rounded-2xl font-bold transition-all ${e==="login"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg":"text-gray-600 hover:text-purple-600"}`,children:"🔑 Log In"})]})}),u.jsx("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-8 shadow-2xl",children:u.jsxs("div",{className:"bg-white/90 rounded-2xl p-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-6 text-center",children:e==="signup"?"✨ Create Your Account":"🔑 Log In"}),u.jsx("p",{className:"text-gray-600 text-center mb-8",children:e==="signup"?"Join the honey pot revolution and connect with the right partners":"Welcome back! Enter your credentials to continue."}),o&&u.jsx("div",{className:"mb-6 p-4 bg-red-100 border-2 border-red-400 rounded-xl",children:u.jsxs("p",{className:"text-red-700 font-semibold text-center",children:["❌ ",o]})}),u.jsxs("form",{onSubmit:e==="signup"?p:g,className:"space-y-6",autoComplete:"off",children:[e==="signup"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"userType",className:"block text-sm font-bold text-gray-700 mb-2",children:"I am a..."}),u.jsxs("select",{id:"userType",value:n,onChange:v=>a(v.target.value),className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium bg-white",children:[u.jsx("option",{value:"startup",children:"🚀 Startup - Looking for investment"}),u.jsx("option",{value:"investor",children:"💰 Investor - Looking to invest"})]})]}),e==="signup"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-bold text-gray-700 mb-2",children:n==="startup"?"Startup Name":"Full Name"}),u.jsx("input",{id:"name",name:"name",type:"text",value:h.name,onChange:b,placeholder:n==="startup"?"Enter your startup name":"Enter your full name",required:!0,autoComplete:"off",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address"}),u.jsx("input",{id:"email",name:"email",type:"email",value:h.email,onChange:b,placeholder:"your@email.com",required:!0,autoComplete:"off",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-700 mb-2",children:"Password"}),u.jsx("input",{id:"password",name:"password",type:"password",value:h.password,onChange:b,placeholder:"Create a secure password",required:!0,autoComplete:"new-password",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),e==="signup"&&n==="startup"&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"description",className:"block text-sm font-bold text-gray-700 mb-2",children:"Startup Description"}),u.jsx("textarea",{id:"description",name:"description",value:h.description,onChange:b,placeholder:"Tell us about your startup...",rows:4,className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium resize-none"})]}),u.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-6 rounded-2xl shadow-lg transition-all text-lg",children:e==="signup"?"✨ Create Account":"🔑 Log In"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("p",{className:"text-gray-600",children:e==="signup"?u.jsxs(u.Fragment,{children:["Already have an account?"," ",u.jsx("button",{onClick:()=>{t("login"),c("")},className:"text-orange-600 font-bold hover:text-orange-700 hover:underline",children:"Log In"})]}):u.jsxs(u.Fragment,{children:["Don't have an account?"," ",u.jsx("button",{onClick:()=>{t("signup"),c("")},className:"text-orange-600 font-bold hover:text-orange-700 hover:underline",children:"Sign Up"})]})})})]})}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-12",children:[u.jsx("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-1 shadow-lg hover:scale-105 transition-transform",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 h-full",children:[u.jsx("div",{className:"text-6xl mb-4 text-center",children:"🚀"}),u.jsx("h3",{className:"text-2xl font-bold text-orange-600 mb-4 text-center",children:"For Startups"}),u.jsxs("ul",{className:"space-y-3 text-gray-700",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-xl",children:"🍯"}),u.jsx("span",{className:"font-semibold",children:"Get in front of engaged investors"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-xl",children:"📊"}),u.jsx("span",{className:"font-semibold",children:"Showcase your pitch deck & documents"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-xl",children:"📈"}),u.jsx("span",{className:"font-semibold",children:"Track investor interest in real-time"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-xl",children:"🤝"}),u.jsx("span",{className:"font-semibold",children:"Connect with the right partners"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-xl",children:"🔥"}),u.jsx("span",{className:"font-semibold",children:"Get them while they're HOT!"})]})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-yellow-300 via-amber-400 to-orange-400 rounded-3xl p-1 shadow-lg hover:scale-105 transition-transform",children:u.jsxs("div",{className:"bg-white rounded-3xl p-6 h-full",children:[u.jsx("div",{className:"text-6xl mb-4 text-center",children:"💰"}),u.jsx("h3",{className:"text-2xl font-bold text-orange-600 mb-4 text-center",children:"For Investors"}),u.jsxs("ul",{className:"space-y-3 text-gray-700",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-xl",children:"🍯"}),u.jsx("span",{className:"font-semibold",children:"Discover hot startups early"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-xl",children:"📋"}),u.jsx("span",{className:"font-semibold",children:"Access detailed startup profiles"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-xl",children:"⭐"}),u.jsx("span",{className:"font-semibold",children:"Vote and track your favorites"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-xl",children:"💬"}),u.jsx("span",{className:"font-semibold",children:"Connect directly with founders"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-xl",children:"🔥"}),u.jsx("span",{className:"font-semibold",children:"Join the honey pot revolution!"})]})]})]})})]})]})})}function e3(){const m=$s();return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),u.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[u.jsx("div",{className:"flex justify-between items-center mb-8",children:u.jsx("button",{onClick:()=>m("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"})}),u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"text-8xl mb-4",children:"🍯"}),u.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-4",children:"About Hot Honey"}),u.jsx("p",{className:"text-2xl text-yellow-300 font-semibold mb-2",children:`"Get Them While They're Hot."`}),u.jsx("p",{className:"text-xl text-purple-200 font-medium",children:"A Social Discovery Platform for Investors and Startups"})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"Our Approach"}),u.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:["Hot Honey is a ",u.jsx("strong",{children:"social discovery platform"})," that transforms how early-stage investors and startups connect. We've created a ",u.jsx("strong",{children:"courtship process"})," for investment—where chemistry develops before capital flows."]}),u.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6 mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-orange-600 mb-3",children:"The 5-Point Discovery Framework"}),u.jsxs("p",{className:"text-gray-700 mb-4 leading-relaxed",children:["At the heart of our approach is the ",u.jsx("strong",{children:"5-Point StartupCard"}),"—a precisely designed format that condenses each startup's story into bite-sized, essential information. This creates ",u.jsx("strong",{children:"quick interest"})," and allows both investors and startups to develop genuine connections through progressive discovery."]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-2xl",children:"1️⃣"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"The Problem:"}),u.jsx("span",{className:"text-gray-700",children:" Investors instantly understand the pain point being solved"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-2xl",children:"2️⃣"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"The Solution:"}),u.jsx("span",{className:"text-gray-700",children:" The startup's unique approach becomes immediately clear"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-2xl",children:"3️⃣"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"Market Size:"}),u.jsx("span",{className:"text-gray-700",children:" The opportunity scale sparks investor curiosity"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-2xl",children:"4️⃣"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"Team Companies:"}),u.jsx("span",{className:"text-gray-700",children:" Credibility is established through founder pedigree"})]})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-2xl",children:"💰"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"Investment Amount:"}),u.jsx("span",{className:"text-gray-700",children:" Investors know exactly what's being raised"})]})]})]})]}),u.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-2xl p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-purple-700 mb-3",children:"🤝 The Courtship Process"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"Like dating, investing is about building trust and chemistry. Our platform mimics the natural courtship process:"}),u.jsxs("ul",{className:"space-y-2 text-gray-700",children:[u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"font-bold",children:"💭"}),u.jsxs("span",{children:[u.jsx("strong",{children:"First Impression:"})," The 5-point card creates instant curiosity"]})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"font-bold",children:"🍯"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Progressive Reveal:"})," Information unlocks as interest grows (honeypot secrets)"]})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"font-bold",children:"🔒"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Protected Privacy:"})," Investors stay anonymous until Stage 3"]})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"font-bold",children:"🔥"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Social Proof:"})," Votes and heat meters show collective validation"]})]}),u.jsxs("li",{className:"flex gap-2",children:[u.jsx("span",{className:"font-bold",children:"💬"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Commitment:"})," Only interested parties proceed to serious conversations"]})]})]})]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Problem We Solve"}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:"Millions of startups compete for over 1.2 million active investors, yet less than 3% ever connect meaningfully."}),u.jsx("div",{className:"bg-orange-50 rounded-2xl p-6 mb-4",children:u.jsxs("ul",{className:"space-y-3 text-gray-700",children:[u.jsxs("li",{className:"flex gap-3",children:[u.jsx("span",{className:"text-orange-600 font-bold",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Data-driven platforms"})," like AngelList or Carta provide credibility but lack engagement."]})]}),u.jsxs("li",{className:"flex gap-3",children:[u.jsx("span",{className:"text-orange-600 font-bold",children:"•"}),u.jsxs("span",{children:[u.jsx("strong",{children:"Social platforms"})," like LinkedIn and X provide energy but lack structure and verification."]})]})]})}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed font-semibold",children:"Hot Honey fills the gap by combining both worlds—trust and excitement."})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Solution"}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:"The platform guides users through a five-step emotional and functional journey:"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gradient-to-r from-orange-400 to-orange-500 text-white",children:[u.jsx("th",{className:"p-3 text-left rounded-tl-xl",children:"Step"}),u.jsx("th",{className:"p-3 text-left",children:"Stage"}),u.jsx("th",{className:"p-3 text-left rounded-tr-xl",children:"Description"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{className:"bg-orange-50",children:[u.jsx("td",{className:"p-3 font-bold",children:"1"}),u.jsx("td",{className:"p-3 font-semibold",children:"Discovery"}),u.jsx("td",{className:"p-3",children:"Swipe-based exploration with concise, five-point StartupCards"})]}),u.jsxs("tr",{className:"bg-white",children:[u.jsx("td",{className:"p-3 font-bold",children:"2"}),u.jsx("td",{className:"p-3 font-semibold",children:"Attraction"}),u.jsx("td",{className:"p-3",children:'Startups with 5+ "Yes" votes unlock added visibility and data'})]}),u.jsxs("tr",{className:"bg-orange-50",children:[u.jsx("td",{className:"p-3 font-bold",children:"3"}),u.jsx("td",{className:"p-3 font-semibold",children:"Reveal"}),u.jsx("td",{className:"p-3",children:"Investors disclose identity for private, time-bound pitch meetings"})]}),u.jsxs("tr",{className:"bg-white",children:[u.jsx("td",{className:"p-3 font-bold",children:"4"}),u.jsx("td",{className:"p-3 font-semibold",children:"Commitment"}),u.jsx("td",{className:"p-3",children:"Deal Room access with NDA, decks, and analytics"})]}),u.jsxs("tr",{className:"bg-orange-50",children:[u.jsx("td",{className:"p-3 font-bold",children:"5"}),u.jsx("td",{className:"p-3 font-semibold",children:"Social Sharing"}),u.jsx("td",{className:"p-3",children:'Once a startup is "Hot," investors share it socially—fueling virality'})]})]})]})}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mt-4 italic",children:"This process transforms curiosity into confidence and commitment—the logic of human trust, encoded into a platform."})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The 5-Point Format"}),u.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:["At the heart of Hot Honey is our ",u.jsx("strong",{children:"5-point StartupCard format"}),"—a precisely designed data structure that condenses each startup's elevator pitch into a bite-size card that reveals just enough of what is important."]}),u.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:[u.jsx("strong",{children:"Hot Honey helps identify quality investment candidates faster and with more precision."})," The Hot Money Process enables quick discovery without all the overhead and utilizes crowd and market intelligence to identify the winners."]}),u.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6 mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-orange-600 mb-4",children:"The Five Essential Points"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("span",{className:"text-2xl",children:"1️⃣"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"The Problem:"}),u.jsx("span",{className:"text-gray-700",children:" What pain point is being solved?"})]})]}),u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("span",{className:"text-2xl",children:"2️⃣"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"The Solution:"}),u.jsx("span",{className:"text-gray-700",children:" How does the startup solve it?"})]})]}),u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("span",{className:"text-2xl",children:"3️⃣"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"Market Size:"}),u.jsx("span",{className:"text-gray-700",children:" What's the opportunity scale?"})]})]}),u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("span",{className:"text-2xl",children:"4️⃣"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"Team Companies:"}),u.jsx("span",{className:"text-gray-700",children:" Where have the founders worked before?"})]})]}),u.jsxs("div",{className:"flex gap-3 items-start",children:[u.jsx("span",{className:"text-2xl",children:"💰"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"Investment Amount:"}),u.jsx("span",{className:"text-gray-700",children:" How much are they raising?"})]})]})]})]}),u.jsxs("div",{className:"bg-white border-2 border-orange-300 rounded-2xl p-6 mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-orange-600 mb-3 flex items-center gap-2",children:"🍯 Progressive Information Reveal"}),u.jsxs("p",{className:"text-gray-700 mb-3",children:["Critical traction data and sensitive business metrics are hidden behind the ",u.jsx("strong",{children:"honeypot icon"}),". This information unlocks progressively as startups advance through stages, ensuring the right information is revealed at the right time."]}),u.jsx("p",{className:"text-gray-700",children:"This structured reveal process allows investors to make quick, informed decisions at each stage without information overload—reviewing what is most important before proceeding."})]}),u.jsxs("div",{className:"bg-purple-100 border-2 border-purple-400 rounded-2xl p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-purple-700 mb-3 flex items-center gap-2",children:"🔒 Investor Anonymity Until Stage 3"}),u.jsxs("p",{className:"text-gray-700 mb-3",children:[u.jsx("strong",{children:"Investors remain completely anonymous during the Discovery and Attraction stages."})," Your identity is not disclosed to startups until you reach ",u.jsx("strong",{children:"Stage 3 (Reveal)"}),"—when you actively choose to disclose your identity for private, time-bound pitch meetings."]}),u.jsx("p",{className:"text-gray-700",children:"This anonymity ensures unbiased review, privacy during the discovery process, and gives investors full control over when and how they engage with founders."})]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Market"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl p-6 text-white text-center",children:[u.jsx("div",{className:"text-4xl font-bold mb-2",children:"$6.4T"}),u.jsx("div",{className:"text-sm",children:"Global Startup Economy"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl p-6 text-white text-center",children:[u.jsx("div",{className:"text-4xl font-bold mb-2",children:"$25-30B"}),u.jsx("div",{className:"text-sm",children:"Early-Stage Angel Investment Annually"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl p-6 text-white text-center",children:[u.jsx("div",{className:"text-4xl font-bold mb-2",children:"28%"}),u.jsx("div",{className:"text-sm",children:"CAGR in Digital Investing Platforms"})]})]}),u.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:["Hot Honey is positioned as the ",u.jsx("strong",{children:"social-trust layer for global venture capital"}),"—where credibility meets virality."]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-6 text-center",children:"The Hot Economy Flywheel"}),u.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-8",children:[u.jsx("img",{src:"/images/hot-economy-flywheel.png",alt:"The Hot Economy Flywheel",className:"w-full max-w-2xl mx-auto rounded-xl shadow-lg mb-6"}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed text-center italic",children:"Every vote creates value. Every share fuels the loop. Every insight compounds the Hot Economy."}),u.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white rounded-xl p-4",children:[u.jsx("h4",{className:"font-bold text-orange-600 mb-2",children:"Outer Loop"}),u.jsx("p",{className:"text-gray-700 text-sm",children:"Investors → Startups → Data Engine → Partners → Revenue → Investors"})]}),u.jsxs("div",{className:"bg-white rounded-xl p-4",children:[u.jsx("h4",{className:"font-bold text-orange-600 mb-2",children:"Inner Loop"}),u.jsx("p",{className:"text-gray-700 text-sm",children:"Curiosity → Engagement → Trust → Recognition → Influence"})]})]})]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"How It Works"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4 items-start",children:[u.jsx("div",{className:"text-4xl",children:"🔍"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Discover"}),u.jsx("p",{className:"text-gray-700",children:"Swipe through curated StartupCards. Each card distills a startup into five key points: Problem, Solution, Market, Team, and Momentum. Make instinctive yes/no decisions based on curiosity."})]})]}),u.jsxs("div",{className:"flex gap-4 items-start",children:[u.jsx("div",{className:"text-4xl",children:"🔥"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Build Heat"}),u.jsx("p",{className:"text-gray-700",children:`Every "Yes" vote raises a startup's Heat Meter. High-heat startups appear in the Hot 5 Feed—the daily trending list that keeps investors coming back.`})]})]}),u.jsxs("div",{className:"flex gap-4 items-start",children:[u.jsx("div",{className:"text-4xl",children:"🤝"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Connect"}),u.jsx("p",{className:"text-gray-700",children:"Verified investors unlock direct messaging, pitch sessions, and Deal Room access. Founders receive real-time feedback on who's interested and why."})]})]}),u.jsxs("div",{className:"flex gap-4 items-start",children:[u.jsx("div",{className:"text-4xl",children:"💰"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Invest Together"}),u.jsx("p",{className:"text-gray-700",children:"Form or join syndicates. Share Hot Lists. Co-invest with confidence. The platform makes group investment transparent, social, and fun."})]})]})]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"Our Values"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-orange-600 font-bold text-xl",children:"✓"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"Human-Centered Design:"}),u.jsx("span",{className:"text-gray-700",children:" We believe emotion drives decisions. Data confirms them."})]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-orange-600 font-bold text-xl",children:"✓"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"Transparency:"}),u.jsx("span",{className:"text-gray-700",children:" Open, honest communication between startups and investors builds trust."})]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-orange-600 font-bold text-xl",children:"✓"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"Community-Driven:"}),u.jsx("span",{className:"text-gray-700",children:" Our voting system ensures the best startups rise to the top organically."})]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("span",{className:"text-orange-600 font-bold text-xl",children:"✓"}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-800",children:"Quality Over Quantity:"}),u.jsx("span",{className:"text-gray-700",children:" We curate deals so investors can focus on what truly matters."})]})]})]})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Vision"}),u.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:["Within five years, Hot Honey will become the ",u.jsx("strong",{children:"global social layer for venture capital"}),"—a daily habit for investors and founders alike."]}),u.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 rounded-2xl p-6 text-white",children:[u.jsx("p",{className:"text-xl font-semibold mb-3",children:"We're not just building a platform. We're building a movement."}),u.jsx("p",{className:"text-lg",children:"Where chemistry precedes capital. Where trust is earned transparently. Where the best ideas win through collective validation."}),u.jsx("p",{className:"text-2xl font-bold mt-4 text-center",children:"The heat is rising. 🔥"})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-8 shadow-2xl text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Join the Movement?"}),u.jsx("p",{className:"text-xl text-white mb-6",children:"Whether you're an investor seeking the next big thing or a startup ready to build momentum—Hot Honey is your platform."}),u.jsxs("div",{className:"flex gap-4 justify-center",children:[u.jsx("button",{onClick:()=>m("/signup"),className:"bg-white text-orange-600 font-bold py-4 px-8 rounded-2xl shadow-lg hover:bg-gray-100 transition-all text-lg",children:"🚀 Join Now"}),u.jsx("button",{onClick:()=>m("/vote"),className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"🔥 Start Voting"})]})]})]})]})}function t3(){const m=$s();return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-yellow-50 p-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-8",children:u.jsx("button",{onClick:()=>m("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"})}),u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"🔒 Privacy Policy"}),u.jsx("p",{className:"text-xl text-gray-700 font-medium",children:"Your privacy matters to us"}),u.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Last Updated: ",new Date().toLocaleDateString()]})]}),u.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl mb-8",children:[u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"1. Information We Collect"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We collect information you provide directly to us when you:"}),u.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[u.jsx("li",{children:"Create an account (name, email, password)"}),u.jsx("li",{children:"Submit a startup for consideration"}),u.jsx("li",{children:"Vote on startups"}),u.jsx("li",{children:"Interact with our platform"})]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"2. How We Use Your Information"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We use the information we collect to:"}),u.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[u.jsx("li",{children:"Provide, maintain, and improve our services"}),u.jsx("li",{children:"Connect startups with investors"}),u.jsx("li",{children:"Send you updates about startups you've voted on"}),u.jsx("li",{children:"Respond to your comments and questions"}),u.jsx("li",{children:"Protect against fraudulent or illegal activity"})]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"3. Information Sharing"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We do not sell your personal information. We may share your information:"}),u.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[u.jsx("li",{children:"With startups you've expressed interest in (name, email for connection purposes)"}),u.jsx("li",{children:"With service providers who help us operate our platform"}),u.jsx("li",{children:"When required by law or to protect our rights"}),u.jsx("li",{children:"With your consent"})]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"4. Data Security"}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We implement appropriate security measures to protect your personal information. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"5. Your Rights"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"You have the right to:"}),u.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[u.jsx("li",{children:"Access your personal information"}),u.jsx("li",{children:"Correct inaccurate information"}),u.jsx("li",{children:"Request deletion of your information"}),u.jsx("li",{children:"Opt-out of marketing communications"}),u.jsx("li",{children:"Withdraw consent at any time"})]})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"6. Cookies and Tracking"}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We use cookies and similar tracking technologies to track activity on our platform and hold certain information. You can instruct your browser to refuse all cookies or indicate when a cookie is being sent."})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"7. Children's Privacy"}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our service is not intended for children under 18. We do not knowingly collect personal information from children under 18. If you are a parent and believe your child has provided us with personal information, please contact us."})]}),u.jsxs("section",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"8. Changes to This Policy"}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'})]}),u.jsxs("section",{children:[u.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"9. Contact Us"}),u.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you have any questions about this Privacy Policy, please contact us:"}),u.jsx("div",{className:"bg-orange-50 rounded-2xl p-4",children:u.jsxs("p",{className:"text-gray-700",children:[u.jsx("strong",{children:"Email:"})," privacy@hotmoneyhoney.com",u.jsx("br",{}),u.jsx("strong",{children:"Mail:"})," Hot Honey, Inc.",u.jsx("br",{}),"[Your Address Here]"]})})]})]})]})})}function s3(){const m=$s(),[e,t]=U.useState({name:"",email:"",subject:"",message:""}),[n,a]=U.useState(!1),o=h=>{h.preventDefault(),console.log("Contact form submitted:",e),a(!0),setTimeout(()=>{a(!1),t({name:"",email:"",subject:"",message:""})},3e3)},c=h=>{t({...e,[h.target.name]:h.target.value})};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),u.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[u.jsx("div",{className:"flex justify-between items-center mb-8",children:u.jsx("button",{onClick:()=>m("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"})}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"text-8xl mb-4",children:"💬"}),u.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-4",children:"Contact Us"}),u.jsx("p",{className:"text-xl text-gray-700 font-medium",children:"We'd love to hear from you!"})]}),u.jsx("div",{className:"mb-8 bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-orange-600 mb-2 flex items-center gap-2",children:"📧 Email Us"}),u.jsx("p",{className:"text-gray-700",children:u.jsx("a",{href:"mailto:hello@hotmoneyhoney.com",className:"text-orange-600 hover:text-orange-700 underline",children:"hello@hotmoneyhoney.com"})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-orange-600 mb-2 flex items-center gap-2",children:"🕒 Response Time"}),u.jsx("p",{className:"text-gray-700",children:"We typically respond within 24-48 hours"})]})]})}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Send us a message"}),n&&u.jsx("div",{className:"mb-6 p-4 bg-green-100 border-2 border-green-400 rounded-xl text-center",children:u.jsx("p",{className:"text-green-800 font-semibold",children:"✅ Thank you! We'll get back to you soon."})}),u.jsxs("form",{onSubmit:o,className:"space-y-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Name *"}),u.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:e.name,onChange:c,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"John Doe"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address *"}),u.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:e.email,onChange:c,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"john@example.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"subject",className:"block text-sm font-bold text-gray-700 mb-2",children:"Subject *"}),u.jsxs("select",{id:"subject",name:"subject",required:!0,value:e.subject,onChange:c,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",children:[u.jsx("option",{value:"",children:"Select a topic..."}),u.jsx("option",{value:"investor",children:"I'm an Investor"}),u.jsx("option",{value:"startup",children:"I'm a Startup"}),u.jsx("option",{value:"partnership",children:"Partnership Inquiry"}),u.jsx("option",{value:"support",children:"Technical Support"}),u.jsx("option",{value:"feedback",children:"Feedback"}),u.jsx("option",{value:"other",children:"Other"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"message",className:"block text-sm font-bold text-gray-700 mb-2",children:"Message *"}),u.jsx("textarea",{id:"message",name:"message",required:!0,value:e.message,onChange:c,rows:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"Tell us how we can help..."})]}),u.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"📤 Send Message"})]})]}),u.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-2xl p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-purple-700 mb-3",children:"💡 Common Questions?"}),u.jsx("p",{className:"text-gray-700 mb-3",children:"Before reaching out, you might find what you're looking for in our resources:"}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsx("button",{onClick:()=>m("/about"),className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-lg text-purple-700 font-semibold hover:bg-purple-50 transition-colors",children:"📖 About Us"}),u.jsx("button",{onClick:()=>m("/"),className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-lg text-purple-700 font-semibold hover:bg-purple-50 transition-colors",children:"🔥 How It Works"}),u.jsx("button",{onClick:()=>m("/submit"),className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-lg text-purple-700 font-semibold hover:bg-purple-50 transition-colors",children:"🚀 For Startups"})]})]})]})]})]})}const d0=[{id:"fintech",name:"FinTech",emoji:"💰"},{id:"ai",name:"AI/ML",emoji:"🤖"},{id:"saas",name:"SaaS",emoji:"☁️"},{id:"deeptech",name:"Deep Tech",emoji:"🔬"},{id:"robotics",name:"Robotics",emoji:"🦾"},{id:"healthtech",name:"HealthTech",emoji:"🏥"},{id:"edtech",name:"EdTech",emoji:"📚"},{id:"cleantech",name:"CleanTech",emoji:"🌱"},{id:"ecommerce",name:"E-Commerce",emoji:"🛒"},{id:"crypto",name:"Crypto/Web3",emoji:"₿"},{id:"consumer",name:"Consumer",emoji:"🛍️"},{id:"enterprise",name:"Enterprise",emoji:"🏢"}];function n3(){const m=$s(),[e,t]=U.useState([]),[n,a]=U.useState(!1),[o,c]=U.useState(!1),[h,f]=U.useState(!1),[p,g]=U.useState("");U.useEffect(()=>{const E=localStorage.getItem("userProfile");if(E){const A=JSON.parse(E);f(!0),g(A.email||"User"),A.preferences&&(t(A.preferences.industries||[]),a(A.preferences.filterEnabled||!1))}else{const A=localStorage.getItem("investorPreferences");if(A){const _=JSON.parse(A);t(_.industries||[]),a(_.filterEnabled||!1)}}},[]);const b=E=>{t(A=>A.includes(E)?A.filter(_=>_!==E):[...A,E])},v=()=>{const E=localStorage.getItem("userProfile");if(!E){confirm(`🔒 Please sign up to save your preferences!

Would you like to go to the sign up page now?`)&&m("/signup");return}const A={industries:e,filterEnabled:n,savedAt:new Date().toISOString()},_=JSON.parse(E);_.preferences=A,localStorage.setItem("userProfile",JSON.stringify(_)),localStorage.setItem("investorPreferences",JSON.stringify(A)),c(!0),setTimeout(()=>c(!1),3e3)},S=()=>{e.length===d0.length?t([]):t(d0.map(E=>E.id))};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),u.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx(we,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up",children:"🍯"}),u.jsx(we,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:"👤 Sign Up"}),u.jsx(we,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"🏠 Home"}),u.jsx(we,{to:"/vote",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"📊 Vote"}),u.jsx(we,{to:"/dashboard",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"👤 Dashboard"}),u.jsx(we,{to:"/settings",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:"⚙️ Settings"})]})}),u.jsx("div",{className:"max-w-4xl mx-auto relative z-10 pt-28",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:"⚙️"}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-2",children:"Investor Preferences"}),u.jsx("p",{className:"text-lg text-gray-700",children:"Customize your Hot Honey experience"})]}),!h&&u.jsx("div",{className:"mb-6 p-4 bg-yellow-100 border-2 border-yellow-400 rounded-xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-yellow-800 font-semibold mb-1",children:"⚠️ Not Logged In"}),u.jsx("p",{className:"text-sm text-yellow-700",children:"Sign up to save your preferences to your account"})]}),u.jsx("button",{onClick:()=>m("/signup"),className:"px-4 py-2 bg-yellow-400 text-black rounded-lg font-semibold hover:bg-yellow-500 transition-colors",children:"Sign Up"})]})}),h&&u.jsx("div",{className:"mb-6 p-4 bg-green-100 border-2 border-green-400 rounded-xl",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-green-800 font-semibold",children:["✅ Logged in as ",u.jsx("strong",{children:p})]}),u.jsx("button",{onClick:()=>{confirm("Are you sure you want to log out?")&&(localStorage.removeItem("userProfile"),localStorage.removeItem("isLoggedIn"),f(!1),g(""),alert("✅ Logged out successfully!"),m("/"))},className:"px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition-colors text-sm",children:"Log Out"})]})}),o&&u.jsx("div",{className:"mb-6 p-4 bg-green-100 border-2 border-green-400 rounded-xl text-center",children:u.jsx("p",{className:"text-green-800 font-semibold",children:"✅ Preferences saved successfully!"})}),u.jsxs("div",{className:"mb-8 bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"🎯 Industry Filter"}),u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Only show startups in your selected industries"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:n,onChange:E=>a(E.target.checked),className:"sr-only peer"}),u.jsx("div",{className:"w-14 h-7 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-orange-500"})]})]}),n&&e.length===0&&u.jsx("div",{className:"mt-3 p-3 bg-yellow-100 border-2 border-yellow-300 rounded-lg",children:u.jsx("p",{className:"text-sm text-yellow-800 font-semibold",children:"⚠️ Please select at least one industry below"})})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Industries of Interest"}),u.jsx("button",{onClick:S,className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg font-semibold hover:bg-purple-200 transition-colors text-sm",children:e.length===d0.length?"❌ Deselect All":"✅ Select All"})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the industries you're most interested in investing in"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:d0.map(E=>u.jsxs("button",{onClick:()=>b(E.id),className:`p-4 rounded-xl border-2 transition-all text-center ${e.includes(E.id)?"border-orange-500 bg-orange-50 shadow-lg":"border-gray-300 bg-white hover:border-orange-300 hover:bg-orange-50"}`,children:[u.jsx("div",{className:"text-3xl mb-2",children:E.emoji}),u.jsx("div",{className:`font-semibold text-sm ${e.includes(E.id)?"text-orange-700":"text-gray-700"}`,children:E.name}),e.includes(E.id)&&u.jsx("div",{className:"text-orange-600 text-xl mt-1",children:"✓"})]},E.id))})]}),u.jsxs("div",{className:"mb-6 bg-purple-50 border-2 border-purple-300 rounded-xl p-4",children:[u.jsx("h3",{className:"font-bold text-purple-700 mb-2",children:"💡 How it works"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[u.jsx("li",{children:"• Toggle the filter ON to only see startups in your selected industries"}),u.jsx("li",{children:"• Toggle OFF to see all startups (great for discovery!)"}),u.jsx("li",{children:"• You can change your preferences anytime"}),u.jsx("li",{children:"• Your selections are saved automatically to your device"})]})]}),u.jsx("button",{onClick:v,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"💾 Save Preferences"}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{onClick:()=>m("/vote"),className:"text-orange-600 hover:text-orange-700 font-semibold underline",children:"← Back to Voting"})})]})})]})}const i3=[{id:"fintech",name:"FinTech",emoji:"💰"},{id:"ai",name:"AI/ML",emoji:"🤖"},{id:"saas",name:"SaaS",emoji:"☁️"},{id:"deeptech",name:"Deep Tech",emoji:"🔬"},{id:"robotics",name:"Robotics",emoji:"🦾"},{id:"healthtech",name:"HealthTech",emoji:"🏥"},{id:"edtech",name:"EdTech",emoji:"📚"},{id:"cleantech",name:"CleanTech",emoji:"🌱"},{id:"ecommerce",name:"E-Commerce",emoji:"🛒"},{id:"crypto",name:"Crypto/Web3",emoji:"₿"},{id:"consumer",name:"Consumer",emoji:"🛍️"},{id:"enterprise",name:"Enterprise",emoji:"🏢"}];function a3(){const{shareId:m}=bE(),e=$s(),[t,n]=U.useState(null),[a,o]=U.useState(!0),[c,h]=U.useState([]);return U.useEffect(()=>{const f=localStorage.getItem("portfolioShares");if(f&&m){const g=JSON.parse(f)[m];if(g)if(n(g),g.industries&&g.industries.length>0){const b=g.startups;h(b)}else h(g.startups)}o(!1)},[m]),a?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🍯"}),u.jsx("p",{className:"text-2xl text-white font-bold",children:"Loading portfolio..."})]})}):t?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),u.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"text-7xl mb-4",children:"🍯"}),u.jsxs("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-3",children:[t.investorName,"'s Hot Picks"]}),u.jsxs("p",{className:"text-xl text-purple-200 mb-2",children:["Shared ",c.length," startup",c.length!==1?"s":""]}),t.industries&&t.industries.length>0&&u.jsx("div",{className:"flex gap-2 justify-center flex-wrap mt-4",children:t.industries.map(f=>{const p=i3.find(g=>g.id===f);return p?u.jsxs("span",{className:"bg-purple-500 text-white px-4 py-2 rounded-full text-sm font-semibold",children:[p.emoji," ",p.name]},f):null})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:c.map((f,p)=>u.jsxs("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-2xl p-6 shadow-2xl",children:[u.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2",children:f.name}),f.tagline&&u.jsx("p",{className:"text-blue-700 font-bold text-sm mb-3",children:f.tagline}),f.pitch&&u.jsx("p",{className:"text-gray-800 text-sm mb-4",children:f.pitch}),u.jsx("div",{className:"flex items-center gap-2 text-sm",children:u.jsxs("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full font-bold",children:["✓ ",f.stage?`Stage ${f.stage}`:"Verified"]})})]},p))}),u.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center shadow-2xl",children:[u.jsx("div",{className:"text-5xl mb-4",children:"🔥"}),u.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"Want to Discover Hot Startups Too?"}),u.jsx("p",{className:"text-xl text-gray-700 mb-6 max-w-2xl mx-auto",children:"Join Hot Honey to discover, vote on, and track the hottest startup deals. Build your own portfolio and share it with your network!"}),u.jsxs("div",{className:"flex gap-4 justify-center",children:[u.jsx("button",{onClick:()=>e("/signup"),className:"px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl shadow-lg transition-all text-lg",children:"🚀 Join Hot Honey"}),u.jsx("button",{onClick:()=>e("/vote"),className:"px-8 py-4 bg-white border-2 border-orange-500 text-orange-600 font-bold rounded-2xl shadow-lg hover:bg-orange-50 transition-all text-lg",children:"👀 See All Startups"})]}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[u.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[u.jsx("div",{className:"text-3xl mb-3",children:"🎯"}),u.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Filter by Industry"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Only see startups in industries you care about"})]}),u.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[u.jsx("div",{className:"text-3xl mb-3",children:"📊"}),u.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Track Your Picks"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Build your own portfolio of hot startups"})]}),u.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[u.jsx("div",{className:"text-3xl mb-3",children:"📤"}),u.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Share Selectively"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Share specific categories with different people"})]})]})]}),u.jsx("div",{className:"text-center mt-8",children:u.jsxs("p",{className:"text-purple-200 text-sm",children:["Powered by ",u.jsx("span",{className:"font-bold text-yellow-300",children:"Hot Honey"})," 🍯"]})})]})]}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center p-8",children:u.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center max-w-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:"❌"}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Portfolio Not Found"}),u.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"This share link may have expired or been removed."}),u.jsx("button",{onClick:()=>e("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Go to Hot Honey"})]})})}function r3(){const m=$s(),e=U.useRef(null),[t,n]=U.useState(!1),[a,o]=U.useState(!1),[c,h]=U.useState([]),[f,p]=U.useState("upload"),[g,b]=U.useState(0),v=()=>{const k=localStorage.getItem("userProfile");if(k){const F=JSON.parse(k);return F.email==="admin@hotmoneyhoney.com"||F.isAdmin}return!1},S=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?n(!0):k.type==="dragleave"&&n(!1)},E=k=>{k.preventDefault(),k.stopPropagation(),n(!1),k.dataTransfer.files&&k.dataTransfer.files[0]&&R(k.dataTransfer.files[0])},A=k=>{k.target.files&&k.target.files[0]&&R(k.target.files[0])},_=k=>{const F=k.split(`
`).filter(K=>K.trim());if(F.length<2)return[];const G=F[0].split(",").map(K=>K.trim().replace(/"/g,"")),Q=[];for(let K=1;K<F.length;K++){const X=F[K].split(",").map(de=>de.trim().replace(/"/g,"")),he={};G.forEach((de,Se)=>{he[de.toLowerCase().replace(/\s+/g,"_")]=X[Se]||""}),Q.push(he)}return Q},T=async k=>{var Q,K,X,he;const F=[],G={name:k.name||k.startup_name||"Unnamed Startup",tagline:k.tagline||k.tag_line||"",pitch:k.pitch||k.description||"",problem:k.problem||"",solution:k.solution||"",marketSize:k.market_size||k.market||"",teamCompanies:k.team_companies||k.team||"",investmentAmount:k.investment_amount||k.raise||k.raising||"",industries:k.industries?k.industries.split(",").map(de=>de.trim().toLowerCase()):[],status:"pending",aiGenerated:[],originalData:k};return!G.problem&&G.name&&(G.problem=`Addresses key challenges in ${((Q=G.industries)==null?void 0:Q[0])||"the industry"}`,F.push("problem")),!G.solution&&G.name&&(G.solution=`Innovative ${((K=G.industries)==null?void 0:K[0])||"technology"} solution for modern businesses`,F.push("solution")),G.marketSize||(G.marketSize="$1B+ market opportunity",F.push("marketSize")),!G.tagline&&G.name&&(G.tagline=`Next-gen ${((X=G.industries)==null?void 0:X[0])||"platform"}`,F.push("tagline")),G.pitch||(G.pitch=`${G.name} is transforming the ${((he=G.industries)==null?void 0:he[0])||"industry"}`,F.push("pitch")),G.aiGenerated=F,G},R=async k=>{const F=k.name.toLowerCase();if(!F.endsWith(".csv")&&!F.endsWith(".xlsx")){alert("❌ Please upload a CSV or Excel file");return}o(!0),b(0);try{const G=await k.text(),Q=_(G);console.log("Parsed rows:",Q.length);const K=[];for(let X=0;X<Q.length;X++){b(X+1);const he=await T(Q[X]);K.push(he),await new Promise(de=>setTimeout(de,100))}h(K),p("preview"),o(!1)}catch(G){console.error("Error parsing file:",G),alert("❌ Error parsing file. Please check the format."),o(!1)}},D=k=>{h(F=>F.map((G,Q)=>Q===k?{...G,status:G.status==="approved"?"pending":"approved"}:G))},L=()=>{h(k=>k.map(F=>({...F,status:"approved"})))},O=()=>{const k=c.filter(X=>X.status==="approved");if(k.length===0){alert("⚠️ No startups approved. Please approve at least one startup.");return}const F=localStorage.getItem("uploadedStartups"),G=F?JSON.parse(F):[],Q=k.map((X,he)=>({id:Date.now()+he,name:X.name,tagline:X.tagline,pitch:X.pitch,description:X.pitch,marketSize:X.marketSize||"TBD",unique:X.solution||"TBD",raise:X.investmentAmount||"TBD",stage:1,yesVotes:0,noVotes:0,hotness:0,answersCount:0,industries:X.industries,fivePoints:[X.problem||"Problem statement",X.solution||"Solution description",X.marketSize||"Market size",X.teamCompanies||"Team background",X.investmentAmount||"Investment amount"],aiGenerated:X.aiGenerated,uploadedAt:new Date().toISOString()})),K=[...G,...Q];localStorage.setItem("uploadedStartups",JSON.stringify(K)),alert(`✅ Successfully uploaded ${k.length} startups!`),p("complete")},B=()=>{const k=`Startup Name,Tagline,Pitch,Problem,Solution,Market Size,Team Companies,Investment Amount,Industries
Example Startup,AI for Everyone,Making AI accessible,"AI is too complex","Simple AI platform","$50B market","Google, Microsoft","$2M Seed","ai,saas"
Another Company,FinTech Revolution,Democratizing finance,"Finance is broken","Modern banking app","$100B TAM","Goldman Sachs","$5M Series A","fintech"`,F=new Blob([k],{type:"text/csv"}),G=window.URL.createObjectURL(F),Q=document.createElement("a");Q.href=G,Q.download="hot-money-honey-template.csv",Q.click()};return v()?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),u.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("button",{onClick:()=>m("/dashboard"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Back to Dashboard"}),u.jsxs("div",{className:"flex gap-4 items-center",children:[(()=>{const k=localStorage.getItem("uploadedStartups"),F=k?JSON.parse(k).length:0;return F>0?u.jsxs("div",{className:"bg-green-500 text-white font-bold py-3 px-6 rounded-2xl shadow-lg",children:["✅ ",F," Startups in Database"]}):null})(),u.jsx("button",{onClick:()=>m("/admin/document-upload"),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"📄 Scan Documents"}),u.jsx("button",{onClick:B,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"📥 Download Template"})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📊"}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-2",children:"Bulk Upload Startups"}),u.jsx("p",{className:"text-lg text-gray-700",children:"Upload Excel/CSV files • AI auto-completes missing data"})]}),u.jsx("div",{className:"flex justify-center mb-8",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${f==="upload"?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:"1. Upload"}),u.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),u.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${f==="preview"?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:"2. Preview"}),u.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),u.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${f==="complete"?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:"3. Complete"})]})}),f==="upload"&&u.jsxs("div",{children:[u.jsx("div",{className:`border-4 border-dashed rounded-2xl p-16 text-center transition-all ${t?"border-orange-500 bg-orange-50":"border-gray-300 bg-gray-50"} ${a?"opacity-50":""}`,onDragEnter:S,onDragLeave:S,onDragOver:S,onDrop:E,children:a?u.jsxs("div",{children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"⏳"}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Processing..."}),u.jsx("p",{className:"text-gray-600",children:"Parsing file and generating missing data with AI"}),g>0&&u.jsxs("p",{className:"text-orange-600 font-semibold mt-4",children:["Processed ",g," startups"]})]}):u.jsxs("div",{children:[u.jsx("div",{className:"text-6xl mb-4",children:"📤"}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Drag & Drop CSV or Excel File"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"or click to browse"}),u.jsx("input",{ref:e,type:"file",accept:".csv,.xlsx",onChange:A,className:"hidden"}),u.jsx("button",{onClick:()=>{var k;return(k=e.current)==null?void 0:k.click()},className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Choose File"})]})}),u.jsxs("div",{className:"mt-8 bg-blue-50 border-2 border-blue-300 rounded-xl p-6",children:[u.jsx("h4",{className:"font-bold text-blue-700 mb-3",children:"📋 How it works:"}),u.jsxs("ol",{className:"text-sm text-gray-700 space-y-2 list-decimal list-inside",children:[u.jsx("li",{children:"Download the CSV template above"}),u.jsx("li",{children:"Fill in startup data (name, tagline, problem, solution, etc.)"}),u.jsx("li",{children:"Leave fields blank if you don't have the data - AI will generate it!"}),u.jsx("li",{children:"Upload your file and review the parsed data"}),u.jsx("li",{children:"Approve startups and save to database"})]})]})]}),f==="preview"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Review ",c.length," Startups"]}),u.jsxs("p",{className:"text-gray-600",children:[c.filter(k=>k.status==="approved").length," approved"]})]}),u.jsx("button",{onClick:L,className:"px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors",children:"✅ Approve All"})]}),u.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:c.map((k,F)=>{var G;return u.jsx("div",{className:`border-2 rounded-xl p-4 transition-all ${k.status==="approved"?"border-green-500 bg-green-50":"border-gray-300 bg-white"}`,children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-lg font-bold text-gray-800",children:k.name}),u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k.tagline}),k.aiGenerated&&k.aiGenerated.length>0&&u.jsx("div",{className:"flex gap-2 flex-wrap mb-2",children:k.aiGenerated.map(Q=>u.jsxs("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:["🤖 AI: ",Q]},Q))}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Industries: ",((G=k.industries)==null?void 0:G.join(", "))||"None"]})]}),u.jsx("button",{onClick:()=>D(F),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${k.status==="approved"?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:k.status==="approved"?"✓ Approved":"Approve"})]})},F)})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>{p("upload"),h([])},className:"flex-1 bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-2xl hover:bg-gray-400 transition-all",children:"← Upload Different File"}),u.jsxs("button",{onClick:O,className:"flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:["💾 Save ",c.filter(k=>k.status==="approved").length," Startups"]})]})]}),f==="complete"&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-8xl mb-6",children:"🎉"}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Upload Complete!"}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Your startups have been added to the database"}),u.jsxs("div",{className:"flex gap-4 justify-center",children:[u.jsx("button",{onClick:()=>{p("upload"),h([])},className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Upload More"}),u.jsx("button",{onClick:()=>m("/vote"),className:"px-8 py-3 bg-white border-2 border-orange-500 text-orange-600 font-bold rounded-2xl hover:bg-orange-50 transition-all",children:"View Startups"})]})]})]})]})]}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center p-8",children:u.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center max-w-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Admin Access Required"}),u.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"This page is only accessible to administrators."}),u.jsx("button",{onClick:()=>m("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Go Home"})]})})}function l3(){const m=$s(),[e,t]=U.useState(""),[n,a]=U.useState(!1),[o,c]=U.useState([]),[h,f]=U.useState([]),[p,g]=U.useState("input"),[b,v]=U.useState({current:0,total:0}),[S,E]=U.useState(0),[A,_]=U.useState(!1),[T,R]=U.useState([]),[D,L]=U.useState(!1),[O,B]=U.useState({name:"",url:"",type:"vc_portfolio",autoRefresh:!0});U.useEffect(()=>{const ee=localStorage.getItem("bulkImportSources");ee&&R(JSON.parse(ee))},[]);const k=ee=>{localStorage.setItem("bulkImportSources",JSON.stringify(ee)),R(ee)},F=()=>{if(!O.name||!O.url){alert("Please enter both name and URL");return}const ee={id:Date.now(),name:O.name,url:O.url,type:O.type,autoRefresh:O.autoRefresh,companyCount:0,lastScraped:new Date().toISOString()};k([...T,ee]),B({name:"",url:"",type:"vc_portfolio",autoRefresh:!0}),L(!1),alert("✅ Source saved! AI will learn to scrape this automatically.")},G=ee=>{confirm("Delete this source?")&&k(T.filter(ce=>ce.id!==ee))},Q=async ee=>{alert(`🔄 In production, this would:

1. Visit ${ee.url}
2. Extract company URLs using AI-learned patterns
3. Enrich each company with the 5-point format
4. Update your database

For now, manually copy URLs from this source and paste them in the manual input section.`)},K=async()=>{const ee=T.filter(ce=>ce.autoRefresh);if(ee.length===0){alert("No sources with auto-refresh enabled.");return}alert(`🤖 Automated Refresh:

This would scrape ${ee.length} sources:
${ee.map(ce=>`• ${ce.name}`).join(`
`)}

In production:
• Runs weekly via cron job
• AI extracts company URLs
• Enriches with 5-point format
• Auto-updates database

For MVP: Use manual input below`)},X=[{name:"Y Combinator",url:"https://www.ycombinator.com/companies",selector:".company-card"},{name:"a16z Portfolio",url:"https://a16z.com/portfolio/",selector:".portfolio-company"},{name:"Sequoia",url:"https://www.sequoiacap.com/companies/",selector:".company-item"}],he=()=>{const ee=e.split(`
`).filter(P=>P.trim());console.log("📋 Parsed URLs:",ee);const ce=ee.map(P=>{const $=de(P);return{name:Se(P),website:P.trim(),vcSource:"Manual Input",entityType:$}});console.log("✅ Companies created:",ce),c(ce),g("review")},de=ee=>{const ce=ee.toLowerCase(),P=Se(ee).toLowerCase(),$=["ycombinator","y-combinator","yc.com","techstars","sequoia","andreessen","a16z","greylock","benchmark","accel","founders fund","khosla","index ventures","lightspeed","nea","redpoint","spark capital","venturecapital","vc.com","ventures.com"];return["accelerator","incubator","hax","plug and play","500startups","techstars","ycombinator","y-combinator"].some(re=>ce.includes(re)||P.includes(re))?"accelerator":$.some(re=>ce.includes(re)||P.includes(re))?"vc_firm":"startup"},Se=ee=>{try{const P=new URL(ee).hostname.replace("www.","").split(".")[0];return P.charAt(0).toUpperCase()+P.slice(1)}catch{return"Unknown"}},H=async ee=>{const ce=ee.entityType||"startup";return ce==="vc_firm"||ce==="accelerator"?{...ee,entityType:ce,pitch:`${ee.name} - ${ce==="vc_firm"?"Venture Capital Firm":"Startup Accelerator"}`,fivePoints:["Investment focus and thesis","Portfolio company count","Average check size and stage","Notable portfolio exits","Geographic presence"],industry:"Venture Capital",funding:"N/A",stage:"N/A"}:{...ee,entityType:"startup",pitch:`${ee.name} - Innovative startup`,fivePoints:["Solving a major industry problem","Innovative technology solution","Large addressable market","Experienced founding team","$2M Seed"],industry:"Technology",funding:"$2M Seed",stage:"Seed"}},J=async()=>{console.log("🤖 Starting enrichment for",o.length,"companies"),console.log("📋 Companies to enrich:",o),_(!0),g("enriching");const ee=[];for(let ce=0;ce<o.length;ce++){const P=o[ce];console.log(`📊 Enriching ${ce+1}/${o.length}: ${P.name}`);try{const $=await H(P);console.log("✅ Enriched:",$.name),ee.push($),console.log(`📦 Enriched array now has ${ee.length} companies`),E((ce+1)/o.length*100),f([...ee]),ce<o.length-1&&(console.log("⏱️ Waiting 2 seconds before next enrichment..."),await new Promise(ie=>setTimeout(ie,2e3)))}catch($){console.error(`❌ Error enriching ${P.name}:`,$)}}console.log("✅ All enrichment complete:",ee.length,"companies"),console.log("📦 Final enriched data:",ee),f(ee),_(!1),g("review"),setTimeout(()=>{console.log("🔍 Current state - enrichedCompanies.length:",ee.length),console.log("🔍 Current step:","review")},100)},le=()=>{const ee=localStorage.getItem("uploadedStartups"),ce=ee?JSON.parse(ee):[],P=h.map((ue,Bt)=>({id:Date.now()+Bt,name:ue.name,tagline:ue.pitch,pitch:ue.pitch,stage:ue.stage==="Pre-Seed"||ue.stage==="Seed"?1:2,website:ue.website,industries:[ue.industry],fivePoints:ue.fivePoints,raise:ue.funding,funding:ue.funding,yesVotes:0,noVotes:0,hotness:0,vcBacked:ue.vcSource,entityType:ue.entityType||"startup"}));localStorage.setItem("uploadedStartups",JSON.stringify([...ce,...P]));const $=P.filter(ue=>ue.entityType==="startup").length,ie=P.filter(ue=>ue.entityType==="vc_firm").length,re=P.filter(ue=>ue.entityType==="accelerator").length;let ve=`✅ Successfully imported:
`;$>0&&(ve+=`• ${$} startup${$>1?"s":""}
`),ie>0&&(ve+=`• ${ie} VC firm${ie>1?"s":""}
`),re>0&&(ve+=`• ${re} accelerator${re>1?"s":""}
`),ve+=`
Would you like to view Analytics to see trends and intelligence?

Click OK for Analytics, Cancel to go to Voting.`;const Ce=confirm(ve);m(Ce?"/analytics":"/vote")};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 p-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"🚀 Bulk Import Startups"}),u.jsx("p",{className:"text-purple-200",children:"Automated VC portfolio scraping & enrichment"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>g(p==="sources"?"input":"sources"),className:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:p==="sources"?"← Back to Import":"⚙️ Manage Sources"}),u.jsx("button",{onClick:()=>m("/submit"),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:"← Submit Page"})]})]}),p==="sources"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 backdrop-blur-md rounded-3xl p-6 border-2 border-green-400",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"🤖 Automated Weekly Refresh"}),u.jsx("p",{className:"text-purple-100 mb-4",children:"AI learns to scrape these sources automatically. Enable auto-refresh for weekly updates of fresh startup data."}),u.jsx("button",{onClick:K,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl transition-all",children:"🔄 Refresh All Sources Now"})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-purple-400",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h2",{className:"text-3xl font-bold text-white",children:["📚 Saved Sources (",T.length,")"]}),u.jsx("button",{onClick:()=>L(!D),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-xl transition-all",children:D?"✕ Cancel":"+ Add Source"})]}),D&&u.jsxs("div",{className:"bg-purple-700/50 rounded-xl p-6 mb-6",children:[u.jsx("h3",{className:"text-white font-bold mb-4",children:"Add New Source"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-purple-200 mb-2 font-semibold",children:"Source Name"}),u.jsx("input",{type:"text",value:O.name,onChange:ee=>B({...O,name:ee.target.value}),placeholder:"e.g., Y Combinator W24",className:"w-full px-4 py-2 bg-white/20 border-2 border-purple-300 rounded-lg text-white placeholder-purple-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-purple-200 mb-2 font-semibold",children:"Portfolio URL"}),u.jsx("input",{type:"text",value:O.url,onChange:ee=>B({...O,url:ee.target.value}),placeholder:"https://www.ycombinator.com/companies",className:"w-full px-4 py-2 bg-white/20 border-2 border-purple-300 rounded-lg text-white placeholder-purple-300"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-purple-200 mb-2 font-semibold",children:"Type"}),u.jsxs("select",{value:O.type,onChange:ee=>B({...O,type:ee.target.value}),className:"w-full px-4 py-2 bg-white/20 border-2 border-purple-300 rounded-lg text-white",children:[u.jsx("option",{value:"vc_portfolio",children:"VC Portfolio"}),u.jsx("option",{value:"accelerator",children:"Accelerator"}),u.jsx("option",{value:"manual",children:"Manual List"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",checked:O.autoRefresh,onChange:ee=>B({...O,autoRefresh:ee.target.checked}),className:"w-5 h-5"}),u.jsx("label",{className:"text-purple-200",children:"Enable weekly auto-refresh"})]}),u.jsx("button",{onClick:F,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl w-full transition-all",children:"✅ Save Source"})]})]}),u.jsx("div",{className:"space-y-3",children:T.length===0?u.jsx("p",{className:"text-purple-200 text-center py-8",children:"No saved sources yet. Add your first VC portfolio or accelerator!"}):T.map(ee=>u.jsxs("div",{className:"bg-purple-700/50 rounded-xl p-4 flex justify-between items-center",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{className:"text-white font-bold text-lg",children:ee.name}),u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${ee.type==="vc_portfolio"?"bg-blue-500":ee.type==="accelerator"?"bg-green-500":"bg-gray-500"} text-white`,children:ee.type.replace("_"," ").toUpperCase()}),ee.autoRefresh&&u.jsx("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"🤖 AUTO"})]}),u.jsx("p",{className:"text-purple-200 text-sm mb-1",children:ee.url}),ee.lastScraped&&u.jsxs("p",{className:"text-purple-300 text-xs",children:["Last scraped: ",new Date(ee.lastScraped).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>Q(ee),className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg transition-all text-sm",children:"🔄 Refresh"}),u.jsx("button",{onClick:()=>G(ee.id),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition-all text-sm",children:"🗑️"})]})]},ee.id))})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-orange-400",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"💡 How It Works"}),u.jsxs("div",{className:"space-y-3 text-purple-100",children:[u.jsxs("p",{children:[u.jsx("strong",{className:"text-orange-300",children:"1. Add Sources:"})," Input VC portfolio URLs, accelerator sites, or startup lists"]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-orange-300",children:"2. AI Learns:"})," System learns HTML patterns to extract company URLs automatically"]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-orange-300",children:"3. Auto-Refresh:"})," Weekly cron job scrapes sources, enriches with 5-point format"]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-orange-300",children:"4. Fresh Data:"})," Your startup database stays current with latest YC batch, new funding rounds"]})]})]})]}),p==="input"&&u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-purple-400",children:[u.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"📋 Enter Company Websites"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"text-purple-200 mb-3 font-semibold",children:"Quick Start Templates:"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:X.map(ee=>u.jsxs("div",{className:"bg-purple-700/50 rounded-xl p-4",children:[u.jsx("h3",{className:"text-white font-bold mb-2",children:ee.name}),u.jsx("p",{className:"text-purple-200 text-sm mb-3",children:"Scrape their portfolio page"}),u.jsx("button",{onClick:()=>t(ee.url),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-all w-full",children:"Use Template"})]},ee.name))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"bg-blue-500/20 border-2 border-blue-400 rounded-xl p-4 mb-4",children:[u.jsx("h3",{className:"text-white font-bold mb-2",children:"📋 Current Workflow (MVP)"}),u.jsxs("ol",{className:"text-purple-100 text-sm space-y-1 list-decimal list-inside",children:[u.jsx("li",{children:"Visit a VC portfolio page (e.g., YC, a16z)"}),u.jsx("li",{children:"Manually copy company website URLs"}),u.jsx("li",{children:"Paste them below (one per line)"}),u.jsx("li",{children:"✅ AI will enrich each with 5-point format"})]})]}),u.jsx("label",{className:"block text-white font-bold mb-3",children:"Paste Company Websites (one per line):"}),u.jsx("textarea",{value:e,onChange:ee=>t(ee.target.value),placeholder:`https://airbnb.com
https://stripe.com
https://coinbase.com
https://figma.com
https://notion.so`,rows:10,className:"w-full px-4 py-3 bg-white/20 border-2 border-purple-300 rounded-xl text-white placeholder-purple-300 focus:outline-none focus:border-orange-400 font-mono text-sm"}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsx("p",{className:"text-purple-200 text-sm",children:"💡 Manually copy URLs from any VC portfolio page"}),u.jsxs("p",{className:"text-yellow-300 text-sm font-bold",children:[e.split(`
`).filter(ee=>ee.trim()).length," URLs ready"]})]})]}),u.jsxs("button",{onClick:he,disabled:!e.trim(),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg disabled:opacity-50 disabled:cursor-not-allowed w-full",children:["✨ AI Enrich ",e.split(`
`).filter(ee=>ee.trim()).length," Companies →"]}),u.jsxs("div",{className:"mt-6 bg-purple-500/20 border-2 border-purple-400 rounded-xl p-4",children:[u.jsx("h3",{className:"text-white font-bold mb-2",children:"🚀 Future: Automated Scraping"}),u.jsx("p",{className:"text-purple-100 text-sm mb-2",children:"In production, AI will automatically:"}),u.jsxs("ul",{className:"text-purple-100 text-sm space-y-1 list-disc list-inside",children:[u.jsx("li",{children:"Scrape portfolio pages for company URLs"}),u.jsx("li",{children:"Run weekly to get fresh startups"}),u.jsx("li",{children:'Use the "Manage Sources" feature above'})]}),u.jsx("p",{className:"text-yellow-300 text-xs mt-2",children:"⚠️ Requires backend server with Puppeteer/Playwright"})]})]}),p==="review"&&o.length>0&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-purple-400",children:[u.jsxs("h2",{className:"text-3xl font-bold text-white mb-4",children:["✅ Found ",o.length," Companies"]}),u.jsx("div",{className:"mb-6 max-h-96 overflow-y-auto space-y-2",children:o.map((ee,ce)=>{const P=ee.entityType||"startup",$=P==="vc_firm"?"💼":P==="accelerator"?"🚀":"🏢",ie=P==="vc_firm"?"VC Firm":P==="accelerator"?"Accelerator":"Startup";return u.jsxs("div",{className:"bg-purple-700/50 rounded-lg p-4 flex justify-between items-center",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("h3",{className:"text-white font-bold",children:ee.name}),u.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${P==="vc_firm"?"bg-lime-400 text-gray-900":P==="accelerator"?"bg-lime-500 text-gray-900":"bg-blue-400 text-white"}`,children:[$," ",ie]})]}),u.jsx("p",{className:"text-purple-200 text-sm",children:ee.website})]}),h[ce]&&u.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:"✓ Enriched with AI"})]},ce)})}),h.length===0&&u.jsx("button",{onClick:J,disabled:A,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg w-full disabled:opacity-50",children:A?"🤖 AI is analyzing each company...":"🤖 Enrich All with AI (Creates 5 Points)"}),h.length>0&&u.jsxs("button",{onClick:le,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg w-full",children:["🔥 Import All ",h.length," Startups"]})]}),A&&u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-orange-400",children:[u.jsxs("h3",{className:"text-white font-bold mb-4",children:["Enriching: ",Math.round(S),"%"]}),u.jsx("div",{className:"w-full bg-purple-700 rounded-full h-4",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-4 rounded-full transition-all duration-500",style:{width:`${S}%`}})}),u.jsx("p",{className:"text-purple-200 text-sm mt-3",children:"⏱️ Rate limited to 1 company every 2 seconds (OpenAI API limits)"})]}),h.length>0&&u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-green-400",children:[u.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"👀 Preview"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:h.slice(0,6).map((ee,ce)=>u.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-xl p-4",children:[u.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2",children:ee.name}),u.jsxs("p",{className:"text-sm font-bold text-gray-800 mb-2",children:['"',ee.pitch,'"']}),u.jsx("div",{className:"space-y-1",children:ee.fivePoints.map((P,$)=>u.jsxs("p",{className:"text-xs text-gray-900 font-semibold",children:[$+1,". ",P]},$))})]},ce))}),h.length>6&&u.jsxs("p",{className:"text-purple-200 text-center mt-4",children:["...and ",h.length-6," more"]})]})]})]})})}function o3(){const m=$s(),e=U.useRef(null),[t,n]=U.useState(!1),[a,o]=U.useState(!1),[c,h]=U.useState([]),[f,p]=U.useState("upload"),[g,b]=U.useState(""),v=()=>{const k=localStorage.getItem("userProfile");if(k){const F=JSON.parse(k);return F.email==="admin@hotmoneyhoney.com"||F.isAdmin}return!1},S=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?n(!0):k.type==="dragleave"&&n(!1)},E=k=>{k.preventDefault(),k.stopPropagation(),n(!1),k.dataTransfer.files&&k.dataTransfer.files[0]&&D(k.dataTransfer.files)},A=k=>{k.target.files&&D(k.target.files)},_=async k=>new Promise(F=>{setTimeout(()=>{F(`
          Startup Name: ${k.name.replace(".pdf","").replace(/[-_]/g," ")}
          Problem: Traditional solutions are outdated and expensive
          Solution: Modern AI-powered platform that's affordable and easy to use
          Market Size: $50B+ total addressable market
          Team: Former executives from Google, Microsoft, and Amazon
          Raising: $2M Seed Round
          Industry: AI, SaaS, Enterprise
        `)},1500)}),T=async k=>new Promise(F=>{setTimeout(()=>{F(`
          ${k.name.replace(".pptx","").replace(".ppt","").replace(/[-_]/g," ")}
          
          The Problem:
          - Current market lacks innovation
          - Customers frustrated with legacy systems
          - $10B wasted annually on inefficient processes
          
          Our Solution:
          - Revolutionary platform using cutting-edge technology
          - 10x faster than competitors
          - 90% cost reduction
          
          Market Opportunity:
          - $100B TAM, $20B SAM
          - Growing 35% YoY
          
          Team:
          - CEO: Ex-Tesla, Stanford MBA
          - CTO: Ex-Google, MIT PhD
          - COO: Ex-Amazon, Harvard
          
          The Ask:
          - Seeking $5M Series A
          - 18 months runway
          - Scale to 100 enterprise customers
          
          Sectors: FinTech, AI, B2B SaaS
        `)},2e3)}),R=(k,F)=>{k.toLowerCase();const G=k.match(/(?:startup name|company|business):\s*(.+)/i),Q=G?G[1].trim():F.replace(/\.(pdf|pptx?)/gi,"").replace(/[-_]/g," "),K=k.match(/(?:problem|challenge|pain point):\s*(.+?)(?:\n|$)/i),X=K?K[1].trim():"Legacy systems and inefficient processes",he=k.match(/(?:solution|our product|platform):\s*(.+?)(?:\n|$)/i),de=he?he[1].trim():"AI-powered platform for modern businesses",Se=k.match(/(?:market|tam|market size|opportunity):\s*(.+?)(?:\n|$)/i),H=Se?Se[1].trim():"$50B+ market opportunity",J=k.match(/(?:team|founders|executives):\s*(.+?)(?:\n|$)/i),le=J?J[1].trim():"Google, Microsoft, Amazon",ee=k.match(/(?:raising|funding|investment|ask|seeking):\s*(.+?)(?:\n|$)/i),ce=ee?ee[1].trim():"$2M Seed",P=k.match(/(?:industry|sector|vertical|space):\s*(.+?)(?:\n|$)/i),ie=(P?P[1]:"ai, saas").toLowerCase().split(/[,\s]+/).map(re=>re.trim()).filter(re=>re);return{name:Q,tagline:`Next-gen ${ie[0]||"technology"} platform`,pitch:`${Q} is transforming the industry with innovative solutions`,problem:X,solution:de,marketSize:H,teamCompanies:le,investmentAmount:ce,industries:ie.slice(0,3),confidence:"medium",extractedFrom:F,status:"pending"}},D=async k=>{const F=[];for(let Q=0;Q<k.length;Q++){const K=k[Q],X=K.name.toLowerCase();(X.endsWith(".pdf")||X.endsWith(".ppt")||X.endsWith(".pptx"))&&F.push(K)}if(F.length===0){alert("❌ Please upload PDF or PowerPoint files only");return}o(!0);const G=[];for(const Q of F){b(Q.name);let K="";Q.name.toLowerCase().endsWith(".pdf")?K=await _(Q):K=await T(Q);const X=R(K,Q.name);G.push(X)}h(G),o(!1),p("preview")},L=k=>{h(F=>F.map((G,Q)=>Q===k?{...G,status:G.status==="approved"?"pending":"approved"}:G))},O=()=>{h(k=>k.map(F=>({...F,status:"approved"})))},B=()=>{const k=c.filter(X=>X.status==="approved");if(k.length===0){alert("⚠️ No startups approved. Please approve at least one.");return}const F=localStorage.getItem("uploadedStartups"),G=F?JSON.parse(F):[],Q=k.map((X,he)=>({id:Date.now()+he,name:X.name,tagline:X.tagline,pitch:X.pitch,description:X.pitch,marketSize:X.marketSize||"TBD",unique:X.solution||"TBD",raise:X.investmentAmount||"TBD",stage:1,yesVotes:0,noVotes:0,hotness:0,answersCount:0,industries:X.industries,fivePoints:[X.problem||"Problem statement",X.solution||"Solution description",X.marketSize||"Market size",X.teamCompanies||"Team background",X.investmentAmount||"Investment amount"],extractedFrom:X.extractedFrom,uploadedAt:new Date().toISOString()})),K=[...G,...Q];localStorage.setItem("uploadedStartups",JSON.stringify(K)),alert(`✅ Successfully extracted and saved ${k.length} startups from documents!`),p("complete")};return v()?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),u.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("button",{onClick:()=>m("/dashboard"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Back to Dashboard"}),u.jsx("button",{onClick:()=>m("/admin/bulk-upload"),className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"📊 CSV Upload Instead"})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📄"}),u.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent mb-2",children:"Document Scanner Upload"}),u.jsx("p",{className:"text-lg text-gray-700",children:"Upload pitch decks & documents • AI extracts startup data automatically"})]}),u.jsx("div",{className:"flex justify-center mb-8",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${f==="upload"?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:"1. Upload Docs"}),u.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),u.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${f==="preview"?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:"2. Review"}),u.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),u.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${f==="complete"?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:"3. Complete"})]})}),f==="upload"&&u.jsxs("div",{children:[u.jsx("div",{className:`border-4 border-dashed rounded-2xl p-16 text-center transition-all ${t?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"} ${a?"opacity-50":""}`,onDragEnter:S,onDragLeave:S,onDragOver:S,onDrop:E,children:a?u.jsxs("div",{children:[u.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🔍"}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Scanning Document..."}),u.jsx("p",{className:"text-gray-600",children:"Extracting startup information with AI"}),u.jsx("p",{className:"text-blue-600 font-semibold mt-4",children:g})]}):u.jsxs("div",{children:[u.jsx("div",{className:"text-6xl mb-4",children:"📤"}),u.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Drag & Drop PDF or PowerPoint Files"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"or click to browse"}),u.jsx("input",{ref:e,type:"file",accept:".pdf,.ppt,.pptx",multiple:!0,onChange:A,className:"hidden"}),u.jsx("button",{onClick:()=>{var k;return(k=e.current)==null?void 0:k.click()},className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold rounded-2xl transition-all",children:"Choose Files"})]})}),u.jsxs("div",{className:"mt-8 grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-xl p-6",children:[u.jsx("h4",{className:"font-bold text-blue-700 mb-3",children:"📄 Supported Documents:"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[u.jsx("li",{children:"✅ PDF pitch decks"}),u.jsx("li",{children:"✅ PowerPoint presentations (.ppt, .pptx)"}),u.jsx("li",{children:"✅ Executive summaries"}),u.jsx("li",{children:"✅ Business plans"}),u.jsx("li",{children:"✅ Multiple files at once"})]})]}),u.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-xl p-6",children:[u.jsx("h4",{className:"font-bold text-purple-700 mb-3",children:"🤖 AI Extraction:"}),u.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[u.jsx("li",{children:"• Automatically finds startup name"}),u.jsx("li",{children:"• Extracts problem & solution"}),u.jsx("li",{children:"• Identifies market size"}),u.jsx("li",{children:"• Captures team background"}),u.jsx("li",{children:"• Detects funding amount"})]})]})]})]}),f==="preview"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Extracted ",c.length," Startups"]}),u.jsxs("p",{className:"text-gray-600",children:[c.filter(k=>k.status==="approved").length," approved"]})]}),u.jsx("button",{onClick:O,className:"px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors",children:"✅ Approve All"})]}),u.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:c.map((k,F)=>{var G;return u.jsx("div",{className:`border-2 rounded-xl p-6 transition-all ${k.status==="approved"?"border-green-500 bg-green-50":"border-gray-300 bg-white"}`,children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h4",{className:"text-xl font-bold text-gray-800",children:k.name}),u.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:["📄 ",k.extractedFrom]})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:k.tagline}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-700",children:"Problem:"}),u.jsx("p",{className:"text-gray-600",children:k.problem})]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-700",children:"Solution:"}),u.jsx("p",{className:"text-gray-600",children:k.solution})]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-700",children:"Market:"}),u.jsx("p",{className:"text-gray-600",children:k.marketSize})]}),u.jsxs("div",{children:[u.jsx("strong",{className:"text-gray-700",children:"Raising:"}),u.jsx("p",{className:"text-gray-600",children:k.investmentAmount})]})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"Industries: "}),(G=k.industries)==null?void 0:G.map(Q=>u.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full mr-2",children:Q},Q))]})]}),u.jsx("button",{onClick:()=>L(F),className:`px-4 py-2 rounded-lg font-semibold ml-4 transition-colors ${k.status==="approved"?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:k.status==="approved"?"✓ Approved":"Approve"})]})},F)})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>{p("upload"),h([])},className:"flex-1 bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-2xl hover:bg-gray-400 transition-all",children:"← Upload Different Files"}),u.jsxs("button",{onClick:B,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:["💾 Save ",c.filter(k=>k.status==="approved").length," Startups"]})]})]}),f==="complete"&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-8xl mb-6",children:"🎉"}),u.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Documents Processed!"}),u.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Startup data extracted and saved to database"}),u.jsxs("div",{className:"flex gap-4 justify-center",children:[u.jsx("button",{onClick:()=>{p("upload"),h([])},className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold rounded-2xl transition-all",children:"Upload More Documents"}),u.jsx("button",{onClick:()=>m("/vote"),className:"px-8 py-3 bg-white border-2 border-blue-500 text-blue-600 font-bold rounded-2xl hover:bg-blue-50 transition-all",children:"View Startups"})]})]})]})]})]}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center p-8",children:u.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center max-w-2xl",children:[u.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Admin Access Required"}),u.jsx("button",{onClick:()=>m("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Go Home"})]})})}function c3(){const m=$s(),[e,t]=U.useState(null),[n,a]=U.useState(!0);U.useEffect(()=>{o()},[]);const o=()=>{a(!0);const g=localStorage.getItem("uploadedStartups"),b=g?JSON.parse(g):[];if(b.length===0){t(null),a(!1);return}const v={totalStartups:b.length,totalVotes:0,industries:{},stages:{},fundingRanges:{},avgHotness:0,topPerformers:[],commonProblems:[],commonSolutions:[],teamBackgrounds:{},votingPatterns:{avgYesRate:0,avgNoRate:0,mostControversial:[]},timelineData:{uploadsPerDay:{},votesPerDay:{}}};let S=0,E=0,A=0;const _=[],T=[];b.forEach(R=>{R.industries&&Array.isArray(R.industries)?R.industries.forEach(F=>{v.industries[F]=(v.industries[F]||0)+1}):R.industry&&(v.industries[R.industry]=(v.industries[R.industry]||0)+1);const D=R.stage===1?"Pre-Seed/Seed":R.stage===2?"Series A":"Series B+";v.stages[D]=(v.stages[D]||0)+1;const L=R.funding||R.raise||"Unknown",O=c(L);v.fundingRanges[O]=(v.fundingRanges[O]||0)+1;const B=R.yesVotes||0,k=R.noVotes||0;if(E+=B,A+=k,v.totalVotes+=B+k,S+=R.hotness||0,R.fivePoints&&Array.isArray(R.fivePoints)){if(R.fivePoints[0]){const F=R.fivePoints[0].trim();F.length>20&&!F.toLowerCase().includes("solving a major")&&!F.toLowerCase().includes("innovative")&&_.push(F)}if(R.fivePoints[1]){const F=R.fivePoints[1].trim();F.length>20&&!F.toLowerCase().includes("technology solution")&&!F.toLowerCase().includes("innovative")&&T.push(F)}R.fivePoints[3]&&p(R.fivePoints[3],v.teamBackgrounds)}}),v.avgHotness=b.length>0?S/b.length:0,v.votingPatterns.avgYesRate=v.totalVotes>0?E/v.totalVotes*100:0,v.votingPatterns.avgNoRate=v.totalVotes>0?A/v.totalVotes*100:0,v.topPerformers=b.sort((R,D)=>(D.hotness||0)-(R.hotness||0)).slice(0,10),v.votingPatterns.mostControversial=b.filter(R=>(R.yesVotes||0)>0&&(R.noVotes||0)>0).map(R=>({...R,controversy:Math.abs((R.yesVotes||0)-(R.noVotes||0))/((R.yesVotes||0)+(R.noVotes||0))})).sort((R,D)=>R.controversy-D.controversy).slice(0,5),v.commonProblems=h(_),v.commonSolutions=f(T),t(v),a(!1)},c=g=>{var S;const b=g.toLowerCase();if(b.includes("pre-seed")||b.includes("preseed"))return"Pre-Seed (<$500K)";if(b.includes("seed"))return"Seed ($500K-$2M)";if(b.includes("series a")||b.includes("$2m")||b.includes("$3m")||b.includes("$5m"))return"Series A ($2M-$15M)";if(b.includes("series b"))return"Series B ($15M-$50M)";if(b.includes("series c"))return"Series C+ ($50M+)";const v=b.match(/\$(\d+(?:\.\d+)?)\s*([kmb])?/i);if(v){let E=parseFloat(v[1]);const A=(S=v[2])==null?void 0:S.toLowerCase();return A==="k"&&(E*=1e3),A==="m"&&(E*=1e6),A==="b"&&(E*=1e9),E<5e5?"Pre-Seed (<$500K)":E<2e6?"Seed ($500K-$2M)":E<15e6?"Series A ($2M-$15M)":E<5e7?"Series B ($15M-$50M)":"Series C+ ($50M+)"}return"Unknown"},h=g=>{if(g.length===0)return[];const b={"Healthcare & Medical":["health","medical","patient","hospital","doctor","disease","treatment","diagnosis","care","wellness","pharmacy","medicine"],"Financial Services":["financial","payment","bank","money","credit","loan","investment","transaction","fintech","expense","budget","revenue"],"E-commerce & Retail":["shopping","retail","e-commerce","purchase","product","customer","seller","marketplace","delivery","order"],"Education & Learning":["education","learning","student","teacher","school","training","course","skill","classroom"],"Supply Chain & Logistics":["supply","logistics","shipping","delivery","warehouse","inventory","freight","transportation"],"HR & Recruiting":["hiring","recruit","employee","talent","hr","workforce","job","resume","candidate"],"Real Estate & Property":["real estate","property","housing","rent","lease","apartment","commercial","building"],"Marketing & Advertising":["marketing","advertising","campaign","brand","social media","content","engagement"],"Productivity & Workflow":["productivity","workflow","efficiency","process","automation","collaboration","task","project"],"Data & Analytics":["data","analytics","insights","reporting","metrics","dashboard","intelligence"],"Security & Compliance":["security","compliance","privacy","fraud","risk","audit","regulation"],"Communication & Collaboration":["communication","collaboration","team","meeting","messaging","chat","video"]},v={};return g.forEach(S=>{const E=S.toLowerCase();Object.entries(b).forEach(([A,_])=>{_.some(T=>E.includes(T))&&(v[A]||(v[A]={count:0,examples:[]}),v[A].count++,v[A].examples.length<2&&v[A].examples.push(S))})}),Object.entries(v).sort(([,S],[,E])=>E.count-S.count).slice(0,5).map(([S,E])=>{var _;const A=((_=E.examples[0])==null?void 0:_.substring(0,150))||"";return`${S} (${E.count} startup${E.count>1?"s":""}) - ${A}${A.length>=150?"...":""}`})},f=g=>{if(g.length===0)return[];const b={"AI & Machine Learning":["ai","artificial intelligence","machine learning","ml","neural","algorithm","predictive","automation"],"SaaS Platform":["platform","saas","software","cloud","dashboard","portal","app","application"],"Marketplace Model":["marketplace","connect","match","network","community","peer-to-peer","platform"],"Mobile App":["mobile","ios","android","smartphone","device","app"],"API & Integration":["api","integration","connect","sync","plugin","webhook"],"Blockchain & Web3":["blockchain","crypto","web3","decentralized","smart contract","nft"],"Hardware & IoT":["hardware","device","sensor","iot","wearable","physical"],"Analytics & Insights":["analytics","insights","data","reporting","visualization","metrics"],"Automation & Workflow":["automate","workflow","streamline","process","efficiency"],"Personalization & AI":["personalized","custom","tailored","recommendation","adaptive"]},v={};return g.forEach(S=>{const E=S.toLowerCase();Object.entries(b).forEach(([A,_])=>{_.some(T=>E.includes(T))&&(v[A]||(v[A]={count:0,examples:[]}),v[A].count++,v[A].examples.length<2&&v[A].examples.push(S))})}),Object.entries(v).sort(([,S],[,E])=>E.count-S.count).slice(0,5).map(([S,E])=>{var _;const A=((_=E.examples[0])==null?void 0:_.substring(0,150))||"";return`${S} (${E.count} startup${E.count>1?"s":""}) - ${A}${A.length>=150?"...":""}`})},p=(g,b)=>{(g.match(/\b[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*\b/g)||[]).forEach(S=>{S.length>2&&!["Team","Founder","CEO","CTO"].includes(S)&&(b[S]=(b[S]||0)+1)})};return n?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 flex items-center justify-center",children:u.jsx("div",{className:"text-white text-2xl font-bold",children:"🔍 Analyzing data..."})}):e?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 p-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("button",{onClick:()=>m("/"),className:"bg-white/20 hover:bg-white/30 text-white font-bold py-2 px-4 rounded-lg",children:"← Back"}),u.jsx("button",{onClick:o,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:"🔄 Refresh Data"})]}),u.jsx("h1",{className:"text-5xl font-black text-white mb-8 text-center",children:"📊 Startup Intelligence Dashboard"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-purple-400",children:[u.jsx("div",{className:"text-purple-200 text-sm font-bold mb-2",children:"Total Startups"}),u.jsx("div",{className:"text-4xl font-black text-white",children:e.totalStartups})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-orange-400",children:[u.jsx("div",{className:"text-orange-200 text-sm font-bold mb-2",children:"Total Votes"}),u.jsx("div",{className:"text-4xl font-black text-white",children:e.totalVotes})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-green-400",children:[u.jsx("div",{className:"text-green-200 text-sm font-bold mb-2",children:"Avg Hotness"}),u.jsxs("div",{className:"text-4xl font-black text-white",children:[e.avgHotness.toFixed(1),"🔥"]})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-blue-400",children:[u.jsx("div",{className:"text-blue-200 text-sm font-bold mb-2",children:"Yes Rate"}),u.jsxs("div",{className:"text-4xl font-black text-white",children:[e.votingPatterns.avgYesRate.toFixed(1),"%"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-purple-400",children:[u.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"🏢 Industry Trends"}),u.jsx("div",{className:"space-y-3",children:Object.entries(e.industries).sort(([,g],[,b])=>b-g).slice(0,8).map(([g,b])=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-white font-bold mb-1",children:[u.jsx("span",{children:g}),u.jsx("span",{children:b})]}),u.jsx("div",{className:"w-full bg-purple-700 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-500 h-2 rounded-full",style:{width:`${b/e.totalStartups*100}%`}})})]},g))})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-orange-400",children:[u.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"💰 Funding Stages"}),u.jsx("div",{className:"space-y-3",children:Object.entries(e.stages).sort(([,g],[,b])=>b-g).map(([g,b])=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-white font-bold mb-1",children:[u.jsx("span",{children:g}),u.jsx("span",{children:b})]}),u.jsx("div",{className:"w-full bg-orange-700 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 h-2 rounded-full",style:{width:`${b/e.totalStartups*100}%`}})})]},g))})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-green-400",children:[u.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"💵 Funding Ranges"}),u.jsx("div",{className:"space-y-3",children:Object.entries(e.fundingRanges).sort(([,g],[,b])=>b-g).map(([g,b])=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-white font-bold mb-1",children:[u.jsx("span",{children:g}),u.jsx("span",{children:b})]}),u.jsx("div",{className:"w-full bg-green-700 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 h-2 rounded-full",style:{width:`${b/e.totalStartups*100}%`}})})]},g))})]}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-blue-400",children:[u.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"👥 Common Team Backgrounds"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.teamBackgrounds).sort(([,g],[,b])=>b-g).slice(0,15).map(([g,b])=>u.jsxs("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[g," (",b,")"]},g))})]})]}),u.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-red-400",children:[u.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"🔥 Top 5 Problem Areas"}),u.jsx("p",{className:"text-red-200 text-sm mb-4",children:"Market problems startups are solving (weighted by frequency)"}),e.commonProblems.length>0?u.jsx("div",{className:"space-y-4",children:e.commonProblems.map((g,b)=>{const v=g.match(/^(.+?)\s+\((\d+)\s+startup[s]?\)\s+-\s+(.+)$/),S=v?v[1]:g,E=v?v[2]:"0",A=v?v[3]:"";return u.jsxs("div",{className:"bg-red-500/20 rounded-xl p-5 border-l-4 border-red-500",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-red-300 font-black text-lg",children:["#",b+1," ",S]}),u.jsxs("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[E," startup",E!=="1"?"s":""]})]}),A&&u.jsxs("p",{className:"text-white text-sm leading-relaxed italic",children:['Example: "',A,'"']})]},b)})}):u.jsx("p",{className:"text-red-200 text-sm italic",children:"No problem statements captured yet. Upload startups with detailed pitch decks."})]}),u.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-yellow-400",children:[u.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"💡 Top 5 Solution Approaches"}),u.jsx("p",{className:"text-yellow-200 text-sm mb-4",children:"How startups are solving problems (weighted by frequency)"}),e.commonSolutions.length>0?u.jsx("div",{className:"space-y-4",children:e.commonSolutions.map((g,b)=>{const v=g.match(/^(.+?)\s+\((\d+)\s+startup[s]?\)\s+-\s+(.+)$/),S=v?v[1]:g,E=v?v[2]:"0",A=v?v[3]:"";return u.jsxs("div",{className:"bg-yellow-500/20 rounded-xl p-5 border-l-4 border-yellow-500",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-yellow-300 font-black text-lg",children:["#",b+1," ",S]}),u.jsxs("span",{className:"bg-yellow-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[E," startup",E!=="1"?"s":""]})]}),A&&u.jsxs("p",{className:"text-white text-sm leading-relaxed italic",children:['Example: "',A,'"']})]},b)})}):u.jsx("p",{className:"text-yellow-200 text-sm italic",children:"No solution statements captured yet. Upload startups with detailed pitch decks."})]}),u.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-pink-400",children:[u.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"🏆 Top Performers"}),u.jsx("div",{className:"space-y-3",children:e.topPerformers.slice(0,5).map((g,b)=>u.jsxs("div",{className:"bg-pink-500/20 rounded-xl p-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-3xl font-black text-white",children:["#",b+1]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-bold text-lg",children:g.name}),u.jsx("p",{className:"text-pink-200 text-sm",children:g.pitch})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-2xl font-black text-white",children:[g.hotness||0,"🔥"]}),u.jsxs("div",{className:"text-pink-200 text-xs",children:["👍 ",g.yesVotes||0," | 👎 ",g.noVotes||0]})]})]},g.id))})]}),e.votingPatterns.mostControversial.length>0&&u.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-gray-400",children:[u.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"⚖️ Most Controversial (Split Decisions)"}),u.jsx("div",{className:"space-y-3",children:e.votingPatterns.mostControversial.map(g=>u.jsxs("div",{className:"bg-gray-500/20 rounded-xl p-4",children:[u.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:g.name}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsxs("span",{className:"text-green-400 font-bold",children:["👍 Yes: ",g.yesVotes||0]}),u.jsxs("span",{className:"text-red-400 font-bold",children:["👎 No: ",g.noVotes||0]})]}),u.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-3 flex overflow-hidden",children:[u.jsx("div",{className:"bg-green-500",style:{width:`${(g.yesVotes||0)/((g.yesVotes||0)+(g.noVotes||0))*100}%`}}),u.jsx("div",{className:"bg-red-500",style:{width:`${(g.noVotes||0)/((g.yesVotes||0)+(g.noVotes||0))*100}%`}})]})]})})]},g.id))})]})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 p-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("button",{onClick:()=>m("/"),className:"mb-6 bg-white/20 hover:bg-white/30 text-white font-bold py-2 px-4 rounded-lg",children:"← Back"}),u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-12 text-center border-2 border-purple-400",children:[u.jsx("h1",{className:"text-4xl font-black text-white mb-4",children:"📊 No Data Yet"}),u.jsx("p",{className:"text-purple-200 text-lg mb-6",children:"Upload some startups to see analytics and intelligence"}),u.jsx("button",{onClick:()=>m("/submit"),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-xl",children:"Upload Startups"})]})]})})}function u3(){const m=$s(),[e,t]=U.useState({email:"",password:""}),[n,a]=U.useState(""),o=h=>{t({...e,[h.target.name]:h.target.value})},c=h=>{h.preventDefault(),a("");const f=localStorage.getItem("userProfile");if(!f){a("No account found with this email. Please sign up first.");return}const p=JSON.parse(f);p.email.toLowerCase()===e.email.toLowerCase()?(localStorage.setItem("isLoggedIn","true"),alert(`Welcome back, ${p.name}! 🍯`),p.userType==="investor"?m("/dashboard"):m("/submit")):a("Invalid email or password. Please try again.")};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsx("div",{className:"flex justify-between items-center mb-8",children:u.jsx("button",{onClick:()=>m("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"})}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"text-8xl mb-4 animate-pulse",children:"🍯"}),u.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"Welcome Back!"}),u.jsx("p",{className:"text-xl text-white font-bold drop-shadow-lg",children:"Log in to Hot Honey"})]}),u.jsx("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-8 shadow-2xl",children:u.jsxs("div",{className:"bg-white/90 rounded-2xl p-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-6 text-center",children:"🔑 Log In"}),n&&u.jsx("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-xl mb-6",children:n}),u.jsxs("form",{onSubmit:c,className:"space-y-6",autoComplete:"off",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address"}),u.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:o,placeholder:"your@email.com",required:!0,autoComplete:"off",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-700 mb-2",children:"Password"}),u.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:o,placeholder:"Enter your password",required:!0,autoComplete:"new-password",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),u.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-6 rounded-2xl shadow-lg transition-all text-lg",children:"Log In →"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",u.jsx(we,{to:"/signup",className:"text-orange-600 font-bold hover:text-orange-700 hover:underline",children:"Sign Up"})]})}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx("button",{onClick:()=>alert("Password reset feature coming soon! For now, please contact support."),className:"text-sm text-gray-500 hover:text-gray-700 hover:underline",children:"Forgot password?"})})]})}),u.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-2xl p-6 text-white",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"What you get with Hot Honey:"}),u.jsxs("ul",{className:"space-y-2 text-sm",children:[u.jsx("li",{children:"🔥 Vote on hot startups"}),u.jsx("li",{children:"💼 Build your investment portfolio"}),u.jsx("li",{children:"🎯 Filter by your favorite industries"}),u.jsx("li",{children:"📤 Share your picks with other investors"}),u.jsx("li",{children:"🚀 Discover the next big thing"})]})]})]})})}function rE({forceOpen:m=!1,onClose:e}={}){const[t,n]=U.useState(!1);U.useEffect(()=>{m?n(!0):localStorage.getItem("hmh_acknowledged")||n(!0)},[m]);const a=()=>{localStorage.setItem("hmh_acknowledged","true"),n(!1),e&&e()},o=()=>{n(!1),e&&e()};return t?u.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:u.jsx("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-3xl p-1 shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"bg-white rounded-3xl p-8",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"text-7xl mb-4 animate-bounce",children:"🍯"}),u.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2",children:"Welcome to Hot Honey!"}),u.jsx("p",{className:"text-xl text-orange-600 font-semibold",children:"Get Them While They're Hot."})]}),u.jsxs("div",{className:"bg-orange-50 rounded-2xl p-6 mb-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-orange-600 mb-4",children:"🔥 How It Works"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"💰 For Investors:"}),u.jsx("p",{className:"text-sm text-gray-700 mb-3 leading-relaxed",children:"Hot Honey helps identify quality investment candidates faster and with more precision. The Hot Money Process enables quick discovery without all the overhead and utilizes crowd and market intelligence to identify the winners."}),u.jsxs("div",{className:"bg-white rounded-xl p-4 mb-3 border-2 border-orange-300",children:[u.jsx("h5",{className:"font-bold text-orange-700 mb-2 flex items-center gap-2",children:"📋 Our 5-Point StartupCard Format"}),u.jsxs("p",{className:"text-xs text-gray-700 mb-2",children:["Each startup is distilled into ",u.jsx("strong",{children:"5 key data points"})," for quick, informed decisions:"]}),u.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs text-gray-700",children:[u.jsxs("div",{children:["1️⃣ ",u.jsx("strong",{children:"Problem"})," - What pain point is solved?"]}),u.jsxs("div",{children:["2️⃣ ",u.jsx("strong",{children:"Solution"})," - How does the startup solve it?"]}),u.jsxs("div",{children:["3️⃣ ",u.jsx("strong",{children:"Market Size"})," - What's the opportunity?"]}),u.jsxs("div",{children:["4️⃣ ",u.jsx("strong",{children:"Team Companies"})," - Where have founders worked?"]}),u.jsxs("div",{children:["💰 ",u.jsx("strong",{children:"Investment Amount"})," - How much are they raising?"]})]})]}),u.jsxs("div",{className:"bg-purple-100 rounded-xl p-4 mb-3 border-2 border-purple-300",children:[u.jsx("h5",{className:"font-bold text-purple-700 mb-2 flex items-center gap-2",children:"🔒 You're Incognito Until Stage 3"}),u.jsxs("p",{className:"text-xs text-gray-700",children:[u.jsx("strong",{children:"Browse and vote anonymously."})," Your identity stays hidden until you reach Stage 3 (Reveal) and choose to disclose yourself for meetings. Enjoy unbiased review with complete privacy!"]})]}),u.jsxs("ul",{className:"space-y-2 text-gray-700 text-sm",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"👀"}),u.jsx("span",{className:"font-medium",children:"Browse hot startup deals from the best founders"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"👍"}),u.jsx("span",{className:"font-medium",children:"Vote YES or NO on startups that interest you"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"🍯"}),u.jsx("span",{className:"font-medium",children:"Click the honeypot to reveal secret traction data"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"📊"}),u.jsx("span",{className:"font-medium",children:"Track your hot picks on your personal dashboard"})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"🚀 For Startups:"}),u.jsxs("p",{className:"text-sm text-gray-700 mb-3 leading-relaxed",children:[u.jsx("strong",{children:"Connect with investors faster and build syndicates through the Hot Honey discovery process."})," Our gamified approach helps you fine-tune your pitch and attract more interested investors than traditional platforms."]}),u.jsxs("div",{className:"bg-white rounded-xl p-4 mb-3 border-2 border-green-300",children:[u.jsx("h5",{className:"font-bold text-green-700 mb-2 flex items-center gap-2",children:"🎮 Game Play & Information Development"}),u.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"Information is revealed progressively as investor interest grows. This unique approach allows you to:"}),u.jsxs("ul",{className:"space-y-1 text-xs text-gray-700",children:[u.jsxs("li",{children:["✓ ",u.jsx("strong",{children:"Fine-tune your pitch"})," based on real-time investor engagement"]}),u.jsxs("li",{children:["✓ ",u.jsx("strong",{children:"Get noticed"})," through a process of strategic information reveal"]}),u.jsxs("li",{children:["✓ ",u.jsx("strong",{children:"Build momentum"})," as votes unlock new visibility stages"]}),u.jsxs("li",{children:["✓ ",u.jsx("strong",{children:"Improve your value proposition"})," with direct market feedback"]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl p-4 mb-3 border-2 border-blue-300",children:[u.jsx("h5",{className:"font-bold text-blue-700 mb-2 flex items-center gap-2",children:"👥 Build Investor Syndicates"}),u.jsxs("p",{className:"text-xs text-gray-700",children:["As your startup gains traction, you'll attract groups of investors who can form syndicates. This helps you ",u.jsx("strong",{children:"reach funding goals faster"})," and build a stronger investor network than traditional one-on-one approaches."]})]}),u.jsxs("ul",{className:"space-y-2 text-gray-700 text-sm",children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"📝"}),u.jsx("span",{className:"font-medium",children:"Submit your startup for investor review"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"📈"}),u.jsx("span",{className:"font-medium",children:"Progress through stages as you get more votes"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"👥"}),u.jsx("span",{className:"font-medium",children:"Connect with interested investors directly"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"💬"}),u.jsx("span",{className:"font-medium",children:"Receive feedback and build traction"})]})]})]})]}),u.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-2xl p-6 mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-red-700 mb-3 flex items-center gap-2",children:"⚠️ Investment Risk Disclosure"}),u.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:[u.jsx("strong",{children:"Investing in early-stage startups is highly risky."})," You may lose all of your investment. Only invest what you can afford to lose. Past performance is not indicative of future results."]}),u.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"By using Hot Honey, you acknowledge that you understand these risks and are making your own investment decisions. We are not financial advisors. Always do your own research and consult with licensed professionals."})]}),u.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-2xl p-4 mb-6",children:u.jsx("p",{className:"text-sm text-gray-700 font-semibold text-center",children:"🔞 You must be 18 years or older to use this platform"})}),u.jsxs("div",{className:"flex justify-center gap-6 mb-6 text-sm",children:[u.jsx(we,{to:"/privacy",className:"text-orange-600 hover:text-orange-700 font-semibold underline",children:"Privacy Policy"}),u.jsx(we,{to:"/about",className:"text-orange-600 hover:text-orange-700 font-semibold underline",children:"About Us"})]}),u.jsx("button",{onClick:m?o:a,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-6 rounded-2xl shadow-lg transition-all text-lg",children:m?"✅ Got It!":"✅ I Agree - I'm 18+ and Understand the Risks"}),!m&&u.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:'By clicking "I Agree", you confirm you are at least 18 years old and accept the terms above.'})]})})}):null}const d3=()=>{const[m,e]=U.useState(!1);return u.jsxs("div",{className:"min-h-screen",children:[u.jsx(rE,{}),m&&u.jsx(rE,{forceOpen:!0,onClose:()=>e(!1)}),u.jsx("main",{children:u.jsxs(aD,{children:[u.jsx(Et,{path:"/",element:u.jsx(aE,{})}),u.jsx(Et,{path:"/home",element:u.jsx(aE,{})}),u.jsx(Et,{path:"/signup",element:u.jsx(JR,{})}),u.jsx(Et,{path:"/login",element:u.jsx(u3,{})}),u.jsx(Et,{path:"/vote",element:u.jsx(FD,{})}),u.jsx(Et,{path:"/vote-demo",element:u.jsx(ZR,{})}),u.jsx(Et,{path:"/investors",element:u.jsx(M2,{})})," ",u.jsx(Et,{path:"/portfolio",element:u.jsx(M2,{})})," ",u.jsx(Et,{path:"/submit",element:u.jsx(BR,{})}),u.jsx(Et,{path:"/startup/:id",element:u.jsx(YR,{})}),u.jsx(Et,{path:"/deals",element:u.jsx(XR,{})}),u.jsx(Et,{path:"/startups",element:u.jsx(WR,{})})," ",u.jsx(Et,{path:"/dashboard",element:u.jsx(QR,{})})," ",u.jsx(Et,{path:"/about",element:u.jsx(e3,{})}),u.jsx(Et,{path:"/privacy",element:u.jsx(t3,{})}),u.jsx(Et,{path:"/contact",element:u.jsx(s3,{})}),u.jsx(Et,{path:"/settings",element:u.jsx(n3,{})}),u.jsx(Et,{path:"/shared-portfolio/:shareId",element:u.jsx(a3,{})}),u.jsx(Et,{path:"/admin/bulk-upload",element:u.jsx(r3,{})}),u.jsx(Et,{path:"/admin/bulk-import",element:u.jsx(l3,{})}),u.jsx(Et,{path:"/admin/document-upload",element:u.jsx(o3,{})}),u.jsx(Et,{path:"/analytics",element:u.jsx(c3,{})})]})}),u.jsxs("footer",{className:"bg-gradient-to-r from-purple-900 via-purple-700 to-green-400 text-center text-sm py-4",children:[u.jsxs("div",{className:"flex justify-center items-center gap-6 mb-2",children:[u.jsx("button",{onClick:()=>e(!0),className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline cursor-pointer bg-transparent border-none",children:"🔥 How It Works"}),u.jsx("span",{className:"text-purple-300",children:"•"}),u.jsx(we,{to:"/about",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"About Us"}),u.jsx("span",{className:"text-purple-300",children:"•"}),u.jsx(we,{to:"/contact",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"Contact Us"}),u.jsx("span",{className:"text-purple-300",children:"•"}),u.jsx(we,{to:"/privacy",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"Privacy Policy"}),u.jsx("span",{className:"text-purple-300",children:"•"}),u.jsx(we,{to:"/startups",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"For Startups"})]}),u.jsxs("p",{className:"text-purple-200",children:["© ",new Date().getFullYear()," Hot Honey. All rights reserved."]})]})]})};pM.createRoot(document.getElementById("root")).render(u.jsx(bf.StrictMode,{children:u.jsx(TD,{children:u.jsx(d3,{})})}));
