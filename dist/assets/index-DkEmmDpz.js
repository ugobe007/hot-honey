var xT=Object.defineProperty;var kS=s=>{throw TypeError(s)};var bT=(s,e,t)=>e in s?xT(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var F=(s,e,t)=>bT(s,typeof e!="symbol"?e+"":e,t),Fx=(s,e,t)=>e.has(s)||kS("Cannot "+t);var o=(s,e,t)=>(Fx(s,e,"read from private field"),t?t.call(s):e.get(s)),A=(s,e,t)=>e.has(s)?kS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),b=(s,e,t,n)=>(Fx(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),N=(s,e,t)=>(Fx(s,e,"access private method"),t);var Et=(s,e,t,n)=>({set _(i){b(s,e,i,t)},get _(){return o(s,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function H1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var V1={exports:{}},dx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT=Symbol.for("react.transitional.element"),vT=Symbol.for("react.fragment");function $1(s,e,t){var n=null;if(t!==void 0&&(n=""+t),e.key!==void 0&&(n=""+e.key),"key"in e){t={};for(var i in e)i!=="key"&&(t[i]=e[i])}else t=e;return e=t.ref,{$$typeof:yT,type:s,key:n,ref:e!==void 0?e:null,props:t}}dx.Fragment=vT;dx.jsx=$1;dx.jsxs=$1;V1.exports=dx;var c=V1.exports,G1={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow=Symbol.for("react.transitional.element"),wT=Symbol.for("react.portal"),ST=Symbol.for("react.fragment"),AT=Symbol.for("react.strict_mode"),NT=Symbol.for("react.profiler"),jT=Symbol.for("react.consumer"),ET=Symbol.for("react.context"),CT=Symbol.for("react.forward_ref"),TT=Symbol.for("react.suspense"),_T=Symbol.for("react.memo"),Y1=Symbol.for("react.lazy"),kT=Symbol.for("react.activity"),MS=Symbol.iterator;function MT(s){return s===null||typeof s!="object"?null:(s=MS&&s[MS]||s["@@iterator"],typeof s=="function"?s:null)}var q1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X1=Object.assign,W1={};function Qu(s,e,t){this.props=s,this.context=e,this.refs=W1,this.updater=t||q1}Qu.prototype.isReactComponent={};Qu.prototype.setState=function(s,e){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,e,"setState")};Qu.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function K1(){}K1.prototype=Qu.prototype;function lw(s,e,t){this.props=s,this.context=e,this.refs=W1,this.updater=t||q1}var cw=lw.prototype=new K1;cw.constructor=lw;X1(cw,Qu.prototype);cw.isPureReactComponent=!0;var DS=Array.isArray;function Rb(){}var Ke={H:null,A:null,T:null,S:null},Q1=Object.prototype.hasOwnProperty;function dw(s,e,t){var n=t.ref;return{$$typeof:ow,type:s,key:e,ref:n!==void 0?n:null,props:t}}function DT(s,e){return dw(s.type,e,s.props)}function uw(s){return typeof s=="object"&&s!==null&&s.$$typeof===ow}function RT(s){var e={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(t){return e[t]})}var RS=/\/+/g;function zx(s,e){return typeof s=="object"&&s!==null&&s.key!=null?RT(""+s.key):e.toString(36)}function LT(s){switch(s.status){case"fulfilled":return s.value;case"rejected":throw s.reason;default:switch(typeof s.status=="string"?s.then(Rb,Rb):(s.status="pending",s.then(function(e){s.status==="pending"&&(s.status="fulfilled",s.value=e)},function(e){s.status==="pending"&&(s.status="rejected",s.reason=e)})),s.status){case"fulfilled":return s.value;case"rejected":throw s.reason}}throw s}function Dc(s,e,t,n,i){var a=typeof s;(a==="undefined"||a==="boolean")&&(s=null);var r=!1;if(s===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(s.$$typeof){case ow:case wT:r=!0;break;case Y1:return r=s._init,Dc(r(s._payload),e,t,n,i)}}if(r)return i=i(s),r=n===""?"."+zx(s,0):n,DS(i)?(t="",r!=null&&(t=r.replace(RS,"$&/")+"/"),Dc(i,e,t,"",function(u){return u})):i!=null&&(uw(i)&&(i=DT(i,t+(i.key==null||s&&s.key===i.key?"":(""+i.key).replace(RS,"$&/")+"/")+r)),e.push(i)),1;r=0;var l=n===""?".":n+":";if(DS(s))for(var d=0;d<s.length;d++)n=s[d],a=l+zx(n,d),r+=Dc(n,e,t,a,i);else if(d=MT(s),typeof d=="function")for(s=d.call(s),d=0;!(n=s.next()).done;)n=n.value,a=l+zx(n,d++),r+=Dc(n,e,t,a,i);else if(a==="object"){if(typeof s.then=="function")return Dc(LT(s),e,t,n,i);throw e=String(s),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function Dg(s,e,t){if(s==null)return s;var n=[],i=0;return Dc(s,n,"","",function(a){return e.call(t,a,i++)}),n}function OT(s){if(s._status===-1){var e=s._result;e=e(),e.then(function(t){(s._status===0||s._status===-1)&&(s._status=1,s._result=t)},function(t){(s._status===0||s._status===-1)&&(s._status=2,s._result=t)}),s._status===-1&&(s._status=0,s._result=e)}if(s._status===1)return s._result.default;throw s._result}var LS=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},PT={map:Dg,forEach:function(s,e,t){Dg(s,function(){e.apply(this,arguments)},t)},count:function(s){var e=0;return Dg(s,function(){e++}),e},toArray:function(s){return Dg(s,function(e){return e})||[]},only:function(s){if(!uw(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};re.Activity=kT;re.Children=PT;re.Component=Qu;re.Fragment=ST;re.Profiler=NT;re.PureComponent=lw;re.StrictMode=AT;re.Suspense=TT;re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ke;re.__COMPILER_RUNTIME={__proto__:null,c:function(s){return Ke.H.useMemoCache(s)}};re.cache=function(s){return function(){return s.apply(null,arguments)}};re.cacheSignal=function(){return null};re.cloneElement=function(s,e,t){if(s==null)throw Error("The argument must be a React element, but you passed "+s+".");var n=X1({},s.props),i=s.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!Q1.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(n[a]=e[a]);var a=arguments.length-2;if(a===1)n.children=t;else if(1<a){for(var r=Array(a),l=0;l<a;l++)r[l]=arguments[l+2];n.children=r}return dw(s.type,i,n)};re.createContext=function(s){return s={$$typeof:ET,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null},s.Provider=s,s.Consumer={$$typeof:jT,_context:s},s};re.createElement=function(s,e,t){var n,i={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)Q1.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var r=arguments.length-2;if(r===1)i.children=t;else if(1<r){for(var l=Array(r),d=0;d<r;d++)l[d]=arguments[d+2];i.children=l}if(s&&s.defaultProps)for(n in r=s.defaultProps,r)i[n]===void 0&&(i[n]=r[n]);return dw(s,a,i)};re.createRef=function(){return{current:null}};re.forwardRef=function(s){return{$$typeof:CT,render:s}};re.isValidElement=uw;re.lazy=function(s){return{$$typeof:Y1,_payload:{_status:-1,_result:s},_init:OT}};re.memo=function(s,e){return{$$typeof:_T,type:s,compare:e===void 0?null:e}};re.startTransition=function(s){var e=Ke.T,t={};Ke.T=t;try{var n=s(),i=Ke.S;i!==null&&i(t,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Rb,LS)}catch(a){LS(a)}finally{e!==null&&t.types!==null&&(e.types=t.types),Ke.T=e}};re.unstable_useCacheRefresh=function(){return Ke.H.useCacheRefresh()};re.use=function(s){return Ke.H.use(s)};re.useActionState=function(s,e,t){return Ke.H.useActionState(s,e,t)};re.useCallback=function(s,e){return Ke.H.useCallback(s,e)};re.useContext=function(s){return Ke.H.useContext(s)};re.useDebugValue=function(){};re.useDeferredValue=function(s,e){return Ke.H.useDeferredValue(s,e)};re.useEffect=function(s,e){return Ke.H.useEffect(s,e)};re.useEffectEvent=function(s){return Ke.H.useEffectEvent(s)};re.useId=function(){return Ke.H.useId()};re.useImperativeHandle=function(s,e,t){return Ke.H.useImperativeHandle(s,e,t)};re.useInsertionEffect=function(s,e){return Ke.H.useInsertionEffect(s,e)};re.useLayoutEffect=function(s,e){return Ke.H.useLayoutEffect(s,e)};re.useMemo=function(s,e){return Ke.H.useMemo(s,e)};re.useOptimistic=function(s,e){return Ke.H.useOptimistic(s,e)};re.useReducer=function(s,e,t){return Ke.H.useReducer(s,e,t)};re.useRef=function(s){return Ke.H.useRef(s)};re.useState=function(s){return Ke.H.useState(s)};re.useSyncExternalStore=function(s,e,t){return Ke.H.useSyncExternalStore(s,e,t)};re.useTransition=function(){return Ke.H.useTransition()};re.version="19.2.0";G1.exports=re;var k=G1.exports;const Sh=H1(k);var Z1={exports:{}},ux={},J1={exports:{}},eN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function e(O,I){var U=O.length;O.push(I);e:for(;0<U;){var P=U-1>>>1,G=O[P];if(0<i(G,I))O[P]=I,O[U]=G,U=P;else break e}}function t(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var I=O[0],U=O.pop();if(U!==I){O[0]=U;e:for(var P=0,G=O.length,te=G>>>1;P<te;){var Q=2*(P+1)-1,se=O[Q],ve=Q+1,rt=O[ve];if(0>i(se,U))ve<G&&0>i(rt,se)?(O[P]=rt,O[ve]=U,P=ve):(O[P]=se,O[Q]=U,P=Q);else if(ve<G&&0>i(rt,U))O[P]=rt,O[ve]=U,P=ve;else break e}}return I}function i(O,I){var U=O.sortIndex-I.sortIndex;return U!==0?U:O.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;s.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();s.unstable_now=function(){return r.now()-l}}var d=[],u=[],h=1,f=null,m=3,g=!1,v=!1,x=!1,S=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function j(O){for(var I=t(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=O)n(u),I.sortIndex=I.expirationTime,e(d,I);else break;I=t(u)}}function C(O){if(x=!1,j(O),!v)if(t(d)!==null)v=!0,T||(T=!0,L());else{var I=t(u);I!==null&&ee(C,I.startTime-O)}}var T=!1,E=-1,_=5,M=-1;function D(){return S?!0:!(s.unstable_now()-M<_)}function R(){if(S=!1,T){var O=s.unstable_now();M=O;var I=!0;try{e:{v=!1,x&&(x=!1,y(E),E=-1),g=!0;var U=m;try{t:{for(j(O),f=t(d);f!==null&&!(f.expirationTime>O&&D());){var P=f.callback;if(typeof P=="function"){f.callback=null,m=f.priorityLevel;var G=P(f.expirationTime<=O);if(O=s.unstable_now(),typeof G=="function"){f.callback=G,j(O),I=!0;break t}f===t(d)&&n(d),j(O)}else n(d);f=t(d)}if(f!==null)I=!0;else{var te=t(u);te!==null&&ee(C,te.startTime-O),I=!1}}break e}finally{f=null,m=U,g=!1}I=void 0}}finally{I?L():T=!1}}}var L;if(typeof w=="function")L=function(){w(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,W=X.port2;X.port1.onmessage=R,L=function(){W.postMessage(null)}}else L=function(){p(R,0)};function ee(O,I){E=p(function(){O(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return m},s.unstable_next=function(O){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var U=m;m=I;try{return O()}finally{m=U}},s.unstable_requestPaint=function(){S=!0},s.unstable_runWithPriority=function(O,I){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=m;m=O;try{return I()}finally{m=U}},s.unstable_scheduleCallback=function(O,I,U){var P=s.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?P+U:P):U=P,O){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,O={id:h++,callback:I,priorityLevel:O,startTime:U,expirationTime:G,sortIndex:-1},U>P?(O.sortIndex=U,e(u,O),t(d)===null&&O===t(u)&&(x?(y(E),E=-1):x=!0,ee(C,U-P))):(O.sortIndex=G,e(d,O),v||g||(v=!0,T||(T=!0,L()))),O},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(O){var I=m;return function(){var U=m;m=I;try{return O.apply(this,arguments)}finally{m=U}}}})(eN);J1.exports=eN;var BT=J1.exports,tN={exports:{}},Ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=k;function sN(s){var e="https://react.dev/errors/"+s;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function dr(){}var ws={d:{f:dr,r:function(){throw Error(sN(522))},D:dr,C:dr,L:dr,m:dr,X:dr,S:dr,M:dr},p:0,findDOMNode:null},FT=Symbol.for("react.portal");function zT(s,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:FT,key:n==null?null:""+n,children:s,containerInfo:e,implementation:t}}var Wh=IT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function hx(s,e){if(s==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ws;Ns.createPortal=function(s,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(sN(299));return zT(s,e,null,t)};Ns.flushSync=function(s){var e=Wh.T,t=ws.p;try{if(Wh.T=null,ws.p=2,s)return s()}finally{Wh.T=e,ws.p=t,ws.d.f()}};Ns.preconnect=function(s,e){typeof s=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ws.d.C(s,e))};Ns.prefetchDNS=function(s){typeof s=="string"&&ws.d.D(s)};Ns.preinit=function(s,e){if(typeof s=="string"&&e&&typeof e.as=="string"){var t=e.as,n=hx(t,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?ws.d.S(s,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):t==="script"&&ws.d.X(s,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ns.preinitModule=function(s,e){if(typeof s=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=hx(e.as,e.crossOrigin);ws.d.M(s,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ws.d.M(s)};Ns.preload=function(s,e){if(typeof s=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,n=hx(t,e.crossOrigin);ws.d.L(s,t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ns.preloadModule=function(s,e){if(typeof s=="string")if(e){var t=hx(e.as,e.crossOrigin);ws.d.m(s,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ws.d.m(s)};Ns.requestFormReset=function(s){ws.d.r(s)};Ns.unstable_batchedUpdates=function(s,e){return s(e)};Ns.useFormState=function(s,e,t){return Wh.H.useFormState(s,e,t)};Ns.useFormStatus=function(){return Wh.H.useHostTransitionStatus()};Ns.version="19.2.0";function nN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nN)}catch(s){console.error(s)}}nN(),tN.exports=Ns;var UT=tN.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=BT,iN=k,HT=UT;function B(s){var e="https://react.dev/errors/"+s;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+s+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function aN(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function dg(s){var e=s,t=s;if(s.alternate)for(;e.return;)e=e.return;else{s=e;do e=s,e.flags&4098&&(t=e.return),s=e.return;while(s)}return e.tag===3?t:null}function rN(s){if(s.tag===13){var e=s.memoizedState;if(e===null&&(s=s.alternate,s!==null&&(e=s.memoizedState)),e!==null)return e.dehydrated}return null}function oN(s){if(s.tag===31){var e=s.memoizedState;if(e===null&&(s=s.alternate,s!==null&&(e=s.memoizedState)),e!==null)return e.dehydrated}return null}function OS(s){if(dg(s)!==s)throw Error(B(188))}function VT(s){var e=s.alternate;if(!e){if(e=dg(s),e===null)throw Error(B(188));return e!==s?null:s}for(var t=s,n=e;;){var i=t.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===t)return OS(i),s;if(a===n)return OS(i),e;a=a.sibling}throw Error(B(188))}if(t.return!==n.return)t=i,n=a;else{for(var r=!1,l=i.child;l;){if(l===t){r=!0,t=i,n=a;break}if(l===n){r=!0,n=i,t=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===t){r=!0,t=a,n=i;break}if(l===n){r=!0,n=a,t=i;break}l=l.sibling}if(!r)throw Error(B(189))}}if(t.alternate!==n)throw Error(B(190))}if(t.tag!==3)throw Error(B(188));return t.stateNode.current===t?s:e}function lN(s){var e=s.tag;if(e===5||e===26||e===27||e===6)return s;for(s=s.child;s!==null;){if(e=lN(s),e!==null)return e;s=s.sibling}return null}var Qe=Object.assign,$T=Symbol.for("react.element"),Rg=Symbol.for("react.transitional.element"),Ah=Symbol.for("react.portal"),Vc=Symbol.for("react.fragment"),cN=Symbol.for("react.strict_mode"),Lb=Symbol.for("react.profiler"),dN=Symbol.for("react.consumer"),Ga=Symbol.for("react.context"),hw=Symbol.for("react.forward_ref"),Ob=Symbol.for("react.suspense"),Pb=Symbol.for("react.suspense_list"),fw=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),Bb=Symbol.for("react.activity"),GT=Symbol.for("react.memo_cache_sentinel"),PS=Symbol.iterator;function ch(s){return s===null||typeof s!="object"?null:(s=PS&&s[PS]||s["@@iterator"],typeof s=="function"?s:null)}var YT=Symbol.for("react.client.reference");function Ib(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===YT?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Vc:return"Fragment";case Lb:return"Profiler";case cN:return"StrictMode";case Ob:return"Suspense";case Pb:return"SuspenseList";case Bb:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case Ah:return"Portal";case Ga:return s.displayName||"Context";case dN:return(s._context.displayName||"Context")+".Consumer";case hw:var e=s.render;return s=s.displayName,s||(s=e.displayName||e.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case fw:return e=s.displayName||null,e!==null?e:Ib(s.type)||"Memo";case hr:e=s._payload,s=s._init;try{return Ib(s(e))}catch{}}return null}var Nh=Array.isArray,J=iN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je=HT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lc={pending:!1,data:null,method:null,action:null},Fb=[],$c=-1;function Xi(s){return{current:s}}function $t(s){0>$c||(s.current=Fb[$c],Fb[$c]=null,$c--)}function Ye(s,e){$c++,Fb[$c]=s.current,s.current=e}var $i=Xi(null),df=Xi(null),yo=Xi(null),s0=Xi(null);function n0(s,e){switch(Ye(yo,e),Ye(df,s),Ye($i,null),e.nodeType){case 9:case 11:s=(s=e.documentElement)&&(s=s.namespaceURI)?HA(s):0;break;default:if(s=e.tagName,e=e.namespaceURI)e=HA(e),s=kj(e,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}$t($i),Ye($i,s)}function zu(){$t($i),$t(df),$t(yo)}function zb(s){s.memoizedState!==null&&Ye(s0,s);var e=$i.current,t=kj(e,s.type);e!==t&&(Ye(df,s),Ye($i,t))}function i0(s){df.current===s&&($t($i),$t(df)),s0.current===s&&($t(s0),wf._currentValue=lc)}var Ux,BS;function zo(s){if(Ux===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ux=e&&e[1]||"",BS=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ux+s+BS}var Hx=!1;function Vx(s,e){if(!s||Hx)return"";Hx=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var m=g}Reflect.construct(s,[],f)}else{try{f.call()}catch(g){m=g}s.call(f.prototype)}}else{try{throw Error()}catch(g){m=g}(f=s())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var d=r.split(`
`),u=l.split(`
`);for(i=n=0;n<d.length&&!d[n].includes("DetermineComponentFrameRoot");)n++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(n===d.length||i===u.length)for(n=d.length-1,i=u.length-1;1<=n&&0<=i&&d[n]!==u[i];)i--;for(;1<=n&&0<=i;n--,i--)if(d[n]!==u[i]){if(n!==1||i!==1)do if(n--,i--,0>i||d[n]!==u[i]){var h=`
`+d[n].replace(" at new "," at ");return s.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",s.displayName)),h}while(1<=n&&0<=i);break}}}finally{Hx=!1,Error.prepareStackTrace=t}return(t=s?s.displayName||s.name:"")?zo(t):""}function qT(s,e){switch(s.tag){case 26:case 27:case 5:return zo(s.type);case 16:return zo("Lazy");case 13:return s.child!==e&&e!==null?zo("Suspense Fallback"):zo("Suspense");case 19:return zo("SuspenseList");case 0:case 15:return Vx(s.type,!1);case 11:return Vx(s.type.render,!1);case 1:return Vx(s.type,!0);case 31:return zo("Activity");default:return""}}function IS(s){try{var e="",t=null;do e+=qT(s,t),t=s,s=s.return;while(s);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Ub=Object.prototype.hasOwnProperty,mw=Rt.unstable_scheduleCallback,$x=Rt.unstable_cancelCallback,XT=Rt.unstable_shouldYield,WT=Rt.unstable_requestPaint,mn=Rt.unstable_now,KT=Rt.unstable_getCurrentPriorityLevel,uN=Rt.unstable_ImmediatePriority,hN=Rt.unstable_UserBlockingPriority,a0=Rt.unstable_NormalPriority,QT=Rt.unstable_LowPriority,fN=Rt.unstable_IdlePriority,ZT=Rt.log,JT=Rt.unstable_setDisableYieldValue,ug=null,gn=null;function mo(s){if(typeof ZT=="function"&&JT(s),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(ug,s)}catch{}}var pn=Math.clz32?Math.clz32:s_,e_=Math.log,t_=Math.LN2;function s_(s){return s>>>=0,s===0?32:31-(e_(s)/t_|0)|0}var Lg=256,Og=262144,Pg=4194304;function Uo(s){var e=s&42;if(e!==0)return e;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function fx(s,e,t){var n=s.pendingLanes;if(n===0)return 0;var i=0,a=s.suspendedLanes,r=s.pingedLanes;s=s.warmLanes;var l=n&134217727;return l!==0?(n=l&~a,n!==0?i=Uo(n):(r&=l,r!==0?i=Uo(r):t||(t=l&~s,t!==0&&(i=Uo(t))))):(l=n&~a,l!==0?i=Uo(l):r!==0?i=Uo(r):t||(t=n&~s,t!==0&&(i=Uo(t)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,t=e&-e,a>=t||a===32&&(t&4194048)!==0)?e:i}function hg(s,e){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&e)===0}function n_(s,e){switch(s){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mN(){var s=Pg;return Pg<<=1,!(Pg&62914560)&&(Pg=4194304),s}function Gx(s){for(var e=[],t=0;31>t;t++)e.push(s);return e}function fg(s,e){s.pendingLanes|=e,e!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function i_(s,e,t,n,i,a){var r=s.pendingLanes;s.pendingLanes=t,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=t,s.entangledLanes&=t,s.errorRecoveryDisabledLanes&=t,s.shellSuspendCounter=0;var l=s.entanglements,d=s.expirationTimes,u=s.hiddenUpdates;for(t=r&~t;0<t;){var h=31-pn(t),f=1<<h;l[h]=0,d[h]=-1;var m=u[h];if(m!==null)for(u[h]=null,h=0;h<m.length;h++){var g=m[h];g!==null&&(g.lane&=-536870913)}t&=~f}n!==0&&gN(s,n,0),a!==0&&i===0&&s.tag!==0&&(s.suspendedLanes|=a&~(r&~e))}function gN(s,e,t){s.pendingLanes|=e,s.suspendedLanes&=~e;var n=31-pn(e);s.entangledLanes|=e,s.entanglements[n]=s.entanglements[n]|1073741824|t&261930}function pN(s,e){var t=s.entangledLanes|=e;for(s=s.entanglements;t;){var n=31-pn(t),i=1<<n;i&e|s[n]&e&&(s[n]|=e),t&=~i}}function xN(s,e){var t=e&-e;return t=t&42?1:gw(t),t&(s.suspendedLanes|e)?0:t}function gw(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function pw(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function bN(){var s=je.p;return s!==0?s:(s=window.event,s===void 0?32:Uj(s.type))}function FS(s,e){var t=je.p;try{return je.p=s,e()}finally{je.p=t}}var Po=Math.random().toString(36).slice(2),es="__reactFiber$"+Po,zs="__reactProps$"+Po,Zu="__reactContainer$"+Po,Hb="__reactEvents$"+Po,a_="__reactListeners$"+Po,r_="__reactHandles$"+Po,zS="__reactResources$"+Po,mg="__reactMarker$"+Po;function xw(s){delete s[es],delete s[zs],delete s[Hb],delete s[a_],delete s[r_]}function Gc(s){var e=s[es];if(e)return e;for(var t=s.parentNode;t;){if(e=t[Zu]||t[es]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(s=qA(s);s!==null;){if(t=s[es])return t;s=qA(s)}return e}s=t,t=s.parentNode}return null}function Ju(s){if(s=s[es]||s[Zu]){var e=s.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return s}return null}function jh(s){var e=s.tag;if(e===5||e===26||e===27||e===6)return s.stateNode;throw Error(B(33))}function od(s){var e=s[zS];return e||(e=s[zS]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Vt(s){s[mg]=!0}var yN=new Set,vN={};function wc(s,e){Uu(s,e),Uu(s+"Capture",e)}function Uu(s,e){for(vN[s]=e,s=0;s<e.length;s++)yN.add(e[s])}var o_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),US={},HS={};function l_(s){return Ub.call(HS,s)?!0:Ub.call(US,s)?!1:o_.test(s)?HS[s]=!0:(US[s]=!0,!1)}function rp(s,e,t){if(l_(e))if(t===null)s.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":s.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){s.removeAttribute(e);return}}s.setAttribute(e,""+t)}}function Bg(s,e,t){if(t===null)s.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(e);return}s.setAttribute(e,""+t)}}function Zi(s,e,t,n){if(n===null)s.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(t);return}s.setAttributeNS(e,t,""+n)}}function On(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function wN(s){var e=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function c_(s,e,t){var n=Object.getOwnPropertyDescriptor(s.constructor.prototype,e);if(!s.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(s,e,{configurable:!0,get:function(){return i.call(this)},set:function(r){t=""+r,a.call(this,r)}}),Object.defineProperty(s,e,{enumerable:n.enumerable}),{getValue:function(){return t},setValue:function(r){t=""+r},stopTracking:function(){s._valueTracker=null,delete s[e]}}}}function Vb(s){if(!s._valueTracker){var e=wN(s)?"checked":"value";s._valueTracker=c_(s,e,""+s[e])}}function SN(s){if(!s)return!1;var e=s._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return s&&(n=wN(s)?s.checked?"true":"false":s.value),s=n,s!==t?(e.setValue(s),!0):!1}function r0(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var d_=/[\n"\\]/g;function In(s){return s.replace(d_,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function $b(s,e,t,n,i,a,r,l){s.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?s.type=r:s.removeAttribute("type"),e!=null?r==="number"?(e===0&&s.value===""||s.value!=e)&&(s.value=""+On(e)):s.value!==""+On(e)&&(s.value=""+On(e)):r!=="submit"&&r!=="reset"||s.removeAttribute("value"),e!=null?Gb(s,r,On(e)):t!=null?Gb(s,r,On(t)):n!=null&&s.removeAttribute("value"),i==null&&a!=null&&(s.defaultChecked=!!a),i!=null&&(s.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?s.name=""+On(l):s.removeAttribute("name")}function AN(s,e,t,n,i,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(s.type=a),e!=null||t!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){Vb(s);return}t=t!=null?""+On(t):"",e=e!=null?""+On(e):t,l||e===s.value||(s.value=e),s.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,s.checked=l?s.checked:!!n,s.defaultChecked=!!n,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(s.name=r),Vb(s)}function Gb(s,e,t){e==="number"&&r0(s.ownerDocument)===s||s.defaultValue===""+t||(s.defaultValue=""+t)}function ld(s,e,t,n){if(s=s.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<s.length;t++)i=e.hasOwnProperty("$"+s[t].value),s[t].selected!==i&&(s[t].selected=i),i&&n&&(s[t].defaultSelected=!0)}else{for(t=""+On(t),e=null,i=0;i<s.length;i++){if(s[i].value===t){s[i].selected=!0,n&&(s[i].defaultSelected=!0);return}e!==null||s[i].disabled||(e=s[i])}e!==null&&(e.selected=!0)}}function NN(s,e,t){if(e!=null&&(e=""+On(e),e!==s.value&&(s.value=e),t==null)){s.defaultValue!==e&&(s.defaultValue=e);return}s.defaultValue=t!=null?""+On(t):""}function jN(s,e,t,n){if(e==null){if(n!=null){if(t!=null)throw Error(B(92));if(Nh(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),e=t}t=On(e),s.defaultValue=t,n=s.textContent,n===t&&n!==""&&n!==null&&(s.value=n),Vb(s)}function Hu(s,e){if(e){var t=s.firstChild;if(t&&t===s.lastChild&&t.nodeType===3){t.nodeValue=e;return}}s.textContent=e}var u_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function VS(s,e,t){var n=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?n?s.setProperty(e,""):e==="float"?s.cssFloat="":s[e]="":n?s.setProperty(e,t):typeof t!="number"||t===0||u_.has(e)?e==="float"?s.cssFloat=t:s[e]=(""+t).trim():s[e]=t+"px"}function EN(s,e,t){if(e!=null&&typeof e!="object")throw Error(B(62));if(s=s.style,t!=null){for(var n in t)!t.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?s.setProperty(n,""):n==="float"?s.cssFloat="":s[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&t[i]!==n&&VS(s,i,n)}else for(var a in e)e.hasOwnProperty(a)&&VS(s,a,e[a])}function bw(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function op(s){return f_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ya(){}var Yb=null;function yw(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yc=null,cd=null;function $S(s){var e=Ju(s);if(e&&(s=e.stateNode)){var t=s[zs]||null;e:switch(s=e.stateNode,e.type){case"input":if($b(s,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=s;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+In(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==s&&n.form===s.form){var i=n[zs]||null;if(!i)throw Error(B(90));$b(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<t.length;e++)n=t[e],n.form===s.form&&SN(n)}break e;case"textarea":NN(s,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&ld(s,!!t.multiple,e,!1)}}}var Yx=!1;function CN(s,e,t){if(Yx)return s(e,t);Yx=!0;try{var n=s(e);return n}finally{if(Yx=!1,(Yc!==null||cd!==null)&&(jx(),Yc&&(e=Yc,s=cd,cd=Yc=null,$S(e),s)))for(e=0;e<s.length;e++)$S(s[e])}}function uf(s,e){var t=s.stateNode;if(t===null)return null;var n=t[zs]||null;if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(s=s.type,n=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!n;break e;default:s=!1}if(s)return null;if(t&&typeof t!="function")throw Error(B(231,e,typeof t));return t}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qb=!1;if(er)try{var dh={};Object.defineProperty(dh,"passive",{get:function(){qb=!0}}),window.addEventListener("test",dh,dh),window.removeEventListener("test",dh,dh)}catch{qb=!1}var go=null,vw=null,lp=null;function TN(){if(lp)return lp;var s,e=vw,t=e.length,n,i="value"in go?go.value:go.textContent,a=i.length;for(s=0;s<t&&e[s]===i[s];s++);var r=t-s;for(n=1;n<=r&&e[t-n]===i[a-n];n++);return lp=i.slice(s,1<n?1-n:void 0)}function cp(s){var e=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&e===13&&(s=13)):s=e,s===10&&(s=13),32<=s||s===13?s:0}function Ig(){return!0}function GS(){return!1}function Us(s){function e(t,n,i,a,r){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in s)s.hasOwnProperty(l)&&(t=s[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ig:GS,this.isPropagationStopped=GS,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ig)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ig)},persist:function(){},isPersistent:Ig}),e}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mx=Us(Sc),gg=Qe({},Sc,{view:0,detail:0}),m_=Us(gg),qx,Xx,uh,gx=Qe({},gg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ww,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==uh&&(uh&&s.type==="mousemove"?(qx=s.screenX-uh.screenX,Xx=s.screenY-uh.screenY):Xx=qx=0,uh=s),qx)},movementY:function(s){return"movementY"in s?s.movementY:Xx}}),YS=Us(gx),g_=Qe({},gx,{dataTransfer:0}),p_=Us(g_),x_=Qe({},gg,{relatedTarget:0}),Wx=Us(x_),b_=Qe({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),y_=Us(b_),v_=Qe({},Sc,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),w_=Us(v_),S_=Qe({},Sc,{data:0}),qS=Us(S_),A_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E_(s){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(s):(s=j_[s])?!!e[s]:!1}function ww(){return E_}var C_=Qe({},gg,{key:function(s){if(s.key){var e=A_[s.key]||s.key;if(e!=="Unidentified")return e}return s.type==="keypress"?(s=cp(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?N_[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ww,charCode:function(s){return s.type==="keypress"?cp(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cp(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),T_=Us(C_),__=Qe({},gx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XS=Us(__),k_=Qe({},gg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ww}),M_=Us(k_),D_=Qe({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),R_=Us(D_),L_=Qe({},gx,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),O_=Us(L_),P_=Qe({},Sc,{newState:0,oldState:0}),B_=Us(P_),I_=[9,13,27,32],Sw=er&&"CompositionEvent"in window,Kh=null;er&&"documentMode"in document&&(Kh=document.documentMode);var F_=er&&"TextEvent"in window&&!Kh,_N=er&&(!Sw||Kh&&8<Kh&&11>=Kh),WS=" ",KS=!1;function kN(s,e){switch(s){case"keyup":return I_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MN(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qc=!1;function z_(s,e){switch(s){case"compositionend":return MN(e);case"keypress":return e.which!==32?null:(KS=!0,WS);case"textInput":return s=e.data,s===WS&&KS?null:s;default:return null}}function U_(s,e){if(qc)return s==="compositionend"||!Sw&&kN(s,e)?(s=TN(),lp=vw=go=null,qc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _N&&e.locale!=="ko"?null:e.data;default:return null}}var H_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QS(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e==="input"?!!H_[s.type]:e==="textarea"}function DN(s,e,t,n){Yc?cd?cd.push(n):cd=[n]:Yc=n,e=N0(e,"onChange"),0<e.length&&(t=new mx("onChange","change",null,t,n),s.push({event:t,listeners:e}))}var Qh=null,hf=null;function V_(s){Cj(s,0)}function px(s){var e=jh(s);if(SN(e))return s}function ZS(s,e){if(s==="change")return e}var RN=!1;if(er){var Kx;if(er){var Qx="oninput"in document;if(!Qx){var JS=document.createElement("div");JS.setAttribute("oninput","return;"),Qx=typeof JS.oninput=="function"}Kx=Qx}else Kx=!1;RN=Kx&&(!document.documentMode||9<document.documentMode)}function eA(){Qh&&(Qh.detachEvent("onpropertychange",LN),hf=Qh=null)}function LN(s){if(s.propertyName==="value"&&px(hf)){var e=[];DN(e,hf,s,yw(s)),CN(V_,e)}}function $_(s,e,t){s==="focusin"?(eA(),Qh=e,hf=t,Qh.attachEvent("onpropertychange",LN)):s==="focusout"&&eA()}function G_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return px(hf)}function Y_(s,e){if(s==="click")return px(e)}function q_(s,e){if(s==="input"||s==="change")return px(e)}function X_(s,e){return s===e&&(s!==0||1/s===1/e)||s!==s&&e!==e}var yn=typeof Object.is=="function"?Object.is:X_;function ff(s,e){if(yn(s,e))return!0;if(typeof s!="object"||s===null||typeof e!="object"||e===null)return!1;var t=Object.keys(s),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!Ub.call(e,i)||!yn(s[i],e[i]))return!1}return!0}function tA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function sA(s,e){var t=tA(s);s=0;for(var n;t;){if(t.nodeType===3){if(n=s+t.textContent.length,s<=e&&n>=e)return{node:t,offset:e-s};s=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=tA(t)}}function ON(s,e){return s&&e?s===e?!0:s&&s.nodeType===3?!1:e&&e.nodeType===3?ON(s,e.parentNode):"contains"in s?s.contains(e):s.compareDocumentPosition?!!(s.compareDocumentPosition(e)&16):!1:!1}function PN(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var e=r0(s.document);e instanceof s.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)s=e.contentWindow;else break;e=r0(s.document)}return e}function Aw(s){var e=s&&s.nodeName&&s.nodeName.toLowerCase();return e&&(e==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||e==="textarea"||s.contentEditable==="true")}var W_=er&&"documentMode"in document&&11>=document.documentMode,Xc=null,Xb=null,Zh=null,Wb=!1;function nA(s,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Wb||Xc==null||Xc!==r0(n)||(n=Xc,"selectionStart"in n&&Aw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zh&&ff(Zh,n)||(Zh=n,n=N0(Xb,"onSelect"),0<n.length&&(e=new mx("onSelect","select",null,e,t),s.push({event:e,listeners:n}),e.target=Xc)))}function Fo(s,e){var t={};return t[s.toLowerCase()]=e.toLowerCase(),t["Webkit"+s]="webkit"+e,t["Moz"+s]="moz"+e,t}var Wc={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionrun:Fo("Transition","TransitionRun"),transitionstart:Fo("Transition","TransitionStart"),transitioncancel:Fo("Transition","TransitionCancel"),transitionend:Fo("Transition","TransitionEnd")},Zx={},BN={};er&&(BN=document.createElement("div").style,"AnimationEvent"in window||(delete Wc.animationend.animation,delete Wc.animationiteration.animation,delete Wc.animationstart.animation),"TransitionEvent"in window||delete Wc.transitionend.transition);function Ac(s){if(Zx[s])return Zx[s];if(!Wc[s])return s;var e=Wc[s],t;for(t in e)if(e.hasOwnProperty(t)&&t in BN)return Zx[s]=e[t];return s}var IN=Ac("animationend"),FN=Ac("animationiteration"),zN=Ac("animationstart"),K_=Ac("transitionrun"),Q_=Ac("transitionstart"),Z_=Ac("transitioncancel"),UN=Ac("transitionend"),HN=new Map,Kb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kb.push("scrollEnd");function fi(s,e){HN.set(s,e),wc(e,[s])}var o0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ln=[],Kc=0,Nw=0;function xx(){for(var s=Kc,e=Nw=Kc=0;e<s;){var t=Ln[e];Ln[e++]=null;var n=Ln[e];Ln[e++]=null;var i=Ln[e];Ln[e++]=null;var a=Ln[e];if(Ln[e++]=null,n!==null&&i!==null){var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}a!==0&&VN(t,i,a)}}function bx(s,e,t,n){Ln[Kc++]=s,Ln[Kc++]=e,Ln[Kc++]=t,Ln[Kc++]=n,Nw|=n,s.lanes|=n,s=s.alternate,s!==null&&(s.lanes|=n)}function jw(s,e,t,n){return bx(s,e,t,n),l0(s)}function Nc(s,e){return bx(s,null,null,e),l0(s)}function VN(s,e,t){s.lanes|=t;var n=s.alternate;n!==null&&(n.lanes|=t);for(var i=!1,a=s.return;a!==null;)a.childLanes|=t,n=a.alternate,n!==null&&(n.childLanes|=t),a.tag===22&&(s=a.stateNode,s===null||s._visibility&1||(i=!0)),s=a,a=a.return;return s.tag===3?(a=s.stateNode,i&&e!==null&&(i=31-pn(t),s=a.hiddenUpdates,n=s[i],n===null?s[i]=[e]:n.push(e),e.lane=t|536870912),a):null}function l0(s){if(50<lf)throw lf=0,xy=null,Error(B(185));for(var e=s.return;e!==null;)s=e,e=s.return;return s.tag===3?s.stateNode:null}var Qc={};function J_(s,e,t,n){this.tag=s,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(s,e,t,n){return new J_(s,e,t,n)}function Ew(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xa(s,e){var t=s.alternate;return t===null?(t=hn(s.tag,e,s.key,s.mode),t.elementType=s.elementType,t.type=s.type,t.stateNode=s.stateNode,t.alternate=s,s.alternate=t):(t.pendingProps=e,t.type=s.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=s.flags&65011712,t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,e=s.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=s.sibling,t.index=s.index,t.ref=s.ref,t.refCleanup=s.refCleanup,t}function $N(s,e){s.flags&=65011714;var t=s.alternate;return t===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,s.type=t.type,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s}function dp(s,e,t,n,i,a){var r=0;if(n=s,typeof s=="function")Ew(s)&&(r=1);else if(typeof s=="string")r=iM(s,t,$i.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Bb:return s=hn(31,t,e,i),s.elementType=Bb,s.lanes=a,s;case Vc:return cc(t.children,i,a,e);case cN:r=8,i|=24;break;case Lb:return s=hn(12,t,e,i|2),s.elementType=Lb,s.lanes=a,s;case Ob:return s=hn(13,t,e,i),s.elementType=Ob,s.lanes=a,s;case Pb:return s=hn(19,t,e,i),s.elementType=Pb,s.lanes=a,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ga:r=10;break e;case dN:r=9;break e;case hw:r=11;break e;case fw:r=14;break e;case hr:r=16,n=null;break e}r=29,t=Error(B(130,s===null?"null":typeof s,"")),n=null}return e=hn(r,t,e,i),e.elementType=s,e.type=n,e.lanes=a,e}function cc(s,e,t,n){return s=hn(7,s,n,e),s.lanes=t,s}function Jx(s,e,t){return s=hn(6,s,null,e),s.lanes=t,s}function GN(s){var e=hn(18,null,null,0);return e.stateNode=s,e}function eb(s,e,t){return e=hn(4,s.children!==null?s.children:[],s.key,e),e.lanes=t,e.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},e}var iA=new WeakMap;function Fn(s,e){if(typeof s=="object"&&s!==null){var t=iA.get(s);return t!==void 0?t:(e={value:s,source:e,stack:IS(e)},iA.set(s,e),e)}return{value:s,source:e,stack:IS(e)}}var Zc=[],Jc=0,c0=null,mf=0,Pn=[],Bn=0,To=null,Ui=1,Hi="";function la(s,e){Zc[Jc++]=mf,Zc[Jc++]=c0,c0=s,mf=e}function YN(s,e,t){Pn[Bn++]=Ui,Pn[Bn++]=Hi,Pn[Bn++]=To,To=s;var n=Ui;s=Hi;var i=32-pn(n)-1;n&=~(1<<i),t+=1;var a=32-pn(e)+i;if(30<a){var r=i-i%5;a=(n&(1<<r)-1).toString(32),n>>=r,i-=r,Ui=1<<32-pn(e)+i|t<<i|n,Hi=a+s}else Ui=1<<a|t<<i|n,Hi=s}function Cw(s){s.return!==null&&(la(s,1),YN(s,1,0))}function Tw(s){for(;s===c0;)c0=Zc[--Jc],Zc[Jc]=null,mf=Zc[--Jc],Zc[Jc]=null;for(;s===To;)To=Pn[--Bn],Pn[Bn]=null,Hi=Pn[--Bn],Pn[Bn]=null,Ui=Pn[--Bn],Pn[Bn]=null}function qN(s,e){Pn[Bn++]=Ui,Pn[Bn++]=Hi,Pn[Bn++]=To,Ui=e.id,Hi=e.overflow,To=s}var ts=null,We=null,ye=!1,vo=null,zn=!1,Qb=Error(B(519));function _o(s){var e=Error(B(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gf(Fn(e,s)),Qb}function aA(s){var e=s.stateNode,t=s.type,n=s.memoizedProps;switch(e[es]=s,e[zs]=n,t){case"dialog":me("cancel",e),me("close",e);break;case"iframe":case"object":case"embed":me("load",e);break;case"video":case"audio":for(t=0;t<yf.length;t++)me(yf[t],e);break;case"source":me("error",e);break;case"img":case"image":case"link":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"input":me("invalid",e),AN(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":me("invalid",e);break;case"textarea":me("invalid",e),jN(e,n.value,n.defaultValue,n.children)}t=n.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||n.suppressHydrationWarning===!0||_j(e.textContent,t)?(n.popover!=null&&(me("beforetoggle",e),me("toggle",e)),n.onScroll!=null&&me("scroll",e),n.onScrollEnd!=null&&me("scrollend",e),n.onClick!=null&&(e.onclick=Ya),e=!0):e=!1,e||_o(s,!0)}function rA(s){for(ts=s.return;ts;)switch(ts.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:ts=ts.return}}function _c(s){if(s!==ts)return!1;if(!ye)return rA(s),ye=!0,!1;var e=s.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=s.type,t=!(t!=="form"&&t!=="button")||Sy(s.type,s.memoizedProps)),t=!t),t&&We&&_o(s),rA(s),e===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));We=YA(s)}else if(e===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));We=YA(s)}else e===27?(e=We,Bo(s.type)?(s=Ey,Ey=null,We=s):We=e):We=ts?$n(s.stateNode.nextSibling):null;return!0}function fc(){We=ts=null,ye=!1}function tb(){var s=vo;return s!==null&&(Bs===null?Bs=s:Bs.push.apply(Bs,s),vo=null),s}function gf(s){vo===null?vo=[s]:vo.push(s)}var Zb=Xi(null),jc=null,qa=null;function mr(s,e,t){Ye(Zb,e._currentValue),e._currentValue=t}function Wa(s){s._currentValue=Zb.current,$t(Zb)}function Jb(s,e,t){for(;s!==null;){var n=s.alternate;if((s.childLanes&e)!==e?(s.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),s===t)break;s=s.return}}function ey(s,e,t,n){var i=s.child;for(i!==null&&(i.return=s);i!==null;){var a=i.dependencies;if(a!==null){var r=i.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=i;for(var d=0;d<e.length;d++)if(l.context===e[d]){a.lanes|=t,l=a.alternate,l!==null&&(l.lanes|=t),Jb(a.return,t,s),n||(r=null);break e}a=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(B(341));r.lanes|=t,a=r.alternate,a!==null&&(a.lanes|=t),Jb(r,t,s),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===s){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function eh(s,e,t,n){s=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(B(387));if(r=r.memoizedProps,r!==null){var l=i.type;yn(i.pendingProps.value,r.value)||(s!==null?s.push(l):s=[l])}}else if(i===s0.current){if(r=i.alternate,r===null)throw Error(B(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(s!==null?s.push(wf):s=[wf])}i=i.return}s!==null&&ey(e,s,t,n),e.flags|=262144}function d0(s){for(s=s.firstContext;s!==null;){if(!yn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function mc(s){jc=s,qa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ns(s){return XN(jc,s)}function Fg(s,e){return jc===null&&mc(s),XN(s,e)}function XN(s,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},qa===null){if(s===null)throw Error(B(308));qa=e,s.dependencies={lanes:0,firstContext:e},s.flags|=524288}else qa=qa.next=e;return t}var ek=typeof AbortController<"u"?AbortController:function(){var s=[],e=this.signal={aborted:!1,addEventListener:function(t,n){s.push(n)}};this.abort=function(){e.aborted=!0,s.forEach(function(t){return t()})}},tk=Rt.unstable_scheduleCallback,sk=Rt.unstable_NormalPriority,At={$$typeof:Ga,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _w(){return{controller:new ek,data:new Map,refCount:0}}function pg(s){s.refCount--,s.refCount===0&&tk(sk,function(){s.controller.abort()})}var Jh=null,ty=0,Vu=0,dd=null;function nk(s,e){if(Jh===null){var t=Jh=[];ty=0,Vu=eS(),dd={status:"pending",value:void 0,then:function(n){t.push(n)}}}return ty++,e.then(oA,oA),e}function oA(){if(--ty===0&&Jh!==null){dd!==null&&(dd.status="fulfilled");var s=Jh;Jh=null,Vu=0,dd=null;for(var e=0;e<s.length;e++)(0,s[e])()}}function ik(s,e){var t=[],n={status:"pending",value:null,reason:null,then:function(i){t.push(i)}};return s.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<t.length;i++)(0,t[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<t.length;i++)(0,t[i])(void 0)}),n}var lA=J.S;J.S=function(s,e){lj=mn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&nk(s,e),lA!==null&&lA(s,e)};var dc=Xi(null);function kw(){var s=dc.current;return s!==null?s:Ve.pooledCache}function up(s,e){e===null?Ye(dc,dc.current):Ye(dc,e.pool)}function WN(){var s=kw();return s===null?null:{parent:At._currentValue,pool:s}}var th=Error(B(460)),Mw=Error(B(474)),yx=Error(B(542)),u0={then:function(){}};function cA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function KN(s,e,t){switch(t=s[t],t===void 0?s.push(e):t!==e&&(e.then(Ya,Ya),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw s=e.reason,uA(s),s;default:if(typeof e.status=="string")e.then(Ya,Ya);else{if(s=Ve,s!==null&&100<s.shellSuspendCounter)throw Error(B(482));s=e,s.status="pending",s.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw s=e.reason,uA(s),s}throw uc=e,th}}function Ho(s){try{var e=s._init;return e(s._payload)}catch(t){throw t!==null&&typeof t=="object"&&typeof t.then=="function"?(uc=t,th):t}}var uc=null;function dA(){if(uc===null)throw Error(B(459));var s=uc;return uc=null,s}function uA(s){if(s===th||s===yx)throw Error(B(483))}var ud=null,pf=0;function zg(s){var e=pf;return pf+=1,ud===null&&(ud=[]),KN(ud,s,e)}function hh(s,e){e=e.props.ref,s.ref=e!==void 0?e:null}function Ug(s,e){throw e.$$typeof===$T?Error(B(525)):(s=Object.prototype.toString.call(e),Error(B(31,s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)))}function QN(s){function e(p,y){if(s){var w=p.deletions;w===null?(p.deletions=[y],p.flags|=16):w.push(y)}}function t(p,y){if(!s)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function n(p){for(var y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(p,y){return p=Xa(p,y),p.index=0,p.sibling=null,p}function a(p,y,w){return p.index=w,s?(w=p.alternate,w!==null?(w=w.index,w<y?(p.flags|=67108866,y):w):(p.flags|=67108866,y)):(p.flags|=1048576,y)}function r(p){return s&&p.alternate===null&&(p.flags|=67108866),p}function l(p,y,w,j){return y===null||y.tag!==6?(y=Jx(w,p.mode,j),y.return=p,y):(y=i(y,w),y.return=p,y)}function d(p,y,w,j){var C=w.type;return C===Vc?h(p,y,w.props.children,j,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hr&&Ho(C)===y.type)?(y=i(y,w.props),hh(y,w),y.return=p,y):(y=dp(w.type,w.key,w.props,null,p.mode,j),hh(y,w),y.return=p,y)}function u(p,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=eb(w,p.mode,j),y.return=p,y):(y=i(y,w.children||[]),y.return=p,y)}function h(p,y,w,j,C){return y===null||y.tag!==7?(y=cc(w,p.mode,j,C),y.return=p,y):(y=i(y,w),y.return=p,y)}function f(p,y,w){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Jx(""+y,p.mode,w),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rg:return w=dp(y.type,y.key,y.props,null,p.mode,w),hh(w,y),w.return=p,w;case Ah:return y=eb(y,p.mode,w),y.return=p,y;case hr:return y=Ho(y),f(p,y,w)}if(Nh(y)||ch(y))return y=cc(y,p.mode,w,null),y.return=p,y;if(typeof y.then=="function")return f(p,zg(y),w);if(y.$$typeof===Ga)return f(p,Fg(p,y),w);Ug(p,y)}return null}function m(p,y,w,j){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return C!==null?null:l(p,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rg:return w.key===C?d(p,y,w,j):null;case Ah:return w.key===C?u(p,y,w,j):null;case hr:return w=Ho(w),m(p,y,w,j)}if(Nh(w)||ch(w))return C!==null?null:h(p,y,w,j,null);if(typeof w.then=="function")return m(p,y,zg(w),j);if(w.$$typeof===Ga)return m(p,y,Fg(p,w),j);Ug(p,w)}return null}function g(p,y,w,j,C){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return p=p.get(w)||null,l(y,p,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Rg:return p=p.get(j.key===null?w:j.key)||null,d(y,p,j,C);case Ah:return p=p.get(j.key===null?w:j.key)||null,u(y,p,j,C);case hr:return j=Ho(j),g(p,y,w,j,C)}if(Nh(j)||ch(j))return p=p.get(w)||null,h(y,p,j,C,null);if(typeof j.then=="function")return g(p,y,w,zg(j),C);if(j.$$typeof===Ga)return g(p,y,w,Fg(y,j),C);Ug(y,j)}return null}function v(p,y,w,j){for(var C=null,T=null,E=y,_=y=0,M=null;E!==null&&_<w.length;_++){E.index>_?(M=E,E=null):M=E.sibling;var D=m(p,E,w[_],j);if(D===null){E===null&&(E=M);break}s&&E&&D.alternate===null&&e(p,E),y=a(D,y,_),T===null?C=D:T.sibling=D,T=D,E=M}if(_===w.length)return t(p,E),ye&&la(p,_),C;if(E===null){for(;_<w.length;_++)E=f(p,w[_],j),E!==null&&(y=a(E,y,_),T===null?C=E:T.sibling=E,T=E);return ye&&la(p,_),C}for(E=n(E);_<w.length;_++)M=g(E,p,_,w[_],j),M!==null&&(s&&M.alternate!==null&&E.delete(M.key===null?_:M.key),y=a(M,y,_),T===null?C=M:T.sibling=M,T=M);return s&&E.forEach(function(R){return e(p,R)}),ye&&la(p,_),C}function x(p,y,w,j){if(w==null)throw Error(B(151));for(var C=null,T=null,E=y,_=y=0,M=null,D=w.next();E!==null&&!D.done;_++,D=w.next()){E.index>_?(M=E,E=null):M=E.sibling;var R=m(p,E,D.value,j);if(R===null){E===null&&(E=M);break}s&&E&&R.alternate===null&&e(p,E),y=a(R,y,_),T===null?C=R:T.sibling=R,T=R,E=M}if(D.done)return t(p,E),ye&&la(p,_),C;if(E===null){for(;!D.done;_++,D=w.next())D=f(p,D.value,j),D!==null&&(y=a(D,y,_),T===null?C=D:T.sibling=D,T=D);return ye&&la(p,_),C}for(E=n(E);!D.done;_++,D=w.next())D=g(E,p,_,D.value,j),D!==null&&(s&&D.alternate!==null&&E.delete(D.key===null?_:D.key),y=a(D,y,_),T===null?C=D:T.sibling=D,T=D);return s&&E.forEach(function(L){return e(p,L)}),ye&&la(p,_),C}function S(p,y,w,j){if(typeof w=="object"&&w!==null&&w.type===Vc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Rg:e:{for(var C=w.key;y!==null;){if(y.key===C){if(C=w.type,C===Vc){if(y.tag===7){t(p,y.sibling),j=i(y,w.props.children),j.return=p,p=j;break e}}else if(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hr&&Ho(C)===y.type){t(p,y.sibling),j=i(y,w.props),hh(j,w),j.return=p,p=j;break e}t(p,y);break}else e(p,y);y=y.sibling}w.type===Vc?(j=cc(w.props.children,p.mode,j,w.key),j.return=p,p=j):(j=dp(w.type,w.key,w.props,null,p.mode,j),hh(j,w),j.return=p,p=j)}return r(p);case Ah:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){t(p,y.sibling),j=i(y,w.children||[]),j.return=p,p=j;break e}else{t(p,y);break}else e(p,y);y=y.sibling}j=eb(w,p.mode,j),j.return=p,p=j}return r(p);case hr:return w=Ho(w),S(p,y,w,j)}if(Nh(w))return v(p,y,w,j);if(ch(w)){if(C=ch(w),typeof C!="function")throw Error(B(150));return w=C.call(w),x(p,y,w,j)}if(typeof w.then=="function")return S(p,y,zg(w),j);if(w.$$typeof===Ga)return S(p,y,Fg(p,w),j);Ug(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,y!==null&&y.tag===6?(t(p,y.sibling),j=i(y,w),j.return=p,p=j):(t(p,y),j=Jx(w,p.mode,j),j.return=p,p=j),r(p)):t(p,y)}return function(p,y,w,j){try{pf=0;var C=S(p,y,w,j);return ud=null,C}catch(E){if(E===th||E===yx)throw E;var T=hn(29,E,null,p.mode);return T.lanes=j,T.return=p,T}finally{}}}var gc=QN(!0),ZN=QN(!1),fr=!1;function Dw(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sy(s,e){s=s.updateQueue,e.updateQueue===s&&(e.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function wo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function So(s,e,t){var n=s.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=l0(s),VN(s,null,t),e}return bx(s,n,e,t),l0(s)}function ef(s,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var n=e.lanes;n&=s.pendingLanes,t|=n,e.lanes=t,pN(s,t)}}function sb(s,e){var t=s.updateQueue,n=s.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var r={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};a===null?i=a=r:a=a.next=r,t=t.next}while(t!==null);a===null?i=a=e:a=a.next=e}else i=a=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},s.updateQueue=t;return}s=t.lastBaseUpdate,s===null?t.firstBaseUpdate=e:s.next=e,t.lastBaseUpdate=e}var ny=!1;function tf(){if(ny){var s=dd;if(s!==null)throw s}}function sf(s,e,t,n){ny=!1;var i=s.updateQueue;fr=!1;var a=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var d=l,u=d.next;d.next=null,r===null?a=u:r.next=u,r=d;var h=s.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==r&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=d))}if(a!==null){var f=i.baseState;r=0,h=u=d=null,l=a;do{var m=l.lane&-536870913,g=m!==l.lane;if(g?(pe&m)===m:(n&m)===m){m!==0&&m===Vu&&(ny=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=s,x=l;m=e;var S=t;switch(x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(S,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(S,f,m):v,m==null)break e;f=Qe({},f,m);break e;case 2:fr=!0}}m=l.callback,m!==null&&(s.flags|=64,g&&(s.flags|=8192),g=i.callbacks,g===null?i.callbacks=[m]:g.push(m))}else g={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,d=f):h=h.next=g,r|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);h===null&&(d=f),i.baseState=d,i.firstBaseUpdate=u,i.lastBaseUpdate=h,a===null&&(i.shared.lanes=0),Mo|=r,s.lanes=r,s.memoizedState=f}}function JN(s,e){if(typeof s!="function")throw Error(B(191,s));s.call(e)}function e2(s,e){var t=s.callbacks;if(t!==null)for(s.callbacks=null,s=0;s<t.length;s++)JN(t[s],e)}var $u=Xi(null),h0=Xi(0);function hA(s,e){s=ir,Ye(h0,s),Ye($u,e),ir=s|e.baseLanes}function iy(){Ye(h0,ir),Ye($u,$u.current)}function Rw(){ir=h0.current,$t($u),$t(h0)}var vn=Xi(null),Vn=null;function gr(s){var e=s.alternate;Ye(pt,pt.current&1),Ye(vn,s),Vn===null&&(e===null||$u.current!==null||e.memoizedState!==null)&&(Vn=s)}function ay(s){Ye(pt,pt.current),Ye(vn,s),Vn===null&&(Vn=s)}function t2(s){s.tag===22?(Ye(pt,pt.current),Ye(vn,s),Vn===null&&(Vn=s)):pr()}function pr(){Ye(pt,pt.current),Ye(vn,vn.current)}function dn(s){$t(vn),Vn===s&&(Vn=null),$t(pt)}var pt=Xi(0);function f0(s){for(var e=s;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||Ny(t)||jy(t)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tr=0,le=null,Pe=null,wt=null,m0=!1,hd=!1,pc=!1,g0=0,xf=0,fd=null,ak=0;function ot(){throw Error(B(321))}function Lw(s,e){if(e===null)return!1;for(var t=0;t<e.length&&t<s.length;t++)if(!yn(s[t],e[t]))return!1;return!0}function Ow(s,e,t,n,i,a){return tr=a,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J.H=s===null||s.memoizedState===null?D2:Yw,pc=!1,a=t(n,i),pc=!1,hd&&(a=n2(e,t,n,i)),s2(s),a}function s2(s){J.H=bf;var e=Pe!==null&&Pe.next!==null;if(tr=0,wt=Pe=le=null,m0=!1,xf=0,fd=null,e)throw Error(B(300));s===null||Nt||(s=s.dependencies,s!==null&&d0(s)&&(Nt=!0))}function n2(s,e,t,n){le=s;var i=0;do{if(hd&&(fd=null),xf=0,hd=!1,25<=i)throw Error(B(301));if(i+=1,wt=Pe=null,s.updateQueue!=null){var a=s.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}J.H=R2,a=e(t,n)}while(hd);return a}function rk(){var s=J.H,e=s.useState()[0];return e=typeof e.then=="function"?xg(e):e,s=s.useState()[0],(Pe!==null?Pe.memoizedState:null)!==s&&(le.flags|=1024),e}function Pw(){var s=g0!==0;return g0=0,s}function Bw(s,e,t){e.updateQueue=s.updateQueue,e.flags&=-2053,s.lanes&=~t}function Iw(s){if(m0){for(s=s.memoizedState;s!==null;){var e=s.queue;e!==null&&(e.pending=null),s=s.next}m0=!1}tr=0,wt=Pe=le=null,hd=!1,xf=g0=0,fd=null}function bs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?le.memoizedState=wt=s:wt=wt.next=s,wt}function xt(){if(Pe===null){var s=le.alternate;s=s!==null?s.memoizedState:null}else s=Pe.next;var e=wt===null?le.memoizedState:wt.next;if(e!==null)wt=e,Pe=s;else{if(s===null)throw le.alternate===null?Error(B(467)):Error(B(310));Pe=s,s={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},wt===null?le.memoizedState=wt=s:wt=wt.next=s}return wt}function vx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xg(s){var e=xf;return xf+=1,fd===null&&(fd=[]),s=KN(fd,s,e),e=le,(wt===null?e.memoizedState:wt.next)===null&&(e=e.alternate,J.H=e===null||e.memoizedState===null?D2:Yw),s}function wx(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return xg(s);if(s.$$typeof===Ga)return ns(s)}throw Error(B(438,String(s)))}function Fw(s){var e=null,t=le.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var n=le.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=vx(),le.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(s),n=0;n<s;n++)t[n]=GT;return e.index++,t}function sr(s,e){return typeof e=="function"?e(s):e}function hp(s){var e=xt();return zw(e,Pe,s)}function zw(s,e,t){var n=s.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=s.baseQueue,a=n.pending;if(a!==null){if(i!==null){var r=i.next;i.next=a.next,a.next=r}e.baseQueue=i=a,n.pending=null}if(a=s.baseState,i===null)s.memoizedState=a;else{e=i.next;var l=r=null,d=null,u=e,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(pe&f)===f:(tr&f)===f){var m=u.revertLane;if(m===0)d!==null&&(d=d.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Vu&&(h=!0);else if((tr&m)===m){u=u.next,m===Vu&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},d===null?(l=d=f,r=a):d=d.next=f,le.lanes|=m,Mo|=m;f=u.action,pc&&t(a,f),a=u.hasEagerState?u.eagerState:t(a,f)}else m={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},d===null?(l=d=m,r=a):d=d.next=m,le.lanes|=f,Mo|=f;u=u.next}while(u!==null&&u!==e);if(d===null?r=a:d.next=l,!yn(a,s.memoizedState)&&(Nt=!0,h&&(t=dd,t!==null)))throw t;s.memoizedState=a,s.baseState=r,s.baseQueue=d,n.lastRenderedState=a}return i===null&&(n.lanes=0),[s.memoizedState,n.dispatch]}function nb(s){var e=xt(),t=e.queue;if(t===null)throw Error(B(311));t.lastRenderedReducer=s;var n=t.dispatch,i=t.pending,a=e.memoizedState;if(i!==null){t.pending=null;var r=i=i.next;do a=s(a,r.action),r=r.next;while(r!==i);yn(a,e.memoizedState)||(Nt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),t.lastRenderedState=a}return[a,n]}function i2(s,e,t){var n=le,i=xt(),a=ye;if(a){if(t===void 0)throw Error(B(407));t=t()}else t=e();var r=!yn((Pe||i).memoizedState,t);if(r&&(i.memoizedState=t,Nt=!0),i=i.queue,Uw(o2.bind(null,n,i,s),[s]),i.getSnapshot!==e||r||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Gu(9,{destroy:void 0},r2.bind(null,n,i,t,e),null),Ve===null)throw Error(B(349));a||tr&127||a2(n,e,t)}return t}function a2(s,e,t){s.flags|=16384,s={getSnapshot:e,value:t},e=le.updateQueue,e===null?(e=vx(),le.updateQueue=e,e.stores=[s]):(t=e.stores,t===null?e.stores=[s]:t.push(s))}function r2(s,e,t,n){e.value=t,e.getSnapshot=n,l2(e)&&c2(s)}function o2(s,e,t){return t(function(){l2(e)&&c2(s)})}function l2(s){var e=s.getSnapshot;s=s.value;try{var t=e();return!yn(s,t)}catch{return!0}}function c2(s){var e=Nc(s,2);e!==null&&Fs(e,s,2)}function ry(s){var e=bs();if(typeof s=="function"){var t=s;if(s=t(),pc){mo(!0);try{t()}finally{mo(!1)}}}return e.memoizedState=e.baseState=s,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:s},e}function d2(s,e,t,n){return s.baseState=t,zw(s,Pe,typeof n=="function"?n:sr)}function ok(s,e,t,n,i){if(Ax(s))throw Error(B(485));if(s=e.action,s!==null){var a={payload:i,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};J.T!==null?t(!0):a.isTransition=!1,n(a),t=e.pending,t===null?(a.next=e.pending=a,u2(e,a)):(a.next=t.next,e.pending=t.next=a)}}function u2(s,e){var t=e.action,n=e.payload,i=s.state;if(e.isTransition){var a=J.T,r={};J.T=r;try{var l=t(i,n),d=J.S;d!==null&&d(r,l),fA(s,e,l)}catch(u){oy(s,e,u)}finally{a!==null&&r.types!==null&&(a.types=r.types),J.T=a}}else try{a=t(i,n),fA(s,e,a)}catch(u){oy(s,e,u)}}function fA(s,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(n){mA(s,e,n)},function(n){return oy(s,e,n)}):mA(s,e,t)}function mA(s,e,t){e.status="fulfilled",e.value=t,h2(e),s.state=t,e=s.pending,e!==null&&(t=e.next,t===e?s.pending=null:(t=t.next,e.next=t,u2(s,t)))}function oy(s,e,t){var n=s.pending;if(s.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=t,h2(e),e=e.next;while(e!==n)}s.action=null}function h2(s){s=s.listeners;for(var e=0;e<s.length;e++)(0,s[e])()}function f2(s,e){return e}function gA(s,e){if(ye){var t=Ve.formState;if(t!==null){e:{var n=le;if(ye){if(We){t:{for(var i=We,a=zn;i.nodeType!==8;){if(!a){i=null;break t}if(i=$n(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){We=$n(i.nextSibling),n=i.data==="F!";break e}}_o(n)}n=!1}n&&(e=t[0])}}return t=bs(),t.memoizedState=t.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f2,lastRenderedState:e},t.queue=n,t=_2.bind(null,le,n),n.dispatch=t,n=ry(!1),a=Gw.bind(null,le,!1,n.queue),n=bs(),i={state:e,dispatch:null,action:s,pending:null},n.queue=i,t=ok.bind(null,le,i,a,t),i.dispatch=t,n.memoizedState=s,[e,t,!1]}function pA(s){var e=xt();return m2(e,Pe,s)}function m2(s,e,t){if(e=zw(s,e,f2)[0],s=hp(sr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=xg(e)}catch(r){throw r===th?yx:r}else n=e;e=xt();var i=e.queue,a=i.dispatch;return t!==e.memoizedState&&(le.flags|=2048,Gu(9,{destroy:void 0},lk.bind(null,i,t),null)),[n,a,s]}function lk(s,e){s.action=e}function xA(s){var e=xt(),t=Pe;if(t!==null)return m2(e,t,s);xt(),e=e.memoizedState,t=xt();var n=t.queue.dispatch;return t.memoizedState=s,[e,n,!1]}function Gu(s,e,t,n){return s={tag:s,create:t,deps:n,inst:e,next:null},e=le.updateQueue,e===null&&(e=vx(),le.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=s.next=s:(n=t.next,t.next=s,s.next=n,e.lastEffect=s),s}function g2(){return xt().memoizedState}function fp(s,e,t,n){var i=bs();le.flags|=s,i.memoizedState=Gu(1|e,{destroy:void 0},t,n===void 0?null:n)}function Sx(s,e,t,n){var i=xt();n=n===void 0?null:n;var a=i.memoizedState.inst;Pe!==null&&n!==null&&Lw(n,Pe.memoizedState.deps)?i.memoizedState=Gu(e,a,t,n):(le.flags|=s,i.memoizedState=Gu(1|e,a,t,n))}function bA(s,e){fp(8390656,8,s,e)}function Uw(s,e){Sx(2048,8,s,e)}function ck(s){le.flags|=4;var e=le.updateQueue;if(e===null)e=vx(),le.updateQueue=e,e.events=[s];else{var t=e.events;t===null?e.events=[s]:t.push(s)}}function p2(s){var e=xt().memoizedState;return ck({ref:e,nextImpl:s}),function(){if(Ne&2)throw Error(B(440));return e.impl.apply(void 0,arguments)}}function x2(s,e){return Sx(4,2,s,e)}function b2(s,e){return Sx(4,4,s,e)}function y2(s,e){if(typeof e=="function"){s=s();var t=e(s);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return s=s(),e.current=s,function(){e.current=null}}function v2(s,e,t){t=t!=null?t.concat([s]):null,Sx(4,4,y2.bind(null,e,s),t)}function Hw(){}function w2(s,e){var t=xt();e=e===void 0?null:e;var n=t.memoizedState;return e!==null&&Lw(e,n[1])?n[0]:(t.memoizedState=[s,e],s)}function S2(s,e){var t=xt();e=e===void 0?null:e;var n=t.memoizedState;if(e!==null&&Lw(e,n[1]))return n[0];if(n=s(),pc){mo(!0);try{s()}finally{mo(!1)}}return t.memoizedState=[n,e],n}function Vw(s,e,t){return t===void 0||tr&1073741824&&!(pe&261930)?s.memoizedState=e:(s.memoizedState=t,s=dj(),le.lanes|=s,Mo|=s,t)}function A2(s,e,t,n){return yn(t,e)?t:$u.current!==null?(s=Vw(s,t,n),yn(s,e)||(Nt=!0),s):!(tr&42)||tr&1073741824&&!(pe&261930)?(Nt=!0,s.memoizedState=t):(s=dj(),le.lanes|=s,Mo|=s,e)}function N2(s,e,t,n,i){var a=je.p;je.p=a!==0&&8>a?a:8;var r=J.T,l={};J.T=l,Gw(s,!1,e,t);try{var d=i(),u=J.S;if(u!==null&&u(l,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=ik(d,n);nf(s,e,h,xn(s))}else nf(s,e,n,xn(s))}catch(f){nf(s,e,{then:function(){},status:"rejected",reason:f},xn())}finally{je.p=a,r!==null&&l.types!==null&&(r.types=l.types),J.T=r}}function dk(){}function ly(s,e,t,n){if(s.tag!==5)throw Error(B(476));var i=j2(s).queue;N2(s,i,e,lc,t===null?dk:function(){return E2(s),t(n)})}function j2(s){var e=s.memoizedState;if(e!==null)return e;e={memoizedState:lc,baseState:lc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:lc},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:t},next:null},s.memoizedState=e,s=s.alternate,s!==null&&(s.memoizedState=e),e}function E2(s){var e=j2(s);e.next===null&&(e=s.alternate.memoizedState),nf(s,e.next.queue,{},xn())}function $w(){return ns(wf)}function C2(){return xt().memoizedState}function T2(){return xt().memoizedState}function uk(s){for(var e=s.return;e!==null;){switch(e.tag){case 24:case 3:var t=xn();s=wo(t);var n=So(e,s,t);n!==null&&(Fs(n,e,t),ef(n,e,t)),e={cache:_w()},s.payload=e;return}e=e.return}}function hk(s,e,t){var n=xn();t={lane:n,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null},Ax(s)?k2(e,t):(t=jw(s,e,t,n),t!==null&&(Fs(t,s,n),M2(t,e,n)))}function _2(s,e,t){var n=xn();nf(s,e,t,n)}function nf(s,e,t,n){var i={lane:n,revertLane:0,gesture:null,action:t,hasEagerState:!1,eagerState:null,next:null};if(Ax(s))k2(e,i);else{var a=s.alternate;if(s.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var r=e.lastRenderedState,l=a(r,t);if(i.hasEagerState=!0,i.eagerState=l,yn(l,r))return bx(s,e,i,0),Ve===null&&xx(),!1}catch{}finally{}if(t=jw(s,e,i,n),t!==null)return Fs(t,s,n),M2(t,e,n),!0}return!1}function Gw(s,e,t,n){if(n={lane:2,revertLane:eS(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ax(s)){if(e)throw Error(B(479))}else e=jw(s,t,n,2),e!==null&&Fs(e,s,2)}function Ax(s){var e=s.alternate;return s===le||e!==null&&e===le}function k2(s,e){hd=m0=!0;var t=s.pending;t===null?e.next=e:(e.next=t.next,t.next=e),s.pending=e}function M2(s,e,t){if(t&4194048){var n=e.lanes;n&=s.pendingLanes,t|=n,e.lanes=t,pN(s,t)}}var bf={readContext:ns,use:wx,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};bf.useEffectEvent=ot;var D2={readContext:ns,use:wx,useCallback:function(s,e){return bs().memoizedState=[s,e===void 0?null:e],s},useContext:ns,useEffect:bA,useImperativeHandle:function(s,e,t){t=t!=null?t.concat([s]):null,fp(4194308,4,y2.bind(null,e,s),t)},useLayoutEffect:function(s,e){return fp(4194308,4,s,e)},useInsertionEffect:function(s,e){fp(4,2,s,e)},useMemo:function(s,e){var t=bs();e=e===void 0?null:e;var n=s();if(pc){mo(!0);try{s()}finally{mo(!1)}}return t.memoizedState=[n,e],n},useReducer:function(s,e,t){var n=bs();if(t!==void 0){var i=t(e);if(pc){mo(!0);try{t(e)}finally{mo(!1)}}}else i=e;return n.memoizedState=n.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},n.queue=s,s=s.dispatch=hk.bind(null,le,s),[n.memoizedState,s]},useRef:function(s){var e=bs();return s={current:s},e.memoizedState=s},useState:function(s){s=ry(s);var e=s.queue,t=_2.bind(null,le,e);return e.dispatch=t,[s.memoizedState,t]},useDebugValue:Hw,useDeferredValue:function(s,e){var t=bs();return Vw(t,s,e)},useTransition:function(){var s=ry(!1);return s=N2.bind(null,le,s.queue,!0,!1),bs().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,e,t){var n=le,i=bs();if(ye){if(t===void 0)throw Error(B(407));t=t()}else{if(t=e(),Ve===null)throw Error(B(349));pe&127||a2(n,e,t)}i.memoizedState=t;var a={value:t,getSnapshot:e};return i.queue=a,bA(o2.bind(null,n,a,s),[s]),n.flags|=2048,Gu(9,{destroy:void 0},r2.bind(null,n,a,t,e),null),t},useId:function(){var s=bs(),e=Ve.identifierPrefix;if(ye){var t=Hi,n=Ui;t=(n&~(1<<32-pn(n)-1)).toString(32)+t,e="_"+e+"R_"+t,t=g0++,0<t&&(e+="H"+t.toString(32)),e+="_"}else t=ak++,e="_"+e+"r_"+t.toString(32)+"_";return s.memoizedState=e},useHostTransitionStatus:$w,useFormState:gA,useActionState:gA,useOptimistic:function(s){var e=bs();e.memoizedState=e.baseState=s;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=Gw.bind(null,le,!0,t),t.dispatch=e,[s,e]},useMemoCache:Fw,useCacheRefresh:function(){return bs().memoizedState=uk.bind(null,le)},useEffectEvent:function(s){var e=bs(),t={impl:s};return e.memoizedState=t,function(){if(Ne&2)throw Error(B(440));return t.impl.apply(void 0,arguments)}}},Yw={readContext:ns,use:wx,useCallback:w2,useContext:ns,useEffect:Uw,useImperativeHandle:v2,useInsertionEffect:x2,useLayoutEffect:b2,useMemo:S2,useReducer:hp,useRef:g2,useState:function(){return hp(sr)},useDebugValue:Hw,useDeferredValue:function(s,e){var t=xt();return A2(t,Pe.memoizedState,s,e)},useTransition:function(){var s=hp(sr)[0],e=xt().memoizedState;return[typeof s=="boolean"?s:xg(s),e]},useSyncExternalStore:i2,useId:C2,useHostTransitionStatus:$w,useFormState:pA,useActionState:pA,useOptimistic:function(s,e){var t=xt();return d2(t,Pe,s,e)},useMemoCache:Fw,useCacheRefresh:T2};Yw.useEffectEvent=p2;var R2={readContext:ns,use:wx,useCallback:w2,useContext:ns,useEffect:Uw,useImperativeHandle:v2,useInsertionEffect:x2,useLayoutEffect:b2,useMemo:S2,useReducer:nb,useRef:g2,useState:function(){return nb(sr)},useDebugValue:Hw,useDeferredValue:function(s,e){var t=xt();return Pe===null?Vw(t,s,e):A2(t,Pe.memoizedState,s,e)},useTransition:function(){var s=nb(sr)[0],e=xt().memoizedState;return[typeof s=="boolean"?s:xg(s),e]},useSyncExternalStore:i2,useId:C2,useHostTransitionStatus:$w,useFormState:xA,useActionState:xA,useOptimistic:function(s,e){var t=xt();return Pe!==null?d2(t,Pe,s,e):(t.baseState=s,[s,t.queue.dispatch])},useMemoCache:Fw,useCacheRefresh:T2};R2.useEffectEvent=p2;function ib(s,e,t,n){e=s.memoizedState,t=t(n,e),t=t==null?e:Qe({},e,t),s.memoizedState=t,s.lanes===0&&(s.updateQueue.baseState=t)}var cy={enqueueSetState:function(s,e,t){s=s._reactInternals;var n=xn(),i=wo(n);i.payload=e,t!=null&&(i.callback=t),e=So(s,i,n),e!==null&&(Fs(e,s,n),ef(e,s,n))},enqueueReplaceState:function(s,e,t){s=s._reactInternals;var n=xn(),i=wo(n);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=So(s,i,n),e!==null&&(Fs(e,s,n),ef(e,s,n))},enqueueForceUpdate:function(s,e){s=s._reactInternals;var t=xn(),n=wo(t);n.tag=2,e!=null&&(n.callback=e),e=So(s,n,t),e!==null&&(Fs(e,s,t),ef(e,s,t))}};function yA(s,e,t,n,i,a,r){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(n,a,r):e.prototype&&e.prototype.isPureReactComponent?!ff(t,n)||!ff(i,a):!0}function vA(s,e,t,n){s=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==s&&cy.enqueueReplaceState(e,e.state,null)}function xc(s,e){var t=e;if("ref"in e){t={};for(var n in e)n!=="ref"&&(t[n]=e[n])}if(s=s.defaultProps){t===e&&(t=Qe({},t));for(var i in s)t[i]===void 0&&(t[i]=s[i])}return t}function L2(s){o0(s)}function O2(s){console.error(s)}function P2(s){o0(s)}function p0(s,e){try{var t=s.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function wA(s,e,t){try{var n=s.onCaughtError;n(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function dy(s,e,t){return t=wo(t),t.tag=3,t.payload={element:null},t.callback=function(){p0(s,e)},t}function B2(s){return s=wo(s),s.tag=3,s}function I2(s,e,t,n){var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;s.payload=function(){return i(a)},s.callback=function(){wA(e,t,n)}}var r=t.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(s.callback=function(){wA(e,t,n),typeof i!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function fk(s,e,t,n,i){if(t.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=t.alternate,e!==null&&eh(e,t,i,!0),t=vn.current,t!==null){switch(t.tag){case 31:case 13:return Vn===null?w0():t.alternate===null&&ft===0&&(ft=3),t.flags&=-257,t.flags|=65536,t.lanes=i,n===u0?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([n]):e.add(n),gb(s,n,i)),!1;case 22:return t.flags|=65536,n===u0?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([n]):t.add(n)),gb(s,n,i)),!1}throw Error(B(435,t.tag))}return gb(s,n,i),w0(),!1}if(ye)return e=vn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==Qb&&(s=Error(B(422),{cause:n}),gf(Fn(s,t)))):(n!==Qb&&(e=Error(B(423),{cause:n}),gf(Fn(e,t))),s=s.current.alternate,s.flags|=65536,i&=-i,s.lanes|=i,n=Fn(n,t),i=dy(s.stateNode,n,i),sb(s,i),ft!==4&&(ft=2)),!1;var a=Error(B(520),{cause:n});if(a=Fn(a,t),of===null?of=[a]:of.push(a),ft!==4&&(ft=2),e===null)return!0;n=Fn(n,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,s=i&-i,t.lanes|=s,s=dy(t.stateNode,n,s),sb(t,s),!1;case 1:if(e=t.type,a=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Ao===null||!Ao.has(a))))return t.flags|=65536,i&=-i,t.lanes|=i,i=B2(i),I2(i,s,t,n),sb(t,i),!1}t=t.return}while(t!==null);return!1}var qw=Error(B(461)),Nt=!1;function Qt(s,e,t,n){e.child=s===null?ZN(e,null,t,n):gc(e,s.child,t,n)}function SA(s,e,t,n,i){t=t.render;var a=e.ref;if("ref"in n){var r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}else r=n;return mc(e),n=Ow(s,e,t,r,a,i),l=Pw(),s!==null&&!Nt?(Bw(s,e,i),nr(s,e,i)):(ye&&l&&Cw(e),e.flags|=1,Qt(s,e,n,i),e.child)}function AA(s,e,t,n,i){if(s===null){var a=t.type;return typeof a=="function"&&!Ew(a)&&a.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=a,F2(s,e,a,n,i)):(s=dp(t.type,null,n,e,e.mode,i),s.ref=e.ref,s.return=e,e.child=s)}if(a=s.child,!Xw(s,i)){var r=a.memoizedProps;if(t=t.compare,t=t!==null?t:ff,t(r,n)&&s.ref===e.ref)return nr(s,e,i)}return e.flags|=1,s=Xa(a,n),s.ref=e.ref,s.return=e,e.child=s}function F2(s,e,t,n,i){if(s!==null){var a=s.memoizedProps;if(ff(a,n)&&s.ref===e.ref)if(Nt=!1,e.pendingProps=n=a,Xw(s,i))s.flags&131072&&(Nt=!0);else return e.lanes=s.lanes,nr(s,e,i)}return uy(s,e,t,n,i)}function z2(s,e,t,n){var i=n.children,a=s!==null?s.memoizedState:null;if(s===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|t:t,s!==null){for(n=e.child=s.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~a}else n=0,e.child=null;return NA(s,e,a,t,n)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},s!==null&&up(e,a!==null?a.cachePool:null),a!==null?hA(e,a):iy(),t2(e);else return n=e.lanes=536870912,NA(s,e,a!==null?a.baseLanes|t:t,t,n)}else a!==null?(up(e,a.cachePool),hA(e,a),pr(),e.memoizedState=null):(s!==null&&up(e,null),iy(),pr());return Qt(s,e,i,t),e.child}function Eh(s,e){return s!==null&&s.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function NA(s,e,t,n,i){var a=kw();return a=a===null?null:{parent:At._currentValue,pool:a},e.memoizedState={baseLanes:t,cachePool:a},s!==null&&up(e,null),iy(),t2(e),s!==null&&eh(s,e,n,!0),e.childLanes=i,null}function mp(s,e){return e=x0({mode:e.mode,children:e.children},s.mode),e.ref=s.ref,s.child=e,e.return=s,e}function jA(s,e,t){return gc(e,s.child,null,t),s=mp(e,e.pendingProps),s.flags|=2,dn(e),e.memoizedState=null,s}function mk(s,e,t){var n=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,s===null){if(ye){if(n.mode==="hidden")return s=mp(e,n),e.lanes=536870912,Eh(null,s);if(ay(e),(s=We)?(s=Dj(s,zn),s=s!==null&&s.data==="&"?s:null,s!==null&&(e.memoizedState={dehydrated:s,treeContext:To!==null?{id:Ui,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},t=GN(s),t.return=e,e.child=t,ts=e,We=null)):s=null,s===null)throw _o(e);return e.lanes=536870912,null}return mp(e,n)}var a=s.memoizedState;if(a!==null){var r=a.dehydrated;if(ay(e),i)if(e.flags&256)e.flags&=-257,e=jA(s,e,t);else if(e.memoizedState!==null)e.child=s.child,e.flags|=128,e=null;else throw Error(B(558));else if(Nt||eh(s,e,t,!1),i=(t&s.childLanes)!==0,Nt||i){if(n=Ve,n!==null&&(r=xN(n,t),r!==0&&r!==a.retryLane))throw a.retryLane=r,Nc(s,r),Fs(n,s,r),qw;w0(),e=jA(s,e,t)}else s=a.treeContext,We=$n(r.nextSibling),ts=e,ye=!0,vo=null,zn=!1,s!==null&&qN(e,s),e=mp(e,n),e.flags|=4096;return e}return s=Xa(s.child,{mode:n.mode,children:n.children}),s.ref=e.ref,e.child=s,s.return=e,s}function gp(s,e){var t=e.ref;if(t===null)s!==null&&s.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(B(284));(s===null||s.ref!==t)&&(e.flags|=4194816)}}function uy(s,e,t,n,i){return mc(e),t=Ow(s,e,t,n,void 0,i),n=Pw(),s!==null&&!Nt?(Bw(s,e,i),nr(s,e,i)):(ye&&n&&Cw(e),e.flags|=1,Qt(s,e,t,i),e.child)}function EA(s,e,t,n,i,a){return mc(e),e.updateQueue=null,t=n2(e,n,t,i),s2(s),n=Pw(),s!==null&&!Nt?(Bw(s,e,a),nr(s,e,a)):(ye&&n&&Cw(e),e.flags|=1,Qt(s,e,t,a),e.child)}function CA(s,e,t,n,i){if(mc(e),e.stateNode===null){var a=Qc,r=t.contextType;typeof r=="object"&&r!==null&&(a=ns(r)),a=new t(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=cy,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},Dw(e),r=t.contextType,a.context=typeof r=="object"&&r!==null?ns(r):Qc,a.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(ib(e,t,r,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&cy.enqueueReplaceState(a,a.state,null),sf(e,n,a,i),tf(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(s===null){a=e.stateNode;var l=e.memoizedProps,d=xc(t,l);a.props=d;var u=a.context,h=t.contextType;r=Qc,typeof h=="object"&&h!==null&&(r=ns(h));var f=t.getDerivedStateFromProps;h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==r)&&vA(e,a,n,r),fr=!1;var m=e.memoizedState;a.state=m,sf(e,n,a,i),tf(),u=e.memoizedState,l||m!==u||fr?(typeof f=="function"&&(ib(e,t,f,n),u=e.memoizedState),(d=fr||yA(e,t,d,n,m,u,r))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=r,n=d):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,sy(s,e),r=e.memoizedProps,h=xc(t,r),a.props=h,f=e.pendingProps,m=a.context,u=t.contextType,d=Qc,typeof u=="object"&&u!==null&&(d=ns(u)),l=t.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||m!==d)&&vA(e,a,n,d),fr=!1,m=e.memoizedState,a.state=m,sf(e,n,a,i),tf();var g=e.memoizedState;r!==f||m!==g||fr||s!==null&&s.dependencies!==null&&d0(s.dependencies)?(typeof l=="function"&&(ib(e,t,l,n),g=e.memoizedState),(h=fr||yA(e,t,h,n,m,g,d)||s!==null&&s.dependencies!==null&&d0(s.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,d)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===s.memoizedProps&&m===s.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===s.memoizedProps&&m===s.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=d,n=h):(typeof a.componentDidUpdate!="function"||r===s.memoizedProps&&m===s.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===s.memoizedProps&&m===s.memoizedState||(e.flags|=1024),n=!1)}return a=n,gp(s,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,t=n&&typeof t.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,s!==null&&n?(e.child=gc(e,s.child,null,i),e.child=gc(e,null,t,i)):Qt(s,e,t,i),e.memoizedState=a.state,s=e.child):s=nr(s,e,i),s}function TA(s,e,t,n){return fc(),e.flags|=256,Qt(s,e,t,n),e.child}var ab={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rb(s){return{baseLanes:s,cachePool:WN()}}function ob(s,e,t){return s=s!==null?s.childLanes&~t:0,e&&(s|=fn),s}function U2(s,e,t){var n=e.pendingProps,i=!1,a=(e.flags&128)!==0,r;if((r=a)||(r=s!==null&&s.memoizedState===null?!1:(pt.current&2)!==0),r&&(i=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,s===null){if(ye){if(i?gr(e):pr(),(s=We)?(s=Dj(s,zn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(e.memoizedState={dehydrated:s,treeContext:To!==null?{id:Ui,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},t=GN(s),t.return=e,e.child=t,ts=e,We=null)):s=null,s===null)throw _o(e);return jy(s)?e.lanes=32:e.lanes=536870912,null}var l=n.children;return n=n.fallback,i?(pr(),i=e.mode,l=x0({mode:"hidden",children:l},i),n=cc(n,i,t,null),l.return=e,n.return=e,l.sibling=n,e.child=l,n=e.child,n.memoizedState=rb(t),n.childLanes=ob(s,r,t),e.memoizedState=ab,Eh(null,n)):(gr(e),hy(e,l))}var d=s.memoizedState;if(d!==null&&(l=d.dehydrated,l!==null)){if(a)e.flags&256?(gr(e),e.flags&=-257,e=lb(s,e,t)):e.memoizedState!==null?(pr(),e.child=s.child,e.flags|=128,e=null):(pr(),l=n.fallback,i=e.mode,n=x0({mode:"visible",children:n.children},i),l=cc(l,i,t,null),l.flags|=2,n.return=e,l.return=e,n.sibling=l,e.child=n,gc(e,s.child,null,t),n=e.child,n.memoizedState=rb(t),n.childLanes=ob(s,r,t),e.memoizedState=ab,e=Eh(null,n));else if(gr(e),jy(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,n=Error(B(419)),n.stack="",n.digest=r,gf({value:n,source:null,stack:null}),e=lb(s,e,t)}else if(Nt||eh(s,e,t,!1),r=(t&s.childLanes)!==0,Nt||r){if(r=Ve,r!==null&&(n=xN(r,t),n!==0&&n!==d.retryLane))throw d.retryLane=n,Nc(s,n),Fs(r,s,n),qw;Ny(l)||w0(),e=lb(s,e,t)}else Ny(l)?(e.flags|=192,e.child=s.child,e=null):(s=d.treeContext,We=$n(l.nextSibling),ts=e,ye=!0,vo=null,zn=!1,s!==null&&qN(e,s),e=hy(e,n.children),e.flags|=4096);return e}return i?(pr(),l=n.fallback,i=e.mode,d=s.child,u=d.sibling,n=Xa(d,{mode:"hidden",children:n.children}),n.subtreeFlags=d.subtreeFlags&65011712,u!==null?l=Xa(u,l):(l=cc(l,i,t,null),l.flags|=2),l.return=e,n.return=e,n.sibling=l,e.child=n,Eh(null,n),n=e.child,l=s.child.memoizedState,l===null?l=rb(t):(i=l.cachePool,i!==null?(d=At._currentValue,i=i.parent!==d?{parent:d,pool:d}:i):i=WN(),l={baseLanes:l.baseLanes|t,cachePool:i}),n.memoizedState=l,n.childLanes=ob(s,r,t),e.memoizedState=ab,Eh(s.child,n)):(gr(e),t=s.child,s=t.sibling,t=Xa(t,{mode:"visible",children:n.children}),t.return=e,t.sibling=null,s!==null&&(r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)),e.child=t,e.memoizedState=null,t)}function hy(s,e){return e=x0({mode:"visible",children:e},s.mode),e.return=s,s.child=e}function x0(s,e){return s=hn(22,s,null,e),s.lanes=0,s}function lb(s,e,t){return gc(e,s.child,null,t),s=hy(e,e.pendingProps.children),s.flags|=2,e.memoizedState=null,s}function _A(s,e,t){s.lanes|=e;var n=s.alternate;n!==null&&(n.lanes|=e),Jb(s.return,e,t)}function cb(s,e,t,n,i,a){var r=s.memoizedState;r===null?s.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i,treeForkCount:a}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=t,r.tailMode=i,r.treeForkCount=a)}function H2(s,e,t){var n=e.pendingProps,i=n.revealOrder,a=n.tail;n=n.children;var r=pt.current,l=(r&2)!==0;if(l?(r=r&1|2,e.flags|=128):r&=1,Ye(pt,r),Qt(s,e,n,t),n=ye?mf:0,!l&&s!==null&&s.flags&128)e:for(s=e.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_A(s,t,e);else if(s.tag===19)_A(s,t,e);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(i){case"forwards":for(t=e.child,i=null;t!==null;)s=t.alternate,s!==null&&f0(s)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),cb(e,!1,i,t,a,n);break;case"backwards":case"unstable_legacy-backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(s=i.alternate,s!==null&&f0(s)===null){e.child=i;break}s=i.sibling,i.sibling=t,t=i,i=s}cb(e,!0,t,null,a,n);break;case"together":cb(e,!1,null,null,void 0,n);break;default:e.memoizedState=null}return e.child}function nr(s,e,t){if(s!==null&&(e.dependencies=s.dependencies),Mo|=e.lanes,!(t&e.childLanes))if(s!==null){if(eh(s,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(s!==null&&e.child!==s.child)throw Error(B(153));if(e.child!==null){for(s=e.child,t=Xa(s,s.pendingProps),e.child=t,t.return=e;s.sibling!==null;)s=s.sibling,t=t.sibling=Xa(s,s.pendingProps),t.return=e;t.sibling=null}return e.child}function Xw(s,e){return s.lanes&e?!0:(s=s.dependencies,!!(s!==null&&d0(s)))}function gk(s,e,t){switch(e.tag){case 3:n0(e,e.stateNode.containerInfo),mr(e,At,s.memoizedState.cache),fc();break;case 27:case 5:zb(e);break;case 4:n0(e,e.stateNode.containerInfo);break;case 10:mr(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,ay(e),null;break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(gr(e),e.flags|=128,null):t&e.child.childLanes?U2(s,e,t):(gr(e),s=nr(s,e,t),s!==null?s.sibling:null);gr(e);break;case 19:var i=(s.flags&128)!==0;if(n=(t&e.childLanes)!==0,n||(eh(s,e,t,!1),n=(t&e.childLanes)!==0),i){if(n)return H2(s,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(pt,pt.current),n)break;return null;case 22:return e.lanes=0,z2(s,e,t,e.pendingProps);case 24:mr(e,At,s.memoizedState.cache)}return nr(s,e,t)}function V2(s,e,t){if(s!==null)if(s.memoizedProps!==e.pendingProps)Nt=!0;else{if(!Xw(s,t)&&!(e.flags&128))return Nt=!1,gk(s,e,t);Nt=!!(s.flags&131072)}else Nt=!1,ye&&e.flags&1048576&&YN(e,mf,e.index);switch(e.lanes=0,e.tag){case 16:e:{var n=e.pendingProps;if(s=Ho(e.elementType),e.type=s,typeof s=="function")Ew(s)?(n=xc(s,n),e.tag=1,e=CA(null,e,s,n,t)):(e.tag=0,e=uy(null,e,s,n,t));else{if(s!=null){var i=s.$$typeof;if(i===hw){e.tag=11,e=SA(null,e,s,n,t);break e}else if(i===fw){e.tag=14,e=AA(null,e,s,n,t);break e}}throw e=Ib(s)||s,Error(B(306,e,""))}}return e;case 0:return uy(s,e,e.type,e.pendingProps,t);case 1:return n=e.type,i=xc(n,e.pendingProps),CA(s,e,n,i,t);case 3:e:{if(n0(e,e.stateNode.containerInfo),s===null)throw Error(B(387));n=e.pendingProps;var a=e.memoizedState;i=a.element,sy(s,e),sf(e,n,null,t);var r=e.memoizedState;if(n=r.cache,mr(e,At,n),n!==a.cache&&ey(e,[At],t,!0),tf(),n=r.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=TA(s,e,n,t);break e}else if(n!==i){i=Fn(Error(B(424)),e),gf(i),e=TA(s,e,n,t);break e}else{switch(s=e.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(We=$n(s.firstChild),ts=e,ye=!0,vo=null,zn=!0,t=ZN(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(fc(),n===i){e=nr(s,e,t);break e}Qt(s,e,n,t)}e=e.child}return e;case 26:return gp(s,e),s===null?(t=WA(e.type,null,e.pendingProps,null))?e.memoizedState=t:ye||(t=e.type,s=e.pendingProps,n=j0(yo.current).createElement(t),n[es]=e,n[zs]=s,is(n,t,s),Vt(n),e.stateNode=n):e.memoizedState=WA(e.type,s.memoizedProps,e.pendingProps,s.memoizedState),null;case 27:return zb(e),s===null&&ye&&(n=e.stateNode=Rj(e.type,e.pendingProps,yo.current),ts=e,zn=!0,i=We,Bo(e.type)?(Ey=i,We=$n(n.firstChild)):We=i),Qt(s,e,e.pendingProps.children,t),gp(s,e),s===null&&(e.flags|=4194304),e.child;case 5:return s===null&&ye&&((i=n=We)&&(n=Gk(n,e.type,e.pendingProps,zn),n!==null?(e.stateNode=n,ts=e,We=$n(n.firstChild),zn=!1,i=!0):i=!1),i||_o(e)),zb(e),i=e.type,a=e.pendingProps,r=s!==null?s.memoizedProps:null,n=a.children,Sy(i,a)?n=null:r!==null&&Sy(i,r)&&(e.flags|=32),e.memoizedState!==null&&(i=Ow(s,e,rk,null,null,t),wf._currentValue=i),gp(s,e),Qt(s,e,n,t),e.child;case 6:return s===null&&ye&&((s=t=We)&&(t=Yk(t,e.pendingProps,zn),t!==null?(e.stateNode=t,ts=e,We=null,s=!0):s=!1),s||_o(e)),null;case 13:return U2(s,e,t);case 4:return n0(e,e.stateNode.containerInfo),n=e.pendingProps,s===null?e.child=gc(e,null,n,t):Qt(s,e,n,t),e.child;case 11:return SA(s,e,e.type,e.pendingProps,t);case 7:return Qt(s,e,e.pendingProps,t),e.child;case 8:return Qt(s,e,e.pendingProps.children,t),e.child;case 12:return Qt(s,e,e.pendingProps.children,t),e.child;case 10:return n=e.pendingProps,mr(e,e.type,n.value),Qt(s,e,n.children,t),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,mc(e),i=ns(i),n=n(i),e.flags|=1,Qt(s,e,n,t),e.child;case 14:return AA(s,e,e.type,e.pendingProps,t);case 15:return F2(s,e,e.type,e.pendingProps,t);case 19:return H2(s,e,t);case 31:return mk(s,e,t);case 22:return z2(s,e,t,e.pendingProps);case 24:return mc(e),n=ns(At),s===null?(i=kw(),i===null&&(i=Ve,a=_w(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=t),i=a),e.memoizedState={parent:n,cache:i},Dw(e),mr(e,At,i)):(s.lanes&t&&(sy(s,e),sf(e,null,null,t),tf()),i=s.memoizedState,a=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),mr(e,At,n)):(n=a.cache,mr(e,At,n),n!==i.cache&&ey(e,[At],t,!0))),Qt(s,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(B(156,e.tag))}function Ji(s){s.flags|=4}function db(s,e,t,n,i){if((e=(s.mode&32)!==0)&&(e=!1),e){if(s.flags|=16777216,(i&335544128)===i)if(s.stateNode.complete)s.flags|=8192;else if(fj())s.flags|=8192;else throw uc=u0,Mw}else s.flags&=-16777217}function kA(s,e){if(e.type!=="stylesheet"||e.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!Pj(e))if(fj())s.flags|=8192;else throw uc=u0,Mw}function Hg(s,e){e!==null&&(s.flags|=4),s.flags&16384&&(e=s.tag!==22?mN():536870912,s.lanes|=e,Yu|=e)}function fh(s,e){if(!ye)switch(s.tailMode){case"hidden":e=s.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?s.tail=null:t.sibling=null;break;case"collapsed":t=s.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||s.tail===null?s.tail=null:s.tail.sibling=null:n.sibling=null}}function qe(s){var e=s.alternate!==null&&s.alternate.child===s.child,t=0,n=0;if(e)for(var i=s.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=s,i=i.sibling;else for(i=s.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=s,i=i.sibling;return s.subtreeFlags|=n,s.childLanes=t,e}function pk(s,e,t){var n=e.pendingProps;switch(Tw(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return qe(e),null;case 3:return t=e.stateNode,n=null,s!==null&&(n=s.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Wa(At),zu(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(s===null||s.child===null)&&(_c(e)?Ji(e):s===null||s.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tb())),qe(e),null;case 26:var i=e.type,a=e.memoizedState;return s===null?(Ji(e),a!==null?(qe(e),kA(e,a)):(qe(e),db(e,i,null,n,t))):a?a!==s.memoizedState?(Ji(e),qe(e),kA(e,a)):(qe(e),e.flags&=-16777217):(s=s.memoizedProps,s!==n&&Ji(e),qe(e),db(e,i,s,n,t)),null;case 27:if(i0(e),t=yo.current,i=e.type,s!==null&&e.stateNode!=null)s.memoizedProps!==n&&Ji(e);else{if(!n){if(e.stateNode===null)throw Error(B(166));return qe(e),null}s=$i.current,_c(e)?aA(e):(s=Rj(i,n,t),e.stateNode=s,Ji(e))}return qe(e),null;case 5:if(i0(e),i=e.type,s!==null&&e.stateNode!=null)s.memoizedProps!==n&&Ji(e);else{if(!n){if(e.stateNode===null)throw Error(B(166));return qe(e),null}if(a=$i.current,_c(e))aA(e);else{var r=j0(yo.current);switch(a){case 1:a=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=r.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?a.multiple=!0:n.size&&(a.size=n.size);break;default:a=typeof n.is=="string"?r.createElement(i,{is:n.is}):r.createElement(i)}}a[es]=e,a[zs]=n;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)a.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=a;e:switch(is(a,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ji(e)}}return qe(e),db(e,e.type,s===null?null:s.memoizedProps,e.pendingProps,t),null;case 6:if(s&&e.stateNode!=null)s.memoizedProps!==n&&Ji(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(s=yo.current,_c(e)){if(s=e.stateNode,t=e.memoizedProps,n=null,i=ts,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}s[es]=e,s=!!(s.nodeValue===t||n!==null&&n.suppressHydrationWarning===!0||_j(s.nodeValue,t)),s||_o(e,!0)}else s=j0(s).createTextNode(n),s[es]=e,e.stateNode=s}return qe(e),null;case 31:if(t=e.memoizedState,s===null||s.memoizedState!==null){if(n=_c(e),t!==null){if(s===null){if(!n)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(557));s[es]=e}else fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),s=!1}else t=tb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=t),s=!0;if(!s)return e.flags&256?(dn(e),e):(dn(e),null);if(e.flags&128)throw Error(B(558))}return qe(e),null;case 13:if(n=e.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(i=_c(e),n!==null&&n.dehydrated!==null){if(s===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[es]=e}else fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),i=!1}else i=tb(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(dn(e),e):(dn(e),null)}return dn(e),e.flags&128?(e.lanes=t,e):(t=n!==null,s=s!==null&&s.memoizedState!==null,t&&(n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)),t!==s&&t&&(e.child.flags|=8192),Hg(e,e.updateQueue),qe(e),null);case 4:return zu(),s===null&&tS(e.stateNode.containerInfo),qe(e),null;case 10:return Wa(e.type),qe(e),null;case 19:if($t(pt),n=e.memoizedState,n===null)return qe(e),null;if(i=(e.flags&128)!==0,a=n.rendering,a===null)if(i)fh(n,!1);else{if(ft!==0||s!==null&&s.flags&128)for(s=e.child;s!==null;){if(a=f0(s),a!==null){for(e.flags|=128,fh(n,!1),s=a.updateQueue,e.updateQueue=s,Hg(e,s),e.subtreeFlags=0,s=t,t=e.child;t!==null;)$N(t,s),t=t.sibling;return Ye(pt,pt.current&1|2),ye&&la(e,n.treeForkCount),e.child}s=s.sibling}n.tail!==null&&mn()>y0&&(e.flags|=128,i=!0,fh(n,!1),e.lanes=4194304)}else{if(!i)if(s=f0(a),s!==null){if(e.flags|=128,i=!0,s=s.updateQueue,e.updateQueue=s,Hg(e,s),fh(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!ye)return qe(e),null}else 2*mn()-n.renderingStartTime>y0&&t!==536870912&&(e.flags|=128,i=!0,fh(n,!1),e.lanes=4194304);n.isBackwards?(a.sibling=e.child,e.child=a):(s=n.last,s!==null?s.sibling=a:e.child=a,n.last=a)}return n.tail!==null?(s=n.tail,n.rendering=s,n.tail=s.sibling,n.renderingStartTime=mn(),s.sibling=null,t=pt.current,Ye(pt,i?t&1|2:t&1),ye&&la(e,n.treeForkCount),s):(qe(e),null);case 22:case 23:return dn(e),Rw(),n=e.memoizedState!==null,s!==null?s.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?t&536870912&&!(e.flags&128)&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),t=e.updateQueue,t!==null&&Hg(e,t.retryQueue),t=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(e.flags|=2048),s!==null&&$t(dc),null;case 24:return t=null,s!==null&&(t=s.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),Wa(At),qe(e),null;case 25:return null;case 30:return null}throw Error(B(156,e.tag))}function xk(s,e){switch(Tw(e),e.tag){case 1:return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 3:return Wa(At),zu(),s=e.flags,s&65536&&!(s&128)?(e.flags=s&-65537|128,e):null;case 26:case 27:case 5:return i0(e),null;case 31:if(e.memoizedState!==null){if(dn(e),e.alternate===null)throw Error(B(340));fc()}return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 13:if(dn(e),s=e.memoizedState,s!==null&&s.dehydrated!==null){if(e.alternate===null)throw Error(B(340));fc()}return s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 19:return $t(pt),null;case 4:return zu(),null;case 10:return Wa(e.type),null;case 22:case 23:return dn(e),Rw(),s!==null&&$t(dc),s=e.flags,s&65536?(e.flags=s&-65537|128,e):null;case 24:return Wa(At),null;case 25:return null;default:return null}}function $2(s,e){switch(Tw(e),e.tag){case 3:Wa(At),zu();break;case 26:case 27:case 5:i0(e);break;case 4:zu();break;case 31:e.memoizedState!==null&&dn(e);break;case 13:dn(e);break;case 19:$t(pt);break;case 10:Wa(e.type);break;case 22:case 23:dn(e),Rw(),s!==null&&$t(dc);break;case 24:Wa(At)}}function bg(s,e){try{var t=e.updateQueue,n=t!==null?t.lastEffect:null;if(n!==null){var i=n.next;t=i;do{if((t.tag&s)===s){n=void 0;var a=t.create,r=t.inst;n=a(),r.destroy=n}t=t.next}while(t!==i)}}catch(l){ke(e,e.return,l)}}function ko(s,e,t){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&s)===s){var r=n.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=e;var d=t,u=l;try{u()}catch(h){ke(i,d,h)}}}n=n.next}while(n!==a)}}catch(h){ke(e,e.return,h)}}function G2(s){var e=s.updateQueue;if(e!==null){var t=s.stateNode;try{e2(e,t)}catch(n){ke(s,s.return,n)}}}function Y2(s,e,t){t.props=xc(s.type,s.memoizedProps),t.state=s.memoizedState;try{t.componentWillUnmount()}catch(n){ke(s,e,n)}}function af(s,e){try{var t=s.ref;if(t!==null){switch(s.tag){case 26:case 27:case 5:var n=s.stateNode;break;case 30:n=s.stateNode;break;default:n=s.stateNode}typeof t=="function"?s.refCleanup=t(n):t.current=n}}catch(i){ke(s,e,i)}}function Vi(s,e){var t=s.ref,n=s.refCleanup;if(t!==null)if(typeof n=="function")try{n()}catch(i){ke(s,e,i)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(i){ke(s,e,i)}else t.current=null}function q2(s){var e=s.type,t=s.memoizedProps,n=s.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&n.focus();break e;case"img":t.src?n.src=t.src:t.srcSet&&(n.srcset=t.srcSet)}}catch(i){ke(s,s.return,i)}}function ub(s,e,t){try{var n=s.stateNode;Fk(n,s.type,t,e),n[zs]=e}catch(i){ke(s,s.return,i)}}function X2(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Bo(s.type)||s.tag===4}function hb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||X2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Bo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fy(s,e,t){var n=s.tag;if(n===5||n===6)s=s.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(s,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(s),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ya));else if(n!==4&&(n===27&&Bo(s.type)&&(t=s.stateNode,e=null),s=s.child,s!==null))for(fy(s,e,t),s=s.sibling;s!==null;)fy(s,e,t),s=s.sibling}function b0(s,e,t){var n=s.tag;if(n===5||n===6)s=s.stateNode,e?t.insertBefore(s,e):t.appendChild(s);else if(n!==4&&(n===27&&Bo(s.type)&&(t=s.stateNode),s=s.child,s!==null))for(b0(s,e,t),s=s.sibling;s!==null;)b0(s,e,t),s=s.sibling}function W2(s){var e=s.stateNode,t=s.memoizedProps;try{for(var n=s.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);is(e,n,t),e[es]=s,e[zs]=t}catch(a){ke(s,s.return,a)}}var Va=!1,St=!1,fb=!1,MA=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function bk(s,e){if(s=s.containerInfo,vy=_0,s=PN(s),Aw(s)){if("selectionStart"in s)var t={start:s.selectionStart,end:s.selectionEnd};else e:{t=(t=s.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{t.nodeType,a.nodeType}catch{t=null;break e}var r=0,l=-1,d=-1,u=0,h=0,f=s,m=null;t:for(;;){for(var g;f!==t||i!==0&&f.nodeType!==3||(l=r+i),f!==a||n!==0&&f.nodeType!==3||(d=r+n),f.nodeType===3&&(r+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===s)break t;if(m===t&&++u===i&&(l=r),m===a&&++h===n&&(d=r),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}t=l===-1||d===-1?null:{start:l,end:d}}else t=null}t=t||{start:0,end:0}}else t=null;for(wy={focusedElem:s,selectionRange:t},_0=!1,Ht=e;Ht!==null;)if(e=Ht,s=e.child,(e.subtreeFlags&1028)!==0&&s!==null)s.return=e,Ht=s;else for(;Ht!==null;){switch(e=Ht,a=e.alternate,s=e.flags,e.tag){case 0:if(s&4&&(s=e.updateQueue,s=s!==null?s.events:null,s!==null))for(t=0;t<s.length;t++)i=s[t],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(s&1024&&a!==null){s=void 0,t=e,i=a.memoizedProps,a=a.memoizedState,n=t.stateNode;try{var v=xc(t.type,i);s=n.getSnapshotBeforeUpdate(v,a),n.__reactInternalSnapshotBeforeUpdate=s}catch(x){ke(t,t.return,x)}}break;case 3:if(s&1024){if(s=e.stateNode.containerInfo,t=s.nodeType,t===9)Ay(s);else if(t===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ay(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(B(163))}if(s=e.sibling,s!==null){s.return=e.return,Ht=s;break}Ht=e.return}}function K2(s,e,t){var n=t.flags;switch(t.tag){case 0:case 11:case 15:ta(s,t),n&4&&bg(5,t);break;case 1:if(ta(s,t),n&4)if(s=t.stateNode,e===null)try{s.componentDidMount()}catch(r){ke(t,t.return,r)}else{var i=xc(t.type,e.memoizedProps);e=e.memoizedState;try{s.componentDidUpdate(i,e,s.__reactInternalSnapshotBeforeUpdate)}catch(r){ke(t,t.return,r)}}n&64&&G2(t),n&512&&af(t,t.return);break;case 3:if(ta(s,t),n&64&&(s=t.updateQueue,s!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{e2(s,e)}catch(r){ke(t,t.return,r)}}break;case 27:e===null&&n&4&&W2(t);case 26:case 5:ta(s,t),e===null&&n&4&&q2(t),n&512&&af(t,t.return);break;case 12:ta(s,t);break;case 31:ta(s,t),n&4&&J2(s,t);break;case 13:ta(s,t),n&4&&ej(s,t),n&64&&(s=t.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(t=Ck.bind(null,t),qk(s,t))));break;case 22:if(n=t.memoizedState!==null||Va,!n){e=e!==null&&e.memoizedState!==null||St,i=Va;var a=St;Va=n,(St=e)&&!a?sa(s,t,(t.subtreeFlags&8772)!==0):ta(s,t),Va=i,St=a}break;case 30:break;default:ta(s,t)}}function Q2(s){var e=s.alternate;e!==null&&(s.alternate=null,Q2(e)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(e=s.stateNode,e!==null&&xw(e)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tt=null,Ps=!1;function ea(s,e,t){for(t=t.child;t!==null;)Z2(s,e,t),t=t.sibling}function Z2(s,e,t){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(ug,t)}catch{}switch(t.tag){case 26:St||Vi(t,e),ea(s,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:St||Vi(t,e);var n=tt,i=Ps;Bo(t.type)&&(tt=t.stateNode,Ps=!1),ea(s,e,t),cf(t.stateNode),tt=n,Ps=i;break;case 5:St||Vi(t,e);case 6:if(n=tt,i=Ps,tt=null,ea(s,e,t),tt=n,Ps=i,tt!==null)if(Ps)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(t.stateNode)}catch(a){ke(t,e,a)}else try{tt.removeChild(t.stateNode)}catch(a){ke(t,e,a)}break;case 18:tt!==null&&(Ps?(s=tt,$A(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.stateNode),Ku(s)):$A(tt,t.stateNode));break;case 4:n=tt,i=Ps,tt=t.stateNode.containerInfo,Ps=!0,ea(s,e,t),tt=n,Ps=i;break;case 0:case 11:case 14:case 15:ko(2,t,e),St||ko(4,t,e),ea(s,e,t);break;case 1:St||(Vi(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"&&Y2(t,e,n)),ea(s,e,t);break;case 21:ea(s,e,t);break;case 22:St=(n=St)||t.memoizedState!==null,ea(s,e,t),St=n;break;default:ea(s,e,t)}}function J2(s,e){if(e.memoizedState===null&&(s=e.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ku(s)}catch(t){ke(e,e.return,t)}}}function ej(s,e){if(e.memoizedState===null&&(s=e.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ku(s)}catch(t){ke(e,e.return,t)}}function yk(s){switch(s.tag){case 31:case 13:case 19:var e=s.stateNode;return e===null&&(e=s.stateNode=new MA),e;case 22:return s=s.stateNode,e=s._retryCache,e===null&&(e=s._retryCache=new MA),e;default:throw Error(B(435,s.tag))}}function Vg(s,e){var t=yk(s);e.forEach(function(n){if(!t.has(n)){t.add(n);var i=Tk.bind(null,s,n);n.then(i,i)}})}function js(s,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n],a=s,r=e,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(Bo(l.type)){tt=l.stateNode,Ps=!1;break e}break;case 5:tt=l.stateNode,Ps=!1;break e;case 3:case 4:tt=l.stateNode.containerInfo,Ps=!0;break e}l=l.return}if(tt===null)throw Error(B(160));Z2(a,r,i),tt=null,Ps=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)tj(e,s),e=e.sibling}var di=null;function tj(s,e){var t=s.alternate,n=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:js(e,s),Es(s),n&4&&(ko(3,s,s.return),bg(3,s),ko(5,s,s.return));break;case 1:js(e,s),Es(s),n&512&&(St||t===null||Vi(t,t.return)),n&64&&Va&&(s=s.updateQueue,s!==null&&(n=s.callbacks,n!==null&&(t=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=t===null?n:t.concat(n))));break;case 26:var i=di;if(js(e,s),Es(s),n&512&&(St||t===null||Vi(t,t.return)),n&4){var a=t!==null?t.memoizedState:null;if(n=s.memoizedState,t===null)if(n===null)if(s.stateNode===null){e:{n=s.type,t=s.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[mg]||a[es]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),is(a,n,t),a[es]=s,Vt(a),n=a;break e;case"link":var r=QA("link","href",i).get(n+(t.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&a.getAttribute("rel")===(t.rel==null?null:t.rel)&&a.getAttribute("title")===(t.title==null?null:t.title)&&a.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){r.splice(l,1);break t}}a=i.createElement(n),is(a,n,t),i.head.appendChild(a);break;case"meta":if(r=QA("meta","content",i).get(n+(t.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(t.content==null?null:""+t.content)&&a.getAttribute("name")===(t.name==null?null:t.name)&&a.getAttribute("property")===(t.property==null?null:t.property)&&a.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&a.getAttribute("charset")===(t.charSet==null?null:t.charSet)){r.splice(l,1);break t}}a=i.createElement(n),is(a,n,t),i.head.appendChild(a);break;default:throw Error(B(468,n))}a[es]=s,Vt(a),n=a}s.stateNode=n}else ZA(i,s.type,s.stateNode);else s.stateNode=KA(i,n,s.memoizedProps);else a!==n?(a===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):a.count--,n===null?ZA(i,s.type,s.stateNode):KA(i,n,s.memoizedProps)):n===null&&s.stateNode!==null&&ub(s,s.memoizedProps,t.memoizedProps)}break;case 27:js(e,s),Es(s),n&512&&(St||t===null||Vi(t,t.return)),t!==null&&n&4&&ub(s,s.memoizedProps,t.memoizedProps);break;case 5:if(js(e,s),Es(s),n&512&&(St||t===null||Vi(t,t.return)),s.flags&32){i=s.stateNode;try{Hu(i,"")}catch(v){ke(s,s.return,v)}}n&4&&s.stateNode!=null&&(i=s.memoizedProps,ub(s,i,t!==null?t.memoizedProps:i)),n&1024&&(fb=!0);break;case 6:if(js(e,s),Es(s),n&4){if(s.stateNode===null)throw Error(B(162));n=s.memoizedProps,t=s.stateNode;try{t.nodeValue=n}catch(v){ke(s,s.return,v)}}break;case 3:if(bp=null,i=di,di=E0(e.containerInfo),js(e,s),di=i,Es(s),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Ku(e.containerInfo)}catch(v){ke(s,s.return,v)}fb&&(fb=!1,sj(s));break;case 4:n=di,di=E0(s.stateNode.containerInfo),js(e,s),Es(s),di=n;break;case 12:js(e,s),Es(s);break;case 31:js(e,s),Es(s),n&4&&(n=s.updateQueue,n!==null&&(s.updateQueue=null,Vg(s,n)));break;case 13:js(e,s),Es(s),s.child.flags&8192&&s.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(Nx=mn()),n&4&&(n=s.updateQueue,n!==null&&(s.updateQueue=null,Vg(s,n)));break;case 22:i=s.memoizedState!==null;var d=t!==null&&t.memoizedState!==null,u=Va,h=St;if(Va=u||i,St=h||d,js(e,s),St=h,Va=u,Es(s),n&8192)e:for(e=s.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(t===null||d||Va||St||Vo(s)),t=null,e=s;;){if(e.tag===5||e.tag===26){if(t===null){d=t=e;try{if(a=d.stateNode,i)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=d.stateNode;var f=d.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){ke(d,d.return,v)}}}else if(e.tag===6){if(t===null){d=e;try{d.stateNode.nodeValue=i?"":d.memoizedProps}catch(v){ke(d,d.return,v)}}}else if(e.tag===18){if(t===null){d=e;try{var g=d.stateNode;i?GA(g,!0):GA(d.stateNode,!1)}catch(v){ke(d,d.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===s)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=s.updateQueue,n!==null&&(t=n.retryQueue,t!==null&&(n.retryQueue=null,Vg(s,t))));break;case 19:js(e,s),Es(s),n&4&&(n=s.updateQueue,n!==null&&(s.updateQueue=null,Vg(s,n)));break;case 30:break;case 21:break;default:js(e,s),Es(s)}}function Es(s){var e=s.flags;if(e&2){try{for(var t,n=s.return;n!==null;){if(X2(n)){t=n;break}n=n.return}if(t==null)throw Error(B(160));switch(t.tag){case 27:var i=t.stateNode,a=hb(s);b0(s,a,i);break;case 5:var r=t.stateNode;t.flags&32&&(Hu(r,""),t.flags&=-33);var l=hb(s);b0(s,l,r);break;case 3:case 4:var d=t.stateNode.containerInfo,u=hb(s);fy(s,u,d);break;default:throw Error(B(161))}}catch(h){ke(s,s.return,h)}s.flags&=-3}e&4096&&(s.flags&=-4097)}function sj(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var e=s;sj(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),s=s.sibling}}function ta(s,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)K2(s,e.alternate,e),e=e.sibling}function Vo(s){for(s=s.child;s!==null;){var e=s;switch(e.tag){case 0:case 11:case 14:case 15:ko(4,e,e.return),Vo(e);break;case 1:Vi(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&Y2(e,e.return,t),Vo(e);break;case 27:cf(e.stateNode);case 26:case 5:Vi(e,e.return),Vo(e);break;case 22:e.memoizedState===null&&Vo(e);break;case 30:Vo(e);break;default:Vo(e)}s=s.sibling}}function sa(s,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=s,a=e,r=a.flags;switch(a.tag){case 0:case 11:case 15:sa(i,a,t),bg(4,a);break;case 1:if(sa(i,a,t),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){ke(n,n.return,u)}if(n=a,i=n.updateQueue,i!==null){var l=n.stateNode;try{var d=i.shared.hiddenCallbacks;if(d!==null)for(i.shared.hiddenCallbacks=null,i=0;i<d.length;i++)JN(d[i],l)}catch(u){ke(n,n.return,u)}}t&&r&64&&G2(a),af(a,a.return);break;case 27:W2(a);case 26:case 5:sa(i,a,t),t&&n===null&&r&4&&q2(a),af(a,a.return);break;case 12:sa(i,a,t);break;case 31:sa(i,a,t),t&&r&4&&J2(i,a);break;case 13:sa(i,a,t),t&&r&4&&ej(i,a);break;case 22:a.memoizedState===null&&sa(i,a,t),af(a,a.return);break;case 30:break;default:sa(i,a,t)}e=e.sibling}}function Ww(s,e){var t=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==t&&(s!=null&&s.refCount++,t!=null&&pg(t))}function Kw(s,e){s=null,e.alternate!==null&&(s=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==s&&(e.refCount++,s!=null&&pg(s))}function Wn(s,e,t,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nj(s,e,t,n),e=e.sibling}function nj(s,e,t,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Wn(s,e,t,n),i&2048&&bg(9,e);break;case 1:Wn(s,e,t,n);break;case 3:Wn(s,e,t,n),i&2048&&(s=null,e.alternate!==null&&(s=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==s&&(e.refCount++,s!=null&&pg(s)));break;case 12:if(i&2048){Wn(s,e,t,n),s=e.stateNode;try{var a=e.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,e.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(d){ke(e,e.return,d)}}else Wn(s,e,t,n);break;case 31:Wn(s,e,t,n);break;case 13:Wn(s,e,t,n);break;case 23:break;case 22:a=e.stateNode,r=e.alternate,e.memoizedState!==null?a._visibility&2?Wn(s,e,t,n):rf(s,e):a._visibility&2?Wn(s,e,t,n):(a._visibility|=2,Rc(s,e,t,n,(e.subtreeFlags&10256)!==0||!1)),i&2048&&Ww(r,e);break;case 24:Wn(s,e,t,n),i&2048&&Kw(e.alternate,e);break;default:Wn(s,e,t,n)}}function Rc(s,e,t,n,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=s,r=e,l=t,d=n,u=r.flags;switch(r.tag){case 0:case 11:case 15:Rc(a,r,l,d,i),bg(8,r);break;case 23:break;case 22:var h=r.stateNode;r.memoizedState!==null?h._visibility&2?Rc(a,r,l,d,i):rf(a,r):(h._visibility|=2,Rc(a,r,l,d,i)),i&&u&2048&&Ww(r.alternate,r);break;case 24:Rc(a,r,l,d,i),i&&u&2048&&Kw(r.alternate,r);break;default:Rc(a,r,l,d,i)}e=e.sibling}}function rf(s,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=s,n=e,i=n.flags;switch(n.tag){case 22:rf(t,n),i&2048&&Ww(n.alternate,n);break;case 24:rf(t,n),i&2048&&Kw(n.alternate,n);break;default:rf(t,n)}e=e.sibling}}var Ch=8192;function kc(s,e,t){if(s.subtreeFlags&Ch)for(s=s.child;s!==null;)ij(s,e,t),s=s.sibling}function ij(s,e,t){switch(s.tag){case 26:kc(s,e,t),s.flags&Ch&&s.memoizedState!==null&&aM(t,di,s.memoizedState,s.memoizedProps);break;case 5:kc(s,e,t);break;case 3:case 4:var n=di;di=E0(s.stateNode.containerInfo),kc(s,e,t),di=n;break;case 22:s.memoizedState===null&&(n=s.alternate,n!==null&&n.memoizedState!==null?(n=Ch,Ch=16777216,kc(s,e,t),Ch=n):kc(s,e,t));break;default:kc(s,e,t)}}function aj(s){var e=s.alternate;if(e!==null&&(s=e.child,s!==null)){e.child=null;do e=s.sibling,s.sibling=null,s=e;while(s!==null)}}function mh(s){var e=s.deletions;if(s.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var n=e[t];Ht=n,oj(n,s)}aj(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rj(s),s=s.sibling}function rj(s){switch(s.tag){case 0:case 11:case 15:mh(s),s.flags&2048&&ko(9,s,s.return);break;case 3:mh(s);break;case 12:mh(s);break;case 22:var e=s.stateNode;s.memoizedState!==null&&e._visibility&2&&(s.return===null||s.return.tag!==13)?(e._visibility&=-3,pp(s)):mh(s);break;default:mh(s)}}function pp(s){var e=s.deletions;if(s.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var n=e[t];Ht=n,oj(n,s)}aj(s)}for(s=s.child;s!==null;){switch(e=s,e.tag){case 0:case 11:case 15:ko(8,e,e.return),pp(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,pp(e));break;default:pp(e)}s=s.sibling}}function oj(s,e){for(;Ht!==null;){var t=Ht;switch(t.tag){case 0:case 11:case 15:ko(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var n=t.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:pg(t.memoizedState.cache)}if(n=t.child,n!==null)n.return=t,Ht=n;else e:for(t=s;Ht!==null;){n=Ht;var i=n.sibling,a=n.return;if(Q2(n),n===t){Ht=null;break e}if(i!==null){i.return=a,Ht=i;break e}Ht=a}}}var vk={getCacheForType:function(s){var e=ns(At),t=e.data.get(s);return t===void 0&&(t=s(),e.data.set(s,t)),t},cacheSignal:function(){return ns(At).controller.signal}},wk=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Ve=null,ge=null,pe=0,_e=0,ln=null,po=!1,sh=!1,Qw=!1,ir=0,ft=0,Mo=0,hc=0,Zw=0,fn=0,Yu=0,of=null,Bs=null,my=!1,Nx=0,lj=0,y0=1/0,v0=null,Ao=null,Mt=0,No=null,qu=null,Ka=0,gy=0,py=null,cj=null,lf=0,xy=null;function xn(){return Ne&2&&pe!==0?pe&-pe:J.T!==null?eS():bN()}function dj(){if(fn===0)if(!(pe&536870912)||ye){var s=Og;Og<<=1,!(Og&3932160)&&(Og=262144),fn=s}else fn=536870912;return s=vn.current,s!==null&&(s.flags|=32),fn}function Fs(s,e,t){(s===Ve&&(_e===2||_e===9)||s.cancelPendingCommit!==null)&&(Xu(s,0),xo(s,pe,fn,!1)),fg(s,t),(!(Ne&2)||s!==Ve)&&(s===Ve&&(!(Ne&2)&&(hc|=t),ft===4&&xo(s,pe,fn,!1)),Wi(s))}function uj(s,e,t){if(Ne&6)throw Error(B(327));var n=!t&&(e&127)===0&&(e&s.expiredLanes)===0||hg(s,e),i=n?Nk(s,e):mb(s,e,!0),a=n;do{if(i===0){sh&&!n&&xo(s,e,0,!1);break}else{if(t=s.current.alternate,a&&!Sk(t)){i=mb(s,e,!1),a=!1;continue}if(i===2){if(a=e,s.errorRecoveryDisabledLanes&a)var r=0;else r=s.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var l=s;i=of;var d=l.current.memoizedState.isDehydrated;if(d&&(Xu(l,r).flags|=256),r=mb(l,r,!1),r!==2){if(Qw&&!d){l.errorRecoveryDisabledLanes|=a,hc|=a,i=4;break e}a=Bs,Bs=i,a!==null&&(Bs===null?Bs=a:Bs.push.apply(Bs,a))}i=r}if(a=!1,i!==2)continue}}if(i===1){Xu(s,0),xo(s,e,0,!0);break}e:{switch(n=s,a=i,a){case 0:case 1:throw Error(B(345));case 4:if((e&4194048)!==e)break;case 6:xo(n,e,fn,!po);break e;case 2:Bs=null;break;case 3:case 5:break;default:throw Error(B(329))}if((e&62914560)===e&&(i=Nx+300-mn(),10<i)){if(xo(n,e,fn,!po),fx(n,0,!0)!==0)break e;Ka=e,n.timeoutHandle=Mj(DA.bind(null,n,t,Bs,v0,my,e,fn,hc,Yu,po,a,"Throttled",-0,0),i);break e}DA(n,t,Bs,v0,my,e,fn,hc,Yu,po,a,null,-0,0)}}break}while(!0);Wi(s)}function DA(s,e,t,n,i,a,r,l,d,u,h,f,m,g){if(s.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ya},ij(e,a,f);var v=(a&62914560)===a?Nx-mn():(a&4194048)===a?lj-mn():0;if(v=rM(f,v),v!==null){Ka=a,s.cancelPendingCommit=v(LA.bind(null,s,e,a,t,n,i,r,l,d,h,f,null,m,g)),xo(s,a,r,!u);return}}LA(s,e,a,t,n,i,r,l,d)}function Sk(s){for(var e=s;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var n=0;n<t.length;n++){var i=t[n],a=i.getSnapshot;i=i.value;try{if(!yn(a(),i))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===s)break;for(;e.sibling===null;){if(e.return===null||e.return===s)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xo(s,e,t,n){e&=~Zw,e&=~hc,s.suspendedLanes|=e,s.pingedLanes&=~e,n&&(s.warmLanes|=e),n=s.expirationTimes;for(var i=e;0<i;){var a=31-pn(i),r=1<<a;n[a]=-1,i&=~r}t!==0&&gN(s,t,e)}function jx(){return Ne&6?!0:(yg(0),!1)}function Jw(){if(ge!==null){if(_e===0)var s=ge.return;else s=ge,qa=jc=null,Iw(s),ud=null,pf=0,s=ge;for(;s!==null;)$2(s.alternate,s),s=s.return;ge=null}}function Xu(s,e){var t=s.timeoutHandle;t!==-1&&(s.timeoutHandle=-1,Hk(t)),t=s.cancelPendingCommit,t!==null&&(s.cancelPendingCommit=null,t()),Ka=0,Jw(),Ve=s,ge=t=Xa(s.current,null),pe=e,_e=0,ln=null,po=!1,sh=hg(s,e),Qw=!1,Yu=fn=Zw=hc=Mo=ft=0,Bs=of=null,my=!1,e&8&&(e|=e&32);var n=s.entangledLanes;if(n!==0)for(s=s.entanglements,n&=e;0<n;){var i=31-pn(n),a=1<<i;e|=s[i],n&=~a}return ir=e,xx(),t}function hj(s,e){le=null,J.H=bf,e===th||e===yx?(e=dA(),_e=3):e===Mw?(e=dA(),_e=4):_e=e===qw?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ln=e,ge===null&&(ft=1,p0(s,Fn(e,s.current)))}function fj(){var s=vn.current;return s===null?!0:(pe&4194048)===pe?Vn===null:(pe&62914560)===pe||pe&536870912?s===Vn:!1}function mj(){var s=J.H;return J.H=bf,s===null?bf:s}function gj(){var s=J.A;return J.A=vk,s}function w0(){ft=4,po||(pe&4194048)!==pe&&vn.current!==null||(sh=!0),!(Mo&134217727)&&!(hc&134217727)||Ve===null||xo(Ve,pe,fn,!1)}function mb(s,e,t){var n=Ne;Ne|=2;var i=mj(),a=gj();(Ve!==s||pe!==e)&&(v0=null,Xu(s,e)),e=!1;var r=ft;e:do try{if(_e!==0&&ge!==null){var l=ge,d=ln;switch(_e){case 8:Jw(),r=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(e=!0);var u=_e;if(_e=0,ln=null,ed(s,l,d,u),t&&sh){r=0;break e}break;default:u=_e,_e=0,ln=null,ed(s,l,d,u)}}Ak(),r=ft;break}catch(h){hj(s,h)}while(!0);return e&&s.shellSuspendCounter++,qa=jc=null,Ne=n,J.H=i,J.A=a,ge===null&&(Ve=null,pe=0,xx()),r}function Ak(){for(;ge!==null;)pj(ge)}function Nk(s,e){var t=Ne;Ne|=2;var n=mj(),i=gj();Ve!==s||pe!==e?(v0=null,y0=mn()+500,Xu(s,e)):sh=hg(s,e);e:do try{if(_e!==0&&ge!==null){e=ge;var a=ln;t:switch(_e){case 1:_e=0,ln=null,ed(s,e,a,1);break;case 2:case 9:if(cA(a)){_e=0,ln=null,RA(e);break}e=function(){_e!==2&&_e!==9||Ve!==s||(_e=7),Wi(s)},a.then(e,e);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:cA(a)?(_e=0,ln=null,RA(e)):(_e=0,ln=null,ed(s,e,a,7));break;case 5:var r=null;switch(ge.tag){case 26:r=ge.memoizedState;case 5:case 27:var l=ge;if(r?Pj(r):l.stateNode.complete){_e=0,ln=null;var d=l.sibling;if(d!==null)ge=d;else{var u=l.return;u!==null?(ge=u,Ex(u)):ge=null}break t}}_e=0,ln=null,ed(s,e,a,5);break;case 6:_e=0,ln=null,ed(s,e,a,6);break;case 8:Jw(),ft=6;break e;default:throw Error(B(462))}}jk();break}catch(h){hj(s,h)}while(!0);return qa=jc=null,J.H=n,J.A=i,Ne=t,ge!==null?0:(Ve=null,pe=0,xx(),ft)}function jk(){for(;ge!==null&&!XT();)pj(ge)}function pj(s){var e=V2(s.alternate,s,ir);s.memoizedProps=s.pendingProps,e===null?Ex(s):ge=e}function RA(s){var e=s,t=e.alternate;switch(e.tag){case 15:case 0:e=EA(t,e,e.pendingProps,e.type,void 0,pe);break;case 11:e=EA(t,e,e.pendingProps,e.type.render,e.ref,pe);break;case 5:Iw(e);default:$2(t,e),e=ge=$N(e,ir),e=V2(t,e,ir)}s.memoizedProps=s.pendingProps,e===null?Ex(s):ge=e}function ed(s,e,t,n){qa=jc=null,Iw(e),ud=null,pf=0;var i=e.return;try{if(fk(s,i,e,t,pe)){ft=1,p0(s,Fn(t,s.current)),ge=null;return}}catch(a){if(i!==null)throw ge=i,a;ft=1,p0(s,Fn(t,s.current)),ge=null;return}e.flags&32768?(ye||n===1?s=!0:sh||pe&536870912?s=!1:(po=s=!0,(n===2||n===9||n===3||n===6)&&(n=vn.current,n!==null&&n.tag===13&&(n.flags|=16384))),xj(e,s)):Ex(e)}function Ex(s){var e=s;do{if(e.flags&32768){xj(e,po);return}s=e.return;var t=pk(e.alternate,e,ir);if(t!==null){ge=t;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=s}while(e!==null);ft===0&&(ft=5)}function xj(s,e){do{var t=xk(s.alternate,s);if(t!==null){t.flags&=32767,ge=t;return}if(t=s.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(s=s.sibling,s!==null)){ge=s;return}ge=s=t}while(s!==null);ft=6,ge=null}function LA(s,e,t,n,i,a,r,l,d){s.cancelPendingCommit=null;do Cx();while(Mt!==0);if(Ne&6)throw Error(B(327));if(e!==null){if(e===s.current)throw Error(B(177));if(a=e.lanes|e.childLanes,a|=Nw,i_(s,t,a,r,l,d),s===Ve&&(ge=Ve=null,pe=0),qu=e,No=s,Ka=t,gy=a,py=i,cj=n,e.subtreeFlags&10256||e.flags&10256?(s.callbackNode=null,s.callbackPriority=0,_k(a0,function(){return Sj(),null})):(s.callbackNode=null,s.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=J.T,J.T=null,i=je.p,je.p=2,r=Ne,Ne|=4;try{bk(s,e,t)}finally{Ne=r,je.p=i,J.T=n}}Mt=1,bj(),yj(),vj()}}function bj(){if(Mt===1){Mt=0;var s=No,e=qu,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=J.T,J.T=null;var n=je.p;je.p=2;var i=Ne;Ne|=4;try{tj(e,s);var a=wy,r=PN(s.containerInfo),l=a.focusedElem,d=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&ON(l.ownerDocument.documentElement,l)){if(d!==null&&Aw(l)){var u=d.start,h=d.end;if(h===void 0&&(h=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(h,l.value.length);else{var f=l.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var g=m.getSelection(),v=l.textContent.length,x=Math.min(d.start,v),S=d.end===void 0?x:Math.min(d.end,v);!g.extend&&x>S&&(r=S,S=x,x=r);var p=sA(l,x),y=sA(l,S);if(p&&y&&(g.rangeCount!==1||g.anchorNode!==p.node||g.anchorOffset!==p.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var w=f.createRange();w.setStart(p.node,p.offset),g.removeAllRanges(),x>S?(g.addRange(w),g.extend(y.node,y.offset)):(w.setEnd(y.node,y.offset),g.addRange(w))}}}}for(f=[],g=l;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var j=f[l];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}_0=!!vy,wy=vy=null}finally{Ne=i,je.p=n,J.T=t}}s.current=e,Mt=2}}function yj(){if(Mt===2){Mt=0;var s=No,e=qu,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=J.T,J.T=null;var n=je.p;je.p=2;var i=Ne;Ne|=4;try{K2(s,e.alternate,e)}finally{Ne=i,je.p=n,J.T=t}}Mt=3}}function vj(){if(Mt===4||Mt===3){Mt=0,WT();var s=No,e=qu,t=Ka,n=cj;e.subtreeFlags&10256||e.flags&10256?Mt=5:(Mt=0,qu=No=null,wj(s,s.pendingLanes));var i=s.pendingLanes;if(i===0&&(Ao=null),pw(t),e=e.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(ug,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=J.T,i=je.p,je.p=2,J.T=null;try{for(var a=s.onRecoverableError,r=0;r<n.length;r++){var l=n[r];a(l.value,{componentStack:l.stack})}}finally{J.T=e,je.p=i}}Ka&3&&Cx(),Wi(s),i=s.pendingLanes,t&261930&&i&42?s===xy?lf++:(lf=0,xy=s):lf=0,yg(0)}}function wj(s,e){(s.pooledCacheLanes&=e)===0&&(e=s.pooledCache,e!=null&&(s.pooledCache=null,pg(e)))}function Cx(){return bj(),yj(),vj(),Sj()}function Sj(){if(Mt!==5)return!1;var s=No,e=gy;gy=0;var t=pw(Ka),n=J.T,i=je.p;try{je.p=32>t?32:t,J.T=null,t=py,py=null;var a=No,r=Ka;if(Mt=0,qu=No=null,Ka=0,Ne&6)throw Error(B(331));var l=Ne;if(Ne|=4,rj(a.current),nj(a,a.current,r,t),Ne=l,yg(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(ug,a)}catch{}return!0}finally{je.p=i,J.T=n,wj(s,e)}}function OA(s,e,t){e=Fn(t,e),e=dy(s.stateNode,e,2),s=So(s,e,2),s!==null&&(fg(s,2),Wi(s))}function ke(s,e,t){if(s.tag===3)OA(s,s,t);else for(;e!==null;){if(e.tag===3){OA(e,s,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ao===null||!Ao.has(n))){s=Fn(t,s),t=B2(2),n=So(e,t,2),n!==null&&(I2(t,n,e,s),fg(n,2),Wi(n));break}}e=e.return}}function gb(s,e,t){var n=s.pingCache;if(n===null){n=s.pingCache=new wk;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(Qw=!0,i.add(t),s=Ek.bind(null,s,e,t),e.then(s,s))}function Ek(s,e,t){var n=s.pingCache;n!==null&&n.delete(e),s.pingedLanes|=s.suspendedLanes&t,s.warmLanes&=~t,Ve===s&&(pe&t)===t&&(ft===4||ft===3&&(pe&62914560)===pe&&300>mn()-Nx?!(Ne&2)&&Xu(s,0):Zw|=t,Yu===pe&&(Yu=0)),Wi(s)}function Aj(s,e){e===0&&(e=mN()),s=Nc(s,e),s!==null&&(fg(s,e),Wi(s))}function Ck(s){var e=s.memoizedState,t=0;e!==null&&(t=e.retryLane),Aj(s,t)}function Tk(s,e){var t=0;switch(s.tag){case 31:case 13:var n=s.stateNode,i=s.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=s.stateNode;break;case 22:n=s.stateNode._retryCache;break;default:throw Error(B(314))}n!==null&&n.delete(e),Aj(s,t)}function _k(s,e){return mw(s,e)}var S0=null,Lc=null,by=!1,A0=!1,pb=!1,bo=0;function Wi(s){s!==Lc&&s.next===null&&(Lc===null?S0=Lc=s:Lc=Lc.next=s),A0=!0,by||(by=!0,Mk())}function yg(s,e){if(!pb&&A0){pb=!0;do for(var t=!1,n=S0;n!==null;){if(s!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var r=n.suspendedLanes,l=n.pingedLanes;a=(1<<31-pn(42|s)+1)-1,a&=i&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(t=!0,PA(n,a))}else a=pe,a=fx(n,n===Ve?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(a&3)||hg(n,a)||(t=!0,PA(n,a));n=n.next}while(t);pb=!1}}function kk(){Nj()}function Nj(){A0=by=!1;var s=0;bo!==0&&Uk()&&(s=bo);for(var e=mn(),t=null,n=S0;n!==null;){var i=n.next,a=jj(n,e);a===0?(n.next=null,t===null?S0=i:t.next=i,i===null&&(Lc=t)):(t=n,(s!==0||a&3)&&(A0=!0)),n=i}Mt!==0&&Mt!==5||yg(s),bo!==0&&(bo=0)}function jj(s,e){for(var t=s.suspendedLanes,n=s.pingedLanes,i=s.expirationTimes,a=s.pendingLanes&-62914561;0<a;){var r=31-pn(a),l=1<<r,d=i[r];d===-1?(!(l&t)||l&n)&&(i[r]=n_(l,e)):d<=e&&(s.expiredLanes|=l),a&=~l}if(e=Ve,t=pe,t=fx(s,s===e?t:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),n=s.callbackNode,t===0||s===e&&(_e===2||_e===9)||s.cancelPendingCommit!==null)return n!==null&&n!==null&&$x(n),s.callbackNode=null,s.callbackPriority=0;if(!(t&3)||hg(s,t)){if(e=t&-t,e===s.callbackPriority)return e;switch(n!==null&&$x(n),pw(t)){case 2:case 8:t=hN;break;case 32:t=a0;break;case 268435456:t=fN;break;default:t=a0}return n=Ej.bind(null,s),t=mw(t,n),s.callbackPriority=e,s.callbackNode=t,e}return n!==null&&n!==null&&$x(n),s.callbackPriority=2,s.callbackNode=null,2}function Ej(s,e){if(Mt!==0&&Mt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var t=s.callbackNode;if(Cx()&&s.callbackNode!==t)return null;var n=pe;return n=fx(s,s===Ve?n:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),n===0?null:(uj(s,n,e),jj(s,mn()),s.callbackNode!=null&&s.callbackNode===t?Ej.bind(null,s):null)}function PA(s,e){if(Cx())return null;uj(s,e,!0)}function Mk(){Vk(function(){Ne&6?mw(uN,kk):Nj()})}function eS(){if(bo===0){var s=Vu;s===0&&(s=Lg,Lg<<=1,!(Lg&261888)&&(Lg=256)),bo=s}return bo}function BA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:op(""+s)}function IA(s,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,s.id&&t.setAttribute("form",s.id),e.parentNode.insertBefore(t,e),s=new FormData(s),t.parentNode.removeChild(t),s}function Dk(s,e,t,n,i){if(e==="submit"&&t&&t.stateNode===i){var a=BA((i[zs]||null).action),r=n.submitter;r&&(e=(e=r[zs]||null)?BA(e.formAction):r.getAttribute("formAction"),e!==null&&(a=e,r=null));var l=new mx("action","action",null,n,i);s.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(bo!==0){var d=r?IA(i,r):new FormData(i);ly(t,{pending:!0,data:d,method:i.method,action:a},null,d)}}else typeof a=="function"&&(l.preventDefault(),d=r?IA(i,r):new FormData(i),ly(t,{pending:!0,data:d,method:i.method,action:a},a,d))},currentTarget:i}]})}}for(var xb=0;xb<Kb.length;xb++){var bb=Kb[xb],Rk=bb.toLowerCase(),Lk=bb[0].toUpperCase()+bb.slice(1);fi(Rk,"on"+Lk)}fi(IN,"onAnimationEnd");fi(FN,"onAnimationIteration");fi(zN,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(K_,"onTransitionRun");fi(Q_,"onTransitionStart");fi(Z_,"onTransitionCancel");fi(UN,"onTransitionEnd");Uu("onMouseEnter",["mouseout","mouseover"]);Uu("onMouseLeave",["mouseout","mouseover"]);Uu("onPointerEnter",["pointerout","pointerover"]);Uu("onPointerLeave",["pointerout","pointerover"]);wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ok=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yf));function Cj(s,e){e=(e&4)!==0;for(var t=0;t<s.length;t++){var n=s[t],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var r=n.length-1;0<=r;r--){var l=n[r],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(h){o0(h)}i.currentTarget=null,a=d}else for(r=0;r<n.length;r++){if(l=n[r],d=l.instance,u=l.currentTarget,l=l.listener,d!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(h){o0(h)}i.currentTarget=null,a=d}}}}function me(s,e){var t=e[Hb];t===void 0&&(t=e[Hb]=new Set);var n=s+"__bubble";t.has(n)||(Tj(e,s,2,!1),t.add(n))}function yb(s,e,t){var n=0;e&&(n|=4),Tj(t,s,n,e)}var $g="_reactListening"+Math.random().toString(36).slice(2);function tS(s){if(!s[$g]){s[$g]=!0,yN.forEach(function(t){t!=="selectionchange"&&(Ok.has(t)||yb(t,!1,s),yb(t,!0,s))});var e=s.nodeType===9?s:s.ownerDocument;e===null||e[$g]||(e[$g]=!0,yb("selectionchange",!1,e))}}function Tj(s,e,t,n){switch(Uj(e)){case 2:var i=cM;break;case 8:i=dM;break;default:i=aS}t=i.bind(null,e,t,s),i=void 0,!qb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?s.addEventListener(e,t,{capture:!0,passive:i}):s.addEventListener(e,t,!0):i!==void 0?s.addEventListener(e,t,{passive:i}):s.addEventListener(e,t,!1)}function vb(s,e,t,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var l=n.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=n.return;r!==null;){var d=r.tag;if((d===3||d===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=Gc(l),r===null)return;if(d=r.tag,d===5||d===6||d===26||d===27){n=a=r;continue e}l=l.parentNode}}n=n.return}CN(function(){var u=a,h=yw(t),f=[];e:{var m=HN.get(s);if(m!==void 0){var g=mx,v=s;switch(s){case"keypress":if(cp(t)===0)break e;case"keydown":case"keyup":g=T_;break;case"focusin":v="focus",g=Wx;break;case"focusout":v="blur",g=Wx;break;case"beforeblur":case"afterblur":g=Wx;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=YS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=M_;break;case IN:case FN:case zN:g=y_;break;case UN:g=R_;break;case"scroll":case"scrollend":g=m_;break;case"wheel":g=O_;break;case"copy":case"cut":case"paste":g=w_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=XS;break;case"toggle":case"beforetoggle":g=B_}var x=(e&4)!==0,S=!x&&(s==="scroll"||s==="scrollend"),p=x?m!==null?m+"Capture":null:m;x=[];for(var y=u,w;y!==null;){var j=y;if(w=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||w===null||p===null||(j=uf(y,p),j!=null&&x.push(vf(y,j,w))),S)break;y=y.return}0<x.length&&(m=new g(m,v,null,t,h),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=s==="mouseover"||s==="pointerover",g=s==="mouseout"||s==="pointerout",m&&t!==Yb&&(v=t.relatedTarget||t.fromElement)&&(Gc(v)||v[Zu]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=t.relatedTarget||t.toElement,g=u,v=v?Gc(v):null,v!==null&&(S=dg(v),x=v.tag,v!==S||x!==5&&x!==27&&x!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=YS,j="onMouseLeave",p="onMouseEnter",y="mouse",(s==="pointerout"||s==="pointerover")&&(x=XS,j="onPointerLeave",p="onPointerEnter",y="pointer"),S=g==null?m:jh(g),w=v==null?m:jh(v),m=new x(j,y+"leave",g,t,h),m.target=S,m.relatedTarget=w,j=null,Gc(h)===u&&(x=new x(p,y+"enter",v,t,h),x.target=w,x.relatedTarget=S,j=x),S=j,g&&v)t:{for(x=Pk,p=g,y=v,w=0,j=p;j;j=x(j))w++;j=0;for(var C=y;C;C=x(C))j++;for(;0<w-j;)p=x(p),w--;for(;0<j-w;)y=x(y),j--;for(;w--;){if(p===y||y!==null&&p===y.alternate){x=p;break t}p=x(p),y=x(y)}x=null}else x=null;g!==null&&FA(f,m,g,x,!1),v!==null&&S!==null&&FA(f,S,v,x,!0)}}e:{if(m=u?jh(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var T=ZS;else if(QS(m))if(RN)T=q_;else{T=G_;var E=$_}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&bw(u.elementType)&&(T=ZS):T=Y_;if(T&&(T=T(s,u))){DN(f,T,t,h);break e}E&&E(s,m,u),s==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&Gb(m,"number",m.value)}switch(E=u?jh(u):window,s){case"focusin":(QS(E)||E.contentEditable==="true")&&(Xc=E,Xb=u,Zh=null);break;case"focusout":Zh=Xb=Xc=null;break;case"mousedown":Wb=!0;break;case"contextmenu":case"mouseup":case"dragend":Wb=!1,nA(f,t,h);break;case"selectionchange":if(W_)break;case"keydown":case"keyup":nA(f,t,h)}var _;if(Sw)e:{switch(s){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else qc?kN(s,t)&&(M="onCompositionEnd"):s==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(_N&&t.locale!=="ko"&&(qc||M!=="onCompositionStart"?M==="onCompositionEnd"&&qc&&(_=TN()):(go=h,vw="value"in go?go.value:go.textContent,qc=!0)),E=N0(u,M),0<E.length&&(M=new qS(M,s,null,t,h),f.push({event:M,listeners:E}),_?M.data=_:(_=MN(t),_!==null&&(M.data=_)))),(_=F_?z_(s,t):U_(s,t))&&(M=N0(u,"onBeforeInput"),0<M.length&&(E=new qS("onBeforeInput","beforeinput",null,t,h),f.push({event:E,listeners:M}),E.data=_)),Dk(f,s,u,t,h)}Cj(f,e)})}function vf(s,e,t){return{instance:s,listener:e,currentTarget:t}}function N0(s,e){for(var t=e+"Capture",n=[];s!==null;){var i=s,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=uf(s,t),i!=null&&n.unshift(vf(s,i,a)),i=uf(s,e),i!=null&&n.push(vf(s,i,a))),s.tag===3)return n;s=s.return}return[]}function Pk(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function FA(s,e,t,n,i){for(var a=e._reactName,r=[];t!==null&&t!==n;){var l=t,d=l.alternate,u=l.stateNode;if(l=l.tag,d!==null&&d===n)break;l!==5&&l!==26&&l!==27||u===null||(d=u,i?(u=uf(t,a),u!=null&&r.unshift(vf(t,u,d))):i||(u=uf(t,a),u!=null&&r.push(vf(t,u,d)))),t=t.return}r.length!==0&&s.push({event:e,listeners:r})}var Bk=/\r\n?/g,Ik=/\u0000|\uFFFD/g;function zA(s){return(typeof s=="string"?s:""+s).replace(Bk,`
`).replace(Ik,"")}function _j(s,e){return e=zA(e),zA(s)===e}function Oe(s,e,t,n,i,a){switch(t){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||Hu(s,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&Hu(s,""+n);break;case"className":Bg(s,"class",n);break;case"tabIndex":Bg(s,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Bg(s,t,n);break;case"style":EN(s,n,a);break;case"data":if(e!=="object"){Bg(s,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||t!=="href")){s.removeAttribute(t);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){s.removeAttribute(t);break}n=op(""+n),s.setAttribute(t,n);break;case"action":case"formAction":if(typeof n=="function"){s.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(t==="formAction"?(e!=="input"&&Oe(s,e,"name",i.name,i,null),Oe(s,e,"formEncType",i.formEncType,i,null),Oe(s,e,"formMethod",i.formMethod,i,null),Oe(s,e,"formTarget",i.formTarget,i,null)):(Oe(s,e,"encType",i.encType,i,null),Oe(s,e,"method",i.method,i,null),Oe(s,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){s.removeAttribute(t);break}n=op(""+n),s.setAttribute(t,n);break;case"onClick":n!=null&&(s.onclick=Ya);break;case"onScroll":n!=null&&me("scroll",s);break;case"onScrollEnd":n!=null&&me("scrollend",s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(t=n.__html,t!=null){if(i.children!=null)throw Error(B(60));s.innerHTML=t}}break;case"multiple":s.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":s.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){s.removeAttribute("xlink:href");break}t=op(""+n),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?s.setAttribute(t,""+n):s.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?s.setAttribute(t,""):s.removeAttribute(t);break;case"capture":case"download":n===!0?s.setAttribute(t,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?s.setAttribute(t,n):s.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?s.setAttribute(t,n):s.removeAttribute(t);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?s.removeAttribute(t):s.setAttribute(t,n);break;case"popover":me("beforetoggle",s),me("toggle",s),rp(s,"popover",n);break;case"xlinkActuate":Zi(s,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Zi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Zi(s,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Zi(s,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Zi(s,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Zi(s,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Zi(s,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Zi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Zi(s,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":rp(s,"is",n);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=h_.get(t)||t,rp(s,t,n))}}function yy(s,e,t,n,i,a){switch(t){case"style":EN(s,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(t=n.__html,t!=null){if(i.children!=null)throw Error(B(60));s.innerHTML=t}}break;case"children":typeof n=="string"?Hu(s,n):(typeof n=="number"||typeof n=="bigint")&&Hu(s,""+n);break;case"onScroll":n!=null&&me("scroll",s);break;case"onScrollEnd":n!=null&&me("scrollend",s);break;case"onClick":n!=null&&(s.onclick=Ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vN.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(i=t.endsWith("Capture"),e=t.slice(2,i?t.length-7:void 0),a=s[zs]||null,a=a!=null?a[t]:null,typeof a=="function"&&s.removeEventListener(e,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(t in s?s[t]=null:s.hasAttribute(t)&&s.removeAttribute(t)),s.addEventListener(e,n,i);break e}t in s?s[t]=n:n===!0?s.setAttribute(t,""):rp(s,t,n)}}}function is(s,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",s),me("load",s);var n=!1,i=!1,a;for(a in t)if(t.hasOwnProperty(a)){var r=t[a];if(r!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:Oe(s,e,a,r,t,null)}}i&&Oe(s,e,"srcSet",t.srcSet,t,null),n&&Oe(s,e,"src",t.src,t,null);return;case"input":me("invalid",s);var l=a=r=i=null,d=null,u=null;for(n in t)if(t.hasOwnProperty(n)){var h=t[n];if(h!=null)switch(n){case"name":i=h;break;case"type":r=h;break;case"checked":d=h;break;case"defaultChecked":u=h;break;case"value":a=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(B(137,e));break;default:Oe(s,e,n,h,t,null)}}AN(s,a,l,d,u,r,i,!1);return;case"select":me("invalid",s),n=r=a=null;for(i in t)if(t.hasOwnProperty(i)&&(l=t[i],l!=null))switch(i){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":n=l;default:Oe(s,e,i,l,t,null)}e=a,t=r,s.multiple=!!n,e!=null?ld(s,!!n,e,!1):t!=null&&ld(s,!!n,t,!0);return;case"textarea":me("invalid",s),a=i=n=null;for(r in t)if(t.hasOwnProperty(r)&&(l=t[r],l!=null))switch(r){case"value":n=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(B(91));break;default:Oe(s,e,r,l,t,null)}jN(s,n,i,a);return;case"option":for(d in t)if(t.hasOwnProperty(d)&&(n=t[d],n!=null))switch(d){case"selected":s.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Oe(s,e,d,n,t,null)}return;case"dialog":me("beforetoggle",s),me("toggle",s),me("cancel",s),me("close",s);break;case"iframe":case"object":me("load",s);break;case"video":case"audio":for(n=0;n<yf.length;n++)me(yf[n],s);break;case"image":me("error",s),me("load",s);break;case"details":me("toggle",s);break;case"embed":case"source":case"link":me("error",s),me("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in t)if(t.hasOwnProperty(u)&&(n=t[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:Oe(s,e,u,n,t,null)}return;default:if(bw(e)){for(h in t)t.hasOwnProperty(h)&&(n=t[h],n!==void 0&&yy(s,e,h,n,t,void 0));return}}for(l in t)t.hasOwnProperty(l)&&(n=t[l],n!=null&&Oe(s,e,l,n,t,null))}function Fk(s,e,t,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,r=null,l=null,d=null,u=null,h=null;for(g in t){var f=t[g];if(t.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":d=f;default:n.hasOwnProperty(g)||Oe(s,e,g,null,n,f)}}for(var m in n){var g=n[m];if(f=t[m],n.hasOwnProperty(m)&&(g!=null||f!=null))switch(m){case"type":a=g;break;case"name":i=g;break;case"checked":u=g;break;case"defaultChecked":h=g;break;case"value":r=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(B(137,e));break;default:g!==f&&Oe(s,e,m,g,n,f)}}$b(s,r,l,d,u,h,a,i);return;case"select":g=r=l=m=null;for(a in t)if(d=t[a],t.hasOwnProperty(a)&&d!=null)switch(a){case"value":break;case"multiple":g=d;default:n.hasOwnProperty(a)||Oe(s,e,a,null,n,d)}for(i in n)if(a=n[i],d=t[i],n.hasOwnProperty(i)&&(a!=null||d!=null))switch(i){case"value":m=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==d&&Oe(s,e,i,a,n,d)}e=l,t=r,n=g,m!=null?ld(s,!!t,m,!1):!!n!=!!t&&(e!=null?ld(s,!!t,e,!0):ld(s,!!t,t?[]:"",!1));return;case"textarea":g=m=null;for(l in t)if(i=t[l],t.hasOwnProperty(l)&&i!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Oe(s,e,l,null,n,i)}for(r in n)if(i=n[r],a=t[r],n.hasOwnProperty(r)&&(i!=null||a!=null))switch(r){case"value":m=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(B(91));break;default:i!==a&&Oe(s,e,r,i,n,a)}NN(s,m,g);return;case"option":for(var v in t)if(m=t[v],t.hasOwnProperty(v)&&m!=null&&!n.hasOwnProperty(v))switch(v){case"selected":s.selected=!1;break;default:Oe(s,e,v,null,n,m)}for(d in n)if(m=n[d],g=t[d],n.hasOwnProperty(d)&&m!==g&&(m!=null||g!=null))switch(d){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Oe(s,e,d,m,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in t)m=t[x],t.hasOwnProperty(x)&&m!=null&&!n.hasOwnProperty(x)&&Oe(s,e,x,null,n,m);for(u in n)if(m=n[u],g=t[u],n.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(B(137,e));break;default:Oe(s,e,u,m,n,g)}return;default:if(bw(e)){for(var S in t)m=t[S],t.hasOwnProperty(S)&&m!==void 0&&!n.hasOwnProperty(S)&&yy(s,e,S,void 0,n,m);for(h in n)m=n[h],g=t[h],!n.hasOwnProperty(h)||m===g||m===void 0&&g===void 0||yy(s,e,h,m,n,g);return}}for(var p in t)m=t[p],t.hasOwnProperty(p)&&m!=null&&!n.hasOwnProperty(p)&&Oe(s,e,p,null,n,m);for(f in n)m=n[f],g=t[f],!n.hasOwnProperty(f)||m===g||m==null&&g==null||Oe(s,e,f,m,n,g)}function UA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zk(){if(typeof performance.getEntriesByType=="function"){for(var s=0,e=0,t=performance.getEntriesByType("resource"),n=0;n<t.length;n++){var i=t[n],a=i.transferSize,r=i.initiatorType,l=i.duration;if(a&&l&&UA(r)){for(r=0,l=i.responseEnd,n+=1;n<t.length;n++){var d=t[n],u=d.startTime;if(u>l)break;var h=d.transferSize,f=d.initiatorType;h&&UA(f)&&(d=d.responseEnd,r+=h*(d<l?1:(l-u)/(d-u)))}if(--n,e+=8*(a+r)/(i.duration/1e3),s++,10<s)break}}if(0<s)return e/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var vy=null,wy=null;function j0(s){return s.nodeType===9?s:s.ownerDocument}function HA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kj(s,e){if(s===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&e==="foreignObject"?0:s}function Sy(s,e){return s==="textarea"||s==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wb=null;function Uk(){var s=window.event;return s&&s.type==="popstate"?s===wb?!1:(wb=s,!0):(wb=null,!1)}var Mj=typeof setTimeout=="function"?setTimeout:void 0,Hk=typeof clearTimeout=="function"?clearTimeout:void 0,VA=typeof Promise=="function"?Promise:void 0,Vk=typeof queueMicrotask=="function"?queueMicrotask:typeof VA<"u"?function(s){return VA.resolve(null).then(s).catch($k)}:Mj;function $k(s){setTimeout(function(){throw s})}function Bo(s){return s==="head"}function $A(s,e){var t=e,n=0;do{var i=t.nextSibling;if(s.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"||t==="/&"){if(n===0){s.removeChild(i),Ku(e);return}n--}else if(t==="$"||t==="$?"||t==="$~"||t==="$!"||t==="&")n++;else if(t==="html")cf(s.ownerDocument.documentElement);else if(t==="head"){t=s.ownerDocument.head,cf(t);for(var a=t.firstChild;a;){var r=a.nextSibling,l=a.nodeName;a[mg]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||t.removeChild(a),a=r}}else t==="body"&&cf(s.ownerDocument.body);t=i}while(t);Ku(e)}function GA(s,e){var t=s;s=0;do{var n=t.nextSibling;if(t.nodeType===1?e?(t._stashedDisplay=t.style.display,t.style.display="none"):(t.style.display=t._stashedDisplay||"",t.getAttribute("style")===""&&t.removeAttribute("style")):t.nodeType===3&&(e?(t._stashedText=t.nodeValue,t.nodeValue=""):t.nodeValue=t._stashedText||""),n&&n.nodeType===8)if(t=n.data,t==="/$"){if(s===0)break;s--}else t!=="$"&&t!=="$?"&&t!=="$~"&&t!=="$!"||s++;t=n}while(t)}function Ay(s){var e=s.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Ay(t),xw(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}s.removeChild(t)}}function Gk(s,e,t,n){for(;s.nodeType===1;){var i=t;if(s.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(n){if(!s[mg])switch(e){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(a=s.getAttribute("rel"),a==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(a!==i.rel||s.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||s.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||s.getAttribute("title")!==(i.title==null?null:i.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(a=s.getAttribute("src"),(a!==(i.src==null?null:i.src)||s.getAttribute("type")!==(i.type==null?null:i.type)||s.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(e==="input"&&s.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&s.getAttribute("name")===a)return s}else return s;if(s=$n(s.nextSibling),s===null)break}return null}function Yk(s,e,t){if(e==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!t||(s=$n(s.nextSibling),s===null))return null;return s}function Dj(s,e){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!e||(s=$n(s.nextSibling),s===null))return null;return s}function Ny(s){return s.data==="$?"||s.data==="$~"}function jy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function qk(s,e){var t=s.ownerDocument;if(s.data==="$~")s._reactRetry=e;else if(s.data!=="$?"||t.readyState!=="loading")e();else{var n=function(){e(),t.removeEventListener("DOMContentLoaded",n)};t.addEventListener("DOMContentLoaded",n),s._reactRetry=n}}function $n(s){for(;s!=null;s=s.nextSibling){var e=s.nodeType;if(e===1||e===3)break;if(e===8){if(e=s.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return s}var Ey=null;function YA(s){s=s.nextSibling;for(var e=0;s;){if(s.nodeType===8){var t=s.data;if(t==="/$"||t==="/&"){if(e===0)return $n(s.nextSibling);e--}else t!=="$"&&t!=="$!"&&t!=="$?"&&t!=="$~"&&t!=="&"||e++}s=s.nextSibling}return null}function qA(s){s=s.previousSibling;for(var e=0;s;){if(s.nodeType===8){var t=s.data;if(t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"){if(e===0)return s;e--}else t!=="/$"&&t!=="/&"||e++}s=s.previousSibling}return null}function Rj(s,e,t){switch(e=j0(t),s){case"html":if(s=e.documentElement,!s)throw Error(B(452));return s;case"head":if(s=e.head,!s)throw Error(B(453));return s;case"body":if(s=e.body,!s)throw Error(B(454));return s;default:throw Error(B(451))}}function cf(s){for(var e=s.attributes;e.length;)s.removeAttributeNode(e[0]);xw(s)}var Yn=new Map,XA=new Set;function E0(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var lr=je.d;je.d={f:Xk,r:Wk,D:Kk,C:Qk,L:Zk,m:Jk,X:tM,S:eM,M:sM};function Xk(){var s=lr.f(),e=jx();return s||e}function Wk(s){var e=Ju(s);e!==null&&e.tag===5&&e.type==="form"?E2(e):lr.r(s)}var nh=typeof document>"u"?null:document;function Lj(s,e,t){var n=nh;if(n&&typeof e=="string"&&e){var i=In(e);i='link[rel="'+s+'"][href="'+i+'"]',typeof t=="string"&&(i+='[crossorigin="'+t+'"]'),XA.has(i)||(XA.add(i),s={rel:s,crossOrigin:t,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),is(e,"link",s),Vt(e),n.head.appendChild(e)))}}function Kk(s){lr.D(s),Lj("dns-prefetch",s,null)}function Qk(s,e){lr.C(s,e),Lj("preconnect",s,e)}function Zk(s,e,t){lr.L(s,e,t);var n=nh;if(n&&s&&e){var i='link[rel="preload"][as="'+In(e)+'"]';e==="image"&&t&&t.imageSrcSet?(i+='[imagesrcset="'+In(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(i+='[imagesizes="'+In(t.imageSizes)+'"]')):i+='[href="'+In(s)+'"]';var a=i;switch(e){case"style":a=Wu(s);break;case"script":a=ih(s)}Yn.has(a)||(s=Qe({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:s,as:e},t),Yn.set(a,s),n.querySelector(i)!==null||e==="style"&&n.querySelector(vg(a))||e==="script"&&n.querySelector(wg(a))||(e=n.createElement("link"),is(e,"link",s),Vt(e),n.head.appendChild(e)))}}function Jk(s,e){lr.m(s,e);var t=nh;if(t&&s){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+In(n)+'"][href="'+In(s)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ih(s)}if(!Yn.has(a)&&(s=Qe({rel:"modulepreload",href:s},e),Yn.set(a,s),t.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(wg(a)))return}n=t.createElement("link"),is(n,"link",s),Vt(n),t.head.appendChild(n)}}}function eM(s,e,t){lr.S(s,e,t);var n=nh;if(n&&s){var i=od(n).hoistableStyles,a=Wu(s);e=e||"default";var r=i.get(a);if(!r){var l={loading:0,preload:null};if(r=n.querySelector(vg(a)))l.loading=5;else{s=Qe({rel:"stylesheet",href:s,"data-precedence":e},t),(t=Yn.get(a))&&sS(s,t);var d=r=n.createElement("link");Vt(d),is(d,"link",s),d._p=new Promise(function(u,h){d.onload=u,d.onerror=h}),d.addEventListener("load",function(){l.loading|=1}),d.addEventListener("error",function(){l.loading|=2}),l.loading|=4,xp(r,e,n)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(a,r)}}}function tM(s,e){lr.X(s,e);var t=nh;if(t&&s){var n=od(t).hoistableScripts,i=ih(s),a=n.get(i);a||(a=t.querySelector(wg(i)),a||(s=Qe({src:s,async:!0},e),(e=Yn.get(i))&&nS(s,e),a=t.createElement("script"),Vt(a),is(a,"link",s),t.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function sM(s,e){lr.M(s,e);var t=nh;if(t&&s){var n=od(t).hoistableScripts,i=ih(s),a=n.get(i);a||(a=t.querySelector(wg(i)),a||(s=Qe({src:s,async:!0,type:"module"},e),(e=Yn.get(i))&&nS(s,e),a=t.createElement("script"),Vt(a),is(a,"link",s),t.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function WA(s,e,t,n){var i=(i=yo.current)?E0(i):null;if(!i)throw Error(B(446));switch(s){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=Wu(t.href),t=od(i).hoistableStyles,n=t.get(e),n||(n={type:"style",instance:null,count:0,state:null},t.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){s=Wu(t.href);var a=od(i).hoistableStyles,r=a.get(s);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(s,r),(a=i.querySelector(vg(s)))&&!a._p&&(r.instance=a,r.state.loading=5),Yn.has(s)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},Yn.set(s,t),a||nM(i,s,t,r.state))),e&&n===null)throw Error(B(528,""));return r}if(e&&n!==null)throw Error(B(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ih(t),t=od(i).hoistableScripts,n=t.get(e),n||(n={type:"script",instance:null,count:0,state:null},t.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,s))}}function Wu(s){return'href="'+In(s)+'"'}function vg(s){return'link[rel="stylesheet"]['+s+"]"}function Oj(s){return Qe({},s,{"data-precedence":s.precedence,precedence:null})}function nM(s,e,t,n){s.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=s.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),is(e,"link",t),Vt(e),s.head.appendChild(e))}function ih(s){return'[src="'+In(s)+'"]'}function wg(s){return"script[async]"+s}function KA(s,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var n=s.querySelector('style[data-href~="'+In(t.href)+'"]');if(n)return e.instance=n,Vt(n),n;var i=Qe({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return n=(s.ownerDocument||s).createElement("style"),Vt(n),is(n,"style",i),xp(n,t.precedence,s),e.instance=n;case"stylesheet":i=Wu(t.href);var a=s.querySelector(vg(i));if(a)return e.state.loading|=4,e.instance=a,Vt(a),a;n=Oj(t),(i=Yn.get(i))&&sS(n,i),a=(s.ownerDocument||s).createElement("link"),Vt(a);var r=a;return r._p=new Promise(function(l,d){r.onload=l,r.onerror=d}),is(a,"link",n),e.state.loading|=4,xp(a,t.precedence,s),e.instance=a;case"script":return a=ih(t.src),(i=s.querySelector(wg(a)))?(e.instance=i,Vt(i),i):(n=t,(i=Yn.get(a))&&(n=Qe({},t),nS(n,i)),s=s.ownerDocument||s,i=s.createElement("script"),Vt(i),is(i,"link",n),s.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(B(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,xp(n,t.precedence,s));return e.instance}function xp(s,e,t){for(var n=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,r=0;r<n.length;r++){var l=n[r];if(l.dataset.precedence===e)a=l;else if(a!==i)break}a?a.parentNode.insertBefore(s,a.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(s,e.firstChild))}function sS(s,e){s.crossOrigin==null&&(s.crossOrigin=e.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=e.referrerPolicy),s.title==null&&(s.title=e.title)}function nS(s,e){s.crossOrigin==null&&(s.crossOrigin=e.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=e.referrerPolicy),s.integrity==null&&(s.integrity=e.integrity)}var bp=null;function QA(s,e,t){if(bp===null){var n=new Map,i=bp=new Map;i.set(t,n)}else i=bp,n=i.get(t),n||(n=new Map,i.set(t,n));if(n.has(s))return n;for(n.set(s,null),t=t.getElementsByTagName(s),i=0;i<t.length;i++){var a=t[i];if(!(a[mg]||a[es]||s==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(e)||"";r=s+r;var l=n.get(r);l?l.push(a):n.set(r,[a])}}return n}function ZA(s,e,t){s=s.ownerDocument||s,s.head.insertBefore(t,e==="title"?s.querySelector("head > title"):null)}function iM(s,e,t){if(t===1||e.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return s=e.disabled,typeof e.precedence=="string"&&s==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Pj(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}function aM(s,e,t,n){if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=Wu(n.href),a=e.querySelector(vg(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=C0.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=a,Vt(a);return}a=e.ownerDocument||e,n=Oj(n),(i=Yn.get(i))&&sS(n,i),a=a.createElement("link"),Vt(a);var r=a;r._p=new Promise(function(l,d){r.onload=l,r.onerror=d}),is(a,"link",n),t.instance=a}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=C0.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}var Sb=0;function rM(s,e){return s.stylesheets&&s.count===0&&yp(s,s.stylesheets),0<s.count||0<s.imgCount?function(t){var n=setTimeout(function(){if(s.stylesheets&&yp(s,s.stylesheets),s.unsuspend){var a=s.unsuspend;s.unsuspend=null,a()}},6e4+e);0<s.imgBytes&&Sb===0&&(Sb=62500*zk());var i=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&yp(s,s.stylesheets),s.unsuspend)){var a=s.unsuspend;s.unsuspend=null,a()}},(s.imgBytes>Sb?50:800)+e);return s.unsuspend=t,function(){s.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function C0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var T0=null;function yp(s,e){s.stylesheets=null,s.unsuspend!==null&&(s.count++,T0=new Map,e.forEach(oM,s),T0=null,C0.call(s))}function oM(s,e){if(!(e.state.loading&4)){var t=T0.get(s);if(t)var n=t.get(null);else{t=new Map,T0.set(s,t);for(var i=s.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var r=i[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(t.set(r.dataset.precedence,r),n=r)}n&&t.set(null,n)}i=e.instance,r=i.getAttribute("data-precedence"),a=t.get(r)||n,a===n&&t.set(null,i),t.set(r,i),this.count++,n=C0.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(i,s.firstChild)),e.state.loading|=4}}var wf={$$typeof:Ga,Provider:null,Consumer:null,_currentValue:lc,_currentValue2:lc,_threadCount:0};function lM(s,e,t,n,i,a,r,l,d){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gx(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gx(0),this.hiddenUpdates=Gx(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function Bj(s,e,t,n,i,a,r,l,d,u,h,f){return s=new lM(s,e,t,r,d,u,h,f,l),e=1,a===!0&&(e|=24),a=hn(3,null,null,e),s.current=a,a.stateNode=s,e=_w(),e.refCount++,s.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:t,cache:e},Dw(a),s}function Ij(s){return s?(s=Qc,s):Qc}function Fj(s,e,t,n,i,a){i=Ij(i),n.context===null?n.context=i:n.pendingContext=i,n=wo(e),n.payload={element:t},a=a===void 0?null:a,a!==null&&(n.callback=a),t=So(s,n,e),t!==null&&(Fs(t,s,e),ef(t,s,e))}function JA(s,e){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var t=s.retryLane;s.retryLane=t!==0&&t<e?t:e}}function iS(s,e){JA(s,e),(s=s.alternate)&&JA(s,e)}function zj(s){if(s.tag===13||s.tag===31){var e=Nc(s,67108864);e!==null&&Fs(e,s,67108864),iS(s,67108864)}}function e1(s){if(s.tag===13||s.tag===31){var e=xn();e=gw(e);var t=Nc(s,e);t!==null&&Fs(t,s,e),iS(s,e)}}var _0=!0;function cM(s,e,t,n){var i=J.T;J.T=null;var a=je.p;try{je.p=2,aS(s,e,t,n)}finally{je.p=a,J.T=i}}function dM(s,e,t,n){var i=J.T;J.T=null;var a=je.p;try{je.p=8,aS(s,e,t,n)}finally{je.p=a,J.T=i}}function aS(s,e,t,n){if(_0){var i=Cy(n);if(i===null)vb(s,e,n,k0,t),t1(s,n);else if(hM(i,s,e,t,n))n.stopPropagation();else if(t1(s,n),e&4&&-1<uM.indexOf(s)){for(;i!==null;){var a=Ju(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Uo(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var d=1<<31-pn(r);l.entanglements[1]|=d,r&=~d}Wi(a),!(Ne&6)&&(y0=mn()+500,yg(0))}}break;case 31:case 13:l=Nc(a,2),l!==null&&Fs(l,a,2),jx(),iS(a,2)}if(a=Cy(n),a===null&&vb(s,e,n,k0,t),a===i)break;i=a}i!==null&&n.stopPropagation()}else vb(s,e,n,null,t)}}function Cy(s){return s=yw(s),rS(s)}var k0=null;function rS(s){if(k0=null,s=Gc(s),s!==null){var e=dg(s);if(e===null)s=null;else{var t=e.tag;if(t===13){if(s=rN(e),s!==null)return s;s=null}else if(t===31){if(s=oN(e),s!==null)return s;s=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;s=null}else e!==s&&(s=null)}}return k0=s,null}function Uj(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(KT()){case uN:return 2;case hN:return 8;case a0:case QT:return 32;case fN:return 268435456;default:return 32}default:return 32}}var Ty=!1,jo=null,Eo=null,Co=null,Sf=new Map,Af=new Map,xr=[],uM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t1(s,e){switch(s){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":Sf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Af.delete(e.pointerId)}}function gh(s,e,t,n,i,a){return s===null||s.nativeEvent!==a?(s={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ju(e),e!==null&&zj(e)),s):(s.eventSystemFlags|=n,e=s.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),s)}function hM(s,e,t,n,i){switch(e){case"focusin":return jo=gh(jo,s,e,t,n,i),!0;case"dragenter":return Eo=gh(Eo,s,e,t,n,i),!0;case"mouseover":return Co=gh(Co,s,e,t,n,i),!0;case"pointerover":var a=i.pointerId;return Sf.set(a,gh(Sf.get(a)||null,s,e,t,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Af.set(a,gh(Af.get(a)||null,s,e,t,n,i)),!0}return!1}function Hj(s){var e=Gc(s.target);if(e!==null){var t=dg(e);if(t!==null){if(e=t.tag,e===13){if(e=rN(t),e!==null){s.blockedOn=e,FS(s.priority,function(){e1(t)});return}}else if(e===31){if(e=oN(t),e!==null){s.blockedOn=e,FS(s.priority,function(){e1(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){s.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vp(s){if(s.blockedOn!==null)return!1;for(var e=s.targetContainers;0<e.length;){var t=Cy(s.nativeEvent);if(t===null){t=s.nativeEvent;var n=new t.constructor(t.type,t);Yb=n,t.target.dispatchEvent(n),Yb=null}else return e=Ju(t),e!==null&&zj(e),s.blockedOn=t,!1;e.shift()}return!0}function s1(s,e,t){vp(s)&&t.delete(e)}function fM(){Ty=!1,jo!==null&&vp(jo)&&(jo=null),Eo!==null&&vp(Eo)&&(Eo=null),Co!==null&&vp(Co)&&(Co=null),Sf.forEach(s1),Af.forEach(s1)}function Gg(s,e){s.blockedOn===e&&(s.blockedOn=null,Ty||(Ty=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,fM)))}var Yg=null;function n1(s){Yg!==s&&(Yg=s,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,function(){Yg===s&&(Yg=null);for(var e=0;e<s.length;e+=3){var t=s[e],n=s[e+1],i=s[e+2];if(typeof n!="function"){if(rS(n||t)===null)continue;break}var a=Ju(t);a!==null&&(s.splice(e,3),e-=3,ly(a,{pending:!0,data:i,method:t.method,action:n},n,i))}}))}function Ku(s){function e(d){return Gg(d,s)}jo!==null&&Gg(jo,s),Eo!==null&&Gg(Eo,s),Co!==null&&Gg(Co,s),Sf.forEach(e),Af.forEach(e);for(var t=0;t<xr.length;t++){var n=xr[t];n.blockedOn===s&&(n.blockedOn=null)}for(;0<xr.length&&(t=xr[0],t.blockedOn===null);)Hj(t),t.blockedOn===null&&xr.shift();if(t=(s.ownerDocument||s).$$reactFormReplay,t!=null)for(n=0;n<t.length;n+=3){var i=t[n],a=t[n+1],r=i[zs]||null;if(typeof a=="function")r||n1(t);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(i=a,r=a[zs]||null)l=r.formAction;else if(rS(i)!==null)continue}else l=r.action;typeof l=="function"?t[n+1]=l:(t.splice(n,3),n-=3),n1(t)}}}function Vj(){function s(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),n||setTimeout(t,20)}function t(){if(!n&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(t,100),function(){n=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function oS(s){this._internalRoot=s}Tx.prototype.render=oS.prototype.render=function(s){var e=this._internalRoot;if(e===null)throw Error(B(409));var t=e.current,n=xn();Fj(t,n,s,e,null,null)};Tx.prototype.unmount=oS.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var e=s.containerInfo;Fj(s.current,2,null,s,null,null),jx(),e[Zu]=null}};function Tx(s){this._internalRoot=s}Tx.prototype.unstable_scheduleHydration=function(s){if(s){var e=bN();s={blockedOn:null,target:s,priority:e};for(var t=0;t<xr.length&&e!==0&&e<xr[t].priority;t++);xr.splice(t,0,s),t===0&&Hj(s)}};var i1=iN.version;if(i1!=="19.2.0")throw Error(B(527,i1,"19.2.0"));je.findDOMNode=function(s){var e=s._reactInternals;if(e===void 0)throw typeof s.render=="function"?Error(B(188)):(s=Object.keys(s).join(","),Error(B(268,s)));return s=VT(e),s=s!==null?lN(s):null,s=s===null?null:s.stateNode,s};var mM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qg.isDisabled&&qg.supportsFiber)try{ug=qg.inject(mM),gn=qg}catch{}}ux.createRoot=function(s,e){if(!aN(s))throw Error(B(299));var t=!1,n="",i=L2,a=O2,r=P2;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Bj(s,1,!1,null,null,t,n,null,i,a,r,Vj),s[Zu]=e.current,tS(s),new oS(e)};ux.hydrateRoot=function(s,e,t){if(!aN(s))throw Error(B(299));var n=!1,i="",a=L2,r=O2,l=P2,d=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError),t.formState!==void 0&&(d=t.formState)),e=Bj(s,1,!0,e,t??null,n,i,d,a,r,l,Vj),e.context=Ij(null),t=e.current,n=xn(),n=gw(n),i=wo(n),i.callback=null,So(t,i,n),t=n,e.current.lanes=t,fg(e,t),Wi(e),s[Zu]=e.current,tS(s),new Tx(e)};ux.version="19.2.0";function $j(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($j)}catch(s){console.error(s)}}$j(),Z1.exports=ux;var gM=Z1.exports;const pM=H1(gM);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a1="popstate";function xM(s={}){function e(n,i){let{pathname:a,search:r,hash:l}=n.location;return _y("",{pathname:a,search:r,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Nf(i)}return yM(e,t,null,s)}function it(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Gi(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bM(){return Math.random().toString(36).substring(2,10)}function r1(s,e){return{usr:s.state,key:s.key,idx:e}}function _y(s,e,t=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?ah(e):e,state:t,key:e&&e.key||n||bM()}}function Nf({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function ah(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function yM(s,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,r=i.history,l="POP",d=null,u=h();u==null&&(u=0,r.replaceState({...r.state,idx:u},""));function h(){return(r.state||{idx:null}).idx}function f(){l="POP";let S=h(),p=S==null?null:S-u;u=S,d&&d({action:l,location:x.location,delta:p})}function m(S,p){l="PUSH";let y=_y(x.location,S,p);u=h()+1;let w=r1(y,u),j=x.createHref(y);try{r.pushState(w,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(j)}a&&d&&d({action:l,location:x.location,delta:1})}function g(S,p){l="REPLACE";let y=_y(x.location,S,p);u=h();let w=r1(y,u),j=x.createHref(y);r.replaceState(w,"",j),a&&d&&d({action:l,location:x.location,delta:0})}function v(S){return vM(S)}let x={get action(){return l},get location(){return s(i,r)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(a1,f),d=S,()=>{i.removeEventListener(a1,f),d=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let p=v(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:g,go(S){return r.go(S)}};return x}function vM(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:Nf(s);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function Gj(s,e,t="/"){return wM(s,e,t,!1)}function wM(s,e,t,n){let i=typeof e=="string"?ah(e):e,a=ar(i.pathname||"/",t);if(a==null)return null;let r=Yj(s);SM(r);let l=null;for(let d=0;l==null&&d<r.length;++d){let u=RM(a);l=MM(r[d],u,n)}return l}function Yj(s,e=[],t=[],n="",i=!1){let a=(r,l,d=i,u)=>{let h={relativePath:u===void 0?r.path||"":u,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&d)return;it(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let f=Qa([n,h.relativePath]),m=t.concat(h);r.children&&r.children.length>0&&(it(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Yj(r.children,e,m,f,d)),!(r.path==null&&!r.index)&&e.push({path:f,score:_M(f,r.index),routesMeta:m})};return s.forEach((r,l)=>{var d;if(r.path===""||!((d=r.path)!=null&&d.includes("?")))a(r,l);else for(let u of qj(r.path))a(r,l,!0,u)}),e}function qj(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let r=qj(n.join("/")),l=[];return l.push(...r.map(d=>d===""?a:[a,d].join("/"))),i&&l.push(...r),l.map(d=>s.startsWith("/")&&d===""?"/":d)}function SM(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:kM(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var AM=/^:[\w-]+$/,NM=3,jM=2,EM=1,CM=10,TM=-2,o1=s=>s==="*";function _M(s,e){let t=s.split("/"),n=t.length;return t.some(o1)&&(n+=TM),e&&(n+=jM),t.filter(i=>!o1(i)).reduce((i,a)=>i+(AM.test(a)?NM:a===""?EM:CM),n)}function kM(s,e){return s.length===e.length&&s.slice(0,-1).every((n,i)=>n===e[i])?s[s.length-1]-e[e.length-1]:0}function MM(s,e,t=!1){let{routesMeta:n}=s,i={},a="/",r=[];for(let l=0;l<n.length;++l){let d=n[l],u=l===n.length-1,h=a==="/"?e:e.slice(a.length)||"/",f=M0({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),m=d.route;if(!f&&u&&t&&!n[n.length-1].route.index&&(f=M0({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),r.push({params:i,pathname:Qa([a,f.pathname]),pathnameBase:BM(Qa([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=Qa([a,f.pathnameBase]))}return r}function M0(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=DM(s.path,s.caseSensitive,s.end),i=e.match(t);if(!i)return null;let a=i[0],r=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:f},m)=>{if(h==="*"){let v=l[m]||"";r=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[m];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:r,pattern:s}}function DM(s,e=!1,t=!0){Gi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function RM(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ar(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}function LM(s,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof s=="string"?ah(s):s;return{pathname:t?t.startsWith("/")?t:OM(t,e):e,search:IM(n),hash:FM(i)}}function OM(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ab(s,e,t,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PM(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xj(s){let e=PM(s);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Wj(s,e,t,n=!1){let i;typeof s=="string"?i=ah(s):(i={...s},it(!i.pathname||!i.pathname.includes("?"),Ab("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),Ab("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),Ab("#","search","hash",i)));let a=s===""||i.pathname==="",r=a?"/":i.pathname,l;if(r==null)l=t;else{let f=e.length-1;if(!n&&r.startsWith("..")){let m=r.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let d=LM(i,l),u=r&&r!=="/"&&r.endsWith("/"),h=(a||r===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}var Qa=s=>s.join("/").replace(/\/\/+/g,"/"),BM=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),IM=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,FM=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function zM(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kj=["POST","PUT","PATCH","DELETE"];new Set(Kj);var UM=["GET",...Kj];new Set(UM);var rh=k.createContext(null);rh.displayName="DataRouter";var _x=k.createContext(null);_x.displayName="DataRouterState";k.createContext(!1);var Qj=k.createContext({isTransitioning:!1});Qj.displayName="ViewTransition";var HM=k.createContext(new Map);HM.displayName="Fetchers";var VM=k.createContext(null);VM.displayName="Await";var Ki=k.createContext(null);Ki.displayName="Navigation";var Sg=k.createContext(null);Sg.displayName="Location";var Qi=k.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var lS=k.createContext(null);lS.displayName="RouteError";function $M(s,{relative:e}={}){it(Ag(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=k.useContext(Ki),{hash:i,pathname:a,search:r}=Ng(s,{relative:e}),l=a;return t!=="/"&&(l=a==="/"?t:Qa([t,a])),n.createHref({pathname:l,search:r,hash:i})}function Ag(){return k.useContext(Sg)!=null}function cr(){return it(Ag(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Sg).location}var Zj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jj(s){k.useContext(Ki).static||k.useLayoutEffect(s)}function Lt(){let{isDataRoute:s}=k.useContext(Qi);return s?nD():GM()}function GM(){it(Ag(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(rh),{basename:e,navigator:t}=k.useContext(Ki),{matches:n}=k.useContext(Qi),{pathname:i}=cr(),a=JSON.stringify(Xj(n)),r=k.useRef(!1);return Jj(()=>{r.current=!0}),k.useCallback((d,u={})=>{if(Gi(r.current,Zj),!r.current)return;if(typeof d=="number"){t.go(d);return}let h=Wj(d,JSON.parse(a),i,u.relative==="path");s==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qa([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,a,i,s])}k.createContext(null);function eE(){let{matches:s}=k.useContext(Qi),e=s[s.length-1];return e?e.params:{}}function Ng(s,{relative:e}={}){let{matches:t}=k.useContext(Qi),{pathname:n}=cr(),i=JSON.stringify(Xj(t));return k.useMemo(()=>Wj(s,JSON.parse(i),n,e==="path"),[s,i,n,e])}function YM(s,e){return tE(s,e)}function tE(s,e,t,n,i){var y;it(Ag(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=k.useContext(Ki),{matches:r}=k.useContext(Qi),l=r[r.length-1],d=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let w=f&&f.path||"";sE(u,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let m=cr(),g;if(e){let w=typeof e=="string"?ah(e):e;it(h==="/"||((y=w.pathname)==null?void 0:y.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),g=w}else g=m;let v=g.pathname||"/",x=v;if(h!=="/"){let w=h.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=Gj(s,{pathname:x});Gi(f||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Gi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=QM(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:Qa([h,a.encodeLocation?a.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:Qa([h,a.encodeLocation?a.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),r,t,n,i);return e&&p?k.createElement(Sg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},p):p}function qM(){let s=sD(),e=zM(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},r=null;return console.error("Error handled by React Router default ErrorBoundary:",s),r=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:i},t):null,r)}var XM=k.createElement(qM,null),WM=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?k.createElement(Qi.Provider,{value:this.props.routeContext},k.createElement(lS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KM({routeContext:s,match:e,children:t}){let n=k.useContext(rh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Qi.Provider,{value:s},t)}function QM(s,e=[],t=null,n=null,i=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let a=s,r=t==null?void 0:t.errors;if(r!=null){let u=a.findIndex(h=>h.route.id&&(r==null?void 0:r[h.route.id])!==void 0);it(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,d=-1;if(t)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=t,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,h,f)=>{let m,g=!1,v=null,x=null;t&&(m=r&&h.route.id?r[h.route.id]:void 0,v=h.route.errorElement||XM,l&&(d<0&&f===0?(sE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):d===f&&(g=!0,x=h.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,f+1)),p=()=>{let y;return m?y=v:g?y=x:h.route.Component?y=k.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,k.createElement(KM,{match:h,routeContext:{outlet:u,matches:S,isDataRoute:t!=null},children:y})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(WM,{location:t.location,revalidation:t.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):p()},null)}function cS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZM(s){let e=k.useContext(rh);return it(e,cS(s)),e}function JM(s){let e=k.useContext(_x);return it(e,cS(s)),e}function eD(s){let e=k.useContext(Qi);return it(e,cS(s)),e}function dS(s){let e=eD(s),t=e.matches[e.matches.length-1];return it(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function tD(){return dS("useRouteId")}function sD(){var n;let s=k.useContext(lS),e=JM("useRouteError"),t=dS("useRouteError");return s!==void 0?s:(n=e.errors)==null?void 0:n[t]}function nD(){let{router:s}=ZM("useNavigate"),e=dS("useNavigate"),t=k.useRef(!1);return Jj(()=>{t.current=!0}),k.useCallback(async(i,a={})=>{Gi(t.current,Zj),t.current&&(typeof i=="number"?s.navigate(i):await s.navigate(i,{fromRouteId:e,...a}))},[s,e])}var l1={};function sE(s,e,t){!e&&!l1[s]&&(l1[s]=!0,Gi(!1,t))}k.memo(iD);function iD({routes:s,future:e,state:t,unstable_onError:n}){return tE(s,void 0,t,n,e)}function Ie(s){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aD({basename:s="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){it(!Ag(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let r=s.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:r,navigator:i,static:a,future:{}}),[r,i,a]);typeof t=="string"&&(t=ah(t));let{pathname:d="/",search:u="",hash:h="",state:f=null,key:m="default"}=t,g=k.useMemo(()=>{let v=ar(d,r);return v==null?null:{location:{pathname:v,search:u,hash:h,state:f,key:m},navigationType:n}},[r,d,u,h,f,m,n]);return Gi(g!=null,`<Router basename="${r}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:k.createElement(Ki.Provider,{value:l},k.createElement(Sg.Provider,{children:e,value:g}))}function rD({children:s,location:e}){return YM(ky(s),e)}function ky(s,e=[]){let t=[];return k.Children.forEach(s,(n,i)=>{if(!k.isValidElement(n))return;let a=[...e,i];if(n.type===k.Fragment){t.push.apply(t,ky(n.props.children,a));return}it(n.type===Ie,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!n.props.index||!n.props.children,"An index route cannot have child routes.");let r={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(r.children=ky(n.props.children,a)),t.push(r)}),t}var wp="get",Sp="application/x-www-form-urlencoded";function kx(s){return s!=null&&typeof s.tagName=="string"}function oD(s){return kx(s)&&s.tagName.toLowerCase()==="button"}function lD(s){return kx(s)&&s.tagName.toLowerCase()==="form"}function cD(s){return kx(s)&&s.tagName.toLowerCase()==="input"}function dD(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function uD(s,e){return s.button===0&&(!e||e==="_self")&&!dD(s)}var Xg=null;function hD(){if(Xg===null)try{new FormData(document.createElement("form"),0),Xg=!1}catch{Xg=!0}return Xg}var fD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nb(s){return s!=null&&!fD.has(s)?(Gi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sp}"`),null):s}function mD(s,e){let t,n,i,a,r;if(lD(s)){let l=s.getAttribute("action");n=l?ar(l,e):null,t=s.getAttribute("method")||wp,i=Nb(s.getAttribute("enctype"))||Sp,a=new FormData(s)}else if(oD(s)||cD(s)&&(s.type==="submit"||s.type==="image")){let l=s.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||l.getAttribute("action");if(n=d?ar(d,e):null,t=s.getAttribute("formmethod")||l.getAttribute("method")||wp,i=Nb(s.getAttribute("formenctype"))||Nb(l.getAttribute("enctype"))||Sp,a=new FormData(l,s),!hD()){let{name:u,type:h,value:f}=s;if(h==="image"){let m=u?`${u}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else u&&a.append(u,f)}}else{if(kx(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wp,n=null,i=Sp,r=s}return a&&i==="text/plain"&&(r=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uS(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function gD(s,e,t){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&ar(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function pD(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xD(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function bD(s,e,t){let n=await Promise.all(s.map(async i=>{let a=e.routes[i.route.id];if(a){let r=await pD(a,t);return r.links?r.links():[]}return[]}));return SD(n.flat(1).filter(xD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function c1(s,e,t,n,i,a){let r=(d,u)=>t[u]?d.route.id!==t[u].route.id:!0,l=(d,u)=>{var h;return t[u].pathname!==d.pathname||((h=t[u].route.path)==null?void 0:h.endsWith("*"))&&t[u].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,u)=>r(d,u)||l(d,u)):a==="data"?e.filter((d,u)=>{var f;let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(r(d,u)||l(d,u))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=t[0])==null?void 0:f.params)||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function yD(s,e,{includeHydrateFallback:t}={}){return vD(s.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function vD(s){return[...new Set(s)]}function wD(s){let e={},t=Object.keys(s).sort();for(let n of t)e[n]=s[n];return e}function SD(s,e){let t=new Set;return new Set(e),s.reduce((n,i)=>{let a=JSON.stringify(wD(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function nE(){let s=k.useContext(rh);return uS(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function AD(){let s=k.useContext(_x);return uS(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var hS=k.createContext(void 0);hS.displayName="FrameworkContext";function iE(){let s=k.useContext(hS);return uS(s,"You must render this element inside a <HydratedRouter> element"),s}function ND(s,e){let t=k.useContext(hS),[n,i]=k.useState(!1),[a,r]=k.useState(!1),{onFocus:l,onBlur:d,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,m=k.useRef(null);k.useEffect(()=>{if(s==="render"&&r(!0),s==="viewport"){let x=p=>{p.forEach(y=>{r(y.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[s]),k.useEffect(()=>{if(n){let x=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(x)}}},[n]);let g=()=>{i(!0)},v=()=>{i(!1),r(!1)};return t?s!=="intent"?[a,m,{}]:[a,m,{onFocus:ph(l,g),onBlur:ph(d,v),onMouseEnter:ph(u,g),onMouseLeave:ph(h,v),onTouchStart:ph(f,g)}]:[!1,m,{}]}function ph(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function jD({page:s,...e}){let{router:t}=nE(),n=k.useMemo(()=>Gj(t.routes,s,t.basename),[t.routes,s,t.basename]);return n?k.createElement(CD,{page:s,matches:n,...e}):null}function ED(s){let{manifest:e,routeModules:t}=iE(),[n,i]=k.useState([]);return k.useEffect(()=>{let a=!1;return bD(s,e,t).then(r=>{a||i(r)}),()=>{a=!0}},[s,e,t]),n}function CD({page:s,matches:e,...t}){let n=cr(),{manifest:i,routeModules:a}=iE(),{basename:r}=nE(),{loaderData:l,matches:d}=AD(),u=k.useMemo(()=>c1(s,e,d,i,n,"data"),[s,e,d,i,n]),h=k.useMemo(()=>c1(s,e,d,i,n,"assets"),[s,e,d,i,n]),f=k.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let v=new Set,x=!1;if(e.forEach(p=>{var w;let y=i.routes[p.route.id];!y||!y.hasLoader||(!u.some(j=>j.route.id===p.route.id)&&p.route.id in l&&((w=a[p.route.id])!=null&&w.shouldRevalidate)||y.hasClientLoader?x=!0:v.add(p.route.id))}),v.size===0)return[];let S=gD(s,r,"data");return x&&v.size>0&&S.searchParams.set("_routes",e.filter(p=>v.has(p.route.id)).map(p=>p.route.id).join(",")),[S.pathname+S.search]},[r,l,n,i,u,e,s,a]),m=k.useMemo(()=>yD(h,i),[h,i]),g=ED(h);return k.createElement(k.Fragment,null,f.map(v=>k.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),m.map(v=>k.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),g.map(({key:v,link:x})=>k.createElement("link",{key:v,nonce:t.nonce,...x})))}function TD(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aE&&(window.__reactRouterVersion="7.9.5")}catch{}function _D({basename:s,children:e,window:t}){let n=k.useRef();n.current==null&&(n.current=xM({window:t,v5Compat:!0}));let i=n.current,[a,r]=k.useState({action:i.action,location:i.location}),l=k.useCallback(d=>{k.startTransition(()=>r(d))},[r]);return k.useLayoutEffect(()=>i.listen(l),[i,l]),k.createElement(aD,{basename:s,children:e,location:a.location,navigationType:a.action,navigator:i})}var rE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=k.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:r,state:l,target:d,to:u,preventScrollReset:h,viewTransition:f,...m},g){let{basename:v}=k.useContext(Ki),x=typeof u=="string"&&rE.test(u),S,p=!1;if(typeof u=="string"&&x&&(S=u,aE))try{let M=new URL(window.location.href),D=u.startsWith("//")?new URL(M.protocol+u):new URL(u),R=ar(D.pathname,v);D.origin===M.origin&&R!=null?u=R+D.search+D.hash:p=!0}catch{Gi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=$M(u,{relative:i}),[w,j,C]=ND(n,m),T=RD(u,{replace:r,state:l,target:d,preventScrollReset:h,relative:i,viewTransition:f});function E(M){e&&e(M),M.defaultPrevented||T(M)}let _=k.createElement("a",{...m,...C,href:S||y,onClick:p||a?e:E,ref:TD(g,j),target:d,"data-discover":!x&&t==="render"?"true":void 0});return w&&!x?k.createElement(k.Fragment,null,_,k.createElement(jD,{page:y})):_});q.displayName="Link";var kD=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:r,viewTransition:l,children:d,...u},h){let f=Ng(r,{relative:u.relative}),m=cr(),g=k.useContext(_x),{navigator:v,basename:x}=k.useContext(Ki),S=g!=null&&ID(f)&&l===!0,p=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=m.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(y=y.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&x&&(w=ar(w,x)||w);const j=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let C=y===p||!i&&y.startsWith(p)&&y.charAt(j)==="/",T=w!=null&&(w===p||!i&&w.startsWith(p)&&w.charAt(p.length)==="/"),E={isActive:C,isPending:T,isTransitioning:S},_=C?e:void 0,M;typeof n=="function"?M=n(E):M=[n,C?"active":null,T?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(E):a;return k.createElement(q,{...u,"aria-current":_,className:M,ref:h,style:D,to:r,viewTransition:l},typeof d=="function"?d(E):d)});kD.displayName="NavLink";var MD=k.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:r=wp,action:l,onSubmit:d,relative:u,preventScrollReset:h,viewTransition:f,...m},g)=>{let v=PD(),x=BD(l,{relative:u}),S=r.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&rE.test(l),y=w=>{if(d&&d(w),w.defaultPrevented)return;w.preventDefault();let j=w.nativeEvent.submitter,C=(j==null?void 0:j.getAttribute("formmethod"))||r;v(j||w.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:i,state:a,relative:u,preventScrollReset:h,viewTransition:f})};return k.createElement("form",{ref:g,method:S,action:x,onSubmit:n?d:y,...m,"data-discover":!p&&s==="render"?"true":void 0})});MD.displayName="Form";function DD(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(s){let e=k.useContext(rh);return it(e,DD(s)),e}function RD(s,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:r}={}){let l=Lt(),d=cr(),u=Ng(s,{relative:a});return k.useCallback(h=>{if(uD(h,e)){h.preventDefault();let f=t!==void 0?t:Nf(d)===Nf(u);l(s,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:r})}},[d,l,u,t,n,e,s,i,a,r])}var LD=0,OD=()=>`__${String(++LD)}__`;function PD(){let{router:s}=oE("useSubmit"),{basename:e}=k.useContext(Ki),t=tD();return k.useCallback(async(n,i={})=>{let{action:a,method:r,encType:l,formData:d,body:u}=mD(n,e);if(i.navigate===!1){let h=i.fetcherKey||OD();await s.fetch(h,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:u,formMethod:i.method||r,formEncType:i.encType||l,flushSync:i.flushSync})}else await s.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:u,formMethod:i.method||r,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,e,t])}function BD(s,{relative:e}={}){let{basename:t}=k.useContext(Ki),n=k.useContext(Qi);it(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Ng(s||".",{relative:e})},r=cr();if(s==null){a.search=r.search;let l=new URLSearchParams(a.search),d=l.getAll("index");if(d.some(h=>h==="")){l.delete("index"),d.filter(f=>f).forEach(f=>l.append("index",f));let h=l.toString();a.search=h?`?${h}`:""}}return(!s||s===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Qa([t,a.pathname])),Nf(a)}function ID(s,{relative:e}={}){let t=k.useContext(Qj);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=oE("useViewTransitionState"),i=Ng(s,{relative:e});if(!t.isTransitioning)return!1;let a=ar(t.currentLocation.pathname,n)||t.currentLocation.pathname,r=ar(t.nextLocation.pathname,n)||t.nextLocation.pathname;return M0(i.pathname,r)!=null||M0(i.pathname,a)!=null}function Ec({startup:s,onVote:e,onSwipeAway:t}){var D;const[n,i]=k.useState(!1),[a,r]=k.useState(null),[l,d]=k.useState(!1),[u,h]=k.useState(!1),[f,m]=k.useState(""),[g,v]=k.useState(!1),[x,S]=k.useState(!1),[p,y]=k.useState(!1),j=(R=>R===4?1:5)(s.stage||1),C=s.yesVotes||0,T=Math.min(C/j*100,100),E=R=>{n||(r(R),i(!0),R==="yes"&&(d(!0),setTimeout(()=>d(!1),800)),e(R),setTimeout(()=>{y(!0),setTimeout(()=>{S(!0),setTimeout(()=>{t&&t()},250)},150)},300))},_=()=>{if(["stupid","dumb","idiot","hate","terrible","awful","sucks","crap","shit","fuck"].some(X=>f.toLowerCase().includes(X))){alert("❌ Please keep comments constructive and professional.");return}if(f.trim().length<5){alert("❌ Comment must be at least 5 characters.");return}alert("💬 Comment posted!"),m(""),v(!1)},M=R=>{switch(R){case 1:return"Anonymous voting • Need 5 votes to advance";case 2:return"Review materials • Need 5 votes to advance";case 3:return"Meet founder • Need 5 votes to advance";case 4:return"Deal room access • Need 1 vote to close";default:return"Voting stage"}};return c.jsxs("div",{className:`relative transition-all duration-250 ease-out ${x?"transform -translate-x-full opacity-0":""} ${p?"animate-puff":""}`,children:[l&&c.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 overflow-hidden",children:[...Array(12)].map((R,L)=>c.jsx("div",{className:"absolute text-2xl animate-float-up",style:{left:`${Math.random()*90+5}%`,bottom:"0%",animationDelay:`${L*.05}s`,animationDuration:"0.8s"},children:"🔥"},L))}),p&&c.jsx("div",{className:"absolute inset-0 pointer-events-none z-50 flex items-center justify-center",children:[...Array(6)].map((R,L)=>c.jsx("div",{className:"absolute text-4xl animate-puff-cloud opacity-70",style:{animationDelay:`${L*.02}s`},children:"💨"},L))}),c.jsxs("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-2xl p-5 shadow-2xl border-4 border-orange-500 relative w-[360px] h-[400px] flex flex-col",children:[c.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-white/20 to-transparent pointer-events-none"}),c.jsxs("div",{className:"relative flex flex-col h-full",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight leading-none",children:s.name}),c.jsxs("p",{className:"text-blue-700 font-bold text-xs mt-0.5",children:["stage #",s.stage||1]}),c.jsx("p",{className:"text-[10px] text-gray-700 italic leading-tight mt-0.5",children:M(s.stage||1)})]}),c.jsx("button",{onClick:()=>h(!u),className:"text-3xl hover:scale-110 transition-transform flex-shrink-0",children:"🍯"})]}),u&&c.jsx("div",{className:"bg-yellow-200 border-2 border-yellow-400 rounded-lg p-1.5 mb-2",children:c.jsx("p",{className:"text-[10px] font-bold text-gray-900 leading-tight",children:s.secretFact||"🤫 Secret fact coming soon!"})}),s.pitch&&c.jsxs("p",{className:"text-sm font-black text-gray-900 leading-tight tracking-tight mb-3",children:['"',s.pitch,'"']}),c.jsxs("div",{className:"mb-3 space-y-1.5",children:[(s.fivePoints||[]).slice(0,4).map((R,L)=>c.jsx("p",{className:`leading-tight tracking-tight ${L===0?"text-xs font-black text-gray-900":L===1||L===2?"text-sm font-black text-gray-900":"text-xs font-bold text-gray-800"}`,children:R},L)),s.raise&&c.jsxs("p",{className:"text-xs font-black text-gray-900 leading-tight tracking-tight",children:["💰 ",s.raise]})]}),c.jsx("div",{className:"flex-1"}),c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex justify-between text-[10px] text-gray-700 mb-1",children:[c.jsxs("span",{className:"font-bold",children:["Stage ",(s.stage||1)+1]}),c.jsxs("span",{className:"font-black",children:[C,"/",j," votes"]})]}),c.jsx("div",{className:"w-full bg-gray-300 rounded-full h-1.5",children:c.jsx("div",{className:"bg-green-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${T}%`}})})]}),c.jsxs("div",{className:"flex gap-3 mb-2",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-base",children:"👍"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:s.yesVotes||0})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"text-base",children:"👎"}),c.jsx("span",{className:"font-black text-gray-900 text-sm",children:s.noVotes||0})]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"text-xl",children:"🔥"}),c.jsx("button",{onClick:()=>E("yes"),disabled:n,className:`flex-1 font-black py-2 px-3 rounded-xl text-sm shadow-lg transition-all ${a==="yes"?"bg-green-600 text-white scale-105":"bg-orange-500 hover:bg-orange-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"yes"}),c.jsx("button",{onClick:()=>E("no"),disabled:n,className:`flex-1 font-black py-2 px-3 rounded-xl text-sm shadow-lg transition-all ${a==="no"?"bg-gray-700 text-white opacity-50":"bg-gradient-to-br from-gray-300 via-gray-400 to-gray-300 hover:from-gray-400 hover:via-gray-500 hover:to-gray-400 text-gray-800 shadow-[inset_0_2px_4px_rgba(255,255,255,0.6)]"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"no"})]}),c.jsxs("button",{onClick:()=>v(!g),className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 px-4 rounded-xl text-xs transition-all",children:["comments (",((D=s.comments)==null?void 0:D.length)||0,")"]}),g&&c.jsxs("div",{className:"mt-2 bg-white rounded-xl p-2",children:[c.jsx("textarea",{value:f,onChange:R=>m(R.target.value),placeholder:"Share feedback...",className:"w-full px-2 py-1.5 border-2 border-orange-300 rounded-lg text-xs",rows:2,maxLength:500}),c.jsxs("div",{className:"flex justify-between items-center mt-1",children:[c.jsxs("span",{className:"text-[10px] text-gray-500",children:[f.length,"/500"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{m(""),v(!1)},className:"bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-1 px-3 rounded-lg text-xs",children:"Cancel"}),c.jsx("button",{onClick:_,className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-1 px-3 rounded-lg text-xs",children:"Post"})]})]})]})]})]}),c.jsx("style",{children:`
        @keyframes float-up {
          0% {
            transform: translateY(0) scale(1);
            opacity: 1;
          }
          100% {
            transform: translateY(-300px) scale(1.5);
            opacity: 0;
          }
        }
        .animate-float-up {
          animation: float-up 0.8s ease-out forwards;
        }

        @keyframes puff {
          0% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.8;
          }
          100% {
            transform: scale(1.4);
            opacity: 0;
          }
        }
        .animate-puff {
          animation: puff 0.15s ease-out;
        }

        @keyframes puff-cloud {
          0% {
            transform: translate(0, 0) scale(0.5);
            opacity: 0;
          }
          50% {
            opacity: 1;
          }
          100% {
            transform: translate(var(--tx), var(--ty)) scale(1.8);
            opacity: 0;
          }
        }
        .animate-puff-cloud {
          --tx: calc(cos(var(--angle)) * 60px);
          --ty: calc(sin(var(--angle)) * 60px);
          animation: puff-cloud 0.4s ease-out forwards;
        }
        .animate-puff-cloud:nth-child(1) { --angle: 0deg; }
        .animate-puff-cloud:nth-child(2) { --angle: 60deg; }
        .animate-puff-cloud:nth-child(3) { --angle: 120deg; }
        .animate-puff-cloud:nth-child(4) { --angle: 180deg; }
        .animate-puff-cloud:nth-child(5) { --angle: 240deg; }
        .animate-puff-cloud:nth-child(6) { --angle: 300deg; }
      `})]})}function FD({company:s,onComment:e}){const[t,n]=k.useState(!1),[i,a]=k.useState(""),[r,l]=k.useState(""),[d,u]=k.useState([]),h=()=>{i.trim()&&(u([...d,i]),e&&e(s.id,i),a(""))},g=((s==null?void 0:s.entityType)||"vc_firm")==="accelerator"?"🚀 ACCELERATOR":"💼 VC FIRM",v=(s==null?void 0:s.investmentCount)||0,S=(p=>p>=10?{label:"🔥 MEGA INVESTOR",color:"text-red-400"}:p>=5?{label:"⭐ ACTIVE INVESTOR",color:"text-orange-400"}:p>=1?{label:"✨ INVESTOR",color:"text-yellow-400"}:{label:"👀 WATCHING",color:"text-gray-400"})(v);return c.jsxs("div",{className:"bg-gradient-to-br from-purple-700 via-purple-600 to-purple-800 rounded-3xl shadow-2xl overflow-hidden border-4 border-lime-400 relative",children:[c.jsx("div",{className:"absolute top-4 right-4 z-10",children:c.jsx("div",{className:"w-20 h-20 bg-lime-400 rounded-full flex items-center justify-center transform rotate-12 shadow-lg border-4 border-lime-500",children:c.jsxs("span",{className:"text-xs font-black text-gray-900 text-center leading-tight",children:[g.split(" ")[0],c.jsx("br",{}),g.split(" ")[1]]})})}),c.jsxs("div",{className:"p-8",children:[c.jsx("h2",{className:"text-4xl font-black text-lime-400 mb-2 pr-24",children:(s==null?void 0:s.name)||"Unknown Company"}),v>0&&c.jsxs("div",{className:"mb-4",children:[c.jsx("span",{className:`${S.color} font-bold text-sm`,children:S.label}),c.jsxs("span",{className:"text-lime-300 font-semibold text-sm ml-2",children:["• ",v," investment",v!==1?"s":""," on Hot Honey"]})]}),(s==null?void 0:s.tagline)&&c.jsxs("p",{className:"text-xl text-lime-300 font-bold mb-6 italic",children:['"',s.tagline,'"']}),v>0&&c.jsxs("div",{className:"bg-lime-400/20 backdrop-blur-sm rounded-xl p-4 border-2 border-lime-300 mb-6",children:[c.jsx("h3",{className:"text-lime-300 font-black text-lg mb-2",children:"📊 Hot Honey Activity"}),c.jsxs("div",{className:"space-y-1 text-lime-200 text-sm",children:[c.jsxs("p",{children:["💰 Total Invested: ",(s==null?void 0:s.totalInvested)||"TBD"]}),c.jsxs("p",{children:["🎯 Portfolio Companies: ",v]}),(s==null?void 0:s.recentInvestments)&&s.recentInvestments.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsx("p",{className:"font-semibold text-lime-300",children:"Recent Investments:"}),c.jsx("ul",{className:"list-disc list-inside ml-2",children:s.recentInvestments.slice(0,3).map((p,y)=>c.jsx("li",{children:p},y))})]})]})]}),(s==null?void 0:s.fivePoints)&&s.fivePoints.length>0&&c.jsx("div",{className:"space-y-3 mb-6",children:s.fivePoints.map((p,y)=>c.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 border-2 border-lime-300",children:c.jsxs("p",{className:"text-lime-200 font-semibold",children:[c.jsxs("span",{className:"text-lime-400 font-black",children:[y+1,"."]})," ",p]})},y))}),(s==null?void 0:s.website)&&c.jsx("div",{className:"mb-6",children:c.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-lime-300 hover:text-lime-200 underline font-semibold",children:"🌐 Visit Website"})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-lime-300 font-bold mb-2",children:"🍯 Share Details About This Firm"}),c.jsx("input",{type:"text",value:r,onChange:p=>l(p.target.value),placeholder:"Add investment focus, portfolio companies, etc...",className:"w-full px-4 py-3 bg-white/20 border-2 border-lime-300 rounded-xl text-lime-100 placeholder-lime-300/50 focus:outline-none focus:border-lime-400 focus:ring-2 focus:ring-lime-400"})]}),c.jsxs("div",{className:"border-t-2 border-lime-300 pt-6",children:[c.jsxs("button",{onClick:()=>n(!t),className:"text-lime-300 hover:text-lime-200 font-bold mb-4 flex items-center gap-2",children:["💬 ",t?"Hide":"Show"," Comments (",d.length,")"]}),t&&c.jsxs("div",{className:"space-y-4",children:[d.length>0&&c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d.map((p,y)=>c.jsxs("div",{className:"bg-lime-400/10 rounded-lg p-3 border border-lime-300/30",children:[c.jsx("p",{className:"text-lime-200 text-sm",children:p}),c.jsx("p",{className:"text-lime-400/50 text-xs mt-1",children:"Just now"})]},y))}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("textarea",{value:i,onChange:p=>a(p.target.value),placeholder:"Add your notes about this firm...",rows:3,className:"w-full px-4 py-3 bg-white/20 border-2 border-lime-300 rounded-xl text-lime-100 placeholder-lime-300/50 focus:outline-none focus:border-lime-400 resize-none"}),c.jsx("button",{onClick:h,disabled:!i.trim(),className:"bg-lime-400 hover:bg-lime-500 text-gray-900 font-bold py-2 px-6 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Post Comment"})]})]})]})]})]})}const Un=[{id:0,name:"GreenTech",description:"Sustainable energy solutions for smart cities.",pitch:"Sustainable energy solutions for smart cities",tagline:"Tesla for home solar systems",marketSize:"$180B renewable energy",unique:"Self-installing smart panels",raise:"$5M Series B",stage:2,yesVotes:7,noVotes:2,hotness:3.4,answersCount:5,secretFact:"🤫 First prototype was built in a garage using recycled Tesla batteries. Early investor from Y Combinator!",comments:[{id:"1",userId:"investor1",userName:"John Doe",text:"Great potential in the renewable energy sector!",timestamp:new Date("2025-10-25")},{id:"2",userId:"investor2",userName:"Jane Smith",text:"Interested in learning more about the tech stack.",timestamp:new Date("2025-10-25")}],fivePoints:["Tesla for home solar systems","$180B renewable energy market","Self-installing smart panels","Ex-Tesla, SolarCity engineers","Raising $5M Series B"],teamLogos:["/logos/tesla.png","/logos/solarcity.png","/logos/apple.png"],video:"https://www.youtube.com/watch?v=greentech",deck:"https://example.com/greentech-deck.pdf",press:"https://techcrunch.com/greentech",tech:"ML + IoT smart grid integration"},{id:1,name:"NeuralNest",description:"AI-powered mental health therapy platform.",pitch:"AI-powered mental health therapy",tagline:"ChatGPT for mental health therapy",marketSize:"$240B mental health market",unique:"AI learns patient patterns",raise:"$2M Series A",stage:1,yesVotes:3,noVotes:3,hotness:3.2,answersCount:5,secretFact:"🤫 Founders met in a Stanford psych lab. One investor lost a family member to mental health crisis.",comments:[],fivePoints:["ChatGPT for mental health therapy","$280B mental health market","AI therapist available 24/7","Stanford psychologists + AI researchers","Raising $2M Series A"],teamLogos:["/logos/google.png","/logos/meta.png","/logos/openai.png"],video:"https://www.youtube.com/watch?v=neuralnest",deck:"https://example.com/neuralnest-deck.pdf",press:"https://techcrunch.com/neuralnest",tech:"GPT-4 + behavioral psychology models"},{id:2,name:"FinFlow",description:"Instant crypto-to-fiat conversion for payments.",pitch:"Instant crypto-to-fiat conversion",tagline:"Stripe for cryptocurrency payments",marketSize:"$125B crypto payments",unique:"Instant crypto-to-fiat conversion",raise:"$3M Seed",stage:1,yesVotes:4,noVotes:1,hotness:3.8,answersCount:5,secretFact:"🤫 CEO used to work at Stripe! First customer paid in Dogecoin as a joke - now their biggest client.",comments:[],fivePoints:["Stripe for cryptocurrency payments","$1T+ crypto market","One-click crypto checkout","Ex-Stripe, Coinbase engineers","Raising $3M Seed"],teamLogos:["/logos/stripe.png","/logos/coinbase.png","/logos/paypal.png"],video:"https://www.youtube.com/watch?v=finflow",deck:"https://example.com/finflow-deck.pdf",press:"https://techcrunch.com/finflow",tech:"Blockchain APIs + real-time currency conversion"},{id:9,name:"BarkPark",description:"A social network and meetup app for dog owners.",pitch:"Connect dog owners and their furry friends in your neighborhood",tagline:"Social network for dogs",marketSize:"$2B+ pet care market",unique:"Gamified pet profiles and dog park rewards",raise:"$1.2M SAFE at $7M cap",stage:2,yesVotes:12,noVotes:3,hotness:4.1,answersCount:5,secretFact:"🤫 Founders adopted 3 rescue dogs during development. Angel investor is Martha Stewart!",comments:[],fivePoints:["Tinder for dog playdates","$2B pet care market","Verified dog park reviews + scheduling","Ex-Airbnb, Google product managers","Raising $1.2M SAFE"],teamLogos:["/logos/google.png","/logos/meta.png","/logos/airbnb.png"],video:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",deck:"https://example.com/barkpark-deck.pdf",press:"https://techcrunch.com/barkpark",tech:"Built with Flutter and Firebase"},{id:10,name:"Chefie",description:"AI-powered cooking assistant with voice and visual guides.",pitch:"Your personal AI chef that helps you cook like a pro",tagline:"AI cooking assistant",marketSize:"$15B home cooking tech",unique:"Real-time cooking help and meal personalization",raise:"$1M SAFE at $10M cap",stage:1,yesVotes:5,noVotes:1,hotness:3.8,answersCount:5,secretFact:"🤫 Co-founder was a Michelin-star chef who quit to build this. First investor from Blue Apron!",comments:[],fivePoints:["AI sous chef in your kitchen","$15B home cooking tech market","Step-by-step voice + video guidance","Ex-YouTube, TikTok engineers + pro chefs","Raising $1M SAFE"],teamLogos:["/logos/apple.png","/logos/youtube.png","/logos/tiktok.png"],video:"https://www.youtube.com/watch?v=chefie-demo",deck:"https://example.com/chefie-deck.pdf",press:"https://techcrunch.com/chefie",tech:"React Native, GPT-4 Vision API"},{id:5,name:"HushRoom",description:"Portable soundproof work pods for remote workers.",pitch:"Work from anywhere with total privacy and quiet",tagline:"Soundproof pods for WFH",marketSize:"$2.5B workspace innovation market",unique:"No-permit setup, acoustic-grade privacy design",raise:"$2M Series A",stage:2,yesVotes:9,noVotes:4,hotness:3.6,answersCount:5,secretFact:"🤫 CEO got the idea during pandemic while spouse was on loud Zoom calls. WeWork founder Adam Neumann invested!",comments:[],fivePoints:["WeWork for your home","$2.5B workspace innovation market","Modular pods, 2-hour installation","Ex-WeWork, Microsoft designers","Raising $2M Series A"],teamLogos:["/logos/wework.png","/logos/microsoft.png","/logos/ikea.png"],video:"https://www.youtube.com/watch?v=hushroom",deck:"https://example.com/hushroom-deck.pdf",press:"https://techcrunch.com/hushroom",tech:"Modular architecture and AR layout planning"},{id:6,name:"PetPulse",description:"Wearable health trackers for pets.",pitch:"Monitor your pet's health in real-time",tagline:"Fitbit for pets",marketSize:"$9B pet tech industry",unique:"Vitals, mood, and fitness tracking for animals",raise:"$800K friends & family",stage:1,yesVotes:6,noVotes:2,hotness:3.2,answersCount:5,secretFact:"🤫 First device saved a dog's life by detecting heart condition! Tested on CEO's 3 rescue dogs.",comments:[],fivePoints:["Fitbit for pets","$9B pet tech industry","Real-time vitals + activity tracking","Ex-Fitbit engineers + vets","Raising $800K seed"],teamLogos:["/logos/fitbit.png","/logos/apple.png","/logos/vetmed.png"],video:"https://www.youtube.com/watch?v=petpulse",deck:"https://example.com/petpulse-deck.pdf",press:"https://techcrunch.com/petpulse",tech:"BLE sensors + AI diagnostics"},{id:7,name:"Droply",description:"Scheduled water deliveries for off-grid homes.",pitch:"Never run out of water with smart delivery",tagline:"Smart water delivery",marketSize:"$1.8B off-grid utilities",unique:"IoT tank sensors + ML-based route planning",raise:"$1.5M pre-seed",stage:1,yesVotes:4,noVotes:1,hotness:2.9,answersCount:5,secretFact:"🤫 Started in rural Texas during water crisis. First customer was a celebrity ranch owner!",comments:[],fivePoints:["Uber for water delivery","$1.8B off-grid utilities market","IoT sensors predict refill needs","Ex-UPS logistics + SmartThings engineers","Raising $1.5M pre-seed"],teamLogos:["/logos/ups.png","/logos/smartthings.png","/logos/tesla.png"],video:"https://www.youtube.com/watch?v=droply",deck:"https://example.com/droply-deck.pdf",press:"https://techcrunch.com/droply",tech:"IoT, GPS routing, and solar billing integration"},{id:8,name:"MuseNet",description:"AI-generated ambient music for focus and sleep.",pitch:"Personalized AI music that adapts to your mood",tagline:"AI music for wellness",marketSize:"$3B wellness audio space",unique:"Realtime adaptive music based on biometrics",raise:"$600K angel round",stage:1,yesVotes:8,noVotes:2,hotness:3.7,answersCount:5,secretFact:"🤫 Music generated by training AI on 10,000 hours of zen meditation. Angel investor is Pharrell Williams!",comments:[],fivePoints:["Spotify meets meditation","$3B wellness audio market","AI generates music from heart rate","Ex-Spotify engineers + neuroscientists","Raising $600K angel"],teamLogos:["/logos/spotify.png","/logos/deezer.png","/logos/apple.png"],video:"https://www.youtube.com/watch?v=muse-net",deck:"https://example.com/musenet-deck.pdf",press:"https://techcrunch.com/musenet",tech:"LLMs + real-time waveform synthesis"},{id:9,name:"ByteSize",description:"Snackable coding lessons in under 60 seconds.",pitch:"Learn to code in 60-second videos",tagline:"TikTok for coding education",marketSize:"$5B+ online learning market",unique:"TikTok-style swipe interface with live code previews",raise:"$500K pre-seed round",stage:1,yesVotes:11,noVotes:1,hotness:4.2,answersCount:5,secretFact:"🤫 First video went viral with 2M views! Co-founders met at a hackathon in high school.",comments:[],fivePoints:["TikTok for coding tutorials","$5B+ online learning market","60-second lessons with instant practice","Ex-Google, Meta engineers","Raising $500K pre-seed"],teamLogos:["/logos/amazon.png","/logos/google.png","/logos/meta.png"],video:"https://www.youtube.com/watch?v=abc123",deck:"https://example.com/bytesize-deck.pdf",press:"https://techcrunch.com/bytesize",tech:"React, Node.js, and WebAssembly"},{id:10,name:"SolarSync",description:"Smart solar optimization for small homes.",pitch:"AI-powered solar energy optimization",tagline:"Smart solar for homes",marketSize:"$10B+ residential solar market",unique:"Uses AI to shift energy loads for savings",raise:"$750K seed round at $5M valuation",stage:1,yesVotes:6,noVotes:3,hotness:3.3,answersCount:5,secretFact:"🤫 Prototype built with old Tesla batteries! Early investor worked on Mars Rover solar systems.",comments:[],fivePoints:["Nest for solar panels","$10B+ residential solar market","AI shifts energy to sunny hours","Ex-Tesla Energy, NASA engineers","Raising $750K seed"],teamLogos:["/logos/tesla.png","/logos/nasa.png","/logos/solarcity.png"],video:"https://www.youtube.com/watch?v=xyz789",deck:"https://example.com/solarsync-deck.pdf",press:"https://techcrunch.com/solarsync",tech:"IoT + ML with Raspberry Pi edge devices"}],zD=()=>{const[s,e]=k.useState([]),[t,n]=k.useState(Un),[i,a]=k.useState(Un.length),[r,l]=k.useState(!1);k.useEffect(()=>{const h=localStorage.getItem("votedStartups"),f=localStorage.getItem("investorPreferences"),m=localStorage.getItem("uploadedStartups");let g=[...Un];if(m){const x=JSON.parse(m);g=[...g,...x]}a(g.length);let v=g;if(f){const x=JSON.parse(f);x.filterEnabled&&x.industries&&x.industries.length>0&&(l(!0),v=g.filter(S=>!S.industries||S.industries.length===0?!0:S.industries.some(p=>x.industries.includes(p))))}if(h){const x=JSON.parse(h);e(x);const S=v.filter(p=>!x.includes(p.id));n(S)}else n(v)},[]);const d=(h,f)=>{const m=[...s,h];if(e(m),localStorage.setItem("votedStartups",JSON.stringify(m)),f==="yes"){const g=localStorage.getItem("myYesVotes"),v=g?JSON.parse(g):[];let x=Un.find(S=>S.id===h);if(!x){const S=localStorage.getItem("uploadedStartups");S&&(x=JSON.parse(S).find(y=>y.id===h))}x&&(v.push({...x,votedAt:new Date().toISOString()}),localStorage.setItem("myYesVotes",JSON.stringify(v)))}n(g=>g.filter(v=>v.id!==h))},u=()=>{confirm("⚠️ Reset ALL votes? This will clear your voting history.")&&(localStorage.removeItem("votedStartups"),localStorage.removeItem("myYesVotes"),e([]),n(Un),alert("✅ Votes reset! You can now vote on all startups again."))};return t.length===0?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx(q,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up",children:"🍯"}),c.jsx(q,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:"👤 Sign Up"}),c.jsx(q,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"🏠 Home"}),c.jsx(q,{to:"/vote",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:"📊 Vote"}),c.jsx(q,{to:"/dashboard",className:"px-4 py-1.5 bg-gradient-to-r from-amber-400 via-orange-500 to-yellow-500 text-white rounded-full font-medium text-sm shadow-lg hover:from-amber-500 hover:via-orange-600 hover:to-yellow-600 transition-all",children:"👤 Dashboard"}),c.jsx(q,{to:"/settings",className:"px-4 py-1.5 bg-purple-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-purple-600 transition-colors",children:"⚙️ Settings"})]})}),c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-6xl font-bold text-white mb-4",children:"🎉"}),c.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"All Done!"}),c.jsxs("p",{className:"text-xl text-purple-200 mb-8",children:["You've voted on all ",i," startups!"]}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx(q,{to:"/dashboard",className:"px-8 py-3 bg-gradient-to-r from-amber-400 via-orange-500 to-yellow-500 text-white rounded-lg font-bold text-lg hover:from-amber-500 hover:via-orange-600 hover:to-yellow-600 transition-all shadow-lg",children:"View My Hot Picks 🔥"}),c.jsx("button",{onClick:u,className:"px-8 py-3 bg-gray-500 text-white rounded-lg font-medium text-lg hover:bg-gray-600 transition-colors shadow-lg",children:"🔄 Reset & Vote Again"})]})]})})]}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx(q,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up",children:"🍯"}),c.jsx(q,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:"👤 Sign Up"}),c.jsx(q,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"🏠 Home"}),c.jsx(q,{to:"/vote",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:"📊 Vote"}),c.jsx(q,{to:"/dashboard",className:"px-4 py-1.5 bg-gradient-to-r from-amber-400 via-orange-500 to-yellow-500 text-white rounded-full font-medium text-sm shadow-lg hover:from-amber-500 hover:via-orange-600 hover:to-yellow-600 transition-all",children:"👤 Dashboard"}),c.jsx(q,{to:"/settings",className:"px-4 py-1.5 bg-purple-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-purple-600 transition-colors",children:"⚙️ Settings"})]})}),c.jsxs("div",{className:"pt-28 px-8 pb-16",children:[c.jsx("div",{className:"mb-8 text-center",children:c.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-5xl font-bold text-white mb-3",children:"🔥 Vote on Startups"}),c.jsxs("p",{className:"text-xl text-purple-200",children:[c.jsx("span",{className:"font-bold text-yellow-300",children:t.length})," of ",i," ",t.length===1?"startup":"startups"," remaining"]}),r&&c.jsx("div",{className:"mt-2 inline-block bg-purple-500 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"🎯 Showing only your preferred industries"})]}),c.jsx("button",{onClick:u,className:"px-4 py-2 bg-gray-500 text-white rounded-lg font-medium text-sm hover:bg-gray-600 transition-colors shadow-lg",children:"🔄 Reset All Votes"})]})}),c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center",children:t.map(h=>{const f=h.entityType;return f==="vc_firm"||f==="accelerator"?c.jsx(FD,{company:{id:h.id,name:h.name,pitch:h.pitch||h.tagline||"",fivePoints:h.fivePoints||[],entityType:f,website:h.website}},h.id):c.jsx(Ec,{startup:h,onVote:m=>d(h.id,m)},h.id)})})})]})]})};function d1(){const s=Lt(),e=cr(),[t,n]=k.useState([]),[i,a]=k.useState(!1);k.useEffect(()=>{const h=localStorage.getItem("myYesVotes");if(h){const g=JSON.parse(h).map(v=>{if(!v.fivePoints){const x=Un.find(S=>S.id===v.id);if(x)return{...v,fivePoints:x.fivePoints}}return v});localStorage.setItem("myYesVotes",JSON.stringify(g)),n(g)}const f=localStorage.getItem("userProfile");if(f){const m=JSON.parse(f);a(m.email==="admin@hotmoneyhoney.com"||m.isAdmin)}},[]);const r=h=>{console.log(`Voted ${h}`)},l=h=>{const f=localStorage.getItem("myYesVotes");if(f){const g=JSON.parse(f).filter(x=>x.id!==h);localStorage.setItem("myYesVotes",JSON.stringify(g)),n(g);const v=localStorage.getItem("votedStartups");if(v){const x=JSON.parse(v);delete x[h],localStorage.setItem("votedStartups",JSON.stringify(x))}}},d=h=>e.pathname===h,u=h=>d(h)?"text-lg py-3 px-6":"text-sm py-2 px-4";return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-3 items-center",children:[c.jsx(q,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Hot Money Honey",children:"🍯"}),c.jsx(q,{to:"/",className:`font-bold rounded-2xl transition-all ${u("/")} ${d("/")?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:"🏠 Home"}),c.jsx(q,{to:"/dashboard",className:`font-bold rounded-2xl transition-all ${d("/dashboard")?"text-lg py-3 px-7":"text-base py-2.5 px-5"} ${d("/dashboard")?"bg-gradient-to-r from-cyan-400 to-blue-500 text-white shadow-xl scale-110":"bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white shadow-lg"}`,children:"📊 Dashboard"}),c.jsx(q,{to:"/vote",className:`font-bold rounded-2xl transition-all ${u("/vote")} ${d("/vote")?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:"🗳️ Vote"}),c.jsx(q,{to:"/portfolio",className:`font-bold rounded-2xl transition-all ${u("/portfolio")} ${d("/portfolio")?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:"⭐ Portfolio"}),i&&c.jsx(q,{to:"/admin/bulk-upload",className:`font-bold rounded-2xl transition-all ${u("/admin/bulk-upload")} ${d("/admin/bulk-upload")?"bg-gradient-to-r from-gray-500 to-gray-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-gray-400 to-gray-600 hover:from-gray-500 hover:to-gray-700 text-white"}`,children:"📊 Bulk Upload"}),i&&c.jsx(q,{to:"/admin/document-upload",className:`font-bold rounded-2xl transition-all ${u("/admin/document-upload")} ${d("/admin/document-upload")?"bg-gradient-to-r from-green-500 to-purple-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-green-400 to-purple-600 hover:from-green-500 hover:to-purple-700 text-white"}`,children:"📄 Scan Docs"})]})}),c.jsxs("div",{className:"max-w-4xl mx-auto pt-28",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-8xl mb-4",children:"⭐"}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-4",children:"Your Portfolio"}),c.jsx("p",{className:"text-xl text-white font-bold drop-shadow-lg",children:"Startups you've voted YES on"})]}),t.length===0?c.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center shadow-2xl",children:[c.jsx("div",{className:"text-6xl mb-4",children:"📭"}),c.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No picks yet!"}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Start voting YES on startups to build your portfolio"}),c.jsx("button",{onClick:()=>s("/vote"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"🗳️ Go to Voting"})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-orange-400",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["✨ ",t.length," Startup",t.length!==1?"s":""," in Your Portfolio"]}),c.jsx("p",{className:"text-purple-200",children:"These are the startups you've voted YES on!"})]}),c.jsx("div",{className:"space-y-8",children:t.map(h=>c.jsxs("div",{className:"relative",children:[c.jsx(Ec,{startup:h,onVote:r}),c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{onClick:()=>l(h.id),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded-xl transition-all",children:"❌ Remove from Portfolio"})})]},h.id))}),c.jsxs("div",{className:"flex gap-4 justify-center mt-8",children:[c.jsx("button",{onClick:()=>s("/vote"),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 px-8 rounded-2xl shadow-lg transition-all",children:"🗳️ Continue Voting"}),c.jsx("button",{onClick:()=>s("/dashboard"),className:"bg-gradient-to-r from-cyan-400 to-blue-500 hover:from-cyan-500 hover:to-blue-600 text-white font-bold py-3 px-8 rounded-2xl shadow-lg transition-all",children:"📊 Back to Dashboard"})]})]})]})]})}const ys=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),My=[.001,0,0,.001,0,0],jb=1.35,on={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},br={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},jf="pdfjs_internal_editor_",ae={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},xe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},UD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Gt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ap={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},yt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Oc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Mx={ERRORS:0,WARNINGS:1,INFOS:5},Ef={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Wg={moveTo:0,lineTo:1,curveTo:2,closePath:3},HD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Dx=Mx.WARNINGS;function VD(s){Number.isInteger(s)&&(Dx=s)}function $D(){return Dx}function Rx(s){Dx>=Mx.INFOS&&console.info(`Info: ${s}`)}function ne(s){Dx>=Mx.WARNINGS&&console.warn(`Warning: ${s}`)}function He(s){throw new Error(s)}function be(s,e){s||He(e)}function GD(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function lE(s,e=null,t=null){if(!s)return null;if(t&&typeof s=="string"){if(t.addDefaultProtocol&&s.startsWith("www.")){const i=s.match(/\./g);(i==null?void 0:i.length)>=2&&(s=`http://${s}`)}if(t.tryConvertEncoding)try{s=KD(s)}catch{}}const n=e?URL.parse(s,e):URL.parse(s);return GD(n)?n:null}function cE(s,e,t=!1){const n=URL.parse(s);return n?(n.hash=e,n.href):t&&lE(s,"http://example.com")?s.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ue(s,e,t,n=!1){return Object.defineProperty(s,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const Cc=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class u1 extends Cc{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Eb extends Cc{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Dy extends Cc{constructor(e){super(e,"InvalidPDFException")}}class D0 extends Cc{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class YD extends Cc{constructor(e){super(e,"FormatError")}}class Do extends Cc{constructor(e){super(e,"AbortException")}}function dE(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&He("Invalid argument for bytesToString");const e=s.length,t=8192;if(e<t)return String.fromCharCode.apply(null,s);const n=[];for(let i=0;i<e;i+=t){const a=Math.min(i+t,e),r=s.subarray(i,a);n.push(String.fromCharCode.apply(null,r))}return n.join("")}function jg(s){typeof s!="string"&&He("Invalid argument for stringToBytes");const e=s.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=s.charCodeAt(n)&255;return t}function qD(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function XD(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function WD(){try{return new Function(""),!0}catch{return!1}}class as{static get isLittleEndian(){return ue(this,"isLittleEndian",XD())}static get isEvalSupported(){return ue(this,"isEvalSupported",WD())}static get isOffscreenCanvasSupported(){return ue(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ue(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return ue(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return ue(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Cb=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var Za,Np,Ry;class ${static makeHexColor(e,t,n){return`#${Cb[e]}${Cb[t]}${Cb[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],a=e[n+1];e[n]=i*t[0]+a*t[2]+t[4],e[n+1]=i*t[1]+a*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],a=t[1],r=t[2],l=t[3],d=t[4],u=t[5];for(let h=0;h<6;h+=2){const f=e[n+h],m=e[n+h+1];e[n+h]=f*i+m*r+d,e[n+h+1]=f*a+m*l+u}}static applyInverseTransform(e,t){const n=e[0],i=e[1],a=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/a,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/a}static axialAlignedBoundingBox(e,t,n){const i=t[0],a=t[1],r=t[2],l=t[3],d=t[4],u=t[5],h=e[0],f=e[1],m=e[2],g=e[3];let v=i*h+d,x=v,S=i*m+d,p=S,y=l*f+u,w=y,j=l*g+u,C=j;if(a!==0||r!==0){const T=a*h,E=a*m,_=r*f,M=r*g;v+=_,p+=_,S+=M,x+=M,y+=T,C+=T,j+=E,w+=E}n[0]=Math.min(n[0],v,S,x,p),n[1]=Math.min(n[1],y,j,w,C),n[2]=Math.max(n[2],v,S,x,p),n[3]=Math.max(n[3],y,j,w,C)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],a=e[2],r=e[3],l=n**2+i**2,d=n*a+i*r,u=a**2+r**2,h=(l+u)/2,f=Math.sqrt(h**2-(l*u-d**2));t[0]=Math.sqrt(h+f||1),t[1]=Math.sqrt(h-f||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),r=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>r?null:[n,a,i,r]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,a){a[0]=Math.min(a[0],e,n),a[1]=Math.min(a[1],t,i),a[2]=Math.max(a[2],e,n),a[3]=Math.max(a[3],t,i)}static bezierBoundingBox(e,t,n,i,a,r,l,d,u){u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],t,d),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],t,d),N(this,Za,Ry).call(this,e,n,a,l,t,i,r,d,3*(-e+3*(n-a)+l),6*(e-2*n+a),3*(n-e),u),N(this,Za,Ry).call(this,e,n,a,l,t,i,r,d,3*(-t+3*(i-r)+d),6*(t-2*i+r),3*(i-t),u)}}Za=new WeakSet,Np=function(e,t,n,i,a,r,l,d,u,h){if(u<=0||u>=1)return;const f=1-u,m=u*u,g=m*u,v=f*(f*(f*e+3*u*t)+3*m*n)+g*i,x=f*(f*(f*a+3*u*r)+3*m*l)+g*d;h[0]=Math.min(h[0],v),h[1]=Math.min(h[1],x),h[2]=Math.max(h[2],v),h[3]=Math.max(h[3],x)},Ry=function(e,t,n,i,a,r,l,d,u,h,f,m){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&N(this,Za,Np).call(this,e,t,n,i,a,r,l,d,-f/h,m);return}const g=h**2-4*f*u;if(g<0)return;const v=Math.sqrt(g),x=2*u;N(this,Za,Np).call(this,e,t,n,i,a,r,l,d,(-h+v)/x,m),N(this,Za,Np).call(this,e,t,n,i,a,r,l,d,(-h-v)/x,m)},A($,Za);function KD(s){return decodeURIComponent(escape(s))}let Tb=null,h1=null;function QD(s){return Tb||(Tb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,h1=new Map([["ﬅ","ſt"]])),s.replaceAll(Tb,(e,t,n)=>t?t.normalize("NFKC"):h1.get(n))}function uE(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),dE(s)}const fS="pdfjs_internal_id_";function ZD(s,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,i,...a]=t;if(!s(n)&&!Number.isInteger(n)||!e(i))return!1;const r=a.length;let l=!0;switch(i.name){case"XYZ":if(r<2||r>3)return!1;break;case"Fit":case"FitB":return r===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(r>1)return!1;break;case"FitR":if(r!==4)return!1;l=!1;break;default:return!1}for(const d of a)if(!(typeof d=="number"||l&&d===null))return!1;return!0}function vs(s,e,t){return Math.min(Math.max(s,e),t)}function hE(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(dE(s))}function JD(s){return Uint8Array.fromBase64?Uint8Array.fromBase64(s):jg(atob(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...e){return new Promise(t=>{t(s(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(s){return s.reduce((e,t)=>e+t,0)});class Cf{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(a){var d;if(!a)return;let r=null;const l=a.name;if(l==="#text")r=a.value;else if(Cf.shouldBuildText(l))(d=a==null?void 0:a.attributes)!=null&&d.textContent?r=a.attributes.textContent:a.value&&(r=a.value);else return;if(r!==null&&t.push({str:r}),!!a.children)for(const u of a.children)i(u)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class fE{static setupStorage(e,t,n,i,a){const r=i.getValue(t,{value:null});switch(n.name){case"textarea":if(r.value!==null&&(e.textContent=r.value),a==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(r.value===n.attributes.xfaOn?e.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",l=>{i.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(r.value!==null&&e.setAttribute("value",r.value),a==="print")break;e.addEventListener("input",l=>{i.setValue(t,{value:l.target.value})})}break;case"select":if(r.value!==null){e.setAttribute("value",r.value);for(const l of n.children)l.attributes.value===r.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const d=l.target.options,u=d.selectedIndex===-1?"":d[d.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:a}){const{attributes:r}=t,l=e instanceof HTMLAnchorElement;r.type==="radio"&&(r.name=`${r.name}-${i}`);for(const[d,u]of Object.entries(r))if(u!=null)switch(d){case"class":u.length&&e.setAttribute(d,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,u)}l&&a.addLinkAttributes(e,r.href,r.newWindow),n&&r.dataId&&this.setupStorage(e,r.dataId,t,n)}static render(e){var f,m;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",r=document.createElement(i.name);i.attributes&&this.setAttributes({html:r,element:i,intent:a,linkService:n});const l=a!=="richText",d=e.div;if(d.append(r),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=g}l&&d.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const g=document.createTextNode(i.value);r.append(g),l&&Cf.shouldBuildText(i.name)&&u.push(g)}return{textDivs:u}}const h=[[i,-1,r]];for(;h.length>0;){const[g,v,x]=h.at(-1);if(v+1===g.children.length){h.pop();continue}const S=g.children[++h.at(-1)[1]];if(S===null)continue;const{name:p}=S;if(p==="#text"){const w=document.createTextNode(S.value);u.push(w),x.append(w);continue}const y=(f=S==null?void 0:S.attributes)!=null&&f.xmlns?document.createElementNS(S.attributes.xmlns,p):document.createElement(p);if(x.append(y),S.attributes&&this.setAttributes({html:y,element:S,storage:t,intent:a,linkService:n}),((m=S.children)==null?void 0:m.length)>0)h.push([S,-1,y]);else if(S.value){const w=document.createTextNode(S.value);l&&Cf.shouldBuildText(p)&&u.push(w),y.append(w)}}for(const g of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const na="http://www.w3.org/2000/svg",qo=class qo{};F(qo,"CSS",96),F(qo,"PDF",72),F(qo,"PDF_TO_CSS_UNITS",qo.CSS/qo.PDF);let Ro=qo;async function Eg(s,e="text"){if(Th(s,document.baseURI)){const t=await fetch(s);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",s,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class Cg{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:a=0,offsetY:r=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=a,this.offsetY=r,n*=t;const d=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let h,f,m,g;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,f=0,m=0,g=1;break;case 90:h=0,f=1,m=1,g=0;break;case 270:h=0,f=-1,m=-1,g=0;break;case 0:h=1,f=0,m=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(m=-m,g=-g);let v,x,S,p;h===0?(v=Math.abs(u-e[1])*n+a,x=Math.abs(d-e[0])*n+r,S=(e[3]-e[1])*n,p=(e[2]-e[0])*n):(v=Math.abs(d-e[0])*n+a,x=Math.abs(u-e[1])*n+r,S=(e[2]-e[0])*n,p=(e[3]-e[1])*n),this.transform=[h*n,f*n,m*n,g*n,v-h*n*d-m*n*u,x-f*n*d-g*n*u],this.width=S,this.height=p}get rawDims(){const e=this.viewBox;return ue(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new Cg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:a})}convertToViewportPoint(e,t){const n=[e,t];return $.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];$.applyTransform(t,this.transform);const n=[e[2],e[3]];return $.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return $.applyInverseTransform(n,this.transform),n}}class mS extends Cc{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Lx(s){const e=s.length;let t=0;for(;t<e&&s[t].trim()==="";)t++;return s.substring(t,t+5).toLowerCase()==="data:"}function gS(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function eR(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function tR(s,e="document.pdf"){if(typeof s!="string")return e;if(Lx(s))return ne('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(s);if(!n)return e;const i=l=>{try{let d=decodeURIComponent(l);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:l):d}catch{return l}},a=/\.pdf$/i,r=n.pathname.split("/").at(-1);if(a.test(r))return i(r);if(n.searchParams.size>0){const l=Array.from(n.searchParams.values()).reverse();for(const u of l)if(a.test(u))return i(u);const d=Array.from(n.searchParams.keys()).reverse();for(const u of d)if(a.test(u))return i(u)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return i(d[0])}return e}class f1{constructor(){F(this,"started",Object.create(null));F(this,"times",[])}time(e){e in this.started&&ne(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ne(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:a}of this.times)e.push(`${n.padEnd(t)} ${a-i}ms
`);return e.join("")}}function Th(s,e){const t=e?URL.parse(s,e):URL.parse(s);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function qn(s){s.preventDefault()}function ht(s){s.preventDefault(),s.stopPropagation()}function sR(s){console.log("Deprecated API usage: "+s)}var kf;class R0{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;o(this,kf)||b(this,kf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=o(this,kf).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let r=parseInt(t[4],10);r=r>=0&&r<=23?r:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,u==="-"?(r+=h,l+=f):u==="+"&&(r-=h,l-=f),new Date(Date.UTC(n,i,a,r,l,d))}}kf=new WeakMap,A(R0,kf);function nR(s,{scale:e=1,rotation:t=0}){const{width:n,height:i}=s.attributes.style,a=[0,0,parseInt(n),parseInt(i)];return new Cg({viewBox:a,userUnit:1,scale:e,rotation:t})}function Tg(s){if(s.startsWith("#")){const e=parseInt(s.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(e=>parseInt(e)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ne(`Not a valid color format: "${s}"`),[0,0,0])}function iR(s){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of s.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;s.set(t,Tg(n))}e.remove()}function nt(s){const{a:e,b:t,c:n,d:i,e:a,f:r}=s.getTransform();return[e,t,n,i,a,r]}function mi(s){const{a:e,b:t,c:n,d:i,e:a,f:r}=s.getTransform().invertSelf();return[e,t,n,i,a,r]}function bc(s,e,t=!1,n=!0){if(e instanceof Cg){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:r}=s,l=as.isCSSRoundSupported,d=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${a}px`,h=l?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,f=l?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(r.width=h,r.height=f):(r.width=f,r.height=h)}n&&s.setAttribute("data-main-rotation",e.rotation)}class Yi{constructor(){const{pixelRatio:e}=Yi;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,a=-1){let r=1/0,l=1/0,d=1/0;n=Yi.capPixels(n,a),n>0&&(r=Math.sqrt(n/(e*t))),i!==-1&&(l=i/e,d=i/t);const u=Math.min(r,l,d);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const Ly=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class aR{static get isDarkMode(){var e;return ue(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class rR{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),ue(this,"commentForegroundColor",Tg(n))}}function oR(s,e,t,n){n=Math.min(Math.max(n??1,0),1);const i=255*(1-n);return s=Math.round(s*n+i),e=Math.round(e*n+i),t=Math.round(t*n+i),[s,e,t]}function m1(s,e){const t=s[0]/255,n=s[1]/255,i=s[2]/255,a=Math.max(t,n,i),r=Math.min(t,n,i),l=(a+r)/2;if(a===r)e[0]=e[1]=0;else{const d=a-r;switch(e[1]=l<.5?d/(a+r):d/(2-a-r),a){case t:e[0]=((n-i)/d+(n<i?6:0))*60;break;case n:e[0]=((i-t)/d+2)*60;break;case i:e[0]=((t-n)/d+4)*60;break}}e[2]=l}function Oy(s,e){const t=s[0],n=s[1],i=s[2],a=(1-Math.abs(2*i-1))*n,r=a*(1-Math.abs(t/60%2-1)),l=i-a/2;switch(Math.floor(t/60)){case 0:e[0]=a+l,e[1]=r+l,e[2]=l;break;case 1:e[0]=r+l,e[1]=a+l,e[2]=l;break;case 2:e[0]=l,e[1]=a+l,e[2]=r+l;break;case 3:e[0]=l,e[1]=r+l,e[2]=a+l;break;case 4:e[0]=r+l,e[1]=l,e[2]=a+l;break;case 5:case 6:e[0]=a+l,e[1]=l,e[2]=r+l;break}}function g1(s){return s<=.03928?s/12.92:((s+.055)/1.055)**2.4}function p1(s,e,t){Oy(s,t),t.map(g1);const n=.2126*t[0]+.7152*t[1]+.0722*t[2];Oy(e,t),t.map(g1);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const x1=new Map;function lR(s,e){const t=s[0]+s[1]*256+s[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=x1.get(t);if(n)return n;const i=new Float32Array(9),a=i.subarray(0,3),r=i.subarray(3,6);m1(s,r);const l=i.subarray(6,9);m1(e,l);const d=l[2]<.5,u=d?12:4.5;if(r[2]=d?Math.sqrt(r[2]):1-Math.sqrt(1-r[2]),p1(r,l,a)<u){let h,f;d?(h=r[2],f=1):(h=0,f=r[2]);const m=.005;for(;f-h>m;){const g=r[2]=(h+f)/2;d===p1(r,l,a)<u?h=g:f=g}r[2]=d?f:h}return Oy(r,a),n=$.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),x1.set(t,n),n}function mE({html:s,dir:e,className:t},n){const i=document.createDocumentFragment();if(typeof s=="string"){const a=document.createElement("p");a.dir=e||"auto";const r=s.split(/(?:\r\n?|\n)/);for(let l=0,d=r.length;l<d;++l){const u=r[l];a.append(document.createTextNode(u)),l<d-1&&a.append(document.createElement("br"))}i.append(a)}else fE.render({xfaHtml:s,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),n.append(i)}var yr,vr,An,Nn,Mf,wr,gd,pd,Df,G0,gE,ss,pE,xE,Pc,_h;const ra=class ra{constructor(e){A(this,ss);A(this,yr,null);A(this,vr,null);A(this,An);A(this,Nn,null);A(this,Mf,null);A(this,wr,null);A(this,gd,null);A(this,pd,null);b(this,An,e),o(ra,Df)||b(ra,Df,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=b(this,yr,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=o(this,An)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",qn,{signal:t}),e.addEventListener("pointerdown",N(ra,G0,gE),{signal:t}));const n=b(this,Nn,document.createElement("div"));n.className="buttons",e.append(n);const i=o(this,An).toolbarPosition;if(i){const{style:a}=e,r=o(this,An)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return o(this,yr)}hide(){var e;o(this,yr).classList.add("hidden"),(e=o(this,vr))==null||e.hideDropdown()}show(){var e,t;o(this,yr).classList.remove("hidden"),(e=o(this,Mf))==null||e.shown(),(t=o(this,wr))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=o(this,An),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",o(ra,Df)[e]),N(this,ss,Pc).call(this,n)&&n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),o(this,Nn).append(n)}async addAltText(e){const t=await e.render();N(this,ss,Pc).call(this,t),o(this,Nn).append(t,o(this,ss,_h)),b(this,Mf,e)}addComment(e,t=null){if(o(this,wr))return;const n=e.renderForToolbar();if(!n)return;N(this,ss,Pc).call(this,n);const i=b(this,gd,o(this,ss,_h));t?(o(this,Nn).insertBefore(n,t),o(this,Nn).insertBefore(i,t)):o(this,Nn).append(n,i),b(this,wr,e),e.toolbar=this}addColorPicker(e){if(o(this,vr))return;b(this,vr,e);const t=e.renderButton();N(this,ss,Pc).call(this,t),o(this,Nn).append(t,o(this,ss,_h))}async addEditSignatureButton(e){const t=b(this,pd,await e.renderEditButton(o(this,An)));N(this,ss,Pc).call(this,t),o(this,Nn).append(t,o(this,ss,_h))}removeButton(e){var t,n;switch(e){case"comment":(t=o(this,wr))==null||t.removeToolbarCommentButton(),b(this,wr,null),(n=o(this,gd))==null||n.remove(),b(this,gd,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,n){const i=o(this,Nn).querySelector(n);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){o(this,pd)&&(o(this,pd).title=e)}remove(){var e;o(this,yr).remove(),(e=o(this,vr))==null||e.destroy(),b(this,vr,null)}};yr=new WeakMap,vr=new WeakMap,An=new WeakMap,Nn=new WeakMap,Mf=new WeakMap,wr=new WeakMap,gd=new WeakMap,pd=new WeakMap,Df=new WeakMap,G0=new WeakSet,gE=function(e){e.stopPropagation()},ss=new WeakSet,pE=function(e){o(this,An)._focusEventsAllowed=!1,ht(e)},xE=function(e){o(this,An)._focusEventsAllowed=!0,ht(e)},Pc=function(e){const t=o(this,An)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",N(this,ss,pE).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",N(this,ss,xE).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",qn,{signal:t}),!0)},_h=function(){const e=document.createElement("div");return e.className="divider",e},A(ra,G0),A(ra,Df,null);let Py=ra;var Rf,Ko,ca,rr,bE,yE,By;class cR{constructor(e){A(this,rr);A(this,Rf,null);A(this,Ko,null);A(this,ca);b(this,ca,e)}show(e,t,n){const[i,a]=N(this,rr,yE).call(this,t,n),{style:r}=o(this,Ko)||b(this,Ko,N(this,rr,bE).call(this));e.append(o(this,Ko)),r.insetInlineEnd=`${100*i}%`,r.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){o(this,Ko).remove()}}Rf=new WeakMap,Ko=new WeakMap,ca=new WeakMap,rr=new WeakSet,bE=function(){const e=b(this,Ko,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=o(this,ca)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",qn,{signal:t});const n=b(this,Rf,document.createElement("div"));return n.className="buttons",e.append(n),o(this,ca).hasCommentManager()&&N(this,rr,By).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{o(this,ca).commentSelection("floating_button")}),N(this,rr,By).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{o(this,ca).highlightSelection("floating_button")}),e},yE=function(e,t){let n=0,i=0;for(const a of e){const r=a.y+a.height;if(r<n)continue;const l=a.x+(t?a.width:0);if(r>n){i=l,n=r;continue}t?l>i&&(i=l):l<i&&(i=l)}return[t?1-i:i,n]},By=function(e,t,n,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",t);const r=document.createElement("span");a.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id",n);const l=o(this,ca)._signal;l instanceof AbortSignal&&!l.aborted&&(a.addEventListener("contextmenu",qn,{signal:l}),a.addEventListener("click",i,{signal:l})),o(this,Rf).append(a)};function vE(s,e,t){for(const n of t)e.addEventListener(n,s[n].bind(s))}var Y0;class dR{constructor(){A(this,Y0,0)}get id(){return`${jf}${Et(this,Y0)._++}`}}Y0=new WeakMap;var xd,Lf,os,bd,jp;const AS=class AS{constructor(){A(this,bd);A(this,xd,uE());A(this,Lf,0);A(this,os,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return ue(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:a}=e;return N(this,bd,jp).call(this,`${t}_${n}_${i}_${a}`,e)}async getFromUrl(e){return N(this,bd,jp).call(this,e,e)}async getFromBlob(e,t){const n=await t;return N(this,bd,jp).call(this,e,n)}async getFromId(e){o(this,os)||b(this,os,new Map);const t=o(this,os).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){o(this,os)||b(this,os,new Map);let n=o(this,os).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${o(this,xd)}_${Et(this,Lf)._++}`,refCounter:1,isSvg:!1},o(this,os).set(e,n),o(this,os).set(n.id,n),n}getSvgUrl(e){const t=o(this,os).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;o(this,os)||b(this,os,new Map);const t=o(this,os).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(n.width,n.height);a.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=a.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${o(this,xd)}_`)}};xd=new WeakMap,Lf=new WeakMap,os=new WeakMap,bd=new WeakSet,jp=async function(e,t){o(this,os)||b(this,os,new Map);let n=o(this,os).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${o(this,xd)}_${Et(this,Lf)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await Eg(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const a=AS._isSVGFittingCanvas,r=new FileReader,l=new Image,d=new Promise((u,h)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,u()},r.onload=async()=>{const f=n.svgUrl=r.result;l.src=await a?`${f}#svgView(preserveAspectRatio(none))`:f},l.onerror=r.onerror=h});r.readAsDataURL(i),await d}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){ne(i),n=null}return o(this,os).set(e,n),n&&o(this,os).set(n.id,n),n};let Iy=AS;var mt,Sr,Of,st;class uR{constructor(e=128){A(this,mt,[]);A(this,Sr,!1);A(this,Of);A(this,st,-1);b(this,Of,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:a=NaN,overwriteIfSameType:r=!1,keepUndo:l=!1}){if(i&&e(),o(this,Sr))return;const d={cmd:e,undo:t,post:n,type:a};if(o(this,st)===-1){o(this,mt).length>0&&(o(this,mt).length=0),b(this,st,0),o(this,mt).push(d);return}if(r&&o(this,mt)[o(this,st)].type===a){l&&(d.undo=o(this,mt)[o(this,st)].undo),o(this,mt)[o(this,st)]=d;return}const u=o(this,st)+1;u===o(this,Of)?o(this,mt).splice(0,1):(b(this,st,u),u<o(this,mt).length&&o(this,mt).splice(u)),o(this,mt).push(d)}undo(){if(o(this,st)===-1)return;b(this,Sr,!0);const{undo:e,post:t}=o(this,mt)[o(this,st)];e(),t==null||t(),b(this,Sr,!1),b(this,st,o(this,st)-1)}redo(){if(o(this,st)<o(this,mt).length-1){b(this,st,o(this,st)+1),b(this,Sr,!0);const{cmd:e,post:t}=o(this,mt)[o(this,st)];e(),t==null||t(),b(this,Sr,!1)}}hasSomethingToUndo(){return o(this,st)!==-1}hasSomethingToRedo(){return o(this,st)<o(this,mt).length-1}cleanType(e){if(o(this,st)!==-1){for(let t=o(this,st);t>=0;t--)if(o(this,mt)[t].type!==e){o(this,mt).splice(t+1,o(this,st)-t),b(this,st,t);return}o(this,mt).length=0,b(this,st,-1)}}destroy(){b(this,mt,null)}}mt=new WeakMap,Sr=new WeakMap,Of=new WeakMap,st=new WeakMap;var q0,wE;class _g{constructor(e){A(this,q0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=as.platform;for(const[n,i,a={}]of e)for(const r of n){const l=r.startsWith("mac+");t&&l?(this.callbacks.set(r.slice(4),{callback:i,options:a}),this.allKeys.add(r.split("+").at(-1))):!t&&!l&&(this.callbacks.set(r,{callback:i,options:a}),this.allKeys.add(r.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(N(this,q0,wE).call(this,t));if(!n)return;const{callback:i,options:{bubbles:a=!1,args:r=[],checker:l=null}}=n;l&&!l(e,t)||(i.bind(e,...r,t)(),a||ht(t))}}q0=new WeakSet,wE=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const X0=class X0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return iR(e),ue(this,"_colors",e)}convert(e){const t=Tg(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((a,r)=>a===t[r]))return X0._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?$.makeHexColor(...t):e}};F(X0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Fy=X0;var yd,Vs,vd,lt,_t,wd,jn,Sd,En,ls,Ar,Nr,Ad,jr,xi,Cn,Qo,Pf,Bf,Nd,If,bi,Er,jd,Cr,yi,W0,Tr,Ed,Ff,_r,Zo,Cd,kr,zf,vt,Ce,da,Mr,Dr,Uf,Td,Hf,Rr,vi,ua,Vf,$f,Tn,z,Ep,zy,SE,AE,kh,NE,jE,EE,Uy,CE,Hy,Vy,TE,fs,ia,_E,kE,$y,ME,Mh,Gy;const nd=class nd{constructor(e,t,n,i,a,r,l,d,u,h,f,m,g,v,x,S){A(this,z);A(this,yd,new AbortController);A(this,Vs,null);A(this,vd,null);A(this,lt,new Map);A(this,_t,new Map);A(this,wd,null);A(this,jn,null);A(this,Sd,null);A(this,En,new uR);A(this,ls,null);A(this,Ar,null);A(this,Nr,null);A(this,Ad,0);A(this,jr,new Set);A(this,xi,null);A(this,Cn,null);A(this,Qo,new Set);F(this,"_editorUndoBar",null);A(this,Pf,!1);A(this,Bf,!1);A(this,Nd,!1);A(this,If,null);A(this,bi,null);A(this,Er,null);A(this,jd,null);A(this,Cr,!1);A(this,yi,null);A(this,W0,new dR);A(this,Tr,!1);A(this,Ed,!1);A(this,Ff,!1);A(this,_r,null);A(this,Zo,null);A(this,Cd,null);A(this,kr,null);A(this,zf,null);A(this,vt,ae.NONE);A(this,Ce,new Set);A(this,da,null);A(this,Mr,null);A(this,Dr,null);A(this,Uf,null);A(this,Td,null);A(this,Hf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});A(this,Rr,[0,0]);A(this,vi,null);A(this,ua,null);A(this,Vf,null);A(this,$f,null);A(this,Tn,null);const p=this._signal=o(this,yd).signal;b(this,ua,e),b(this,Vf,t),b(this,$f,n),b(this,wd,i),b(this,ls,a),b(this,Mr,r),b(this,Td,d),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:p}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),l._on("setpreference",this.onSetPreference.bind(this),{signal:p}),l._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:p}),window.addEventListener("pointerdown",()=>{b(this,Ed,!0)},{capture:!0,signal:p}),window.addEventListener("pointerup",()=>{b(this,Ed,!1)},{capture:!0,signal:p}),N(this,z,NE).call(this),N(this,z,TE).call(this),N(this,z,Uy).call(this),b(this,jn,d.annotationStorage),b(this,If,d.filterFactory),b(this,Dr,u),b(this,jd,h||null),b(this,Pf,f),b(this,Bf,m),b(this,Nd,g),b(this,zf,v||null),this.viewParameters={realScale:Ro.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=S!==!1,a==null||a.setSidebarUiManager(this)}static get _keyboardManager(){const e=nd.prototype,t=r=>o(r,ua).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&r.hasSomethingToControl(),n=(r,{target:l})=>{if(l instanceof HTMLInputElement){const{type:d}=l;return d!=="text"&&d!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return ue(this,"_keyboardManager",new _g([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(r,{target:l})=>!(l instanceof HTMLButtonElement)&&o(r,ua).contains(l)&&!r.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(r,{target:l})=>!(l instanceof HTMLButtonElement)&&o(r,ua).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}destroy(){var e,t,n,i,a,r,l,d,u;(e=o(this,Tn))==null||e.resolve(),b(this,Tn,null),(t=o(this,yd))==null||t.abort(),b(this,yd,null),this._signal=null;for(const h of o(this,_t).values())h.destroy();o(this,_t).clear(),o(this,lt).clear(),o(this,Qo).clear(),(n=o(this,kr))==null||n.clear(),b(this,Vs,null),o(this,Ce).clear(),o(this,En).destroy(),(i=o(this,wd))==null||i.destroy(),(a=o(this,ls))==null||a.destroy(),(r=o(this,Mr))==null||r.destroy(),(l=o(this,yi))==null||l.hide(),b(this,yi,null),(d=o(this,Cd))==null||d.destroy(),b(this,Cd,null),b(this,vd,null),o(this,bi)&&(clearTimeout(o(this,bi)),b(this,bi,null)),o(this,vi)&&(clearTimeout(o(this,vi)),b(this,vi,null)),(u=this._editorUndoBar)==null||u.destroy(),b(this,Td,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return o(this,zf)}get useNewAltTextFlow(){return o(this,Bf)}get useNewAltTextWhenAddingImage(){return o(this,Nd)}get hcmFilter(){return ue(this,"hcmFilter",o(this,Dr)?o(this,If).addHCMFilter(o(this,Dr).foreground,o(this,Dr).background):"none")}get direction(){return ue(this,"direction",getComputedStyle(o(this,ua)).direction)}get _highlightColors(){return ue(this,"_highlightColors",o(this,jd)?new Map(o(this,jd).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return ue(this,"highlightColors",null);const t=new Map,n=!!o(this,Dr);for(const[i,a]of e){const r=i.endsWith("_HCM");if(n&&r){t.set(i.replace("_HCM",""),a);continue}!n&&!r&&t.set(i,a)}return ue(this,"highlightColors",t)}get highlightColorNames(){return ue(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),b(this,Nr,e)}setMainHighlightColorPicker(e){b(this,Cd,e)}editAltText(e,t=!1){var n;(n=o(this,wd))==null||n.editAltText(this,e,t)}hasCommentManager(){return!!o(this,ls)}editComment(e,t,n,i){var a;(a=o(this,ls))==null||a.showDialog(this,e,t,n,i)}selectComment(e,t){const n=o(this,_t).get(e),i=n==null?void 0:n.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=o(this,ls))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=o(this,ls))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=o(this,ls))==null||t.removeComments([e.uid])}toggleComment(e,t,n=void 0){var i;(i=o(this,ls))==null||i.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){var n;return e&&((n=o(this,ls))==null?void 0:n.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=o(this,ls))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(o(this,_t).has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){var t;(t=o(this,Mr))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return o(this,Mr)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,Nd,t);break}}onPageChanging({pageNumber:e}){b(this,Ad,e-1)}focusMainContainer(){o(this,ua).focus()}findParent(e,t){for(const n of o(this,_t).values()){const{x:i,y:a,width:r,height:l}=n.div.getBoundingClientRect();if(e>=i&&e<=i+r&&t>=a&&t<=a+l)return n}return null}disableUserSelect(e=!1){o(this,Vf).classList.toggle("noUserSelect",e)}addShouldRescale(e){o(this,Qo).add(e)}removeShouldRescale(e){o(this,Qo).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Ro.PDF_TO_CSS_UNITS;for(const n of o(this,Qo))n.onScaleChanging();(t=o(this,Nr))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:l}=n,d=n.toString(),h=N(this,z,Ep).call(this,n).closest(".textLayer"),f=this.getSelectionBoxes(h);if(!f)return;n.empty();const m=N(this,z,zy).call(this,h),g=o(this,vt)===ae.NONE,v=()=>{const x=m==null?void 0:m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:l,text:d});g&&this.showAllEditors("highlight",!0,!0),t&&(x==null||x.editComment())};if(g){this.switchToMode(ae.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!o(this,jn))return null;const t=`${jf}${e}`,n=o(this,jn).getRawValue(t);return n&&o(this,jn).remove(t),n}addToAnnotationStorage(e){!e.isEmpty()&&o(this,jn)&&!o(this,jn).has(e.id)&&o(this,jn).setValue(e.id,e)}a11yAlert(e,t=null){const n=o(this,$f);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,o(this,Cr)&&(b(this,Cr,!1),N(this,z,kh).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of o(this,Ce))if(t.div.contains(e)){b(this,Zo,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!o(this,Zo))return;const[e,t]=o(this,Zo);b(this,Zo,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){N(this,z,Uy).call(this),N(this,z,Hy).call(this)}removeEditListeners(){N(this,z,CE).call(this),N(this,z,Vy).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of o(this,Cn))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of o(this,Cn))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=o(this,Vs))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of o(this,Ce)){const a=i.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const r of o(this,Cn))if(r.isHandlingMimeForPasting(a.type)){r.paste(a,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){ne(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const d of n){const u=await i.deserialize(d);if(!u)return;a.push(u)}const r=()=>{for(const d of a)N(this,z,$y).call(this,d);N(this,z,Gy).call(this,a)},l=()=>{for(const d of a)d.remove()};this.addCommands({cmd:r,undo:l,mustExec:!0})}catch(a){ne(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),o(this,vt)!==ae.NONE&&!this.isEditorHandlingKeyboard&&nd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,o(this,Cr)&&(b(this,Cr,!1),N(this,z,kh).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(N(this,z,jE).call(this),N(this,z,Hy).call(this),N(this,z,fs).call(this,{isEditing:o(this,vt)!==ae.NONE,isEmpty:N(this,z,Mh).call(this),hasSomethingToUndo:o(this,En).hasSomethingToUndo(),hasSomethingToRedo:o(this,En).hasSomethingToRedo(),hasSelectedEditor:!1})):(N(this,z,EE).call(this),N(this,z,Vy).call(this),N(this,z,fs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!o(this,Cn)){b(this,Cn,e);for(const t of o(this,Cn))N(this,z,ia).call(this,t.defaultPropertiesToUpdate)}}getId(){return o(this,W0).id}get currentLayer(){return o(this,_t).get(o(this,Ad))}getLayer(e){return o(this,_t).get(e)}get currentPageIndex(){return o(this,Ad)}addLayer(e){o(this,_t).set(e.pageIndex,e),o(this,Tr)?e.enable():e.disable()}removeLayer(e){o(this,_t).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,a=!1){var r,l,d,u,h,f;if(o(this,vt)!==e&&!(o(this,Tn)&&(await o(this,Tn).promise,!o(this,Tn)))){if(b(this,Tn,Promise.withResolvers()),(r=o(this,Nr))==null||r.commitOrRemove(),o(this,vt)===ae.POPUP&&((l=o(this,ls))==null||l.hideSidebar()),(d=o(this,ls))==null||d.destroyPopup(),b(this,vt,e),e===ae.NONE){this.setEditingState(!1),N(this,z,kE).call(this);for(const m of o(this,lt).values())m.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),o(this,Tn).resolve();return}for(const m of o(this,lt).values())m.addStandaloneCommentButton();e===ae.SIGNATURE&&await((h=o(this,Mr))==null?void 0:h.loadSignatures()),this.setEditingState(!0),await N(this,z,_E).call(this),this.unselectAll();for(const m of o(this,_t).values())m.updateMode(e);if(e===ae.POPUP){o(this,vd)||b(this,vd,await o(this,Td).getAnnotationsByType(new Set(o(this,Cn).map(v=>v._editorType))));const m=new Set,g=[];for(const v of o(this,lt).values()){const{annotationElementId:x,hasComment:S,deleted:p}=v;x&&m.add(x),S&&!p&&g.push(v.getData())}for(const v of o(this,vd)){const{id:x,popupRef:S,contentsObj:p}=v;S&&(p!=null&&p.str)&&!m.has(x)&&!o(this,jr).has(x)&&g.push(v)}(f=o(this,ls))==null||f.showSidebar(g)}if(!t){n&&this.addNewEditorFromKeyboard(),o(this,Tn).resolve();return}for(const m of o(this,lt).values())m.uid===t?(this.setSelected(m),a?m.editComment():i?m.enterInEditMode():m.focus()):m.unselect();o(this,Tn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==o(this,vt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(o(this,Cn)){switch(e){case xe.CREATE:this.currentLayer.addNewEditor(t);return;case xe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(o(this,Uf)||b(this,Uf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const n of o(this,Ce))n.updateParams(e,t);else for(const n of o(this,Cn))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var a;for(const r of o(this,lt).values())r.editorType===e&&r.show(t);(((a=o(this,Uf))==null?void 0:a.get(xe.HIGHLIGHT_SHOW_ALL))??!0)!==t&&N(this,z,ia).call(this,[[xe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(o(this,Ff)!==e){b(this,Ff,e);for(const t of o(this,_t).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of o(this,lt).values())t.pageIndex===e&&(yield t)}getEditor(e){return o(this,lt).get(e)}addEditor(e){o(this,lt).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(o(this,bi)&&clearTimeout(o(this,bi)),b(this,bi,setTimeout(()=>{this.focusMainContainer(),b(this,bi,null)},0))),o(this,lt).delete(e.id),e.annotationElementId&&((t=o(this,kr))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!o(this,jr).has(e.annotationElementId))&&((n=o(this,jn))==null||n.remove(e.id))}addDeletedAnnotationElement(e){o(this,jr).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return o(this,jr).has(e)}removeDeletedAnnotationElement(e){o(this,jr).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){o(this,Vs)!==e&&(b(this,Vs,e),e&&N(this,z,ia).call(this,e.propertiesToUpdate))}updateUI(e){o(this,z,ME)===e&&N(this,z,ia).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){N(this,z,ia).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(o(this,Ce).has(e)){o(this,Ce).delete(e),e.unselect(),N(this,z,fs).call(this,{hasSelectedEditor:this.hasSelection});return}o(this,Ce).add(e),e.select(),N(this,z,ia).call(this,e.propertiesToUpdate),N(this,z,fs).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=o(this,Nr))==null||t.commitOrRemove();for(const n of o(this,Ce))n!==e&&n.unselect();o(this,Ce).clear(),o(this,Ce).add(e),e.select(),N(this,z,ia).call(this,e.propertiesToUpdate),N(this,z,fs).call(this,{hasSelectedEditor:!0})}isSelected(e){return o(this,Ce).has(e)}get firstSelectedEditor(){return o(this,Ce).values().next().value}unselect(e){e.unselect(),o(this,Ce).delete(e),N(this,z,fs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return o(this,Ce).size!==0}get isEnterHandled(){return o(this,Ce).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;o(this,En).undo(),N(this,z,fs).call(this,{hasSomethingToUndo:o(this,En).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:N(this,z,Mh).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){o(this,En).redo(),N(this,z,fs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:o(this,En).hasSomethingToRedo(),isEmpty:N(this,z,Mh).call(this)})}addCommands(e){o(this,En).add(e),N(this,z,fs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:N(this,z,Mh).call(this)})}cleanUndoStack(e){o(this,En).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...o(this,Ce)],n=()=>{var r;(r=this._editorUndoBar)==null||r.show(i,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},i=()=>{for(const r of t)N(this,z,$y).call(this,r)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=o(this,Vs))==null||e.commitOrRemove()}hasSomethingToControl(){return o(this,Vs)||this.hasSelection}selectAll(){for(const e of o(this,Ce))e.commit();N(this,z,Gy).call(this,o(this,lt).values())}unselectAll(){var e;if(!(o(this,Vs)&&(o(this,Vs).commitOrRemove(),o(this,vt)!==ae.NONE))&&!((e=o(this,Nr))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of o(this,Ce))t.unselect();o(this,Ce).clear(),N(this,z,fs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;o(this,Rr)[0]+=e,o(this,Rr)[1]+=t;const[i,a]=o(this,Rr),r=[...o(this,Ce)],l=1e3;o(this,vi)&&clearTimeout(o(this,vi)),b(this,vi,setTimeout(()=>{b(this,vi,null),o(this,Rr)[0]=o(this,Rr)[1]=0,this.addCommands({cmd:()=>{for(const d of r)o(this,lt).has(d.id)&&(d.translateInPage(i,a),d.translationDone())},undo:()=>{for(const d of r)o(this,lt).has(d.id)&&(d.translateInPage(-i,-a),d.translationDone())},mustExec:!1})},l));for(const d of r)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,xi,new Map);for(const e of o(this,Ce))o(this,xi).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!o(this,xi))return!1;this.disableUserSelect(!1);const e=o(this,xi);b(this,xi,null);let t=!1;for(const[{x:i,y:a,pageIndex:r},l]of e)l.newX=i,l.newY=a,l.newPageIndex=r,t||(t=i!==l.savedX||a!==l.savedY||r!==l.savedPageIndex);if(!t)return!1;const n=(i,a,r,l)=>{if(o(this,lt).has(i.id)){const d=o(this,_t).get(l);d?i._setParentAndPosition(d,a,r):(i.pageIndex=l,i.x=a,i.y=r)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:r,newPageIndex:l}]of e)n(i,a,r,l)},undo:()=>{for(const[i,{savedX:a,savedY:r,savedPageIndex:l}]of e)n(i,a,r,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(o(this,xi))for(const n of o(this,xi).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||o(this,Ce).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return o(this,Vs)===e}getActive(){return o(this,Vs)}getMode(){return o(this,vt)}isEditingMode(){return o(this,vt)!==ae.NONE}get imageManager(){return ue(this,"imageManager",new Iy)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:i,width:a,height:r}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,h,f,m)=>({x:(h-i)/r,y:1-(u+f-n)/a,width:m/r,height:f/a});break;case"180":l=(u,h,f,m)=>({x:1-(u+f-n)/a,y:1-(h+m-i)/r,width:f/a,height:m/r});break;case"270":l=(u,h,f,m)=>({x:1-(h+m-i)/r,y:(u-n)/a,width:m/r,height:f/a});break;default:l=(u,h,f,m)=>({x:(u-n)/a,y:(h-i)/r,width:f/a,height:m/r});break}const d=[];for(let u=0,h=t.rangeCount;u<h;u++){const f=t.getRangeAt(u);if(!f.collapsed)for(const{x:m,y:g,width:v,height:x}of f.getClientRects())v===0||x===0||d.push(l(m,g,v,x))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(o(this,Sd)||b(this,Sd,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=o(this,Sd))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=o(this,Sd))==null?void 0:i.get(e.data.id);if(!t)return;const n=o(this,jn).getRawValue(t);n&&(o(this,vt)===ae.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){var a;const i=(a=o(this,kr))==null?void 0:a.get(e);i&&(i.setCanvas(t,n),o(this,kr).delete(e))}addMissingCanvas(e,t){(o(this,kr)||b(this,kr,new Map)).set(e,t)}};yd=new WeakMap,Vs=new WeakMap,vd=new WeakMap,lt=new WeakMap,_t=new WeakMap,wd=new WeakMap,jn=new WeakMap,Sd=new WeakMap,En=new WeakMap,ls=new WeakMap,Ar=new WeakMap,Nr=new WeakMap,Ad=new WeakMap,jr=new WeakMap,xi=new WeakMap,Cn=new WeakMap,Qo=new WeakMap,Pf=new WeakMap,Bf=new WeakMap,Nd=new WeakMap,If=new WeakMap,bi=new WeakMap,Er=new WeakMap,jd=new WeakMap,Cr=new WeakMap,yi=new WeakMap,W0=new WeakMap,Tr=new WeakMap,Ed=new WeakMap,Ff=new WeakMap,_r=new WeakMap,Zo=new WeakMap,Cd=new WeakMap,kr=new WeakMap,zf=new WeakMap,vt=new WeakMap,Ce=new WeakMap,da=new WeakMap,Mr=new WeakMap,Dr=new WeakMap,Uf=new WeakMap,Td=new WeakMap,Hf=new WeakMap,Rr=new WeakMap,vi=new WeakMap,ua=new WeakMap,Vf=new WeakMap,$f=new WeakMap,Tn=new WeakMap,z=new WeakSet,Ep=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},zy=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of o(this,_t).values())if(n.hasTextLayer(e))return n;return null},SE=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=N(this,z,Ep).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(o(this,yi)||b(this,yi,new cR(this)),o(this,yi).show(n,i,this.direction==="ltr"))},AE=function(){var a,r,l;const e=document.getSelection();if(!e||e.isCollapsed){o(this,da)&&((a=o(this,yi))==null||a.hide(),b(this,da,null),N(this,z,fs).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===o(this,da))return;const i=N(this,z,Ep).call(this,e).closest(".textLayer");if(!i){o(this,da)&&((r=o(this,yi))==null||r.hide(),b(this,da,null),N(this,z,fs).call(this,{hasSelectedText:!1}));return}if((l=o(this,yi))==null||l.hide(),b(this,da,t),N(this,z,fs).call(this,{hasSelectedText:!0}),!(o(this,vt)!==ae.HIGHLIGHT&&o(this,vt)!==ae.NONE)&&(o(this,vt)===ae.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,Cr,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=o(this,vt)===ae.HIGHLIGHT?N(this,z,zy).call(this,i):null;if(d==null||d.toggleDrawing(),o(this,Ed)){const u=new AbortController,h=this.combinedSignal(u),f=m=>{m.type==="pointerup"&&m.button!==0||(u.abort(),d==null||d.toggleDrawing(!0),m.type==="pointerup"&&N(this,z,kh).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("blur",f,{signal:h})}else d==null||d.toggleDrawing(!0),N(this,z,kh).call(this,"main_toolbar")}},kh=function(e=""){o(this,vt)===ae.HIGHLIGHT?this.highlightSelection(e):o(this,Pf)&&N(this,z,SE).call(this)},NE=function(){document.addEventListener("selectionchange",N(this,z,AE).bind(this),{signal:this._signal})},jE=function(){if(o(this,Er))return;b(this,Er,new AbortController);const e=this.combinedSignal(o(this,Er));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},EE=function(){var e;(e=o(this,Er))==null||e.abort(),b(this,Er,null)},Uy=function(){if(o(this,_r))return;b(this,_r,new AbortController);const e=this.combinedSignal(o(this,_r));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},CE=function(){var e;(e=o(this,_r))==null||e.abort(),b(this,_r,null)},Hy=function(){if(o(this,Ar))return;b(this,Ar,new AbortController);const e=this.combinedSignal(o(this,Ar));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Vy=function(){var e;(e=o(this,Ar))==null||e.abort(),b(this,Ar,null)},TE=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},fs=function(e){Object.entries(e).some(([n,i])=>o(this,Hf)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(o(this,Hf),e)}),o(this,vt)===ae.HIGHLIGHT&&e.hasSelectedEditor===!1&&N(this,z,ia).call(this,[[xe.HIGHLIGHT_FREE,!0]]))},ia=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},_E=async function(){if(!o(this,Tr)){b(this,Tr,!0);const e=[];for(const t of o(this,_t).values())e.push(t.enable());await Promise.all(e);for(const t of o(this,lt).values())t.enable()}},kE=function(){if(this.unselectAll(),o(this,Tr)){b(this,Tr,!1);for(const e of o(this,_t).values())e.disable();for(const e of o(this,lt).values())e.disable()}},$y=function(e){const t=o(this,_t).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},ME=function(){let e=null;for(e of o(this,Ce));return e},Mh=function(){if(o(this,lt).size===0)return!0;if(o(this,lt).size===1)for(const e of o(this,lt).values())return e.isEmpty();return!1},Gy=function(e){for(const t of o(this,Ce))t.unselect();o(this,Ce).clear();for(const t of e)t.isEmpty()||(o(this,Ce).add(t),t.select());N(this,z,fs).call(this,{hasSelectedEditor:this.hasSelection})},F(nd,"TRANSLATE_SMALL",1),F(nd,"TRANSLATE_BIG",10);let yc=nd;var Ot,wi,Zn,_d,Si,$s,kd,Ai,_s,ha,Jo,Ni,Lr,ui,Dh,Cp;const ms=class ms{constructor(e){A(this,ui);A(this,Ot,null);A(this,wi,!1);A(this,Zn,null);A(this,_d,null);A(this,Si,null);A(this,$s,null);A(this,kd,!1);A(this,Ai,null);A(this,_s,null);A(this,ha,null);A(this,Jo,null);A(this,Ni,!1);b(this,_s,e),b(this,Ni,e._uiManager.useNewAltTextFlow),o(ms,Lr)||b(ms,Lr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ms._l10n??(ms._l10n=e)}async render(){const e=b(this,Zn,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,_d,document.createElement("span"));e.append(t),o(this,Ni)?(e.classList.add("new"),e.setAttribute("data-l10n-id",o(ms,Lr).missing),t.setAttribute("data-l10n-id",o(ms,Lr)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=o(this,_s)._uiManager._signal;e.addEventListener("contextmenu",qn,{signal:n}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const i=a=>{a.preventDefault(),o(this,_s)._uiManager.editAltText(o(this,_s)),o(this,Ni)&&o(this,_s)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:o(this,ui,Dh)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(b(this,kd,!0),i(a))},{signal:n}),await N(this,ui,Cp).call(this),e}finish(){o(this,Zn)&&(o(this,Zn).focus({focusVisible:o(this,kd)}),b(this,kd,!1))}isEmpty(){return o(this,Ni)?o(this,Ot)===null:!o(this,Ot)&&!o(this,wi)}hasData(){return o(this,Ni)?o(this,Ot)!==null||!!o(this,ha):this.isEmpty()}get guessedText(){return o(this,ha)}async setGuessedText(e){o(this,Ot)===null&&(b(this,ha,e),b(this,Jo,await ms._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),N(this,ui,Cp).call(this))}toggleAltTextBadge(e=!1){var t;if(!o(this,Ni)||o(this,Ot)){(t=o(this,Ai))==null||t.remove(),b(this,Ai,null);return}if(!o(this,Ai)){const n=b(this,Ai,document.createElement("div"));n.className="noAltTextBadge",o(this,_s).div.append(n)}o(this,Ai).classList.toggle("hidden",!e)}serialize(e){let t=o(this,Ot);return!e&&o(this,ha)===t&&(t=o(this,Jo)),{altText:t,decorative:o(this,wi),guessedText:o(this,ha),textWithDisclaimer:o(this,Jo)}}get data(){return{altText:o(this,Ot),decorative:o(this,wi)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:a=!1}){n&&(b(this,ha,n),b(this,Jo,i)),!(o(this,Ot)===e&&o(this,wi)===t)&&(a||(b(this,Ot,e),b(this,wi,t)),N(this,ui,Cp).call(this))}toggle(e=!1){o(this,Zn)&&(!e&&o(this,$s)&&(clearTimeout(o(this,$s)),b(this,$s,null)),o(this,Zn).disabled=!e)}shown(){o(this,_s)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:o(this,ui,Dh)}})}destroy(){var e,t;(e=o(this,Zn))==null||e.remove(),b(this,Zn,null),b(this,_d,null),b(this,Si,null),(t=o(this,Ai))==null||t.remove(),b(this,Ai,null)}};Ot=new WeakMap,wi=new WeakMap,Zn=new WeakMap,_d=new WeakMap,Si=new WeakMap,$s=new WeakMap,kd=new WeakMap,Ai=new WeakMap,_s=new WeakMap,ha=new WeakMap,Jo=new WeakMap,Ni=new WeakMap,Lr=new WeakMap,ui=new WeakSet,Dh=function(){return o(this,Ot)&&"added"||o(this,Ot)===null&&this.guessedText&&"review"||"missing"},Cp=async function(){var i,a,r;const e=o(this,Zn);if(!e)return;if(o(this,Ni)){if(e.classList.toggle("done",!!o(this,Ot)),e.setAttribute("data-l10n-id",o(ms,Lr)[o(this,ui,Dh)]),(i=o(this,_d))==null||i.setAttribute("data-l10n-id",o(ms,Lr)[`${o(this,ui,Dh)}-label`]),!o(this,Ot)){(a=o(this,Si))==null||a.remove();return}}else{if(!o(this,Ot)&&!o(this,wi)){e.classList.remove("done"),(r=o(this,Si))==null||r.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=o(this,Si);if(!t){b(this,Si,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${o(this,_s).id}`;const l=100,d=o(this,_s)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(o(this,$s)),b(this,$s,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,$s,setTimeout(()=>{b(this,$s,null),o(this,Si).classList.add("show"),o(this,_s)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:d}),e.addEventListener("mouseleave",()=>{var u;o(this,$s)&&(clearTimeout(o(this,$s)),b(this,$s,null)),(u=o(this,Si))==null||u.classList.remove("show")},{signal:d})}o(this,wi)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=o(this,Ot)),t.parentNode||e.append(t);const n=o(this,_s).getElementForAltText();n==null||n.setAttribute("aria-describedby",t.id)},A(ms,Lr,null),F(ms,"_l10n",null);let L0=ms;var Yt,_n,el,$e,Gf,tl,Jn,sl,nl,il,Yf,Yy;class Kg{constructor(e){A(this,Yf);A(this,Yt,null);A(this,_n,null);A(this,el,!1);A(this,$e,null);A(this,Gf,null);A(this,tl,null);A(this,Jn,null);A(this,sl,null);A(this,nl,!1);A(this,il,null);b(this,$e,e)}renderForToolbar(){const e=b(this,_n,document.createElement("button"));return e.className="comment",N(this,Yf,Yy).call(this,e,!1)}renderForStandalone(){const e=b(this,Yt,document.createElement("button"));e.className="annotationCommentButton";const t=o(this,$e).commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*(o(this,$e)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=o(this,$e).commentButtonColor;i&&(n.backgroundColor=i)}return N(this,Yf,Yy).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=o(this,Yt)??o(this,_n))==null||e.focus()},0)}onUpdatedColor(){if(!o(this,Yt))return;const e=o(this,$e).commentButtonColor;e&&(o(this,Yt).style.backgroundColor=e),o(this,$e)._uiManager.updatePopupColor(o(this,$e))}get commentButtonWidth(){var e;return(((e=o(this,Yt))==null?void 0:e.getBoundingClientRect().width)??0)/o(this,$e).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(o(this,il))return o(this,il);if(!o(this,Yt))return null;const{x:e,y:t,height:n}=o(this,Yt).getBoundingClientRect(),{x:i,y:a,width:r,height:l}=o(this,$e).parent.boundingClientRect;return[(e-i)/r,(t+n-a)/l]}set commentPopupPositionInLayer(e){b(this,il,e)}hasDefaultPopupPosition(){return o(this,il)===null}removeStandaloneCommentButton(){var e;(e=o(this,Yt))==null||e.remove(),b(this,Yt,null)}removeToolbarCommentButton(){var e;(e=o(this,_n))==null||e.remove(),b(this,_n,null)}setCommentButtonStates({selected:e,hasPopup:t}){o(this,Yt)&&(o(this,Yt).classList.toggle("selected",e),o(this,Yt).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let n,i;if(t)[n,i]=t;else{[n,i]=o(this,$e).commentButtonPosition;const{width:h,height:f,x:m,y:g}=o(this,$e);n=m+n*h,i=g+i*f}const a=o(this,$e).parent.boundingClientRect,{x:r,y:l,width:d,height:u}=a;o(this,$e)._uiManager.editComment(o(this,$e),r+n*d,l+i*u,{...e,parentDimensions:a})}finish(){o(this,_n)&&(o(this,_n).focus({focusVisible:o(this,el)}),b(this,el,!1))}isDeleted(){return o(this,nl)||o(this,Jn)===""}isEmpty(){return o(this,Jn)===null}hasBeenEdited(){return this.isDeleted()||o(this,Jn)!==o(this,Gf)}serialize(){return this.data}get data(){return{text:o(this,Jn),richText:o(this,tl),date:o(this,sl),deleted:this.isDeleted()}}set data(e){if(e!==o(this,Jn)&&b(this,tl,null),e===null){b(this,Jn,""),b(this,nl,!0);return}b(this,Jn,e),b(this,sl,new Date),b(this,nl,!1)}setInitialText(e,t=null){b(this,Gf,e),this.data=e,b(this,sl,null),b(this,tl,t)}shown(){}destroy(){var e,t;(e=o(this,_n))==null||e.remove(),b(this,_n,null),(t=o(this,Yt))==null||t.remove(),b(this,Yt,null),b(this,Jn,""),b(this,tl,null),b(this,sl,null),b(this,$e,null),b(this,el,!1),b(this,nl,!1)}}Yt=new WeakMap,_n=new WeakMap,el=new WeakMap,$e=new WeakMap,Gf=new WeakMap,tl=new WeakMap,Jn=new WeakMap,sl=new WeakMap,nl=new WeakMap,il=new WeakMap,Yf=new WeakSet,Yy=function(e,t){if(!o(this,$e)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[o(this,$e)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=o(this,$e)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",qn,{signal:n}),t&&(e.addEventListener("focusin",a=>{o(this,$e)._focusEventsAllowed=!1,ht(a)},{capture:!0,signal:n}),e.addEventListener("focusout",a=>{o(this,$e)._focusEventsAllowed=!0,ht(a)},{capture:!0,signal:n})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const i=a=>{a.preventDefault(),e===o(this,_n)?this.edit():o(this,$e).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(b(this,el,!0),i(a))},{signal:n}),e.addEventListener("pointerenter",()=>{o(this,$e).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{o(this,$e).toggleComment(!1,!1)},{signal:n}),e};var Md,al,qf,Xf,Wf,Kf,Qf,fa,rl,ma,ol,ga,Lo,DE,RE,LE;const NS=class NS{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:r=null,signal:l}){A(this,Lo);A(this,Md);A(this,al,!1);A(this,qf,null);A(this,Xf);A(this,Wf);A(this,Kf);A(this,Qf);A(this,fa,null);A(this,rl);A(this,ma,null);A(this,ol);A(this,ga,null);b(this,Md,e),b(this,qf,n),b(this,Xf,t),b(this,Wf,i),b(this,Kf,a),b(this,Qf,r),b(this,ol,new AbortController),b(this,rl,AbortSignal.any([l,o(this,ol).signal])),e.addEventListener("touchstart",N(this,Lo,DE).bind(this),{passive:!1,signal:o(this,rl)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Yi.pixelRatio}destroy(){var e,t;(e=o(this,ol))==null||e.abort(),b(this,ol,null),(t=o(this,fa))==null||t.abort(),b(this,fa,null)}};Md=new WeakMap,al=new WeakMap,qf=new WeakMap,Xf=new WeakMap,Wf=new WeakMap,Kf=new WeakMap,Qf=new WeakMap,fa=new WeakMap,rl=new WeakMap,ma=new WeakMap,ol=new WeakMap,ga=new WeakMap,Lo=new WeakSet,DE=function(e){var i,a,r;if((i=o(this,Xf))!=null&&i.call(this))return;if(e.touches.length===1){if(o(this,fa))return;const l=b(this,fa,new AbortController),d=AbortSignal.any([o(this,rl),l.signal]),u=o(this,Md),h={capture:!0,signal:d,passive:!1},f=m=>{var g;m.pointerType==="touch"&&((g=o(this,fa))==null||g.abort(),b(this,fa,null))};u.addEventListener("pointerdown",m=>{m.pointerType==="touch"&&(ht(m),f(m))},h),u.addEventListener("pointerup",f,h),u.addEventListener("pointercancel",f,h);return}if(!o(this,ga)){b(this,ga,new AbortController);const l=AbortSignal.any([o(this,rl),o(this,ga).signal]),d=o(this,Md),u={signal:l,capture:!1,passive:!1};d.addEventListener("touchmove",N(this,Lo,RE).bind(this),u);const h=N(this,Lo,LE).bind(this);d.addEventListener("touchend",h,u),d.addEventListener("touchcancel",h,u),u.capture=!0,d.addEventListener("pointerdown",ht,u),d.addEventListener("pointermove",ht,u),d.addEventListener("pointercancel",ht,u),d.addEventListener("pointerup",ht,u),(a=o(this,Wf))==null||a.call(this)}if(ht(e),e.touches.length!==2||(r=o(this,qf))!=null&&r.call(this)){b(this,ma,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),b(this,ma,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},RE=function(e){var j;if(!o(this,ma)||e.touches.length!==2)return;ht(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:a}=t,{screenX:r,screenY:l}=n,d=o(this,ma),{touch0X:u,touch0Y:h,touch1X:f,touch1Y:m}=d,g=f-u,v=m-h,x=r-i,S=l-a,p=Math.hypot(x,S)||1,y=Math.hypot(g,v)||1;if(!o(this,al)&&Math.abs(y-p)<=NS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=i,d.touch0Y=a,d.touch1X=r,d.touch1Y=l,!o(this,al)){b(this,al,!0);return}const w=[(i+r)/2,(a+l)/2];(j=o(this,Kf))==null||j.call(this,w,y,p)},LE=function(e){var t;e.touches.length>=2||(o(this,ga)&&(o(this,ga).abort(),b(this,ga,null),(t=o(this,Qf))==null||t.call(this)),o(this,ma)&&(ht(e),b(this,ma,null),b(this,al,!1)))};let O0=NS;var ll,ei,Je,Fe,pa,Dd,Or,Zf,qt,cl,xa,ji,Pr,Jf,dl,Gs,em,ul,ba,Ei,Rd,Ld,kn,hl,tm,K0,Z,qy,sm,Xy,Tp,OE,PE,Wy,_p,Ky,BE,IE,FE,Qy,zE,Zy,UE,HE,VE,Jy,Rh;const ie=class ie{constructor(e){A(this,Z);A(this,ll,null);A(this,ei,null);A(this,Je,null);A(this,Fe,null);A(this,pa,null);A(this,Dd,!1);A(this,Or,null);A(this,Zf,"");A(this,qt,null);A(this,cl,null);A(this,xa,null);A(this,ji,null);A(this,Pr,null);A(this,Jf,"");A(this,dl,!1);A(this,Gs,null);A(this,em,!1);A(this,ul,!1);A(this,ba,!1);A(this,Ei,null);A(this,Rd,0);A(this,Ld,0);A(this,kn,null);A(this,hl,null);F(this,"isSelected",!1);F(this,"_isCopy",!1);F(this,"_editToolbar",null);F(this,"_initialOptions",Object.create(null));F(this,"_initialData",null);F(this,"_isVisible",!0);F(this,"_uiManager",null);F(this,"_focusEventsAllowed",!0);A(this,tm,!1);A(this,K0,ie._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:r}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,r];const[l,d]=this.parentDimensions;this.x=e.x/l,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ie.prototype._resizeWithKeyboard,t=yc.TRANSLATE_SMALL,n=yc.TRANSLATE_BIG;return ue(this,"_resizerKeyboardManager",new _g([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],ie.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ue(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new hR({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ie._l10n??(ie._l10n=e),ie._l10nResizer||(ie._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ie._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);ie._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){He("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return o(this,tm)}set _isDraggable(e){var t;b(this,tm,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=o(this,K0)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(N(this,Z,Rh).call(this),(t=o(this,ji))==null||t.remove(),b(this,ji,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(o(this,dl)?b(this,dl,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[a,r]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/a,this.y=(t+i)/r,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){N(this,Z,qy).call(this,this.parentDimensions,e,t)}translateInPage(e,t){o(this,Gs)||b(this,Gs,[this.x,this.y,this.width,this.height]),N(this,Z,qy).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){o(this,Gs)||b(this,Gs,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:l}=this;const[d,u]=this.getBaseTranslation();r+=d,l+=u;const{style:h}=n;h.left=`${(100*r).toFixed(2)}%`,h.top=`${(100*l).toFixed(2)}%`,this._onTranslating(r,l),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!o(this,Gs)&&(o(this,Gs)[0]!==this.x||o(this,Gs)[1]!==this.y)}get _hasBeenResized(){return!!o(this,Gs)&&(o(this,Gs)[2]!==this.width||o(this,Gs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=ie,i=n/e,a=n/t;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:a,y:r,width:l,height:d}=this;if(l*=n,d*=i,a*=n,r*=i,this._mustFixPosition)switch(e){case 0:a=vs(a,0,n-l),r=vs(r,0,i-d);break;case 90:a=vs(a,0,n-d),r=vs(r,l,i);break;case 180:a=vs(a,l,n),r=vs(r,d,i);break;case 270:a=vs(a,d,n),r=vs(r,0,i-l);break}this.x=a/=n,this.y=r/=i;const[u,h]=this.getBaseTranslation();a+=u,r+=h,t.left=`${(100*a).toFixed(2)}%`,t.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return N(n=ie,sm,Xy).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return N(n=ie,sm,Xy).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=o(this,Je))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||o(this,ul))return this._editToolbar;this._editToolbar=new Py(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=o(this,Je))==null||t.destroy()}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return o(this,Je)||(L0.initialize(ie._l10n),b(this,Je,new L0(this)),o(this,ll)&&(o(this,Je).data=o(this,ll),b(this,ll,null))),o(this,Je)}get altTextData(){var e;return(e=o(this,Je))==null?void 0:e.data}set altTextData(e){o(this,Je)&&(o(this,Je).data=e)}get guessedAltText(){var e;return(e=o(this,Je))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=o(this,Je))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=o(this,Je))==null?void 0:t.serialize(e)}hasAltText(){return!!o(this,Je)&&!o(this,Je).isEmpty()}hasAltTextData(){var e;return((e=o(this,Je))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=o(this,Fe))==null||e.focusButton()}addCommentButton(){return o(this,Fe)||b(this,Fe,new Kg(this))}addStandaloneCommentButton(){if(o(this,pa)){this._uiManager.isEditingMode()&&o(this,pa).classList.remove("hidden");return}this.hasComment&&(b(this,pa,o(this,Fe).renderForStandalone()),this.div.append(o(this,pa)))}removeStandaloneCommentButton(){o(this,Fe).removeStandaloneCommentButton(),b(this,pa,null)}hideStandaloneCommentButton(){var e;(e=o(this,pa))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:i}}=o(this,Fe);return{text:t,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){o(this,Fe)||b(this,Fe,new Kg(this)),o(this,Fe).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t||(o(this,Fe)||b(this,Fe,new Kg(this)),o(this,Fe).setInitialText(e,n),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=o(this,Fe))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=o(this,Fe))==null?void 0:e.isDeleted()}get hasComment(){return!!o(this,Fe)&&!o(this,Fe).isEmpty()&&!o(this,Fe).isDeleted()}async editComment(e){o(this,Fe)||b(this,Fe,new Kg(this)),o(this,Fe).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){o(this,Fe).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[r]=this.pageTranslation,l=r+a+1,d=i-100,u=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,d,u,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){o(this,Fe).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var r;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=o(this,Dd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),N(this,Z,Zy).call(this);const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),vE(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(o(this,hl)||b(this,hl,new O0({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:N(this,Z,BE).bind(this),onPinching:N(this,Z,IE).bind(this),onPinchEnd:N(this,Z,FE).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(r=this._uiManager._editorUndoBar)==null||r.hide(),e}pointerdown(e){const{isMac:t}=as.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,dl,!0),this._isDraggable){N(this,Z,zE).call(this,e);return}N(this,Z,Qy).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){o(this,Ei)&&clearTimeout(o(this,Ei)),b(this,Ei,setTimeout(()=>{var e;b(this,Ei,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[a,r]=this.pageDimensions,[l,d]=this.pageTranslation,u=e/i,h=t/i,f=this.x*a,m=this.y*r,g=this.width*a,v=this.height*r;switch(n){case 0:return[f+u+l,r-m-h-v+d,f+u+g+l,r-m-h+d];case 90:return[f+h+l,r-m+u+d,f+h+v+l,r-m+u+g+d];case 180:return[f-u-g+l,r-m+h+d,f-u+l,r-m+h+v+d];case 270:return[f-h-v+l,r-m-u-g+d,f-h+l,r-m-u+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,a,r]=e,l=a-n,d=r-i;switch(this.rotation){case 0:return[n,t-r,l,d];case 90:return[n,t-i,d,l];case 180:return[a,t-i,l,d];case 270:return[a,t-r,d,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ie._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=o(this,Fe))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:i,deleted:a,richText:r},uid:l,pageIndex:d,creationDate:u,modificationDate:h}=this;return{id:l,pageIndex:d,rect:this.getPDFRect(),richText:r,contentsObj:{str:e},creationDate:u,modificationDate:n||h,popupRef:!a,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),b(this,ul,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),b(this,ul,!1),!0):!1}isInEditMode(){return o(this,ul)}shouldGetKeyboardEvents(){return o(this,ba)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:r}=window;return t<r&&i>0&&e<a&&n>0}rebuild(){N(this,Z,Zy).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,b(i,ll,e.accessibilityData),i._isCopy=e.isCopy||!1;const[a,r]=i.pageDimensions,[l,d,u,h]=i.getRectInCurrentCoords(e.rect,r);return i.x=l/a,i.y=d/r,i.width=u/a,i.height=h/r,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=o(this,Pr))==null||e.abort(),b(this,Pr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),o(this,Ei)&&(clearTimeout(o(this,Ei)),b(this,Ei,null)),N(this,Z,Rh).call(this),this.removeEditToolbar(),o(this,kn)){for(const n of o(this,kn).values())clearTimeout(n);b(this,kn,null)}this.parent=null,(t=o(this,hl))==null||t.destroy(),b(this,hl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(N(this,Z,OE).call(this),o(this,qt).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[n,i,a,r]=this.getPDFRect();return[ie._round(n+(a-n)*e),ie._round(i+(r-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return o(this,Fe).commentPopupPositionInLayer}set commentPopupPosition(e){o(this,Fe).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return o(this,Fe).hasDefaultPopupPosition()}get commentButtonWidth(){return o(this,Fe).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){o(this,Fe).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,xa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=o(this,qt).children;if(!o(this,ei)){b(this,ei,Array.from(t));const r=N(this,Z,UE).bind(this),l=N(this,Z,HE).bind(this),d=this._uiManager._signal;for(const u of o(this,ei)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",r,{signal:d}),u.addEventListener("blur",l,{signal:d}),u.addEventListener("focus",N(this,Z,VE).bind(this,h),{signal:d}),u.setAttribute("data-l10n-id",ie._l10nResizer[h])}}const n=o(this,ei)[0];let i=0;for(const r of t){if(r===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(o(this,ei).length/4);if(a!==i){if(a<i)for(let l=0;l<i-a;l++)o(this,qt).append(o(this,qt).firstChild);else if(a>i)for(let l=0;l<a-i;l++)o(this,qt).firstChild.before(o(this,qt).lastChild);let r=0;for(const l of t){const u=o(this,ei)[r++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",ie._l10nResizer[u])}}N(this,Z,Jy).call(this,0),b(this,ba,!0),o(this,qt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){o(this,ba)&&N(this,Z,Ky).call(this,o(this,Jf),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){N(this,Z,Rh).call(this),this.div.focus()}select(){var e,t,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(t=this._editToolbar)==null||t.show(),(n=o(this,Je))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,n,i,a;this.isSelected&&(this.isSelected=!1,(e=o(this,qt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=o(this,Je))==null||a.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return o(this,em)}set isEditing(e){b(this,em,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){o(this,kn)||b(this,kn,new Map);const{action:n}=e;let i=o(this,kn).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),o(this,kn).delete(n),o(this,kn).size===0&&b(this,kn,null)},ie._telemetryTimeout),o(this,kn).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Dd,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Dd,!0)}updateFakeAnnotationElement(e){if(!o(this,ji)&&!this.deleted){b(this,ji,e.addFakeAnnotation(this));return}if(this.deleted){o(this,ji).remove(),b(this,ji,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&o(this,ji).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};ll=new WeakMap,ei=new WeakMap,Je=new WeakMap,Fe=new WeakMap,pa=new WeakMap,Dd=new WeakMap,Or=new WeakMap,Zf=new WeakMap,qt=new WeakMap,cl=new WeakMap,xa=new WeakMap,ji=new WeakMap,Pr=new WeakMap,Jf=new WeakMap,dl=new WeakMap,Gs=new WeakMap,em=new WeakMap,ul=new WeakMap,ba=new WeakMap,Ei=new WeakMap,Rd=new WeakMap,Ld=new WeakMap,kn=new WeakMap,hl=new WeakMap,tm=new WeakMap,K0=new WeakMap,Z=new WeakSet,qy=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},sm=new WeakSet,Xy=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Tp=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},OE=function(){if(o(this,qt))return;b(this,qt,document.createElement("div")),o(this,qt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");o(this,qt).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",N(this,Z,PE).bind(this,n),{signal:t}),i.addEventListener("contextmenu",qn,{signal:t}),i.tabIndex=-1}this.div.prepend(o(this,qt))},PE=function(e,t){var h;t.preventDefault();const{isMac:n}=as.platform;if(t.button!==0||t.ctrlKey&&n)return;(h=o(this,Je))==null||h.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,b(this,cl,[t.screenX,t.screenY]);const a=new AbortController,r=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",N(this,Z,Ky).bind(this,e),{passive:!0,capture:!0,signal:r}),window.addEventListener("touchmove",ht,{passive:!1,signal:r}),window.addEventListener("contextmenu",qn,{signal:r}),b(this,xa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var f;a.abort(),this.parent.togglePointerEvents(!0),(f=o(this,Je))==null||f.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=l,this.div.style.cursor=d,N(this,Z,_p).call(this)};window.addEventListener("pointerup",u,{signal:r}),window.addEventListener("blur",u,{signal:r})},Wy=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},_p=function(){if(!o(this,xa))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=o(this,xa);b(this,xa,null);const a=this.x,r=this.y,l=this.width,d=this.height;a===e&&r===t&&l===n&&d===i||this.addCommands({cmd:N(this,Z,Wy).bind(this,a,r,l,d),undo:N(this,Z,Wy).bind(this,e,t,n,i),mustExec:!0})},Ky=function(e,t){const[n,i]=this.parentDimensions,a=this.x,r=this.y,l=this.width,d=this.height,u=ie.MIN_SIZE/n,h=ie.MIN_SIZE/i,f=N(this,Z,Tp).call(this,this.rotation),m=(O,I)=>[f[0]*O+f[2]*I,f[1]*O+f[3]*I],g=N(this,Z,Tp).call(this,360-this.rotation),v=(O,I)=>[g[0]*O+g[2]*I,g[1]*O+g[3]*I];let x,S,p=!1,y=!1;switch(e){case"topLeft":p=!0,x=(O,I)=>[0,0],S=(O,I)=>[O,I];break;case"topMiddle":x=(O,I)=>[O/2,0],S=(O,I)=>[O/2,I];break;case"topRight":p=!0,x=(O,I)=>[O,0],S=(O,I)=>[0,I];break;case"middleRight":y=!0,x=(O,I)=>[O,I/2],S=(O,I)=>[0,I/2];break;case"bottomRight":p=!0,x=(O,I)=>[O,I],S=(O,I)=>[0,0];break;case"bottomMiddle":x=(O,I)=>[O/2,I],S=(O,I)=>[O/2,0];break;case"bottomLeft":p=!0,x=(O,I)=>[0,I],S=(O,I)=>[O,0];break;case"middleLeft":y=!0,x=(O,I)=>[0,I/2],S=(O,I)=>[O,I/2];break}const w=x(l,d),j=S(l,d);let C=m(...j);const T=ie._round(a+C[0]),E=ie._round(r+C[1]);let _=1,M=1,D,R;if(t.fromKeyboard)({deltaX:D,deltaY:R}=t);else{const{screenX:O,screenY:I}=t,[U,P]=o(this,cl);[D,R]=this.screenToPageTranslation(O-U,I-P),o(this,cl)[0]=O,o(this,cl)[1]=I}if([D,R]=v(D/n,R/i),p){const O=Math.hypot(l,d);_=M=Math.max(Math.min(Math.hypot(j[0]-w[0]-D,j[1]-w[1]-R)/O,1/l,1/d),u/l,h/d)}else y?_=vs(Math.abs(j[0]-w[0]-D),u,1)/l:M=vs(Math.abs(j[1]-w[1]-R),h,1)/d;const L=ie._round(l*_),X=ie._round(d*M);C=m(...S(L,X));const W=T-C[0],ee=E-C[1];o(this,Gs)||b(this,Gs,[this.x,this.y,this.width,this.height]),this.width=L,this.height=X,this.x=W,this.y=ee,this.setDims(),this.fixAndSetPosition(),this._onResizing()},BE=function(){var e;b(this,xa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=o(this,Je))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},IE=function(e,t,n){let a=.7*(n/t)+1-.7;if(a===1)return;const r=N(this,Z,Tp).call(this,this.rotation),l=(T,E)=>[r[0]*T+r[2]*E,r[1]*T+r[3]*E],[d,u]=this.parentDimensions,h=this.x,f=this.y,m=this.width,g=this.height,v=ie.MIN_SIZE/d,x=ie.MIN_SIZE/u;a=Math.max(Math.min(a,1/m,1/g),v/m,x/g);const S=ie._round(m*a),p=ie._round(g*a);if(S===m&&p===g)return;o(this,Gs)||b(this,Gs,[h,f,m,g]);const y=l(m/2,g/2),w=ie._round(h+y[0]),j=ie._round(f+y[1]),C=l(S/2,p/2);this.x=w-C[0],this.y=j-C[1],this.width=S,this.height=p,this.setDims(),this.fixAndSetPosition(),this._onResizing()},FE=function(){var e;(e=o(this,Je))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),N(this,Z,_p).call(this)},Qy=function(e){const{isMac:t}=as.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},zE=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),r={capture:!0,passive:!1,signal:a},l=u=>{i.abort(),b(this,Or,null),b(this,dl,!1),this._uiManager.endDragSession()||N(this,Z,Qy).call(this,u),n&&this._onStopDragging()};t&&(b(this,Rd,e.clientX),b(this,Ld,e.clientY),b(this,Or,e.pointerId),b(this,Zf,e.pointerType),window.addEventListener("pointermove",u=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:f,pointerId:m}=u;if(m!==o(this,Or)){ht(u);return}const[g,v]=this.screenToPageTranslation(h-o(this,Rd),f-o(this,Ld));b(this,Rd,h),b(this,Ld,f),this._uiManager.dragSelectedEditors(g,v)},r),window.addEventListener("touchmove",ht,r),window.addEventListener("pointerdown",u=>{u.pointerType===o(this,Zf)&&(o(this,hl)||u.isPrimary)&&l(u),ht(u)},r));const d=u=>{if(!o(this,Or)||o(this,Or)===u.pointerId){l(u);return}ht(u)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})},Zy=function(){if(o(this,Pr)||!this.div)return;b(this,Pr,new AbortController);const e=this._uiManager.combinedSignal(o(this,Pr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},UE=function(e){ie._resizerKeyboardManager.exec(this,e)},HE=function(e){var t;o(this,ba)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==o(this,qt)&&N(this,Z,Rh).call(this)},VE=function(e){b(this,Jf,o(this,ba)?e:"")},Jy=function(e){if(o(this,ei))for(const t of o(this,ei))t.tabIndex=e},Rh=function(){b(this,ba,!1),N(this,Z,Jy).call(this,-1),N(this,Z,_p).call(this)},A(ie,sm),F(ie,"_l10n",null),F(ie,"_l10nResizer",null),F(ie,"_borderLineWidth",-1),F(ie,"_colorManager",new Fy),F(ie,"_zIndex",1),F(ie,"_telemetryTimeout",1e3);let Ge=ie;class hR extends Ge{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const b1=3285377520,wn=4294901760,gi=65535;class $E{constructor(e){this.h1=e?e&4294967295:b1,this.h2=e?e&4294967295:b1}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let x=0,S=e.length;x<S;x++){const p=e.charCodeAt(x);p<=255?t[n++]=p:(t[n++]=p>>>8,t[n++]=p&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,a=n-i*4,r=new Uint32Array(t.buffer,0,i);let l=0,d=0,u=this.h1,h=this.h2;const f=3432918353,m=461845907,g=f&gi,v=m&gi;for(let x=0;x<i;x++)x&1?(l=r[x],l=l*f&wn|l*g&gi,l=l<<15|l>>>17,l=l*m&wn|l*v&gi,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(d=r[x],d=d*f&wn|d*g&gi,d=d<<15|d>>>17,d=d*m&wn|d*v&gi,h^=d,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,a){case 3:l^=t[i*4+2]<<16;case 2:l^=t[i*4+1]<<8;case 1:l^=t[i*4],l=l*f&wn|l*g&gi,l=l<<15|l>>>17,l=l*m&wn|l*v&gi,i&1?u^=l:h^=l}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&wn|e*36045&gi,t=t*4283543511&wn|((t<<16|e>>>16)*2950163797&wn)>>>16,e^=t>>>1,e=e*444984403&wn|e*60499&gi,t=t*3301882366&wn|((t<<16|e>>>16)*3120437893&wn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const ev=Object.freeze({map:null,hash:"",transfer:void 0});var fl,ml,ya,Xt,Q0,GE;class pS{constructor(){A(this,Q0);A(this,fl,!1);A(this,ml,null);A(this,ya,null);A(this,Xt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=o(this,Xt).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return o(this,Xt).get(e)}remove(e){const t=o(this,Xt).get(e);if(t!==void 0&&(t instanceof Ge&&o(this,ya).delete(t.annotationElementId),o(this,Xt).delete(e),o(this,Xt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of o(this,Xt).values())if(n instanceof Ge)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=o(this,Xt).get(e);let i=!1;if(n!==void 0)for(const[a,r]of Object.entries(t))n[a]!==r&&(i=!0,n[a]=r);else i=!0,o(this,Xt).set(e,t);i&&N(this,Q0,GE).call(this),t instanceof Ge&&((o(this,ya)||b(this,ya,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return o(this,Xt).has(e)}get size(){return o(this,Xt).size}resetModified(){o(this,fl)&&(b(this,fl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new YE(this)}get serializable(){if(o(this,Xt).size===0)return ev;const e=new Map,t=new $E,n=[],i=Object.create(null);let a=!1;for(const[r,l]of o(this,Xt)){const d=l instanceof Ge?l.serialize(!1,i):l;d&&(e.set(r,d),t.update(`${r}:${JSON.stringify(d)}`),a||(a=!!d.bitmap))}if(a)for(const r of e.values())r.bitmap&&n.push(r.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:ev}get editorStats(){let e=null;const t=new Map;let n=0,i=0;for(const a of o(this,Xt).values()){if(!(a instanceof Ge)){a.popup&&(a.popup.deleted?i+=1:n+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(n+=1);const r=a.telemetryFinalData;if(!r)continue;const{type:l}=r;t.has(l)||t.set(l,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const d=e[l]||(e[l]=new Map);for(const[u,h]of Object.entries(r)){if(u==="type")continue;let f=d.get(u);f||(f=new Map,d.set(u,f));const m=f.get(h)??0;f.set(h,m+1)}}if((i>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:n}),!e)return null;for(const[a,r]of t)e[a]=r.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){b(this,ml,null)}updateEditor(e,t){var i;const n=(i=o(this,ya))==null?void 0:i.get(e);return n?(n.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=o(this,ya))==null?void 0:t.get(e))||null}get modifiedIds(){if(o(this,ml))return o(this,ml);const e=[];if(o(this,ya))for(const t of o(this,ya).values())t.serialize()&&e.push(t.annotationElementId);return b(this,ml,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return o(this,Xt).entries()}}fl=new WeakMap,ml=new WeakMap,ya=new WeakMap,Xt=new WeakMap,Q0=new WeakSet,GE=function(){o(this,fl)||(b(this,fl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var nm;class YE extends pS{constructor(t){super();A(this,nm);const{map:n,hash:i,transfer:a}=t.serializable,r=structuredClone(n,a?{transfer:a}:null);b(this,nm,{map:r,hash:i,transfer:a})}get print(){He("Should not call PrintAnnotationStorage.print")}get serializable(){return o(this,nm)}get modifiedIds(){return ue(this,"modifiedIds",{ids:new Set,hash:""})}}nm=new WeakMap;var Od;class fR{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){A(this,Od,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),o(this,Od).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||o(this,Od).has(e.loadedName))){if(be(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:r}=e,l=new FontFace(i,a,r);this.addNativeFontFace(l);try{await l.load(),o(this,Od).add(i),n==null||n(e)}catch{ne(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}He("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw ne(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ue(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ue(this,"isSyncFontLoadingSupported",ys||as.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(be(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ue(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(j,C){return j.charCodeAt(C)<<24|j.charCodeAt(C+1)<<16|j.charCodeAt(C+2)<<8|j.charCodeAt(C+3)&255}function i(j,C,T,E){const _=j.substring(0,C),M=j.substring(C+T);return _+E+M}let a,r;const l=this._document.createElement("canvas");l.width=1,l.height=1;const d=l.getContext("2d");let u=0;function h(j,C){if(++u>30){ne("Load test font never loaded."),C();return}if(d.font="30px "+j,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(h.bind(null,j,C))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,f.length,f);const v=16,x=1482184792;let S=n(m,v);for(a=0,r=f.length-3;a<r;a+=4)S=S-x+n(f,a)|0;a<f.length&&(S=S-x+n(f+"XXX",a)|0),m=i(m,v,4,qD(S));const p=`url(data:font/opentype;base64,${btoa(m)});`,y=`@font-face {font-family:"${f}";src:${p}}`;this.insertRule(y);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const j of[e.loadedName,f]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=j,w.append(C)}this._document.body.append(w),h(f,()=>{w.remove(),t.complete()})}}Od=new WeakMap;var Me;class mR{constructor(e,t=null,n,i){A(this,Me);this.compiledGlyphs=Object.create(null),b(this,Me,e),this._inspectFont=t,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${hE(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(r){ne(`getPathGenerator - ignoring character: "${r}".`)}const a=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=a}get black(){return o(this,Me).black}get bold(){return o(this,Me).bold}get disableFontFace(){return o(this,Me).disableFontFace??!1}get fontExtraProperties(){return o(this,Me).fontExtraProperties??!1}get isInvalidPDFjsFont(){return o(this,Me).isInvalidPDFjsFont}get isType3Font(){return o(this,Me).isType3Font}get italic(){return o(this,Me).italic}get missingFile(){return o(this,Me).missingFile}get remeasure(){return o(this,Me).remeasure}get vertical(){return o(this,Me).vertical}get ascent(){return o(this,Me).ascent}get defaultWidth(){return o(this,Me).defaultWidth}get descent(){return o(this,Me).descent}get bbox(){return o(this,Me).bbox}get fontMatrix(){return o(this,Me).fontMatrix}get fallbackName(){return o(this,Me).fallbackName}get loadedName(){return o(this,Me).loadedName}get mimetype(){return o(this,Me).mimetype}get name(){return o(this,Me).name}get data(){return o(this,Me).data}clearData(){o(this,Me).clearData()}get cssFontInfo(){return o(this,Me).cssFontInfo}get systemFontInfo(){return o(this,Me).systemFontInfo}get defaultVMetrics(){return o(this,Me).defaultVMetrics}}Me=new WeakMap;function gR(s){if(s instanceof URL)return s.href;if(typeof s=="string"){if(ys)return s;const e=URL.parse(s,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function pR(s){if(ys&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return jg(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Qg(s){if(typeof s!="string")return null;if(s.endsWith("/"))return s;throw new Error(`Invalid factory url: "${s}" must include trailing slash.`)}const tv=s=>typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0,xR=s=>typeof s=="object"&&typeof(s==null?void 0:s.name)=="string",bR=ZD.bind(null,tv,xR);var va,Z0;class yR{constructor(){A(this,va,new Map);A(this,Z0,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};o(this,Z0).then(()=>{for(const[i]of o(this,va))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted){ne("LoopbackPort - cannot use an `aborted` signal.");return}const r=()=>this.removeEventListener(e,t);i=()=>a.removeEventListener("abort",r),a.addEventListener("abort",r)}o(this,va).set(t,i)}removeEventListener(e,t){const n=o(this,va).get(t);n==null||n(),o(this,va).delete(t)}terminate(){for(const[,e]of o(this,va))e==null||e();o(this,va).clear()}}va=new WeakMap,Z0=new WeakMap;const Zg={DATA:1,ERROR:2},bt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function y1(){}function Cs(s){if(s instanceof Do||s instanceof Dy||s instanceof u1||s instanceof D0||s instanceof Eb)return s;switch(s instanceof Error||typeof s=="object"&&s!==null||He('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new Do(s.message);case"InvalidPDFException":return new Dy(s.message);case"PasswordException":return new u1(s.message,s.code);case"ResponseException":return new D0(s.message,s.status,s.missing);case"UnknownErrorException":return new Eb(s.message,s.details)}return new Eb(s.message,s.toString())}var Pd,Gn,qE,XE,WE,kp;class Lh{constructor(e,t,n){A(this,Gn);A(this,Pd,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",N(this,Gn,qE).bind(this),{signal:o(this,Pd).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(r){a.reject(r)}return a.promise}sendWithStream(e,t,n,i){const a=this.streamId++,r=this.sourceName,l=this.targetName,d=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[a]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:r,targetName:l,action:e,streamId:a,data:t,desiredSize:u.desiredSize},i),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[a].pullCall=h,d.postMessage({sourceName:r,targetName:l,stream:bt.PULL,streamId:a,desiredSize:u.desiredSize}),h.promise},cancel:u=>{be(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[a].cancelCall=h,this.streamControllers[a].isClosed=!0,d.postMessage({sourceName:r,targetName:l,stream:bt.CANCEL,streamId:a,reason:Cs(u)}),h.promise}},n)}destroy(){var e;(e=o(this,Pd))==null||e.abort(),b(this,Pd,null)}}Pd=new WeakMap,Gn=new WeakSet,qE=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){N(this,Gn,WE).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Zg.DATA)i.resolve(e.data);else if(e.callback===Zg.ERROR)i.reject(Cs(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(t,e.data).then(function(r){a.postMessage({sourceName:n,targetName:i,callback:Zg.DATA,callbackId:e.callbackId,data:r})},function(r){a.postMessage({sourceName:n,targetName:i,callback:Zg.ERROR,callbackId:e.callbackId,reason:Cs(r)})});return}if(e.streamId){N(this,Gn,XE).call(this,e);return}t(e.data)},XE=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,r=this,l=this.actionHandler[e.action],d={enqueue(u,h=1,f){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=h,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:bt.ENQUEUE,streamId:t,chunk:u},f)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:bt.CLOSE,streamId:t}),delete r.streamSinks[t])},error(u){be(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:bt.ERROR,streamId:t,reason:Cs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(l,e.data,d).then(function(){a.postMessage({sourceName:n,targetName:i,stream:bt.START_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:n,targetName:i,stream:bt.START_COMPLETE,streamId:t,reason:Cs(u)})})},WE=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,r=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case bt.START_COMPLETE:e.success?r.startCall.resolve():r.startCall.reject(Cs(e.reason));break;case bt.PULL_COMPLETE:e.success?r.pullCall.resolve():r.pullCall.reject(Cs(e.reason));break;case bt.PULL:if(!l){a.postMessage({sourceName:n,targetName:i,stream:bt.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||y1).then(function(){a.postMessage({sourceName:n,targetName:i,stream:bt.PULL_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:n,targetName:i,stream:bt.PULL_COMPLETE,streamId:t,reason:Cs(u)})});break;case bt.ENQUEUE:if(be(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(e.chunk);break;case bt.CLOSE:if(be(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),N(this,Gn,kp).call(this,r,t);break;case bt.ERROR:be(r,"error should have stream controller"),r.controller.error(Cs(e.reason)),N(this,Gn,kp).call(this,r,t);break;case bt.CANCEL_COMPLETE:e.success?r.cancelCall.resolve():r.cancelCall.reject(Cs(e.reason)),N(this,Gn,kp).call(this,r,t);break;case bt.CANCEL:if(!l)break;const d=Cs(e.reason);Promise.try(l.onCancel||y1,d).then(function(){a.postMessage({sourceName:n,targetName:i,stream:bt.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:n,targetName:i,stream:bt.CANCEL_COMPLETE,streamId:t,reason:Cs(u)})}),l.sinkCapability.reject(d),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},kp=async function(e,t){var n,i,a;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[t]};var im;class KE{constructor({enableHWA:e=!1}){A(this,im,!1);b(this,im,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!o(this,im)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){He("Abstract method `_createCanvas` called.")}}im=new WeakMap;class vR extends KE{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class QE{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){He("Abstract method `_fetch` called.")}}class v1 extends QE{async _fetch(e){const t=await Eg(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):jg(t)}}class ZE{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,a){return"none"}destroy(e=!1){}}var gl,Bd,wa,Sa,cs,pl,xl,H,rs,Oh,Bc,Mp,Ic,JE,sv,Fc,Ph,Bh,nv,Ih;class wR extends ZE{constructor({docId:t,ownerDocument:n=globalThis.document}){super();A(this,H);A(this,gl);A(this,Bd);A(this,wa);A(this,Sa);A(this,cs);A(this,pl);A(this,xl,0);b(this,Sa,t),b(this,cs,n)}addFilter(t){if(!t)return"none";let n=o(this,H,rs).get(t);if(n)return n;const[i,a,r]=N(this,H,Mp).call(this,t),l=t.length===1?i:`${i}${a}${r}`;if(n=o(this,H,rs).get(l),n)return o(this,H,rs).set(t,n),n;const d=`g_${o(this,Sa)}_transfer_map_${Et(this,xl)._++}`,u=N(this,H,Ic).call(this,d);o(this,H,rs).set(t,u),o(this,H,rs).set(l,u);const h=N(this,H,Fc).call(this,d);return N(this,H,Bh).call(this,i,a,r,h),u}addHCMFilter(t,n){var v;const i=`${t}-${n}`,a="base";let r=o(this,H,Oh).get(a);if((r==null?void 0:r.key)===i||(r?((v=r.filter)==null||v.remove(),r.key=i,r.url="none",r.filter=null):(r={key:i,url:"none",filter:null},o(this,H,Oh).set(a,r)),!t||!n))return r.url;const l=N(this,H,Ih).call(this,t);t=$.makeHexColor(...l);const d=N(this,H,Ih).call(this,n);if(n=$.makeHexColor(...d),o(this,H,Bc).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return r.url;const u=new Array(256);for(let x=0;x<=255;x++){const S=x/255;u[x]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const h=u.join(","),f=`g_${o(this,Sa)}_hcm_filter`,m=r.filter=N(this,H,Fc).call(this,f);N(this,H,Bh).call(this,h,h,h,m),N(this,H,sv).call(this,m);const g=(x,S)=>{const p=l[x]/255,y=d[x]/255,w=new Array(S+1);for(let j=0;j<=S;j++)w[j]=p+j/S*(y-p);return w.join(",")};return N(this,H,Bh).call(this,g(0,5),g(1,5),g(2,5),m),r.url=N(this,H,Ic).call(this,f),r.url}addAlphaFilter(t){let n=o(this,H,rs).get(t);if(n)return n;const[i]=N(this,H,Mp).call(this,[t]),a=`alpha_${i}`;if(n=o(this,H,rs).get(a),n)return o(this,H,rs).set(t,n),n;const r=`g_${o(this,Sa)}_alpha_map_${Et(this,xl)._++}`,l=N(this,H,Ic).call(this,r);o(this,H,rs).set(t,l),o(this,H,rs).set(a,l);const d=N(this,H,Fc).call(this,r);return N(this,H,nv).call(this,i,d),l}addLuminosityFilter(t){let n=o(this,H,rs).get(t||"luminosity");if(n)return n;let i,a;if(t?([i]=N(this,H,Mp).call(this,[t]),a=`luminosity_${i}`):a="luminosity",n=o(this,H,rs).get(a),n)return o(this,H,rs).set(t,n),n;const r=`g_${o(this,Sa)}_luminosity_map_${Et(this,xl)._++}`,l=N(this,H,Ic).call(this,r);o(this,H,rs).set(t,l),o(this,H,rs).set(a,l);const d=N(this,H,Fc).call(this,r);return N(this,H,JE).call(this,d),t&&N(this,H,nv).call(this,i,d),l}addHighlightHCMFilter(t,n,i,a,r){var y;const l=`${n}-${i}-${a}-${r}`;let d=o(this,H,Oh).get(t);if((d==null?void 0:d.key)===l||(d?((y=d.filter)==null||y.remove(),d.key=l,d.url="none",d.filter=null):(d={key:l,url:"none",filter:null},o(this,H,Oh).set(t,d)),!n||!i))return d.url;const[u,h]=[n,i].map(N(this,H,Ih).bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[g,v]=[a,r].map(N(this,H,Ih).bind(this));m<f&&([f,m,g,v]=[m,f,v,g]),o(this,H,Bc).style.color="";const x=(w,j,C)=>{const T=new Array(256),E=(m-f)/C,_=w/255,M=(j-w)/(255*C);let D=0;for(let R=0;R<=C;R++){const L=Math.round(f+R*E),X=_+R*M;for(let W=D;W<=L;W++)T[W]=X;D=L+1}for(let R=D;R<256;R++)T[R]=T[D-1];return T.join(",")},S=`g_${o(this,Sa)}_hcm_${t}_filter`,p=d.filter=N(this,H,Fc).call(this,S);return N(this,H,sv).call(this,p),N(this,H,Bh).call(this,x(g[0],v[0],5),x(g[1],v[1],5),x(g[2],v[2],5),p),d.url=N(this,H,Ic).call(this,S),d.url}destroy(t=!1){var n,i,a,r;t&&((n=o(this,pl))!=null&&n.size)||((i=o(this,wa))==null||i.parentNode.parentNode.remove(),b(this,wa,null),(a=o(this,Bd))==null||a.clear(),b(this,Bd,null),(r=o(this,pl))==null||r.clear(),b(this,pl,null),b(this,xl,0))}}gl=new WeakMap,Bd=new WeakMap,wa=new WeakMap,Sa=new WeakMap,cs=new WeakMap,pl=new WeakMap,xl=new WeakMap,H=new WeakSet,rs=function(){return o(this,Bd)||b(this,Bd,new Map)},Oh=function(){return o(this,pl)||b(this,pl,new Map)},Bc=function(){if(!o(this,wa)){const t=o(this,cs).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=o(this,cs).createElementNS(na,"svg");i.setAttribute("width",0),i.setAttribute("height",0),b(this,wa,o(this,cs).createElementNS(na,"defs")),t.append(i),i.append(o(this,wa)),o(this,cs).body.append(t)}return o(this,wa)},Mp=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let m=0;m<256;m++)h[m]=u[m]/255;const f=h.join(",");return[f,f,f]}const[n,i,a]=t,r=new Array(256),l=new Array(256),d=new Array(256);for(let u=0;u<256;u++)r[u]=n[u]/255,l[u]=i[u]/255,d[u]=a[u]/255;return[r.join(","),l.join(","),d.join(",")]},Ic=function(t){if(o(this,gl)===void 0){b(this,gl,"");const n=o(this,cs).URL;n!==o(this,cs).baseURI&&(Lx(n)?ne('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,gl,cE(n,"")))}return`url(${o(this,gl)}#${t})`},JE=function(t){const n=o(this,cs).createElementNS(na,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},sv=function(t){const n=o(this,cs).createElementNS(na,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},Fc=function(t){const n=o(this,cs).createElementNS(na,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),o(this,H,Bc).append(n),n},Ph=function(t,n,i){const a=o(this,cs).createElementNS(na,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),t.append(a)},Bh=function(t,n,i,a){const r=o(this,cs).createElementNS(na,"feComponentTransfer");a.append(r),N(this,H,Ph).call(this,r,"feFuncR",t),N(this,H,Ph).call(this,r,"feFuncG",n),N(this,H,Ph).call(this,r,"feFuncB",i)},nv=function(t,n){const i=o(this,cs).createElementNS(na,"feComponentTransfer");n.append(i),N(this,H,Ph).call(this,i,"feFuncA",t)},Ih=function(t){return o(this,H,Bc).style.color=t,Tg(getComputedStyle(o(this,H,Bc)).getPropertyValue("color"))};class eC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){He("Abstract method `_fetch` called.")}}class w1 extends eC{async _fetch(e){const t=await Eg(e,"arraybuffer");return new Uint8Array(t)}}class tC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){He("Abstract method `_fetch` called.")}}class S1 extends tC{async _fetch(e){const t=await Eg(e,"arraybuffer");return new Uint8Array(t)}}ys&&ne("Please use the `legacy` build in Node.js environments.");async function xS(s){const t=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(t)}class SR extends ZE{}class AR extends KE{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class NR extends QE{async _fetch(e){return xS(e)}}class jR extends eC{async _fetch(e){return xS(e)}}class ER extends tC{async _fetch(e){return xS(e)}}const Mc="__forcedDependency",{floor:A1,ceil:N1}=Math;function Jg(s,e,t,n,i,a){s[e*4+0]=Math.min(s[e*4+0],t),s[e*4+1]=Math.min(s[e*4+1],n),s[e*4+2]=Math.max(s[e*4+2],i),s[e*4+3]=Math.max(s[e*4+3],a)}const iv=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Id,Br;class CR{constructor(e,t){A(this,Id);A(this,Br);b(this,Id,e),b(this,Br,t)}get length(){return o(this,Id).length}isEmpty(e){return o(this,Id)[e]===iv}minX(e){return o(this,Br)[e*4+0]/256}minY(e){return o(this,Br)[e*4+1]/256}maxX(e){return(o(this,Br)[e*4+2]+1)/256}maxY(e){return(o(this,Br)[e*4+3]+1)/256}}Id=new WeakMap,Br=new WeakMap;const ep=(s,e)=>{if(!s)return;let t=s.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},s.set(e,t)),t};var ks,Ms,bl,ti,yl,Aa,Te,De,Na,Ds,am,Fd,vl,wl,ja,ds,Ci,rm,av;class TR{constructor(e,t,n=!1){A(this,rm);A(this,ks,{__proto__:null});A(this,Ms,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Mc]:[]});A(this,bl,new Map);A(this,ti,[]);A(this,yl,[]);A(this,Aa,[[1,0,0,1,0,0]]);A(this,Te,[-1/0,-1/0,1/0,1/0]);A(this,De,new Float64Array([1/0,1/0,-1/0,-1/0]));A(this,Na,-1);A(this,Ds,new Set);A(this,am,new Map);A(this,Fd,new Map);A(this,vl);A(this,wl);A(this,ja);A(this,ds);A(this,Ci);b(this,vl,e.width),b(this,wl,e.height),N(this,rm,av).call(this,t),n&&b(this,Ci,new Map)}growOperationsCount(e){e>=o(this,ds).length&&N(this,rm,av).call(this,e,o(this,ds))}save(e){return b(this,ks,{__proto__:o(this,ks)}),b(this,Ms,{__proto__:o(this,Ms),transform:{__proto__:o(this,Ms).transform},moveText:{__proto__:o(this,Ms).moveText},sameLineText:{__proto__:o(this,Ms).sameLineText},[Mc]:{__proto__:o(this,Ms)[Mc]}}),b(this,Te,{__proto__:o(this,Te)}),o(this,ti).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(o(this,ks));if(t===null)return this;b(this,ks,t),b(this,Ms,Object.getPrototypeOf(o(this,Ms))),b(this,Te,Object.getPrototypeOf(o(this,Te)));const n=o(this,ti).pop();return n!==void 0&&((i=ep(o(this,Ci),e))==null||i.dependencies.add(n),o(this,ds)[e]=o(this,ds)[n]),this}recordOpenMarker(e){return o(this,ti).push(e),this}getOpenMarker(){return o(this,ti).length===0?null:o(this,ti).at(-1)}recordCloseMarker(e){var n;const t=o(this,ti).pop();return t!==void 0&&((n=ep(o(this,Ci),e))==null||n.dependencies.add(t),o(this,ds)[e]=o(this,ds)[t]),this}beginMarkedContent(e){return o(this,yl).push(e),this}endMarkedContent(e){var n;const t=o(this,yl).pop();return t!==void 0&&((n=ep(o(this,Ci),e))==null||n.dependencies.add(t),o(this,ds)[e]=o(this,ds)[t]),this}pushBaseTransform(e){return o(this,Aa).push($.multiplyByDOMMatrix(o(this,Aa).at(-1),e.getTransform())),this}popBaseTransform(){return o(this,Aa).length>1&&o(this,Aa).pop(),this}recordSimpleData(e,t){return o(this,ks)[e]=t,this}recordIncrementalData(e,t){return o(this,Ms)[e].push(t),this}resetIncrementalData(e,t){return o(this,Ms)[e].length=0,this}recordNamedData(e,t){return o(this,bl).set(e,t),this}recordSimpleDataFromNamed(e,t,n){o(this,ks)[e]=o(this,bl).get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Mc,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in o(this,ks)&&this.recordFutureForcedDependency(t,o(this,ks)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of o(this,Ds))this.recordFutureForcedDependency(Mc,e);return this}resetBBox(e){return o(this,Na)!==e&&(b(this,Na,e),o(this,De)[0]=1/0,o(this,De)[1]=1/0,o(this,De)[2]=-1/0,o(this,De)[3]=-1/0),this}recordClipBox(e,t,n,i,a,r){const l=$.multiplyByDOMMatrix(o(this,Aa).at(-1),t.getTransform()),d=[1/0,1/0,-1/0,-1/0];$.axialAlignedBoundingBox([n,a,i,r],l,d);const u=$.intersect(o(this,Te),d);return u?(o(this,Te)[0]=u[0],o(this,Te)[1]=u[1],o(this,Te)[2]=u[2],o(this,Te)[3]=u[3]):(o(this,Te)[0]=o(this,Te)[1]=1/0,o(this,Te)[2]=o(this,Te)[3]=-1/0),this}recordBBox(e,t,n,i,a,r){const l=o(this,Te);if(l[0]===1/0)return this;const d=$.multiplyByDOMMatrix(o(this,Aa).at(-1),t.getTransform());if(l[0]===-1/0)return $.axialAlignedBoundingBox([n,a,i,r],d,o(this,De)),this;const u=[1/0,1/0,-1/0,-1/0];return $.axialAlignedBoundingBox([n,a,i,r],d,u),o(this,De)[0]=Math.min(o(this,De)[0],Math.max(u[0],l[0])),o(this,De)[1]=Math.min(o(this,De)[1],Math.max(u[1],l[1])),o(this,De)[2]=Math.max(o(this,De)[2],Math.min(u[2],l[2])),o(this,De)[3]=Math.max(o(this,De)[3],Math.min(u[3],l[3])),this}recordCharacterBBox(e,t,n,i=1,a=0,r=0,l){const d=n.bbox;let u,h;if(d&&(u=d[2]!==d[0]&&d[3]!==d[1]&&o(this,Fd).get(n),u!==!1&&(h=[0,0,0,0],$.axialAlignedBoundingBox(d,n.fontMatrix,h),(i!==1||a!==0||r!==0)&&$.scaleMinMax([i,0,0,-i,a,r],h),u)))return this.recordBBox(e,t,h[0],h[2],h[1],h[3]);if(!l)return this.recordFullPageBBox(e);const f=l();return d&&h&&u===void 0&&(u=h[0]<=a-f.actualBoundingBoxLeft&&h[2]>=a+f.actualBoundingBoxRight&&h[1]<=r-f.actualBoundingBoxAscent&&h[3]>=r+f.actualBoundingBoxDescent,o(this,Fd).set(n,u),u)?this.recordBBox(e,t,h[0],h[2],h[1],h[3]):this.recordBBox(e,t,a-f.actualBoundingBoxLeft,a+f.actualBoundingBoxRight,r-f.actualBoundingBoxAscent,r+f.actualBoundingBoxDescent)}recordFullPageBBox(e){return o(this,De)[0]=Math.max(0,o(this,Te)[0]),o(this,De)[1]=Math.max(0,o(this,Te)[1]),o(this,De)[2]=Math.min(o(this,vl),o(this,Te)[2]),o(this,De)[3]=Math.min(o(this,wl),o(this,Te)[3]),this}getSimpleIndex(e){return o(this,ks)[e]}recordDependencies(e,t){const n=o(this,Ds),i=o(this,ks),a=o(this,Ms);for(const r of t)r in o(this,ks)?n.add(i[r]):r in a&&a[r].forEach(n.add,n);return this}recordNamedDependency(e,t){return o(this,bl).has(t)&&o(this,Ds).add(o(this,bl).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Mc]),o(this,Ci)){const n=ep(o(this,Ci),e),{dependencies:i}=n;o(this,Ds).forEach(i.add,i),o(this,ti).forEach(i.add,i),o(this,yl).forEach(i.add,i),i.delete(e),n.isRenderingOperation=!0}if(o(this,Na)===e){const n=A1(o(this,De)[0]*256/o(this,vl)),i=A1(o(this,De)[1]*256/o(this,wl)),a=N1(o(this,De)[2]*256/o(this,vl)),r=N1(o(this,De)[3]*256/o(this,wl));Jg(o(this,ja),e,n,i,a,r);for(const l of o(this,Ds))l!==e&&Jg(o(this,ja),l,n,i,a,r);for(const l of o(this,ti))l!==e&&Jg(o(this,ja),l,n,i,a,r);for(const l of o(this,yl))l!==e&&Jg(o(this,ja),l,n,i,a,r);t||(o(this,Ds).clear(),b(this,Na,-1))}return this}recordShowTextOperation(e,t=!1){const n=Array.from(o(this,Ds));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return o(this,Na)===e&&(b(this,Na,-1),o(this,Te)[0]=Math.max(o(this,Te)[0],o(this,De)[0]),o(this,Te)[1]=Math.max(o(this,Te)[1],o(this,De)[1]),o(this,Te)[2]=Math.min(o(this,Te)[2],o(this,De)[2]),o(this,Te)[3]=Math.min(o(this,Te)[3],o(this,De)[3]),t||o(this,Ds).clear()),this}_takePendingDependencies(){const e=o(this,Ds);return b(this,Ds,new Set),e}_extractOperation(e){const t=o(this,am).get(e);return o(this,am).delete(e),t}_pushPendingDependencies(e){for(const t of e)o(this,Ds).add(t)}take(){return o(this,Fd).clear(),new CR(o(this,ds),o(this,ja))}takeDebugMetadata(){return o(this,Ci)}}ks=new WeakMap,Ms=new WeakMap,bl=new WeakMap,ti=new WeakMap,yl=new WeakMap,Aa=new WeakMap,Te=new WeakMap,De=new WeakMap,Na=new WeakMap,Ds=new WeakMap,am=new WeakMap,Fd=new WeakMap,vl=new WeakMap,wl=new WeakMap,ja=new WeakMap,ds=new WeakMap,Ci=new WeakMap,rm=new WeakSet,av=function(e,t){const n=new ArrayBuffer(e*4);b(this,ja,new Uint8ClampedArray(n)),b(this,ds,new Uint32Array(n)),t&&t.length>0?(o(this,ds).set(t),o(this,ds).fill(iv,t.length)):o(this,ds).fill(iv)};var ze,ct,si,zd,Ud;const jS=class jS{constructor(e,t,n){A(this,ze);A(this,ct);A(this,si);A(this,zd,0);A(this,Ud,0);if(e instanceof jS&&o(e,si)===!!n)return e;b(this,ze,e),b(this,ct,t),b(this,si,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Et(this,Ud)._++,o(this,ze).save(o(this,ct)),this}restore(e){return o(this,Ud)>0&&(o(this,ze).restore(o(this,ct)),Et(this,Ud)._--),this}recordOpenMarker(e){return Et(this,zd)._++,this}getOpenMarker(){return o(this,zd)>0?o(this,ct):o(this,ze).getOpenMarker()}recordCloseMarker(e){return Et(this,zd)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return o(this,ze).pushBaseTransform(e),this}popBaseTransform(){return o(this,ze).popBaseTransform(),this}recordSimpleData(e,t){return o(this,ze).recordSimpleData(e,o(this,ct)),this}recordIncrementalData(e,t){return o(this,ze).recordIncrementalData(e,o(this,ct)),this}resetIncrementalData(e,t){return o(this,ze).resetIncrementalData(e,o(this,ct)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return o(this,ze).recordSimpleDataFromNamed(e,t,o(this,ct)),this}recordFutureForcedDependency(e,t){return o(this,ze).recordFutureForcedDependency(e,o(this,ct)),this}inheritSimpleDataAsFutureForcedDependencies(e){return o(this,ze).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return o(this,ze).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return o(this,si)||o(this,ze).resetBBox(o(this,ct)),this}recordClipBox(e,t,n,i,a,r){return o(this,si)||o(this,ze).recordClipBox(o(this,ct),t,n,i,a,r),this}recordBBox(e,t,n,i,a,r){return o(this,si)||o(this,ze).recordBBox(o(this,ct),t,n,i,a,r),this}recordCharacterBBox(e,t,n,i,a,r,l){return o(this,si)||o(this,ze).recordCharacterBBox(o(this,ct),t,n,i,a,r,l),this}recordFullPageBBox(e){return o(this,si)||o(this,ze).recordFullPageBBox(o(this,ct)),this}getSimpleIndex(e){return o(this,ze).getSimpleIndex(e)}recordDependencies(e,t){return o(this,ze).recordDependencies(o(this,ct),t),this}recordNamedDependency(e,t){return o(this,ze).recordNamedDependency(o(this,ct),t),this}recordOperation(e){return o(this,ze).recordOperation(o(this,ct),!0),this}recordShowTextOperation(e){return o(this,ze).recordShowTextOperation(o(this,ct),!0),this}bboxToClipBoxDropOperation(e){return o(this,si)||o(this,ze).bboxToClipBoxDropOperation(o(this,ct),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};ze=new WeakMap,ct=new WeakMap,si=new WeakMap,zd=new WeakMap,Ud=new WeakMap;let P0=jS;const Sn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Zt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function rv(s,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),s.clip(i)}class bS{isModifyingCurrentTransform(){return!1}getPattern(){He("Abstract method `getPattern` called.")}}class _R extends bS{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let a;if(i===Zt.STROKE||i===Zt.FILL){const r=t.current.getClippedPathBoundingBox(i,nt(e))||[0,0,0,0],l=Math.ceil(r[2]-r[0])||1,d=Math.ceil(r[3]-r[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,d),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-r[0],-r[1]),n=$.transform(n,[1,0,0,1,r[0],r[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),rv(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),a=e.createPattern(u.canvas,"no-repeat");const f=new DOMMatrix(n);a.setTransform(f)}else rv(e,this._bbox),a=this._createGradient(e);return a}}function _b(s,e,t,n,i,a,r,l){const d=e.coords,u=e.colors,h=s.data,f=s.width*4;let m;d[t+1]>d[n+1]&&(m=t,t=n,n=m,m=a,a=r,r=m),d[n+1]>d[i+1]&&(m=n,n=i,i=m,m=r,r=l,l=m),d[t+1]>d[n+1]&&(m=t,t=n,n=m,m=a,a=r,r=m);const g=(d[t]+e.offsetX)*e.scaleX,v=(d[t+1]+e.offsetY)*e.scaleY,x=(d[n]+e.offsetX)*e.scaleX,S=(d[n+1]+e.offsetY)*e.scaleY,p=(d[i]+e.offsetX)*e.scaleX,y=(d[i+1]+e.offsetY)*e.scaleY;if(v>=y)return;const w=u[a],j=u[a+1],C=u[a+2],T=u[r],E=u[r+1],_=u[r+2],M=u[l],D=u[l+1],R=u[l+2],L=Math.round(v),X=Math.round(y);let W,ee,O,I,U,P,G,te;for(let Q=L;Q<=X;Q++){if(Q<S){const he=Q<v?0:(v-Q)/(v-S);W=g-(g-x)*he,ee=w-(w-T)*he,O=j-(j-E)*he,I=C-(C-_)*he}else{let he;Q>y?he=1:S===y?he=0:he=(S-Q)/(S-y),W=x-(x-p)*he,ee=T-(T-M)*he,O=E-(E-D)*he,I=_-(_-R)*he}let se;Q<v?se=0:Q>y?se=1:se=(v-Q)/(v-y),U=g-(g-p)*se,P=w-(w-M)*se,G=j-(j-D)*se,te=C-(C-R)*se;const ve=Math.round(Math.min(W,U)),rt=Math.round(Math.max(W,U));let Xn=f*Q+ve*4;for(let he=ve;he<=rt;he++)se=(W-he)/(W-U),se<0?se=0:se>1&&(se=1),h[Xn++]=ee-(ee-P)*se|0,h[Xn++]=O-(O-G)*se|0,h[Xn++]=I-(I-te)*se|0,h[Xn++]=255}}function kR(s,e,t){const n=e.coords,i=e.colors;let a,r;switch(e.type){case"lattice":const l=e.verticesPerRow,d=Math.floor(n.length/l)-1,u=l-1;for(a=0;a<d;a++){let h=a*l;for(let f=0;f<u;f++,h++)_b(s,t,n[h],n[h+1],n[h+l],i[h],i[h+1],i[h+l]),_b(s,t,n[h+l+1],n[h+1],n[h+l],i[h+l+1],i[h+1],i[h+l])}break;case"triangles":for(a=0,r=n.length;a<r;a+=3)_b(s,t,n[a],n[a+1],n[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class MR extends bS{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const l=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-d,f=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),g=u/f,v=h/m,x={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-d,scaleX:1/g,scaleY:1/v},S=f+2*2,p=m+2*2,y=n.getCanvas("mesh",S,p),w=y.context,j=w.createImageData(f,m);if(t){const T=j.data;for(let E=0,_=T.length;E<_;E+=4)T[E]=t[0],T[E+1]=t[1],T[E+2]=t[2],T[E+3]=255}for(const T of this._figures)kR(j,T,x);return w.putImageData(j,2,2),{canvas:y.canvas,offsetX:l-2*g,offsetY:d-2*v,scaleX:g,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){rv(e,this._bbox);const a=new Float32Array(2);if(i===Zt.SHADING)$.singularValueDecompose2dScale(nt(e),a);else if(this.matrix){$.singularValueDecompose2dScale(this.matrix,a);const[l,d]=a;$.singularValueDecompose2dScale(t.baseTransform,a),a[0]*=l,a[1]*=d}else $.singularValueDecompose2dScale(t.baseTransform,a);const r=this._createMeshCanvas(a,i===Zt.SHADING?null:this._background,t.cachedCanvases);return i!==Zt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(r.offsetX,r.offsetY),e.scale(r.scaleX,r.scaleY),e.createPattern(r.canvas,"no-repeat")}}class DR extends bS{getPattern(){return"hotpink"}}function RR(s){switch(s[0]){case"RadialAxial":return new _R(s);case"Mesh":return new MR(s);case"Dummy":return new DR}throw new Error(`Unknown IR type: ${s[0]}`)}const j1={COLORED:1,UNCOLORED:2},J0=class J0{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,t){var P,G;const{bbox:n,operatorList:i,paintType:a,tilingType:r,color:l,canvasGraphicsFactory:d}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),Rx("TilingType: "+r);const f=n[0],m=n[1],g=n[2],v=n[3],x=g-f,S=v-m,p=new Float32Array(2);$.singularValueDecompose2dScale(this.matrix,p);const[y,w]=p;$.singularValueDecompose2dScale(this.baseTransform,p);const j=y*p[0],C=w*p[1];let T=x,E=S,_=!1,M=!1;const D=Math.ceil(u*j),R=Math.ceil(h*C),L=Math.ceil(x*j),X=Math.ceil(S*C);D>=L?T=u:_=!0,R>=X?E=h:M=!0;const W=this.getSizeAndScale(T,this.ctx.canvas.width,j),ee=this.getSizeAndScale(E,this.ctx.canvas.height,C),O=e.cachedCanvases.getCanvas("pattern",W.size,ee.size),I=O.context,U=d.createCanvasGraphics(I,t);if(U.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(U,a,l),I.translate(-W.scale*f,-ee.scale*m),U.transform(0,W.scale,0,0,ee.scale,0,0),I.save(),(P=U.dependencyTracker)==null||P.save(),this.clipBbox(U,f,m,g,v),U.baseTransform=nt(U.ctx),U.executeOperatorList(i),U.endDrawing(),(G=U.dependencyTracker)==null||G.restore(),I.restore(),_||M){const te=O.canvas;_&&(T=u),M&&(E=h);const Q=this.getSizeAndScale(T,this.ctx.canvas.width,j),se=this.getSizeAndScale(E,this.ctx.canvas.height,C),ve=Q.size,rt=se.size,Xn=e.cachedCanvases.getCanvas("pattern-workaround",ve,rt),he=Xn.context,oh=_?Math.floor(x/u):0,Bx=M?Math.floor(S/h):0;for(let lh=0;lh<=oh;lh++)for(let Io=0;Io<=Bx;Io++)he.drawImage(te,ve*lh,rt*Io,ve,rt,0,0,ve,rt);return{canvas:Xn.canvas,scaleX:Q.scale,scaleY:se.scale,offsetX:f,offsetY:m}}return{canvas:O.canvas,scaleX:W.scale,scaleY:ee.scale,offsetX:f,offsetY:m}}getSizeAndScale(e,t,n){const i=Math.max(J0.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*n);return a>=i?a=i:n=a/e,{scale:n,size:a}}clipBbox(e,t,n,i,a){const r=i-t,l=a-n;e.ctx.rect(t,n,r,l),$.axialAlignedBoundingBox([t,n,i,a],nt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,a=e.current;switch(t){case j1.COLORED:const{fillStyle:r,strokeStyle:l}=this.ctx;i.fillStyle=a.fillColor=r,i.strokeStyle=a.strokeColor=l;break;case j1.UNCOLORED:i.fillStyle=i.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new YD(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i,a){let r=n;i!==Zt.SHADING&&(r=$.transform(r,t.baseTransform),this.matrix&&(r=$.transform(r,this.matrix)));const l=this.createPatternCanvas(t,a);let d=new DOMMatrix(r);d=d.translate(l.offsetX,l.offsetY),d=d.scale(1/l.scaleX,1/l.scaleY);const u=e.createPattern(l.canvas,"repeat");return u.setTransform(d),u}};F(J0,"MAX_PATTERN_SIZE",3e3);let ov=J0;function LR({src:s,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:a=4294967295,inverseDecode:r=!1}){const l=as.isLittleEndian?4278190080:255,[d,u]=r?[a,l]:[l,a],h=n>>3,f=n&7,m=s.length;t=new Uint32Array(t.buffer);let g=0;for(let v=0;v<i;v++){for(const S=e+h;e<S;e++){const p=e<m?s[e]:255;t[g++]=p&128?u:d,t[g++]=p&64?u:d,t[g++]=p&32?u:d,t[g++]=p&16?u:d,t[g++]=p&8?u:d,t[g++]=p&4?u:d,t[g++]=p&2?u:d,t[g++]=p&1?u:d}if(f===0)continue;const x=e<m?s[e++]:255;for(let S=0;S<f;S++)t[g++]=x&1<<7-S?u:d}return{srcPos:e,destPos:g}}const E1=16,C1=100,OR=15,T1=10,Is=16,kb=new DOMMatrix,cn=new Float32Array(2),td=new Float32Array([1/0,1/0,-1/0,-1/0]);function PR(s,e){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){e.save(),this.__originalSave()},s.restore=function(){e.restore(),this.__originalRestore()},s.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},s.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},s.transform=function(t,n,i,a,r,l){e.transform(t,n,i,a,r,l),this.__originalTransform(t,n,i,a,r,l)},s.setTransform=function(t,n,i,a,r,l){e.setTransform(t,n,i,a,r,l),this.__originalSetTransform(t,n,i,a,r,l)},s.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},s.rotate=function(t){e.rotate(t),this.__originalRotate(t)},s.clip=function(t){e.clip(t),this.__originalClip(t)},s.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},s.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},s.bezierCurveTo=function(t,n,i,a,r,l){e.bezierCurveTo(t,n,i,a,r,l),this.__originalBezierCurveTo(t,n,i,a,r,l)},s.rect=function(t,n,i,a){e.rect(t,n,i,a),this.__originalRect(t,n,i,a)},s.closePath=function(){e.closePath(),this.__originalClosePath()},s.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class BR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function tp(s,e,t,n,i,a,r,l,d,u){const[h,f,m,g,v,x]=nt(s);if(f===0&&m===0){const y=r*h+v,w=Math.round(y),j=l*g+x,C=Math.round(j),T=(r+d)*h+v,E=Math.abs(Math.round(T)-w)||1,_=(l+u)*g+x,M=Math.abs(Math.round(_)-C)||1;return s.setTransform(Math.sign(h),0,0,Math.sign(g),w,C),s.drawImage(e,t,n,i,a,0,0,E,M),s.setTransform(h,f,m,g,v,x),[E,M]}if(h===0&&g===0){const y=l*m+v,w=Math.round(y),j=r*f+x,C=Math.round(j),T=(l+u)*m+v,E=Math.abs(Math.round(T)-w)||1,_=(r+d)*f+x,M=Math.abs(Math.round(_)-C)||1;return s.setTransform(0,Math.sign(f),Math.sign(m),0,w,C),s.drawImage(e,t,n,i,a,0,0,M,E),s.setTransform(h,f,m,g,v,x),[M,E]}s.drawImage(e,t,n,i,a,r,l,d,u);const S=Math.hypot(h,f),p=Math.hypot(m,g);return[S*d,p*u]}class _1{constructor(e,t,n){F(this,"alphaIsShape",!1);F(this,"fontSize",0);F(this,"fontSizeScale",1);F(this,"textMatrix",null);F(this,"textMatrixScale",1);F(this,"fontMatrix",My);F(this,"leading",0);F(this,"x",0);F(this,"y",0);F(this,"lineX",0);F(this,"lineY",0);F(this,"charSpacing",0);F(this,"wordSpacing",0);F(this,"textHScale",1);F(this,"textRenderingMode",Gt.FILL);F(this,"textRise",0);F(this,"fillColor","#000000");F(this,"strokeColor","#000000");F(this,"patternFill",!1);F(this,"patternStroke",!1);F(this,"fillAlpha",1);F(this,"strokeAlpha",1);F(this,"lineWidth",1);F(this,"activeSMask",null);F(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=td.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Zt.FILL,t=null){const n=this.minMax.slice();if(e===Zt.STROKE){t||He("Stroke bounding box must include transform."),$.singularValueDecompose2dScale(t,cn);const i=cn[0]*this.lineWidth/2,a=cn[1]*this.lineWidth/2;n[0]-=i,n[1]-=a,n[2]+=i,n[3]+=a}return n}updateClipFromPath(){const e=$.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(td,0)}getClippedPathBoundingBox(e=Zt.FILL,t=null){return $.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function k1(s,e){if(e instanceof ImageData){s.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%Is,a=(t-i)/Is,r=i===0?a:a+1,l=s.createImageData(n,Is);let d=0,u;const h=e.data,f=l.data;let m,g,v,x;if(e.kind===Ap.GRAYSCALE_1BPP){const S=h.byteLength,p=new Uint32Array(f.buffer,0,f.byteLength>>2),y=p.length,w=n+7>>3,j=4294967295,C=as.isLittleEndian?4278190080:255;for(m=0;m<r;m++){for(v=m<a?Is:i,u=0,g=0;g<v;g++){const T=S-d;let E=0;const _=T>w?n:T*8-7,M=_&-8;let D=0,R=0;for(;E<M;E+=8)R=h[d++],p[u++]=R&128?j:C,p[u++]=R&64?j:C,p[u++]=R&32?j:C,p[u++]=R&16?j:C,p[u++]=R&8?j:C,p[u++]=R&4?j:C,p[u++]=R&2?j:C,p[u++]=R&1?j:C;for(;E<_;E++)D===0&&(R=h[d++],D=128),p[u++]=R&D?j:C,D>>=1}for(;u<y;)p[u++]=0;s.putImageData(l,0,m*Is)}}else if(e.kind===Ap.RGBA_32BPP){for(g=0,x=n*Is*4,m=0;m<a;m++)f.set(h.subarray(d,d+x)),d+=x,s.putImageData(l,0,g),g+=Is;m<r&&(x=n*i*4,f.set(h.subarray(d,d+x)),s.putImageData(l,0,g))}else if(e.kind===Ap.RGB_24BPP)for(v=Is,x=n*v,m=0;m<r;m++){for(m>=a&&(v=i,x=n*v),u=0,g=x;g--;)f[u++]=h[d++],f[u++]=h[d++],f[u++]=h[d++],f[u++]=255;s.putImageData(l,0,m*Is)}else throw new Error(`bad image kind: ${e.kind}`)}function M1(s,e){if(e.bitmap){s.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%Is,a=(t-i)/Is,r=i===0?a:a+1,l=s.createImageData(n,Is);let d=0;const u=e.data,h=l.data;for(let f=0;f<r;f++){const m=f<a?Is:i;({srcPos:d}=LR({src:u,srcPos:d,dest:h,width:n,height:m,nonBlackColor:0})),s.putImageData(l,0,f*Is)}}function xh(s,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)s[n]!==void 0&&(e[n]=s[n]);s.setLineDash!==void 0&&(e.setLineDash(s.getLineDash()),e.lineDashOffset=s.lineDashOffset)}function sp(s){s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0);const{filter:e}=s;e!=="none"&&e!==""&&(s.filter="none")}function D1(s,e){if(e)return!0;$.singularValueDecompose2dScale(s,cn);const t=Math.fround(Yi.pixelRatio*Ro.PDF_TO_CSS_UNITS);return cn[0]<=t&&cn[1]<=t}const IR=["butt","round","square"],FR=["miter","round","bevel"],zR={},R1={};var hi,lv,cv,dv;const ES=class ES{constructor(e,t,n,i,a,{optionalContentConfig:r,markedContentStack:l=null},d,u,h){A(this,hi);this.ctx=e,this.current=new _1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=r,this.cachedCanvases=new BR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,t,n=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const a=this.ctx.canvas.width,r=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,r),this.ctx.fillStyle=l,n){const d=this.cachedCanvases.getCanvas("transparent",a,r);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...nt(this.compositeCtx))}this.ctx.save(),sp(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=nt(this.ctx)}executeOperatorList(e,t,n,i,a){var p;const r=e.argsArray,l=e.fnArray;let d=t||0;const u=r.length;if(u===d)return d;const h=u-d>T1&&typeof n=="function",f=h?Date.now()+OR:0;let m=0;const g=this.commonObjs,v=this.objs;let x,S;for(;;){if(i!==void 0&&d===i.nextBreakPoint)return i.breakIt(d,n),d;if(!a||a(d))if(x=l[d],S=r[d]??null,x!==Ef.dependency)S===null?this[x](d):this[x](d,...S);else for(const y of S){(p=this.dependencyTracker)==null||p.recordNamedData(y,d);const w=y.startsWith("g_")?g:v;if(!w.has(y))return w.get(y,n),d}if(d++,d===u)return d;if(h&&++m>T1){if(Date.now()>f)return n(),d;m=0}}}endDrawing(){N(this,hi,lv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),N(this,hi,cv).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),r=Math.max(Math.hypot(t[2],t[3]),1),l=n,d=i,u="prescale1",h,f;for(;a>2&&l>1||r>2&&d>1;){let m=l,g=d;a>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/m),r>2&&d>1&&(g=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,r/=d/g),h=this.cachedCanvases.getCanvas(u,m,g),f=h.context,f.clearRect(0,0,m,g),f.drawImage(e,0,0,l,d,0,0,m,g),e=h.canvas,l=m,d=g,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:d}}_createMaskCanvas(e,t){var D,R;const n=this.ctx,{width:i,height:a}=t,r=this.current.fillColor,l=this.current.patternFill,d=nt(n);let u,h,f,m;if((t.bitmap||t.data)&&t.count>1){const L=t.bitmap||t.data.buffer;h=JSON.stringify(l?d:[d.slice(0,4),r]),u=this._cachedBitmapsMap.get(L),u||(u=new Map,this._cachedBitmapsMap.set(L,u));const X=u.get(h);if(X&&!l){const W=Math.round(Math.min(d[0],d[2])+d[4]),ee=Math.round(Math.min(d[1],d[3])+d[5]);return(D=this.dependencyTracker)==null||D.recordDependencies(e,Sn.transformAndFill),{canvas:X,offsetX:W,offsetY:ee}}f=X}f||(m=this.cachedCanvases.getCanvas("maskCanvas",i,a),M1(m.context,t));let g=$.transform(d,[1/i,0,0,-1/a,0,0]);g=$.transform(g,[1,0,0,1,0,-a]);const v=td.slice();$.axialAlignedBoundingBox([0,0,i,a],g,v);const[x,S,p,y]=v,w=Math.round(p-x)||1,j=Math.round(y-S)||1,C=this.cachedCanvases.getCanvas("fillCanvas",w,j),T=C.context,E=x,_=S;T.translate(-E,-_),T.transform(...g),f||(f=this._scaleImage(m.canvas,mi(T)),f=f.img,u&&l&&u.set(h,f)),T.imageSmoothingEnabled=D1(nt(T),t.interpolate),tp(T,f,0,0,f.width,f.height,0,0,i,a),T.globalCompositeOperation="source-in";const M=$.transform(mi(T),[1,0,0,1,-E,-_]);return T.fillStyle=l?r.getPattern(n,this,M,Zt.FILL,e):r,T.fillRect(0,0,i,a),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,C.canvas)),(R=this.dependencyTracker)==null||R.recordDependencies(e,Sn.transformAndFill),{canvas:C.canvas,offsetX:Math.round(E),offsetY:Math.round(_)}}setLineWidth(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=IR[t]}setLineJoin(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=FR[t]}setMiterLimit(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,i,a,r,l;for(const[d,u]of t)switch(d){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(a=this.dependencyTracker)==null||a.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(r=this.dependencyTracker)==null||r.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(l=this.dependencyTracker)==null||l.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const r=this.ctx=a.context;r.setTransform(this.suspendedCtx.getTransform()),xh(this.suspendedCtx,r),PR(r,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),xh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const a=i[0],r=i[1],l=i[2]-a,d=i[3]-r;l===0||d===0||(this.genericComposeSMask(t.context,n,l,d,t.subtype,t.backdrop,t.transferMap,a,r,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,a,r,l,d,u,h,f){let m=e.canvas,g=d-h,v=u-f;if(r)if(g<0||v<0||g+n>m.width||v+i>m.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,i),p=S.context;p.drawImage(m,-g,-v),p.globalCompositeOperation="destination-atop",p.fillStyle=r,p.fillRect(0,0,n,i),p.globalCompositeOperation="source-over",m=S.canvas,g=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(g,v,n,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=r,e.fillRect(g,v,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const x=new Path2D;x.rect(d,u,n,i),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(m,g,v,n,i,d,u,n,i),t.restore()}save(e){var n;this.inSMaskMode&&xh(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&xh(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,i,a,r,l){var d;(d=this.dependencyTracker)==null||d.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,a,r,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[a]=n;if(!i){a||(a=n[0]=new Path2D),this[t](e,a);return}if(this.dependencyTracker!==null){const r=t===Ef.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-r,i[2]+r,i[1]-r,i[3]+r).recordDependencies(e,["transform"])}if(!(a instanceof Path2D)){const r=n[0]=new Path2D;for(let l=0,d=a.length;l<d;)switch(a[l++]){case Wg.moveTo:r.moveTo(a[l++],a[l++]);break;case Wg.lineTo:r.lineTo(a[l++],a[l++]);break;case Wg.curveTo:r.bezierCurveTo(a[l++],a[l++],a[l++],a[l++],a[l++],a[l++]);break;case Wg.closePath:r.closePath();break;default:ne(`Unrecognized drawing path operator: ${a[l-1]}`);break}a=r}$.axialAlignedBoundingBox(i,nt(this.ctx),this.current.minMax),this[t](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){var r;const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const l=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,mi(i),Zt.STROKE,e),l){const d=new Path2D;d.addPath(t,i.getTransform().invertSelf().multiplySelf(l)),t=d}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(r=this.dependencyTracker)==null||r.recordDependencies(e,Sn.stroke),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Zt.STROKE,nt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){var u,h,f;const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;let l=!1;if(r){const m=a.isModifyingCurrentTransform()?i.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),i.save(),i.fillStyle=a.getPattern(i,this,mi(i),Zt.FILL,e),m){const g=new Path2D;g.addPath(t,i.getTransform().invertSelf().multiplySelf(m)),t=g}l=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(h=this.dependencyTracker)==null||h.recordDependencies(e,Sn.fill),l&&(i.restore(),(f=this.dependencyTracker)==null||f.restore(e)),n&&this.consumePath(e,t,d)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),(n=this.dependencyTracker)==null||n.recordDependencies(e,Sn.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=zR}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=R1}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,a=n.getTransform().invertSelf();for(const{transform:r,x:l,y:d,fontSize:u,path:h}of t)h&&i.addPath(h,new DOMMatrix(r).preMultiplySelf(a).translate(l,d).scale(u,-u));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var f,m;(f=this.dependencyTracker)==null||f.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||My,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&ne("Invalid font matrix for font "+t),n<0?(n=-n,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const r=i.loadedName||"sans-serif",l=((m=i.systemFontInfo)==null?void 0:m.css)||`"${r}", ${i.fallbackName}`;let d="normal";i.black?d="900":i.bold&&(d="bold");const u=i.italic?"italic":"normal";let h=n;n<E1?h=E1:n>C1&&(h=C1),this.current.fontSizeScale=n/h,this.ctx.font=`${u} ${d} ${h}px ${l}`}setTextRenderingMode(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,n,i,a,r){var p,y,w,j;const l=this.ctx,d=this.current,u=d.font,h=d.textRenderingMode,f=d.fontSize/d.fontSizeScale,m=h&Gt.FILL_STROKE_MASK,g=!!(h&Gt.ADD_TO_PATH_FLAG),v=d.patternFill&&!u.missingFile,x=d.patternStroke&&!u.missingFile;let S;if((u.disableFontFace||g||v||x)&&!u.missingFile&&(S=u.getPathGenerator(this.commonObjs,t)),S&&(u.disableFontFace||v||x)){l.save(),l.translate(n,i),l.scale(f,-f),(p=this.dependencyTracker)==null||p.recordCharacterBBox(e,l,u);let C;if(m===Gt.FILL||m===Gt.FILL_STROKE)if(a){C=l.getTransform(),l.setTransform(...a);const T=N(this,hi,dv).call(this,S,C,a);l.fill(T)}else l.fill(S);if(m===Gt.STROKE||m===Gt.FILL_STROKE)if(r){C||(C=l.getTransform()),l.setTransform(...r);const{a:T,b:E,c:_,d:M}=C,D=$.inverseTransform(r),R=$.transform([T,E,_,M,0,0],D);$.singularValueDecompose2dScale(R,cn),l.lineWidth*=Math.max(cn[0],cn[1])/f,l.stroke(N(this,hi,dv).call(this,S,C,r))}else l.lineWidth/=f,l.stroke(S);l.restore()}else(m===Gt.FILL||m===Gt.FILL_STROKE)&&(l.fillText(t,n,i),(y=this.dependencyTracker)==null||y.recordCharacterBBox(e,l,u,f,n,i,()=>l.measureText(t))),(m===Gt.STROKE||m===Gt.FILL_STROKE)&&(this.dependencyTracker&&((w=this.dependencyTracker)==null||w.recordCharacterBBox(e,l,u,f,n,i,()=>l.measureText(t)).recordDependencies(e,Sn.stroke)),l.strokeText(t,n,i));g&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:nt(l),x:n,y:i,fontSize:f,path:S}),(j=this.dependencyTracker)==null||j.recordCharacterBBox(e,l,u,f,n,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return ue(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var _,M,D,R;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Sn.showText).resetBBox(e),this.current.textRenderingMode&Gt.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(e,t),(_=this.dependencyTracker)==null||_.recordShowTextOperation(e);return}const a=n.fontSize;if(a===0){(M=this.dependencyTracker)==null||M.recordOperation(e);return}const r=this.ctx,l=n.fontSizeScale,d=n.charSpacing,u=n.wordSpacing,h=n.fontDirection,f=n.textHScale*h,m=t.length,g=i.vertical,v=g?1:-1,x=i.defaultVMetrics,S=a*n.fontMatrix[0],p=n.textRenderingMode===Gt.FILL&&!i.disableFontFace&&!n.patternFill;r.save(),n.textMatrix&&r.transform(...n.textMatrix),r.translate(n.x,n.y+n.textRise),h>0?r.scale(f,-1):r.scale(f,1);let y,w;if(n.patternFill){r.save();const L=n.fillColor.getPattern(r,this,mi(r),Zt.FILL,e);y=nt(r),r.restore(),r.fillStyle=L}if(n.patternStroke){r.save();const L=n.strokeColor.getPattern(r,this,mi(r),Zt.STROKE,e);w=nt(r),r.restore(),r.strokeStyle=L}let j=n.lineWidth;const C=n.textMatrixScale;if(C===0||j===0){const L=n.textRenderingMode&Gt.FILL_STROKE_MASK;(L===Gt.STROKE||L===Gt.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=C;if(l!==1&&(r.scale(l,l),j/=l),r.lineWidth=j,i.isInvalidPDFjsFont){const L=[];let X=0;for(const ee of t)L.push(ee.unicode),X+=ee.width;const W=L.join("");if(r.fillText(W,0,0),this.dependencyTracker!==null){const ee=r.measureText(W);this.dependencyTracker.recordBBox(e,this.ctx,-ee.actualBoundingBoxLeft,ee.actualBoundingBoxRight,-ee.actualBoundingBoxAscent,ee.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=X*S*f,r.restore(),this.compose();return}let T=0,E;for(E=0;E<m;++E){const L=t[E];if(typeof L=="number"){T+=v*L*a/1e3;continue}let X=!1;const W=(L.isSpace?u:0)+d,ee=L.fontChar,O=L.accent;let I,U,P=L.width;if(g){const Q=L.vmetric||x,se=-(L.vmetric?Q[1]:P*.5)*S,ve=Q[2]*S;P=Q?-Q[0]:P,I=se/l,U=(T+ve)/l}else I=T/l,U=0;let G;if(i.remeasure&&P>0){G=r.measureText(ee);const Q=G.width*1e3/a*l;if(P<Q&&this.isFontSubpixelAAEnabled){const se=P/Q;X=!0,r.save(),r.scale(se,1),I/=se}else P!==Q&&(I+=(P-Q)/2e3*a/l)}if(this.contentVisible&&(L.isInFont||i.missingFile)){if(p&&!O)r.fillText(ee,I,U),(D=this.dependencyTracker)==null||D.recordCharacterBBox(e,r,G?{bbox:null}:i,a/l,I,U,()=>G??r.measureText(ee));else if(this.paintChar(e,ee,I,U,y,w),O){const Q=I+a*O.offset.x/l,se=U-a*O.offset.y/l;this.paintChar(e,O.fontChar,Q,se,y,w)}}const te=g?P*S-W*h:P*S+W*h;T+=te,X&&r.restore()}g?n.y-=T:n.x+=T*f,r.restore(),this.compose(),(R=this.dependencyTracker)==null||R.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,i=this.current,a=i.font,r=i.fontSize,l=i.fontDirection,d=a.vertical?1:-1,u=i.charSpacing,h=i.wordSpacing,f=i.textHScale*l,m=i.fontMatrix||My,g=t.length,v=i.textRenderingMode===Gt.INVISIBLE;let x,S,p,y;if(v||r===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(f,l);const w=this.dependencyTracker;for(this.dependencyTracker=w?new P0(w,e):null,x=0;x<g;++x){if(S=t[x],typeof S=="number"){y=d*S*r/1e3,this.ctx.translate(y,0),i.x+=y*f;continue}const j=(S.isSpace?h:0)+u,C=a.charProcOperatorList[S.operatorListId];C?this.contentVisible&&(this.save(),n.scale(r,r),n.transform(...m),this.executeOperatorList(C),this.restore()):ne(`Type3 character "${S.operatorListId}" is not available.`);const T=[S.width,0];$.applyTransform(T,m),p=T[0]*r+j,n.translate(p,0),i.x+=p*f}n.restore(),w&&(this.dependencyTracker=w)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,a,r,l){var u;const d=new Path2D;d.rect(i,a,r-i,l-a),this.ctx.clip(d),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,i,r,a,l).recordClipBox(e,this.ctx,i,r,a,l),this.endPath(e)}getColorN_Pattern(e,t){let n;if(t[0]==="TilingPattern"){const i=this.baseTransform||nt(this.ctx),a={createCanvasGraphics:(r,l)=>new ES(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new P0(this.dependencyTracker,l,!0):null)};n=new ov(t,this.ctx,a,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=RR(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){var r;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,mi(n),Zt.SHADING,e);const a=mi(n);if(a){const{width:l,height:d}=n.canvas,u=td.slice();$.axialAlignedBoundingBox([0,0,l,d],a,u);const[h,f,m,g]=u;this.ctx.fillRect(h,f,m-h,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(r=this.dependencyTracker)==null||r.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Sn.transform).recordDependencies(e,Sn.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){He("Should not call beginInlineImage")}beginImageData(){He("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=nt(this.ctx),n)){$.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[a,r,l,d]=n,u=new Path2D;u.rect(a,r,l-a,d-r),this.ctx.clip(u),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,a,l,r,d),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var w;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||Rx("TODO: Support non-isolated groups."),t.knockout&&ne("Knockout groups not supported.");const i=nt(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=td.slice();$.axialAlignedBoundingBox(t.bbox,nt(n),a);const r=[0,0,n.canvas.width,n.canvas.height];a=$.intersect(a,r)||[0,0,0,0];const l=Math.floor(a[0]),d=Math.floor(a[1]),u=Math.max(Math.ceil(a[2])-l,1),h=Math.max(Math.ceil(a[3])-d,1);this.current.startNewPathAndClipBox([0,0,u,h]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(f,u,h),g=m.context;g.translate(-l,-d),g.transform(...i);let v=new Path2D;const[x,S,p,y]=t.bbox;if(v.rect(x,S,p-x,y-S),t.matrix){const j=new Path2D;j.addPath(v,new DOMMatrix(t.matrix)),v=j}g.clip(v),t.smask&&this.smaskStack.push({canvas:m.canvas,context:g,offsetX:l,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(l,d),n.save()),xh(n,g),this.ctx=g,(w=this.dependencyTracker)==null||w.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){var a;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(a=this.dependencyTracker)==null||a.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const r=nt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...r);const l=td.slice();$.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],r,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,n,i,a,r){if(N(this,hi,lv).call(this),sp(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const l=n[2]-n[0],d=n[3]-n[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=d,$.singularValueDecompose2dScale(nt(this.ctx),cn);const{viewportScale:u}=this,h=Math.ceil(l*this.outputScaleX*u),f=Math.ceil(d*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:m,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(cn[0],0,0,-cn[1],0,d*cn[1]),sp(this.ctx)}else{sp(this.ctx),this.endPath(e);const u=new Path2D;u.rect(n[0],n[1],l,d),this.ctx.clip(u)}}this.current=new _1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),N(this,hi,cv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var l;if(!this.contentVisible)return;const n=t.count;t=this.getObject(e,t.data,t),t.count=n;const i=this.ctx,a=this._createMaskCanvas(e,t),r=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,a.offsetX,a.offsetY),(l=this.dependencyTracker)==null||l.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+r.width,a.offsetY,a.offsetY+r.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,a=0,r,l){var f,m,g;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const d=this.ctx;d.save();const u=nt(d);d.transform(n,i,a,r,0,0);const h=this._createMaskCanvas(e,t);d.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]),(f=this.dependencyTracker)==null||f.resetBBox(e);for(let v=0,x=l.length;v<x;v+=2){const S=$.transform(u,[n,i,a,r,l[v],l[v+1]]);d.drawImage(h.canvas,S[4],S[5]),(m=this.dependencyTracker)==null||m.recordBBox(e,this.ctx,S[4],S[4]+h.canvas.width,S[5],S[5]+h.canvas.height)}d.restore(),this.compose(),(g=this.dependencyTracker)==null||g.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var r,l,d;if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,a=this.current.patternFill;(r=this.dependencyTracker)==null||r.resetBBox(e).recordDependencies(e,Sn.transformAndFill);for(const u of t){const{data:h,width:f,height:m,transform:g}=u,v=this.cachedCanvases.getCanvas("maskCanvas",f,m),x=v.context;x.save();const S=this.getObject(e,h,u);M1(x,S),x.globalCompositeOperation="source-in",x.fillStyle=a?i.getPattern(x,this,mi(n),Zt.FILL,e):i,x.fillRect(0,0,f,m),x.restore(),n.save(),n.transform(...g),n.scale(1,-1),tp(n,v.canvas,0,0,f,m,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,n,0,f,0,m),n.restore()}this.compose(),(d=this.dependencyTracker)==null||d.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);if(!n){ne("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,a){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){ne("Dependent image isn't ready yet");return}const l=r.width,d=r.height,u=[];for(let h=0,f=a.length;h<f;h+=2)u.push({transform:[n,0,0,i,a[h],a[h+1]],x:0,y:0,w:l,h:d});this.paintInlineImageXObjectGroup(e,r,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,i),r=a.context;return r.filter=this.current.transferMaps,r.drawImage(t,0,0),r.filter="none",a.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const n=t.width,i=t.height,a=this.ctx;this.save(e);const{filter:r}=a;r!=="none"&&r!==""&&(a.filter="none"),a.scale(1/n,-1/i);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",n,i).context;k1(f,t),l=this.applyTransferMapsToCanvas(f)}const d=this._scaleImage(l,mi(a));a.imageSmoothingEnabled=D1(nt(a),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,a,0,n,-i,0).recordDependencies(e,Sn.imageXObject).recordOperation(e),tp(a,d.img,0,0,d.paintWidth,d.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var r,l,d;if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const u=t.width,h=t.height,m=this.cachedCanvases.getCanvas("inlineImage",u,h).context;k1(m,t),a=this.applyTransferMapsToCanvas(m)}(r=this.dependencyTracker)==null||r.resetBBox(e);for(const u of n)i.save(),i.transform(...u.transform),i.scale(1,-1),tp(i,a,u.x,u.y,u.w,u.h,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,i,0,1,-1,0),i.restore();(d=this.dependencyTracker)==null||d.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Sn.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){var r,l;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===R1?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null,(r=this.dependencyTracker)==null||r.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(l=this.dependencyTracker)==null||l.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=nt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:a}=this.ctx.getTransform();let r,l;if(n===0&&i===0){const d=Math.abs(t),u=Math.abs(a);if(d===u)if(e===0)r=l=1/d;else{const h=d*e;r=l=h<1?1/h:1}else if(e===0)r=1/d,l=1/u;else{const h=d*e,f=u*e;r=h<1?1/h:1,l=f<1?1/f:1}}else{const d=Math.abs(t*a-n*i),u=Math.hypot(t,n),h=Math.hypot(i,a);if(e===0)r=h/d,l=u/d;else{const f=e*d;r=h>f?h/f:1,l=u>f?u/f:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[a,r]=this.getScaleForStroking();if(a===r){n.lineWidth=(i||1)*a,n.stroke(e);return}const l=n.getLineDash();t&&n.save(),n.scale(a,r),kb.a=1/a,kb.d=1/r;const d=new Path2D;if(d.addPath(e,kb),l.length>0){const u=Math.max(a,r);n.setLineDash(l.map(h=>h/u)),n.lineDashOffset/=u}n.lineWidth=i||1,n.stroke(d),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};hi=new WeakSet,lv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},cv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},dv=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let md=ES;for(const s in Ef)md.prototype[s]!==void 0&&(md.prototype[Ef[s]]=md.prototype[s]);var Hd,Vd,om,$d,Dp;const id=class id{constructor(e){A(this,$d);A(this,Hd);A(this,Vd);A(this,om);b(this,Hd,e),b(this,Vd,new DataView(o(this,Hd))),b(this,om,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const u of id.strings){const h=t.encode(e[u]);n[u]=h,i+=4+h.length}const a=new ArrayBuffer(i),r=new Uint8Array(a),l=new DataView(a);let d=0;for(const u of id.strings){const h=n[u],f=h.length;l.setUint32(d,f),r.set(h,d+4),d+=4+f}return be(d===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}get fontFamily(){return N(this,$d,Dp).call(this,0)}get fontWeight(){return N(this,$d,Dp).call(this,1)}get italicAngle(){return N(this,$d,Dp).call(this,2)}};Hd=new WeakMap,Vd=new WeakMap,om=new WeakMap,$d=new WeakSet,Dp=function(e){be(e<id.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=o(this,Vd).getUint32(t)+4;const n=o(this,Vd).getUint32(t);return o(this,om).decode(new Uint8Array(o(this,Hd),t+4,n))},F(id,"strings",["fontFamily","fontWeight","italicAngle"]);let B0=id;var Ir,Ti,Sl,Al,Fh;const ad=class ad{constructor(e){A(this,Al);A(this,Ir);A(this,Ti);A(this,Sl);b(this,Ir,e),b(this,Ti,new DataView(o(this,Ir))),b(this,Sl,new TextDecoder)}static write(e){const t=new TextEncoder,n={};let i=0;for(const m of ad.strings){const g=t.encode(e[m]);n[m]=g,i+=4+g.length}i+=4;let a,r,l=1+i;e.style&&(a=t.encode(e.style.style),r=t.encode(e.style.weight),l+=4+a.length+4+r.length);const d=new ArrayBuffer(l),u=new Uint8Array(d),h=new DataView(d);let f=0;h.setUint8(f++,e.guessFallback?1:0),h.setUint32(f,0),f+=4,i=0;for(const m of ad.strings){const g=n[m],v=g.length;i+=4+v,h.setUint32(f,v),u.set(g,f+4),f+=4+v}return h.setUint32(f-i-4,i),e.style&&(h.setUint32(f,a.length),u.set(a,f+4),f+=4+a.length,h.setUint32(f,r.length),u.set(r,f+4),f+=4+r.length),be(f<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(f)}get guessFallback(){return o(this,Ti).getUint8(0)!==0}get css(){return N(this,Al,Fh).call(this,0)}get loadedName(){return N(this,Al,Fh).call(this,1)}get baseFontName(){return N(this,Al,Fh).call(this,2)}get src(){return N(this,Al,Fh).call(this,3)}get style(){let e=1;e+=4+o(this,Ti).getUint32(e);const t=o(this,Ti).getUint32(e),n=o(this,Sl).decode(new Uint8Array(o(this,Ir),e+4,t));e+=4+t;const i=o(this,Ti).getUint32(e),a=o(this,Sl).decode(new Uint8Array(o(this,Ir),e+4,i));return{style:n,weight:a}}};Ir=new WeakMap,Ti=new WeakMap,Sl=new WeakMap,Al=new WeakSet,Fh=function(e){be(e<ad.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=o(this,Ti).getUint32(t)+4;const n=o(this,Ti).getUint32(t);return o(this,Sl).decode(new Uint8Array(o(this,Ir),t+4,n))},F(ad,"strings",["css","loadedName","baseFontName","src"]);let I0=ad;var Gd,Yd,qd,Xd,Ys,_i,lm,Re,ut,Kn,Rp,zh;const oe=class oe{constructor({data:e,extra:t}){A(this,ut);A(this,_i);A(this,lm);A(this,Re);b(this,_i,e),b(this,lm,new TextDecoder),b(this,Re,new DataView(o(this,_i))),t&&Object.assign(this,t)}get black(){return N(this,ut,Kn).call(this,0)}get bold(){return N(this,ut,Kn).call(this,1)}get disableFontFace(){return N(this,ut,Kn).call(this,2)}get fontExtraProperties(){return N(this,ut,Kn).call(this,3)}get isInvalidPDFjsFont(){return N(this,ut,Kn).call(this,4)}get isType3Font(){return N(this,ut,Kn).call(this,5)}get italic(){return N(this,ut,Kn).call(this,6)}get missingFile(){return N(this,ut,Kn).call(this,7)}get remeasure(){return N(this,ut,Kn).call(this,8)}get vertical(){return N(this,ut,Kn).call(this,9)}get ascent(){return N(this,ut,Rp).call(this,0)}get defaultWidth(){return N(this,ut,Rp).call(this,1)}get descent(){return N(this,ut,Rp).call(this,2)}get bbox(){let e=o(oe,Yd);if(o(this,Re).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<4;i++)n.push(o(this,Re).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=o(oe,qd);if(o(this,Re).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<6;i++)n.push(o(this,Re).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=o(oe,Xd);if(o(this,Re).getUint8(e)===0)return;e+=1;const n=[];for(let i=0;i<3;i++)n.push(o(this,Re).getInt16(e,!0)),e+=2;return n}get fallbackName(){return N(this,ut,zh).call(this,0)}get loadedName(){return N(this,ut,zh).call(this,1)}get mimetype(){return N(this,ut,zh).call(this,2)}get name(){return N(this,ut,zh).call(this,3)}get data(){let e=o(oe,Ys);const t=o(this,Re).getUint32(e);e+=4+t;const n=o(this,Re).getUint32(e);e+=4+n;const i=o(this,Re).getUint32(e);e+=4+i;const a=o(this,Re).getUint32(e);if(a!==0)return new Uint8Array(o(this,_i),e+4,a)}clearData(){let e=o(oe,Ys);const t=o(this,Re).getUint32(e);e+=4+t;const n=o(this,Re).getUint32(e);e+=4+n;const i=o(this,Re).getUint32(e);e+=4+i;const a=o(this,Re).getUint32(e);new Uint8Array(o(this,_i),e+4,a).fill(0),o(this,Re).setUint32(e,0)}get cssFontInfo(){let e=o(oe,Ys);const t=o(this,Re).getUint32(e);e+=4+t;const n=o(this,Re).getUint32(e);e+=4+n;const i=o(this,Re).getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(o(this,_i),e+4,i)),new B0(a.buffer)}get systemFontInfo(){let e=o(oe,Ys);const t=o(this,Re).getUint32(e);e+=4+t;const n=o(this,Re).getUint32(e);if(n===0)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(o(this,_i),e+4,n)),new I0(i.buffer)}static write(e){const t=e.systemFontInfo?I0.write(e.systemFontInfo):null,n=e.cssFontInfo?B0.write(e.cssFontInfo):null,i=new TextEncoder,a={};let r=0;for(const x of oe.strings)a[x]=i.encode(e[x]),r+=4+a[x].length;const l=o(oe,Ys)+4+r+4+(t?t.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),d=new ArrayBuffer(l),u=new Uint8Array(d),h=new DataView(d);let f=0;const m=oe.bools.length;let g=0,v=0;for(let x=0;x<m;x++){const S=e[oe.bools[x]];g|=(S===void 0?0:S?2:1)<<v,v+=2,(v===8||x===m-1)&&(h.setUint8(f++,g),g=0,v=0)}be(f===o(oe,Gd),"FontInfo.write: Boolean properties offset mismatch");for(const x of oe.numbers)h.setFloat64(f,e[x]),f+=8;if(be(f===o(oe,Yd),"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(f++,4);for(const x of e.bbox)h.setInt16(f,x,!0),f+=2}else h.setUint8(f++,0),f+=2*4;if(be(f===o(oe,qd),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(f++,6);for(const x of e.fontMatrix)h.setFloat64(f,x,!0),f+=8}else h.setUint8(f++,0),f+=8*6;if(be(f===o(oe,Xd),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(f++,1);for(const x of e.defaultVMetrics)h.setInt16(f,x,!0),f+=2}else h.setUint8(f++,0),f+=3*2;be(f===o(oe,Ys),"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(o(oe,Ys),0),f+=4;for(const x of oe.strings){const S=a[x],p=S.length;h.setUint32(f,p),u.set(S,f+4),f+=4+p}if(h.setUint32(o(oe,Ys),f-o(oe,Ys)-4),!t)h.setUint32(f,0),f+=4;else{const x=t.byteLength;h.setUint32(f,x),be(f+4+x<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),f+4),f+=4+x}if(!n)h.setUint32(f,0),f+=4;else{const x=n.byteLength;h.setUint32(f,x),be(f+4+x<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(n),f+4),f+=4+x}return e.data===void 0?(h.setUint32(f,0),f+=4):(h.setUint32(f,e.data.length),u.set(e.data,f+4),f+=4+e.data.length),be(f<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(f)}};Gd=new WeakMap,Yd=new WeakMap,qd=new WeakMap,Xd=new WeakMap,Ys=new WeakMap,_i=new WeakMap,lm=new WeakMap,Re=new WeakMap,ut=new WeakSet,Kn=function(e){be(e<oe.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=e*2%8,i=o(this,Re).getUint8(t)>>n&3;return i===0?void 0:i===2},Rp=function(e){return be(e<oe.numbers.length,"Invalid number index"),o(this,Re).getFloat64(o(oe,Gd)+e*8)},zh=function(e){be(e<oe.strings.length,"Invalid string index");let t=o(oe,Ys)+4;for(let a=0;a<e;a++)t+=o(this,Re).getUint32(t)+4;const n=o(this,Re).getUint32(t),i=new Uint8Array(n);return i.set(new Uint8Array(o(this,_i),t+4,n)),o(this,lm).decode(i)},F(oe,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),F(oe,"numbers",["ascent","defaultWidth","descent"]),F(oe,"strings",["fallbackName","loadedName","mimetype","name"]),A(oe,Gd,Math.ceil(oe.bools.length*2/8)),A(oe,Yd,o(oe,Gd)+oe.numbers.length*8),A(oe,qd,o(oe,Yd)+1+2*4),A(oe,Xd,o(oe,qd)+1+8*6),A(oe,Ys,o(oe,Xd)+1+2*3);let uv=oe;var cm,dm;class zi{static get workerPort(){return o(this,cm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,cm,e)}static get workerSrc(){return o(this,dm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,dm,e)}}cm=new WeakMap,dm=new WeakMap,A(zi,cm,null),A(zi,dm,"");var Wd,um;class UR{constructor({parsedData:e,rawData:t}){A(this,Wd);A(this,um);b(this,Wd,e),b(this,um,t)}getRaw(){return o(this,um)}get(e){return o(this,Wd).get(e)??null}[Symbol.iterator](){return o(this,Wd).entries()}}Wd=new WeakMap,um=new WeakMap;const zc=Symbol("INTERNAL");var hm,fm,mm,Kd;class HR{constructor(e,{name:t,intent:n,usage:i,rbGroups:a}){A(this,hm,!1);A(this,fm,!1);A(this,mm,!1);A(this,Kd,!0);b(this,hm,!!(e&on.DISPLAY)),b(this,fm,!!(e&on.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=a}get visible(){if(o(this,mm))return o(this,Kd);if(!o(this,Kd))return!1;const{print:e,view:t}=this.usage;return o(this,hm)?(t==null?void 0:t.viewState)!=="OFF":o(this,fm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==zc&&He("Internal method `_setVisible` called."),b(this,mm,n),b(this,Kd,t)}}hm=new WeakMap,fm=new WeakMap,mm=new WeakMap,Kd=new WeakMap;var Fr,Le,Qd,Zd,gm,hv;class VR{constructor(e,t=on.DISPLAY){A(this,gm);A(this,Fr,null);A(this,Le,new Map);A(this,Qd,null);A(this,Zd,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Zd,e.order);for(const n of e.groups)o(this,Le).set(n.id,new HR(t,n));if(e.baseState==="OFF")for(const n of o(this,Le).values())n._setVisible(zc,!1);for(const n of e.on)o(this,Le).get(n)._setVisible(zc,!0);for(const n of e.off)o(this,Le).get(n)._setVisible(zc,!1);b(this,Qd,this.getHash())}}isVisible(e){if(o(this,Le).size===0)return!0;if(!e)return Rx("Optional content group not defined."),!0;if(e.type==="OCG")return o(this,Le).has(e.id)?o(this,Le).get(e.id).visible:(ne(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return N(this,gm,hv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!o(this,Le).has(t))return ne(`Optional content group not found: ${t}`),!0;if(o(this,Le).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!o(this,Le).has(t))return ne(`Optional content group not found: ${t}`),!0;if(!o(this,Le).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!o(this,Le).has(t))return ne(`Optional content group not found: ${t}`),!0;if(!o(this,Le).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!o(this,Le).has(t))return ne(`Optional content group not found: ${t}`),!0;if(o(this,Le).get(t).visible)return!1}return!0}return ne(`Unknown optional content policy ${e.policy}.`),!0}return ne(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var a;const i=o(this,Le).get(e);if(!i){ne(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const r of i.rbGroups)for(const l of r)l!==e&&((a=o(this,Le).get(l))==null||a._setVisible(zc,!1,!0));i._setVisible(zc,!!t,!0),b(this,Fr,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const a=o(this,Le).get(i);if(a)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!a.visible,t);break}}b(this,Fr,null)}get hasInitialVisibility(){return o(this,Qd)===null||this.getHash()===o(this,Qd)}getOrder(){return o(this,Le).size?o(this,Zd)?o(this,Zd).slice():[...o(this,Le).keys()]:null}getGroup(e){return o(this,Le).get(e)||null}getHash(){if(o(this,Fr)!==null)return o(this,Fr);const e=new $E;for(const[t,n]of o(this,Le))e.update(`${t}:${n.visible}`);return b(this,Fr,e.hexdigest())}[Symbol.iterator](){return o(this,Le).entries()}}Fr=new WeakMap,Le=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,gm=new WeakSet,hv=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const a=e[i];let r;if(Array.isArray(a))r=N(this,gm,hv).call(this,a);else if(o(this,Le).has(a))r=o(this,Le).get(a).visible;else return ne(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return n==="And"};class $R{constructor(e,{disableRange:t=!1,disableStream:n=!1}){be(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:r,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=l,(a==null?void 0:a.length)>0){const d=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,u)=>{this._onReceiveData({begin:d,chunk:u})}),e.addProgressListener((d,u)=>{this._onProgress({loaded:d,total:u})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(n),!0)});be(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,a;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){be(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new GR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new YR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class GR{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=gS(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class YR{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function qR(s){let e=!0,t=n("filename\\*","i").exec(s);if(t){t=t[1];let h=l(t);return h=unescape(h),h=d(h),h=u(h),a(h)}if(t=r(s),t){const h=u(t);return a(h)}if(t=n("filename","i").exec(s),t){t=t[1];let h=l(t);return h=u(h),a(h)}function n(h,f){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(h,f){if(h){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const m=new TextDecoder(h,{fatal:!0}),g=jg(f);f=m.decode(g),e=!1}catch{}}return f}function a(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function r(h){const f=[];let m;const g=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=g.exec(h))!==null;){let[,x,S,p]=m;if(x=parseInt(x,10),x in f){if(x===0)break;continue}f[x]=[S,p]}const v=[];for(let x=0;x<f.length&&x in f;++x){let[S,p]=f[x];p=l(p),S&&(p=unescape(p),x===0&&(p=d(p))),v.push(p)}return v.join("")}function l(h){if(h.startsWith('"')){const f=h.slice(1).split('\\"');for(let m=0;m<f.length;++m){const g=f[m].indexOf('"');g!==-1&&(f[m]=f[m].slice(0,g),f.length=m+1),f[m]=f[m].replaceAll(/\\(.)/g,"$1")}h=f.join('"')}return h}function d(h){const f=h.indexOf("'");if(f===-1)return h;const m=h.slice(0,f),v=h.slice(f+1).replace(/^[^']*'/,"");return i(m,v)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,m,g,v){if(g==="q"||g==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,S){return String.fromCharCode(parseInt(S,16))}),i(m,v);try{v=atob(v)}catch{}return i(m,v)})}return""}function sC(s,e){const t=new Headers;if(!s||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function Ox(s){var e;return((e=URL.parse(s))==null?void 0:e.origin)??null}function nC({responseHeaders:s,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(s.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*t)||n||!e||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function iC(s){const e=s.get("Content-Disposition");if(e){let t=qR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(gS(t))return t}return null}function kg(s,e){return new D0(`Unexpected server response (${s}) while retrieving PDF "${e}".`,s,s===404||s===0&&e.startsWith("file:"))}function aC(s){return s===200||s===206}function rC(s,e,t){return{method:"GET",headers:s,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function oC(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(ne(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class XR{constructor(e){F(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=sC(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return be(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new WR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new KR(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class WR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,rC(n,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=Ox(a.url),!aC(a.status))throw kg(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const r=a.headers,{allowRangeRequests:l,suggestedLength:d}=nC({responseHeaders:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=d||this._contentLength,this._filename=iC(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Do("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:oC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class KR{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${n-1}`);const r=i.url;fetch(r,rC(a,this._withCredentials,this._abortController)).then(l=>{const d=Ox(l.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!aC(l.status))throw kg(l.status,r);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:oC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Mb=200,Db=206;function QR(s){const e=s.response;return typeof e!="string"?e:jg(e).buffer}class ZR{constructor({url:e,httpHeaders:t,withCredentials:n}){F(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=sC(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,r]of this.headers)t.setRequestHeader(a,r);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Db):i.expectedStatus=Mb,t.responseType="arraybuffer",be(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const a=i.status||Mb;if(!(a===Mb&&n.expectedStatus===Db)&&a!==n.expectedStatus){n.onError(i.status);return}const l=QR(i);if(a===Db){const d=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);u?n.onDone({begin:parseInt(u[1],10),chunk:l}):(ne('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class JR{constructor(e){this._source=e,this._manager=new ZR(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return be(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new e3(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new t3(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class e3{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Ox(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[d,...u]=l.split(": ");return[d,u.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:r}=nC({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=iC(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=kg(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class t3{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=Ox((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=kg(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const s3=/^[a-z][a-z0-9\-+.]+:/i;function n3(s){if(s3.test(s))return new URL(s);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(s))}class i3{constructor(e){this.source=e,this.url=n3(e.url),be(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return be(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new a3(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new r3(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class a3{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=kg(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Do("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class r3{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const bh=Symbol("INITIAL_DATA");var qs,pm,fv;class lC{constructor(){A(this,pm);A(this,qs,Object.create(null))}get(e,t=null){if(t){const i=N(this,pm,fv).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=o(this,qs)[e];if(!n||n.data===bh)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=o(this,qs)[e];return!!t&&t.data!==bh}delete(e){const t=o(this,qs)[e];return!t||t.data===bh?!1:(delete o(this,qs)[e],!0)}resolve(e,t=null){const n=N(this,pm,fv).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in o(this,qs)){const{data:n}=o(this,qs)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}b(this,qs,Object.create(null))}*[Symbol.iterator](){for(const e in o(this,qs)){const{data:t}=o(this,qs)[e];t!==bh&&(yield[e,t])}}}qs=new WeakMap,pm=new WeakSet,fv=function(e){var t;return(t=o(this,qs))[e]||(t[e]={...Promise.withResolvers(),data:bh})};const o3=1e5,L1=30;var U1,zr,Rs,xm,bm,Nl,Ea,ym,vm,jl,Jd,eu,Ur,tu,wm,su,El,Sm,Am,nu,Cl,Nm,Hr,iu,or,cC,dC,mv,bn,Lp,gv,uC,hC;const Ct=class Ct{constructor({textContentSource:e,container:t,viewport:n}){A(this,or);A(this,zr,Promise.withResolvers());A(this,Rs,null);A(this,xm,!1);A(this,bm,!!((U1=globalThis.FontInspector)!=null&&U1.enabled));A(this,Nl,null);A(this,Ea,null);A(this,ym,0);A(this,vm,0);A(this,jl,null);A(this,Jd,null);A(this,eu,0);A(this,Ur,0);A(this,tu,Object.create(null));A(this,wm,[]);A(this,su,null);A(this,El,[]);A(this,Sm,new WeakMap);A(this,Am,null);var d;if(e instanceof ReadableStream)b(this,su,e);else if(typeof e=="object")b(this,su,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,Rs,b(this,Jd,t)),b(this,Ur,n.scale*Yi.pixelRatio),b(this,eu,n.rotation),b(this,Ea,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:r,pageY:l}=n.rawDims;b(this,Am,[1,0,0,-1,-r,l+a]),b(this,vm,i),b(this,ym,a),N(d=Ct,bn,uC).call(d),bc(t,n),o(this,zr).promise.finally(()=>{o(Ct,iu).delete(this),b(this,Ea,null),b(this,tu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=as.platform;return ue(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{o(this,jl).read().then(({value:t,done:n})=>{if(n){o(this,zr).resolve();return}o(this,Nl)??b(this,Nl,t.lang),Object.assign(o(this,tu),t.styles),N(this,or,cC).call(this,t.items),e()},o(this,zr).reject)};return b(this,jl,o(this,su).getReader()),o(Ct,iu).add(this),e(),o(this,zr).promise}update({viewport:e,onBefore:t=null}){var a;const n=e.scale*Yi.pixelRatio,i=e.rotation;if(i!==o(this,eu)&&(t==null||t(),b(this,eu,i),bc(o(this,Jd),{rotation:i})),n!==o(this,Ur)){t==null||t(),b(this,Ur,n);const r={div:null,properties:null,ctx:N(a=Ct,bn,Lp).call(a,o(this,Nl))};for(const l of o(this,El))r.properties=o(this,Sm).get(l),r.div=l,N(this,or,mv).call(this,r)}}cancel(){var t;const e=new Do("TextLayer task cancelled.");(t=o(this,jl))==null||t.cancel(e).catch(()=>{}),b(this,jl,null),o(this,zr).reject(e)}get textDivs(){return o(this,El)}get textContentItemsStr(){return o(this,wm)}static cleanup(){if(!(o(this,iu).size>0)){o(this,nu).clear();for(const{canvas:e}of o(this,Cl).values())e.remove();o(this,Cl).clear()}}};zr=new WeakMap,Rs=new WeakMap,xm=new WeakMap,bm=new WeakMap,Nl=new WeakMap,Ea=new WeakMap,ym=new WeakMap,vm=new WeakMap,jl=new WeakMap,Jd=new WeakMap,eu=new WeakMap,Ur=new WeakMap,tu=new WeakMap,wm=new WeakMap,su=new WeakMap,El=new WeakMap,Sm=new WeakMap,Am=new WeakMap,nu=new WeakMap,Cl=new WeakMap,Nm=new WeakMap,Hr=new WeakMap,iu=new WeakMap,or=new WeakSet,cC=function(e){var i,a;if(o(this,xm))return;(a=o(this,Ea)).ctx??(a.ctx=N(i=Ct,bn,Lp).call(i,o(this,Nl)));const t=o(this,El),n=o(this,wm);for(const r of e){if(t.length>o3){ne("Ignoring additional textDivs for performance reasons."),b(this,xm,!0);return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const l=o(this,Rs);b(this,Rs,document.createElement("span")),o(this,Rs).classList.add("markedContent"),r.id&&o(this,Rs).setAttribute("id",`${r.id}`),l.append(o(this,Rs))}else r.type==="endMarkedContent"&&b(this,Rs,o(this,Rs).parentNode);continue}n.push(r.str),N(this,or,dC).call(this,r)}},dC=function(e){var x;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};o(this,El).push(t);const i=$.transform(o(this,Am),e.transform);let a=Math.atan2(i[1],i[0]);const r=o(this,tu)[e.fontName];r.vertical&&(a+=Math.PI/2);let l=o(this,bm)&&r.fontSubstitution||r.fontFamily;l=Ct.fontFamilyMap.get(l)||l;const d=Math.hypot(i[2],i[3]),u=d*N(x=Ct,bn,hC).call(x,l,r,o(this,Nl));let h,f;a===0?(h=i[4],f=i[5]-u):(h=i[4]+u*Math.sin(a),f=i[5]-u*Math.cos(a));const m="calc(var(--total-scale-factor) *",g=t.style;o(this,Rs)===o(this,Jd)?(g.left=`${(100*h/o(this,vm)).toFixed(2)}%`,g.top=`${(100*f/o(this,ym)).toFixed(2)}%`):(g.left=`${m}${h.toFixed(2)}px)`,g.top=`${m}${f.toFixed(2)}px)`),g.fontSize=`${m}${(o(Ct,Hr)*d).toFixed(2)}px)`,g.fontFamily=l,n.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,o(this,bm)&&(t.dataset.fontName=r.fontSubstitutionLoadedName||e.fontName),a!==0&&(n.angle=a*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const S=Math.abs(e.transform[0]),p=Math.abs(e.transform[3]);S!==p&&Math.max(S,p)/Math.min(S,p)>1.5&&(v=!0)}if(v&&(n.canvasWidth=r.vertical?e.height:e.width),o(this,Sm).set(t,n),o(this,Ea).div=t,o(this,Ea).properties=n,N(this,or,mv).call(this,o(this,Ea)),n.hasText&&o(this,Rs).append(t),n.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),o(this,Rs).append(S)}},mv=function(e){var l;const{div:t,properties:n,ctx:i}=e,{style:a}=t;let r="";if(o(Ct,Hr)>1&&(r=`scale(${1/o(Ct,Hr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=a,{canvasWidth:u,fontSize:h}=n;N(l=Ct,bn,gv).call(l,i,h*o(this,Ur),d);const{width:f}=i.measureText(t.textContent);f>0&&(r=`scaleX(${u*o(this,Ur)/f}) ${r}`)}n.angle!==0&&(r=`rotate(${n.angle}deg) ${r}`),r.length>0&&(a.transform=r)},bn=new WeakSet,Lp=function(e=null){let t=o(this,Cl).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),o(this,Cl).set(e,t),o(this,Nm).set(t,{size:0,family:""})}return t},gv=function(e,t,n){const i=o(this,Nm).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},uC=function(){if(o(this,Hr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,Hr,e.getBoundingClientRect().height),e.remove()},hC=function(e,t,n){const i=o(this,nu).get(e);if(i)return i;const a=N(this,bn,Lp).call(this,n);a.canvas.width=a.canvas.height=L1,N(this,bn,gv).call(this,a,L1,e);const r=a.measureText(""),l=r.fontBoundingBoxAscent,d=Math.abs(r.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let u=.8;return l?u=l/(l+d):(as.platform.isFirefox&&ne("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),o(this,nu).set(e,u),u},A(Ct,bn),A(Ct,nu,new Map),A(Ct,Cl,new Map),A(Ct,Nm,new WeakMap),A(Ct,Hr,null),A(Ct,iu,new Set);let Tf=Ct;const l3=100;function fC(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const e=new pv,{docId:t}=e,n=s.url?gR(s.url):null,i=s.data?pR(s.data):null,a=s.httpHeaders||null,r=s.withCredentials===!0,l=s.password??null,d=s.range instanceof mC?s.range:null,u=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:2**16;let h=s.worker instanceof _f?s.worker:null;const f=s.verbosity,m=typeof s.docBaseUrl=="string"&&!Lx(s.docBaseUrl)?s.docBaseUrl:null,g=Qg(s.cMapUrl),v=s.cMapPacked!==!1,x=s.CMapReaderFactory||(ys?NR:v1),S=Qg(s.iccUrl),p=Qg(s.standardFontDataUrl),y=s.StandardFontDataFactory||(ys?jR:w1),w=Qg(s.wasmUrl),j=s.WasmFactory||(ys?ER:S1),C=s.stopAtErrors!==!0,T=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,E=s.isEvalSupported!==!1,_=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!ys,M=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!ys&&(as.platform.isFirefox||!globalThis.chrome),D=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,R=typeof s.disableFontFace=="boolean"?s.disableFontFace:ys,L=s.fontExtraProperties===!0,X=s.enableXfa===!0,W=s.ownerDocument||globalThis.document,ee=s.disableRange===!0,O=s.disableStream===!0,I=s.disableAutoFetch===!0,U=s.pdfBug===!0,P=s.CanvasFactory||(ys?AR:vR),G=s.FilterFactory||(ys?SR:wR),te=s.enableHWA===!0,Q=s.useWasm!==!1,se=d?d.length:s.length??NaN,ve=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!ys&&!R,rt=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:!!(x===v1&&y===w1&&j===S1&&g&&p&&w&&Th(g,document.baseURI)&&Th(p,document.baseURI)&&Th(w,document.baseURI)),Xn=null;VD(f);const he={canvasFactory:new P({ownerDocument:W,enableHWA:te}),filterFactory:new G({docId:t,ownerDocument:W}),cMapReaderFactory:rt?null:new x({baseUrl:g,isCompressed:v}),standardFontDataFactory:rt?null:new y({baseUrl:p}),wasmFactory:rt?null:new j({baseUrl:w})};h||(h=_f.create({verbosity:f,port:zi.workerPort}),e._worker=h);const oh={docId:t,apiVersion:"5.4.296",data:i,password:l,disableAutoFetch:I,rangeChunkSize:u,length:se,docBaseUrl:m,enableXfa:X,evaluatorOptions:{maxImageSize:T,disableFontFace:R,ignoreErrors:C,isEvalSupported:E,isOffscreenCanvasSupported:_,isImageDecoderSupported:M,canvasMaxAreaInBytes:D,fontExtraProperties:L,useSystemFonts:ve,useWasm:Q,useWorkerFetch:rt,cMapUrl:g,iccUrl:S,standardFontDataUrl:p,wasmUrl:w}},Bx={ownerDocument:W,pdfBug:U,styleElement:Xn,loadingParams:{disableAutoFetch:I,enableXfa:X}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const lh=h.messageHandler.sendWithPromise("GetDocRequest",oh,i?[i.buffer]:null);let Io;if(d)Io=new $R(d,{disableRange:ee,disableStream:O});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ix=Th(n)?XR:ys?i3:JR;Io=new Ix({url:n,length:se,httpHeaders:a,withCredentials:r,rangeChunkSize:u,disableRange:ee,disableStream:O})}return lh.then(Ix=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const _S=new Lh(t,Ix,h.port),pT=new u3(_S,e,Io,Bx,he,te);e._transport=pT,_S.send("Ready",null)})}).catch(e._capability.reject),e}var ex;const tx=class tx{constructor(){F(this,"_capability",Promise.withResolvers());F(this,"_transport",null);F(this,"_worker",null);F(this,"docId",`d${Et(tx,ex)._++}`);F(this,"destroyed",!1);F(this,"onPassword",null);F(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(a){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,a}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};ex=new WeakMap,A(tx,ex,0);let pv=tx;var Tl,jm,Em,Cm,Tm;class mC{constructor(e,t,n=!1,i=null){A(this,Tl,Promise.withResolvers());A(this,jm,[]);A(this,Em,[]);A(this,Cm,[]);A(this,Tm,[]);this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){o(this,Tm).push(e)}addProgressListener(e){o(this,Cm).push(e)}addProgressiveReadListener(e){o(this,Em).push(e)}addProgressiveDoneListener(e){o(this,jm).push(e)}onDataRange(e,t){for(const n of o(this,Tm))n(e,t)}onDataProgress(e,t){o(this,Tl).promise.then(()=>{for(const n of o(this,Cm))n(e,t)})}onDataProgressiveRead(e){o(this,Tl).promise.then(()=>{for(const t of o(this,Em))t(e)})}onDataProgressiveDone(){o(this,Tl).promise.then(()=>{for(const e of o(this,jm))e()})}transportReady(){o(this,Tl).resolve()}requestDataRange(e,t){He("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Tl=new WeakMap,jm=new WeakMap,Em=new WeakMap,Cm=new WeakMap,Tm=new WeakMap;class c3{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ue(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ca,_l,Uh;class d3{constructor(e,t,n,i=!1){A(this,_l);A(this,Ca,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new f1:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new lC,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:a=!1}={}){return new Cg({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ue(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:a=br.ENABLE,transform:r=null,background:l=null,optionalContentConfigPromise:d=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:f=null,isEditing:m=!1,recordOperations:g=!1,operationsFilter:v=null}){var M,D,R;(M=this._stats)==null||M.time("Overall");const x=this._transport.getRenderingIntent(i,a,f,m),{renderingIntent:S,cacheKey:p}=x;b(this,Ca,!1),d||(d=this._transport.getOptionalContentConfig(S));let y=this._intentStates.get(p);y||(y=Object.create(null),this._intentStates.set(p,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const w=!!(S&on.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(x));const j=!!(this._pdfBug&&((R=globalThis.StepperManager)!=null&&R.enabled)),C=!this.recordedBBoxes&&(g||j),T=L=>{var X,W;if(y.renderTasks.delete(E),C){const ee=(X=E.gfx)==null?void 0:X.dependencyTracker.take();ee&&(E.stepper&&E.stepper.setOperatorBBoxes(ee,E.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=ee))}w&&b(this,Ca,!0),N(this,_l,Uh).call(this),L?(E.capability.reject(L),this._abortOperatorList({intentState:y,reason:L instanceof Error?L:new Error(L)})):E.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(W=globalThis.Stats)!=null&&W.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},E=new xv({callback:T,params:{canvas:t,canvasContext:e,dependencyTracker:C?new TR(t,y.operatorList.length,j):null,viewport:n,transform:r,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:v});(y.renderTasks||(y.renderTasks=new Set)).add(E);const _=E.task;return Promise.all([y.displayReadyCapability.promise,d]).then(([L,X])=>{var W;if(this.destroyed){T();return}if((W=this._stats)==null||W.time("Rendering"),!(X.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");E.initializeGraphics({transparency:L,optionalContentConfig:X}),E.operatorListChanged()}).catch(T),_}getOperatorList({intent:e="display",annotationMode:t=br.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var u;function a(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(d))}const r=this._transport.getRenderingIntent(e,t,n,i,!0);let l=this._intentStates.get(r.cacheKey);l||(l=Object.create(null),this._intentStates.set(r.cacheKey,l));let d;return l.opListReadCapability||(d=Object.create(null),d.operatorListChanged=a,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(d),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(r)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Cf.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function a(){r.read().then(function({value:d,done:u}){if(u){n(l);return}l.lang??(l.lang=d.lang),Object.assign(l.styles,d.styles),l.items.push(...d.items),a()},i)}const r=t.getReader(),l={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),b(this,Ca,!1),Promise.all(e)}cleanup(e=!1){b(this,Ca,!0);const t=N(this,_l,Uh).call(this);return e&&t&&this._stats&&(this._stats=new f1),t}_startRenderPage(e,t){var i,a;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&N(this,_l,Uh).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:a,transfer:r}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:i},r).getReader(),u=this._intentStates.get(t);u.streamReader=d;const h=()=>{d.read().then(({value:f,done:m})=>{if(m){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,u),h())},f=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const m of u.renderTasks)m.operatorListChanged();N(this,_l,Uh).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(f);else if(u.opListReadCapability)u.opListReadCapability.reject(f);else throw f}})};h()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof mS){let i=l3;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Do(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Ca=new WeakMap,_l=new WeakSet,Uh=function(){if(!o(this,Ca)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,Ca,!1),!0};var Vr,ni,Ta,kl,sx,Ml,Dl,Ss,Op,gC,pC,Hh,au,Pp;const Ze=class Ze{constructor({name:e=null,port:t=null,verbosity:n=$D()}={}){A(this,Ss);A(this,Vr,Promise.withResolvers());A(this,ni,null);A(this,Ta,null);A(this,kl,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(o(Ze,Dl).has(t))throw new Error("Cannot use more than one PDFWorker per port.");o(Ze,Dl).set(t,this),N(this,Ss,gC).call(this,t)}else N(this,Ss,pC).call(this)}get promise(){return o(this,Vr).promise}get port(){return o(this,Ta)}get messageHandler(){return o(this,ni)}destroy(){var e,t;this.destroyed=!0,(e=o(this,kl))==null||e.terminate(),b(this,kl,null),o(Ze,Dl).delete(o(this,Ta)),b(this,Ta,null),(t=o(this,ni))==null||t.destroy(),b(this,ni,null)}static create(e){const t=o(this,Dl).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Ze(e)}static get workerSrc(){if(zi.workerSrc)return zi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ue(this,"_setupFakeWorkerGlobal",(async()=>o(this,au,Pp)?o(this,au,Pp):(await import(this.workerSrc)).WorkerMessageHandler)())}};Vr=new WeakMap,ni=new WeakMap,Ta=new WeakMap,kl=new WeakMap,sx=new WeakMap,Ml=new WeakMap,Dl=new WeakMap,Ss=new WeakSet,Op=function(){o(this,Vr).resolve(),o(this,ni).send("configure",{verbosity:this.verbosity})},gC=function(e){b(this,Ta,e),b(this,ni,new Lh("main","worker",e)),o(this,ni).on("ready",()=>{}),N(this,Ss,Op).call(this)},pC=function(){if(o(Ze,Ml)||o(Ze,au,Pp)){N(this,Ss,Hh).call(this);return}let{workerSrc:e}=Ze;try{Ze._isSameOrigin(window.location,e)||(e=Ze._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Lh("main","worker",t),i=()=>{a.abort(),n.destroy(),t.terminate(),this.destroyed?o(this,Vr).reject(new Error("Worker was destroyed")):N(this,Ss,Hh).call(this)},a=new AbortController;t.addEventListener("error",()=>{o(this,kl)||i()},{signal:a.signal}),n.on("test",l=>{if(a.abort(),this.destroyed||!l){i();return}b(this,ni,n),b(this,Ta,t),b(this,kl,t),N(this,Ss,Op).call(this)}),n.on("ready",l=>{if(a.abort(),this.destroyed){i();return}try{r()}catch{N(this,Ss,Hh).call(this)}});const r=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};r();return}catch{Rx("The worker has been disabled.")}N(this,Ss,Hh).call(this)},Hh=function(){o(Ze,Ml)||(ne("Setting up fake worker."),b(Ze,Ml,!0)),Ze._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){o(this,Vr).reject(new Error("Worker was destroyed"));return}const t=new yR;b(this,Ta,t);const n=`fake${Et(Ze,sx)._++}`,i=new Lh(n+"_worker",n,t);e.setup(i,t),b(this,ni,new Lh(n,n+"_worker",t)),N(this,Ss,Op).call(this)}).catch(e=>{o(this,Vr).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},au=new WeakSet,Pp=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},A(Ze,au),A(Ze,sx,0),A(Ze,Ml,!1),A(Ze,Dl,new WeakMap),ys&&(b(Ze,Ml,!0),zi.workerSrc||(zi.workerSrc="./pdf.worker.mjs")),Ze._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(t,n);return n.origin===i.origin},Ze._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Ze.fromPort=e=>{if(sR("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ze.create(e)};let _f=Ze;var _a,ki,ru,ou,ka,Rl,Vh;class u3{constructor(e,t,n,i,a,r){A(this,Rl);A(this,_a,new Map);A(this,ki,new Map);A(this,ru,new Map);A(this,ou,new Map);A(this,ka,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new lC,this.fontLoader=new fR({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=r,this.setupMessageHandler()}get annotationStorage(){return ue(this,"annotationStorage",new pS)}getRenderingIntent(e,t=br.ENABLE,n=null,i=!1,a=!1){let r=on.DISPLAY,l=ev;switch(e){case"any":r=on.ANY;break;case"display":break;case"print":r=on.PRINT;break;default:ne(`getRenderingIntent - invalid intent: ${e}`)}const d=r&on.PRINT&&n instanceof YE?n:this.annotationStorage;switch(t){case br.DISABLE:r+=on.ANNOTATIONS_DISABLE;break;case br.ENABLE:break;case br.ENABLE_FORMS:r+=on.ANNOTATIONS_FORMS;break;case br.ENABLE_STORAGE:r+=on.ANNOTATIONS_STORAGE,l=d.serializable;break;default:ne(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(r+=on.IS_EDITING),a&&(r+=on.OPLIST);const{ids:u,hash:h}=d.modifiedIds,f=[r,l.hash,h];return{renderingIntent:r,cacheKey:f.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=o(this,ka))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of o(this,ki).values())e.push(i._destroy());o(this,ki).clear(),o(this,ru).clear(),o(this,ou).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,a;this.commonObjs.clear(),this.fontLoader.clear(),o(this,_a).clear(),this.filterFactory.destroy(),Tf.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Do("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{be(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:r}){if(r){i.close();return}be(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(r=>{if(!this.destroyed)throw r})}}),e.on("ReaderHeadersReady",async n=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:r}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=d=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:r}}),e.on("GetRangeReader",(n,i)=>{be(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:r,done:l}){if(l){i.close();return}be(r instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{a.cancel(r),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new c3(n,this))}),e.on("DocException",n=>{t._capability.reject(Cs(n))}),e.on("PasswordRequest",n=>{b(this,ka,Promise.withResolvers());try{if(!t.onPassword)throw Cs(n);const i=a=>{a instanceof Error?o(this,ka).reject(a):o(this,ka).resolve({password:a})};t.onPassword(i,n.code)}catch(i){o(this,ka).reject(i)}return o(this,ka).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;o(this,ki).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,a])=>{var r;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in a){const f=a.error;ne(`Error during font loading: ${f}`),this.commonObjs.resolve(n,f);break}const l=new uv(a),d=this._params.pdfBug&&((r=globalThis.FontInspector)!=null&&r.enabled)?(f,m)=>globalThis.FontInspector.fontAdded(f,m):null,u=new mR(l,d,a.extra,a.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:h}=a;be(h,"The imageRef must be defined.");for(const f of o(this,ki).values())for(const[,m]of f.objs)if((m==null?void 0:m.ref)===h)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,a,r])=>{var d;if(this.destroyed)return;const l=o(this,ki).get(i);if(!l.objs.has(n)){if(l._intentStates.size===0){(d=r==null?void 0:r.bitmap)==null||d.close();return}switch(a){case"Image":case"Pattern":l.objs.resolve(n,r);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&ne("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=o(this,ru).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&o(this,ou).set(a.refStr,e);const r=new d3(t,a,this,this._params.pdfBug);return o(this,ki).set(t,r),r});return o(this,ru).set(t,i),i}getPageIndex(e){return tv(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return N(this,Rl,Vh).call(this,"GetFieldObjects")}hasJSActions(){return N(this,Rl,Vh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return N(this,Rl,Vh).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return N(this,Rl,Vh).call(this,"GetOptionalContentConfig").then(t=>new VR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=o(this,_a).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,r;return{info:i[0],metadata:i[1]?new UR(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((r=this._fullReader)==null?void 0:r.contentLength)??null}});return o(this,_a).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of o(this,ki).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),o(this,_a).clear(),this.filterFactory.destroy(!0),Tf.cleanup()}}cachedPageNumber(e){if(!tv(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return o(this,ou).get(t)??null}}_a=new WeakMap,ki=new WeakMap,ru=new WeakMap,ou=new WeakMap,ka=new WeakMap,Rl=new WeakSet,Vh=function(e,t=null){const n=o(this,_a).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return o(this,_a).set(e,i),i};var $r;class h3{constructor(e){A(this,$r,null);F(this,"onContinue",null);F(this,"onError",null);b(this,$r,e)}get promise(){return o(this,$r).capability.promise}cancel(e=0){o(this,$r).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=o(this,$r).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=o(this,$r);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}$r=new WeakMap;var Gr,Ll;const Xo=class Xo{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:a,operatorList:r,pageIndex:l,canvasFactory:d,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:f=!1,pageColors:m=null,enableHWA:g=!1,operationsFilter:v=null}){A(this,Gr,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=l,this.canvasFactory=d,this.filterFactory=u,this._pdfBug=f,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new h3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=g,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var d,u;if(this.cancelled)return;if(this._canvas){if(o(Xo,Ll).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");o(Xo,Ll).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:a,dependencyTracker:r}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new md(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,r),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var n,i,a;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),o(this,Gr)&&(window.cancelAnimationFrame(o(this,Gr)),b(this,Gr,null)),o(Xo,Ll).delete(this._canvas),e||(e=new mS(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(a=(i=this.task).onError)==null||a.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,Gr,window.requestAnimationFrame(()=>{b(this,Gr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),o(Xo,Ll).delete(this._canvas),this.callback())))}};Gr=new WeakMap,Ll=new WeakMap,A(Xo,Ll,new WeakSet);let xv=Xo;const f3="5.4.296",m3="f56dc8601";var Xs,Ol,lu,kt,_m,cu,Ma,km,Yr,ii,Mm,Be,bv,yv,vv,$o,xC,ur;const Ts=class Ts{constructor({editor:e=null,uiManager:t=null}){A(this,Be);A(this,Xs,null);A(this,Ol,null);A(this,lu);A(this,kt,null);A(this,_m,!1);A(this,cu,!1);A(this,Ma,null);A(this,km);A(this,Yr,null);A(this,ii,null);var n,i;e?(b(this,cu,!1),b(this,Ma,e)):b(this,cu,!0),b(this,ii,(e==null?void 0:e._uiManager)||t),b(this,km,o(this,ii)._eventBus),b(this,lu,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((i=o(this,ii))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),o(Ts,Mm)||b(Ts,Mm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ue(this,"_keyboardManager",new _g([[["Escape","mac+Escape"],Ts.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ts.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ts.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ts.prototype._moveToPrevious],[["Home","mac+Home"],Ts.prototype._moveToBeginning],[["End","mac+End"],Ts.prototype._moveToEnd]]))}renderButton(){const e=b(this,Xs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",o(this,Ma)&&(e.ariaControls=`${o(this,Ma).id}_colorpicker_dropdown`);const t=o(this,ii)._signal;e.addEventListener("click",N(this,Be,$o).bind(this),{signal:t}),e.addEventListener("keydown",N(this,Be,vv).bind(this),{signal:t});const n=b(this,Ol,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=o(this,lu),e.append(n),e}renderMainDropdown(){const e=b(this,kt,N(this,Be,bv).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===o(this,Xs)){N(this,Be,$o).call(this,e);return}const t=e.target.getAttribute("data-color");t&&N(this,Be,yv).call(this,t,e)}_moveToNext(e){var t,n;if(!o(this,Be,ur)){N(this,Be,$o).call(this,e);return}if(e.target===o(this,Xs)){(t=o(this,kt).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=o(this,kt))==null?void 0:t.firstChild)||e.target===o(this,Xs)){o(this,Be,ur)&&this._hideDropdownFromKeyboard();return}o(this,Be,ur)||N(this,Be,$o).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!o(this,Be,ur)){N(this,Be,$o).call(this,e);return}(t=o(this,kt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!o(this,Be,ur)){N(this,Be,$o).call(this,e);return}(t=o(this,kt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=o(this,kt))==null||e.classList.add("hidden"),o(this,Xs).ariaExpanded="false",(t=o(this,Yr))==null||t.abort(),b(this,Yr,null)}_hideDropdownFromKeyboard(){var e;if(!o(this,cu)){if(!o(this,Be,ur)){(e=o(this,Ma))==null||e.unselect();return}this.hideDropdown(),o(this,Xs).focus({preventScroll:!0,focusVisible:o(this,_m)})}}updateColor(e){if(o(this,Ol)&&(o(this,Ol).style.backgroundColor=e),!o(this,kt))return;const t=o(this,ii).highlightColors.values();for(const n of o(this,kt).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=o(this,Xs))==null||e.remove(),b(this,Xs,null),b(this,Ol,null),(t=o(this,kt))==null||t.remove(),b(this,kt,null)}};Xs=new WeakMap,Ol=new WeakMap,lu=new WeakMap,kt=new WeakMap,_m=new WeakMap,cu=new WeakMap,Ma=new WeakMap,km=new WeakMap,Yr=new WeakMap,ii=new WeakMap,Mm=new WeakMap,Be=new WeakSet,bv=function(){const e=document.createElement("div"),t=o(this,ii)._signal;e.addEventListener("contextmenu",qn,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),o(this,Ma)&&(e.id=`${o(this,Ma).id}_colorpicker_dropdown`);for(const[n,i]of o(this,ii).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=n,a.setAttribute("data-l10n-id",o(Ts,Mm)[n]);const r=document.createElement("span");a.append(r),r.className="swatch",r.style.backgroundColor=i,a.ariaSelected=i===o(this,lu),a.addEventListener("click",N(this,Be,yv).bind(this,i),{signal:t}),e.append(a)}return e.addEventListener("keydown",N(this,Be,vv).bind(this),{signal:t}),e},yv=function(e,t){t.stopPropagation(),o(this,km).dispatch("switchannotationeditorparams",{source:this,type:xe.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},vv=function(e){Ts._keyboardManager.exec(this,e)},$o=function(e){if(o(this,Be,ur)){this.hideDropdown();return}if(b(this,_m,e.detail===0),o(this,Yr)||(b(this,Yr,new AbortController),window.addEventListener("pointerdown",N(this,Be,xC).bind(this),{signal:o(this,ii).combinedSignal(o(this,Yr))})),o(this,Xs).ariaExpanded="true",o(this,kt)){o(this,kt).classList.remove("hidden");return}const t=b(this,kt,N(this,Be,bv).call(this));o(this,Xs).append(t)},xC=function(e){var t;(t=o(this,kt))!=null&&t.contains(e.target)||this.hideDropdown()},ur=function(){return o(this,kt)&&!o(this,kt).classList.contains("hidden")},A(Ts,Mm,null);let F0=Ts;var Mi,Dm,du,Rm;const Wo=class Wo{constructor(e){A(this,Mi,null);A(this,Dm,null);A(this,du,null);b(this,Dm,e),b(this,du,e._uiManager),o(Wo,Rm)||b(Wo,Rm,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(o(this,Mi))return o(this,Mi);const{editorType:e,colorType:t,colorValue:n}=o(this,Dm),i=b(this,Mi,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",o(Wo,Rm)[e]),i.addEventListener("input",()=>{o(this,du).updateParams(t,i.value)},{signal:o(this,du)._signal}),i}update(e){o(this,Mi)&&(o(this,Mi).value=e)}destroy(){var e;(e=o(this,Mi))==null||e.remove(),b(this,Mi,null)}hideDropdown(){}};Mi=new WeakMap,Dm=new WeakMap,du=new WeakMap,Rm=new WeakMap,A(Wo,Rm,null);let z0=Wo;function O1(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function yh(s){return Math.max(0,Math.min(255,255*s))}class P1{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=yh(e),[e,e,e]}static G_HTML([e]){const t=O1(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(yh)}static RGB_HTML(e){return`#${e.map(O1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[yh(1-Math.min(1,e+i)),yh(1-Math.min(1,n+i)),yh(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,a=1-t,r=1-n,l=Math.min(i,a,r);return["CMYK",i,a,r,l]}}class g3{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){He("Abstract method `_createSVG` called.")}}class U0 extends g3{_createSVG(e){return document.createElementNS(na,e)}}const p3=9,vc=new WeakSet,x3=new Date().getTimezoneOffset()*60*1e3;class B1{static create(e){switch(e.data.annotationType){case yt.LINK:return new yS(e);case yt.TEXT:return new y3(e);case yt.WIDGET:switch(e.data.fieldType){case"Tx":return new v3(e);case"Btn":return e.data.radioButton?new vC(e):e.data.checkBox?new S3(e):new A3(e);case"Ch":return new N3(e);case"Sig":return new w3(e)}return new Tc(e);case yt.POPUP:return new Sv(e);case yt.FREETEXT:return new jC(e);case yt.LINE:return new E3(e);case yt.SQUARE:return new C3(e);case yt.CIRCLE:return new T3(e);case yt.POLYLINE:return new EC(e);case yt.CARET:return new k3(e);case yt.INK:return new vS(e);case yt.POLYGON:return new _3(e);case yt.HIGHLIGHT:return new CC(e);case yt.UNDERLINE:return new M3(e);case yt.SQUIGGLY:return new D3(e);case yt.STRIKEOUT:return new R3(e);case yt.STAMP:return new TC(e);case yt.FILEATTACHMENT:return new L3(e);default:return new at(e)}}}var Pl,uu,Mn,Lm,wv;const CS=class CS{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){A(this,Lm);A(this,Pl,null);A(this,uu,!1);A(this,Mn,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return CS._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,t=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var l;const e=(l=this.annotationStorage)==null?void 0:l.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:n,rect:i}=this.data;let a=-1/0,r=-1/0;if((t==null?void 0:t.length)>=8){for(let d=0;d<t.length;d+=8)t[d+1]>r?(r=t[d+1],a=t[d+2]):t[d+1]===r&&(a=Math.max(a,t[d+2]));return[a,r]}if((n==null?void 0:n.length)>=1){for(const d of n)for(let u=0,h=d.length;u<h;u+=2)d[u+1]>r?(r=d[u+1],a=d[u]):d[u+1]===r&&(a=Math.max(a,d[u]));if(a!==1/0)return[a,r]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:r}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-a)/n,e[1]=100*(e[1]-r)/i,e}get commentText(){var t,n,i;const{data:e}=this;return((n=(t=this.annotationStorage.getRawValue(`${jf}${e.id}`))==null?void 0:t.popup)==null?void 0:n.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${jf}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=o(this,Mn))==null?void 0:e.popup)||this.popup)==null||t.remove(),b(this,Mn,this.popup=null)}updateEdited(e){var a;if(!this.container)return;e.rect&&(o(this,Pl)||b(this,Pl,{rect:this.data.rect.slice(0)}));const{rect:t,popup:n}=e;t&&N(this,Lm,wv).call(this,t);let i=((a=o(this,Mn))==null?void 0:a.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=o(this,Mn).popup),i&&(i.updateEdited(e),n!=null&&n.deleted&&(i.remove(),b(this,Mn,null),this.popup=null))}resetEdited(){var e;o(this,Pl)&&(N(this,Lm,wv).call(this,o(this,Pl).rect),(e=o(this,Mn))==null||e.popup.resetEdited(),b(this,Pl,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),!(this instanceof Tc)&&!(this instanceof yS)&&(a.tabIndex=0);const{style:r}=a;if(r.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof Sv){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:l,height:d}=this;if(!e&&t.borderStyle.width>0){r.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(x>0||S>0){const y=`calc(${x}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;r.borderRadius=y}else if(this instanceof vC){const y=`calc(${l}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;r.borderRadius=y}switch(t.borderStyle.style){case Oc.SOLID:r.borderStyle="solid";break;case Oc.DASHED:r.borderStyle="dashed";break;case Oc.BEVELED:ne("Unimplemented border style: beveled");break;case Oc.INSET:ne("Unimplemented border style: inset");break;case Oc.UNDERLINE:r.borderBottomStyle="solid";break}const p=t.borderColor||null;p?(b(this,uu,!0),r.borderColor=$.makeHexColor(p[0]|0,p[1]|0,p[2]|0)):r.borderWidth=0}const u=$.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:f,pageX:m,pageY:g}=i.rawDims;r.left=`${100*(u[0]-m)/h}%`,r.top=`${100*(u[1]-g)/f}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(r.width=`${100*l/h}%`,r.height=`${100*d/f}%`):this.setRotation(v,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:r}=this;e%180!==0&&([a,r]=[r,a]),t.style.width=`${100*a/n}%`,t.style.height=`${100*r/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const a=i.detail[t],r=a[0],l=a.slice(1);i.target.style[n]=P1[`${r}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:P1[`${r}_rgb`](l)})};return ue(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const a=e[i]||n[i];a==null||a(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,a]of Object.entries(t)){const r=n[i];if(r){const l={detail:{[i]:a},target:e};r(l),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,a]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,S,p,y]=e.subarray(2,6);if(i===x&&a===S&&t===p&&n===y)return}const{style:r}=this.container;let l;if(o(this,uu)){const{borderColor:x,borderWidth:S}=r;r.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const d=i-t,u=a-n,{svgFactory:h}=this,f=h.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const m=h.createElement("defs");f.append(m);const g=h.createElement("clipPath"),v=`clippath_${this.data.id}`;g.setAttribute("id",v),g.setAttribute("clipPathUnits","objectBoundingBox"),m.append(g);for(let x=2,S=e.length;x<S;x+=8){const p=e[x],y=e[x+1],w=e[x+2],j=e[x+3],C=h.createElement("rect"),T=(w-t)/d,E=(a-y)/u,_=(p-w)/d,M=(y-j)/u;C.setAttribute("x",T),C.setAttribute("y",E),C.setAttribute("width",_),C.setAttribute("height",M),g.append(C),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${E}" width="${_}" height="${M}"/>`)}o(this,uu)&&(l.push("</g></svg>')"),r.backgroundImage=l.join("")),this.container.append(f),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate);const a=b(this,Mn,new Sv({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(a.render())}get hasPopupElement(){return!!(o(this,Mn)||this.popup||this.data.popupRef)}get extraPopupElement(){return o(this,Mn)}render(){He("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:r,exportValues:l}of i){if(a===-1||r===t)continue;const d=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${r}"]`);if(u&&!vc.has(u)){ne(`_getElementsByName - element not allowed: ${r}`);continue}n.push({id:r,exportValue:d,domElement:u})}return n}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,r=i.getAttribute("data-element-id");r!==t&&vc.has(i)&&n.push({id:r,exportValue:a,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Pl=new WeakMap,uu=new WeakMap,Mn=new WeakMap,Lm=new WeakSet,wv=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:r,pageX:l,pageY:d}}}}=this;n==null||n.splice(0,4,...e),t.left=`${100*(e[0]-l)/a}%`,t.top=`${100*(r-e[3]+d)/r}%`,i===0?(t.width=`${100*(e[2]-e[0])/a}%`,t.height=`${100*(e[3]-e[1])/r}%`):this.setRotation(i)};let at=CS;class b3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var un,Go,bC,yC;class yS extends at{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});A(this,un);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let a=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),a=!0):t.attachment?(N(this,un,bC).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),a=!0):t.setOCGState?(N(this,un,yC).call(this,i,t.setOCGState,t.overlaidText),a=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),a=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(t,n,i=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&N(this,un,Go).call(this),i&&(t.title=i)}_bindNamedAction(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(t.title=i),N(this,un,Go).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const r=i.get(a);r&&(t[r]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),N(this,un,Go).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),N(this,un,Go).call(this),!this._fieldObjects){ne('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var f;i==null||i();const{fields:a,refs:r,include:l}=n,d=[];if(a.length!==0||r.length!==0){const m=new Set(r);for(const g of a){const v=this._fieldObjects[g]||[];for(const{id:x}of v)m.add(x)}for(const g of Object.values(this._fieldObjects))for(const v of g)m.has(v.id)===l&&d.push(v)}else for(const m of Object.values(this._fieldObjects))d.push(...m);const u=this.annotationStorage,h=[];for(const m of d){const{id:g}=m;switch(h.push(g),m.type){case"text":{const x=m.defaultValue||"";u.setValue(g,{value:x});break}case"checkbox":case"radiobutton":{const x=m.defaultValue===m.exportValues;u.setValue(g,{value:x});break}case"combobox":case"listbox":{const x=m.defaultValue||"";u.setValue(g,{value:x});break}default:continue}const v=document.querySelector(`[data-element-id="${g}"]`);if(v){if(!vc.has(v)){ne(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}un=new WeakSet,Go=function(){this.container.setAttribute("data-internal-link","")},bC=function(t,n,i="",a=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:i&&(t.title=i),t.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(n.content,n.filename,a),!1},N(this,un,Go).call(this)},yC=function(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(t.title=i),N(this,un,Go).call(this)};class y3 extends at{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Tc extends at{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return as.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,a){n.includes("mouse")?e.addEventListener(n,r=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):e.addEventListener(n,r=>{var l;if(n==="blur"){if(!t.focused||!r.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}a&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(r)}}))})}_setEventListeners(e,t,n,i){var a,r,l;for(const[d,u]of n)(u==="Action"||(a=this.data.actions)!=null&&a[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,d,u,i),u==="Focus"&&!((r=this.data.actions)!=null&&r.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":$.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||p3,a=e.style;let r;const l=2,d=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(u/(jb*i))||1,f=u/h;r=Math.min(i,d(f/jb))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);r=Math.min(i,d(u/jb))}a.fontSize=`calc(${r}px * var(--total-scale-factor))`,a.color=$.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class v3 extends Tc{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const a=this.annotationStorage;for(const r of this._getElementsByName(e.name,e.id))r.domElement&&(r.domElement[t]=n),a.setValue(r.id,{[i]:n})}render(){var i,a;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let l=r.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&l.length>d&&(l=l.slice(0,d));let u=r.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),vc.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:m,timeStep:g}=this.data,v=!!m&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",S=>{e.setValue(t,{value:S.target.value}),this.setPropertyOnSiblings(n,"value",S.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",S=>{const p=this.data.defaultFieldValue??"";n.value=h.userValue=p,h.formattedValue=null});let x=S=>{const{formattedValue:p}=h;p!=null&&(S.target.value=p),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{var w;if(h.focused)return;const{target:y}=p;if(v&&(y.type=m,g&&(y.step=g)),h.userValue){const j=h.userValue;if(v)if(m==="time"){const C=new Date(j),T=[C.getHours(),C.getMinutes(),C.getSeconds()];y.value=T.map(E=>E.toString().padStart(2,"0")).join(":")}else y.value=new Date(j-x3).toISOString().split(m==="date"?"T":".",1)[0];else y.value=j}h.lastCommittedValue=y.value,h.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const y={value(w){h.userValue=w.detail.value??"",v||e.setValue(t,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:j}=w.detail;h.formattedValue=j,j!=null&&w.target!==document.activeElement&&(w.target.value=j);const C={formattedValue:j};v&&(C.value=j),e.setValue(t,C)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var E;const{charLimit:j}=w.detail,{target:C}=w;if(j===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",j);let T=h.userValue;!T||T.length<=j||(T=T.slice(0,j),C.value=h.userValue=T,e.setValue(t,{value:T}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(y,p)}),n.addEventListener("keydown",p=>{var j;h.commitKey=1;let y=-1;if(p.key==="Escape"?y=0:p.key==="Enter"&&!this.data.multiLine?y=2:p.key==="Tab"&&(h.commitKey=3),y===-1)return;const{value:w}=p.target;h.lastCommittedValue!==w&&(h.lastCommittedValue=w,h.userValue=w,(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:y,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const S=x;x=null,n.addEventListener("blur",p=>{var j,C;if(!h.focused||!p.relatedTarget)return;(j=this.data.actions)!=null&&j.Blur||(h.focused=!1);const{target:y}=p;let{value:w}=y;if(v){if(w&&m==="time"){const T=w.split(":").map(E=>parseInt(E,10));w=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),y.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();y.type="text"}h.userValue=w,h.lastCommittedValue!==w&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:h.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),S(p)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",p=>{var M;h.lastCommittedValue=null;const{data:y,target:w}=p,{value:j,selectionStart:C,selectionEnd:T}=w;let E=C,_=T;switch(p.inputType){case"deleteWordBackward":{const D=j.substring(0,C).match(/\w*[^\w]*$/);D&&(E-=D[0].length);break}case"deleteWordForward":{const D=j.substring(C).match(/^[^\w]*\w*/);D&&(_+=D[0].length);break}case"deleteContentBackward":C===T&&(E-=1);break;case"deleteContentForward":C===T&&(_+=1);break}p.preventDefault(),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:j,change:y||"",willCommit:!1,selStart:E,selEnd:_}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(x&&n.addEventListener("blur",x),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class w3 extends Tc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class S3 extends Tc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return vc.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=0,a.addEventListener("change",r=>{const{name:l,checked:d}=r.target;for(const u of this._getElementsByName(l,n)){const h=d&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(n,{value:d})}),a.addEventListener("resetform",r=>{const l=t.defaultFieldValue||"Off";r.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",r=>{const l={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(l,r)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class vC extends Tc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const r of this._getElementsByName(t.fieldName,n))e.setValue(r.id,{value:!1});const a=document.createElement("input");if(vc.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",r=>{const{name:l,checked:d}=r.target;for(const u of this._getElementsByName(l,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:d})}),a.addEventListener("resetform",r=>{const l=t.defaultFieldValue;r.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;a.addEventListener("updatefromsandbox",l=>{const d={value:u=>{const h=r===u.detail.value;for(const f of this._getElementsByName(u.target.name)){const m=h&&f.id===n;f.domElement&&(f.domElement.checked=m),e.setValue(f.id,{value:m})}}};this._dispatchEventFromSandbox(d,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class A3 extends yS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class N3 extends Tc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");vc.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===f});for(const h of this.data.options){const f=document.createElement("option");f.textContent=h.displayValue,f.value=h.exportValue,n.value.includes(h.exportValue)&&(f.setAttribute("selected",!0),a=!1),i.append(f)}let r=null;if(a){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),r=()=>{h.remove(),i.removeEventListener("input",r),r=null},i.addEventListener("input",r)}const l=h=>{const f=h?"value":"textContent",{options:m,multiple:g}=i;return g?Array.prototype.filter.call(m,v=>v.selected).map(v=>v[f]):m.selectedIndex===-1?null:m[m.selectedIndex][f]};let d=l(!1);const u=h=>{const f=h.target.options;return Array.prototype.map.call(f,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const f={value(m){r==null||r();const g=m.detail.value,v=new Set(Array.isArray(g)?g:[g]);for(const x of i.options)x.selected=v.has(x.value);e.setValue(t,{value:l(!0)}),d=l(!1)},multipleSelection(m){i.multiple=!0},remove(m){const g=i.options,v=m.detail.remove;g[v].selected=!1,i.remove(v),g.length>0&&Array.prototype.findIndex.call(g,S=>S.selected)===-1&&(g[0].selected=!0),e.setValue(t,{value:l(!0),items:u(m)}),d=l(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),d=l(!1)},insert(m){const{index:g,displayValue:v,exportValue:x}=m.detail.insert,S=i.children[g],p=document.createElement("option");p.textContent=v,p.value=x,S?S.before(p):i.append(p),e.setValue(t,{value:l(!0),items:u(m)}),d=l(!1)},items(m){const{items:g}=m.detail;for(;i.length!==0;)i.remove(0);for(const v of g){const{displayValue:x,exportValue:S}=v,p=document.createElement("option");p.textContent=x,p.value=S,i.append(p)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:l(!0),items:u(m)}),d=l(!1)},indices(m){const g=new Set(m.detail.indices);for(const v of m.target.options)v.selected=g.has(v.index);e.setValue(t,{value:l(!0)}),d=l(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(f,h)}),i.addEventListener("input",h=>{var g;const f=l(!0),m=l(!1);e.setValue(t,{value:f}),h.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:m,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Om,Av;class Sv extends at{constructor(t){const{data:n,elements:i,parent:a}=t,r=!!a._commentManager;super(t,{isRenderable:!r&&at._hasPopupData(n)});A(this,Om);if(this.elements=i,r&&at._hasPopupData(n)){const l=this.popup=N(this,Om,Av).call(this);for(const d of i)d.popup=l}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=N(this,Om,Av).call(this),i=[];for(const a of this.elements)a.popup=n,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${fS}${a}`).join(",")),this.container}}Om=new WeakSet,Av=function(){return new j3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ws,qr,nx,ix,hu,fu,dt,Di,Xr,Bl,mu,gu,Ri,Ks,Da,Ra,Pt,La,Wr,Pm,Oa,pu,Il,Kr,us,Qr,de,Bp,Nv,jv,Ev,Ip,Cv,wC,SC,AC,NC,Fp,zp,Tv;class j3{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:a,contentsObj:r,richText:l,parent:d,rect:u,parentRect:h,open:f,commentManager:m=null}){A(this,de);A(this,Ws,null);A(this,qr,N(this,de,AC).bind(this));A(this,nx,N(this,de,Tv).bind(this));A(this,ix,N(this,de,zp).bind(this));A(this,hu,N(this,de,Fp).bind(this));A(this,fu,null);A(this,dt,null);A(this,Di,null);A(this,Xr,null);A(this,Bl,null);A(this,mu,null);A(this,gu,null);A(this,Ri,!1);A(this,Ks,null);A(this,Da,null);A(this,Ra,null);A(this,Pt,null);A(this,La,null);A(this,Wr,null);A(this,Pm,null);A(this,Oa,null);A(this,pu,null);A(this,Il,null);A(this,Kr,!1);A(this,us,null);A(this,Qr,null);b(this,dt,e),b(this,pu,i),b(this,Di,r),b(this,Oa,l),b(this,mu,d),b(this,fu,t),b(this,Pm,u),b(this,gu,h),b(this,Bl,n),b(this,Ws,m),b(this,us,n[0]),b(this,Xr,R0.toDateObject(a)),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup()),m?this.renderCommentButton():(N(this,de,Bp).call(this),o(this,dt).hidden=!0,f&&N(this,de,Fp).call(this))}renderCommentButton(){if(o(this,Pt)||(o(this,La)||N(this,de,Nv).call(this),!o(this,La)))return;const{signal:e}=b(this,Da,new AbortController),t=!!o(this,us).extraPopupElement,n=()=>{o(this,Ws).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{o(this,Ws).toggleCommentPopup(this,!1,!0,!t)},a=()=>{o(this,Ws).toggleCommentPopup(this,!1,!1)};if(t){b(this,Pt,o(this,us).container);for(const r of this.trigger)r.ariaHasPopup="dialog",r.ariaControls="commentPopup",r.addEventListener("keydown",o(this,qr),{signal:e}),r.addEventListener("click",n,{signal:e}),r.addEventListener("pointerenter",i,{signal:e}),r.addEventListener("pointerleave",a,{signal:e}),r.classList.add("popupTriggerArea")}else{const r=b(this,Pt,document.createElement("button"));r.className="annotationCommentButton";const l=o(this,us).container;r.style.zIndex=l.style.zIndex+1,r.tabIndex=0,r.ariaHasPopup="dialog",r.ariaControls="commentPopup",r.setAttribute("data-l10n-id","pdfjs-show-comment-button"),N(this,de,Ev).call(this),N(this,de,jv).call(this),r.addEventListener("keydown",o(this,qr),{signal:e}),r.addEventListener("click",n,{signal:e}),r.addEventListener("pointerenter",i,{signal:e}),r.addEventListener("pointerleave",a,{signal:e}),l.after(r)}}get commentButtonColor(){const{color:e,opacity:t}=o(this,us).commentData;return e?o(this,mu)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=o(this,Pt))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:i,modificationDate:a}=o(this,us).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:i,modificationDate:a}}get elementBeforePopup(){return o(this,Pt)}get comment(){return o(this,Qr)||b(this,Qr,o(this,us).commentText),o(this,Qr)}set comment(e){e!==this.comment&&(o(this,us).commentText=b(this,Qr,e))}get parentBoundingClientRect(){return o(this,us).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){o(this,Pt)&&(o(this,Pt).classList.toggle("selected",e),o(this,Pt).ariaExpanded=t)}setSelectedCommentButton(e){o(this,Pt).classList.toggle("selected",e)}get commentPopupPosition(){if(o(this,Wr))return o(this,Wr);const{x:e,y:t,height:n}=o(this,Pt).getBoundingClientRect(),{x:i,y:a,width:r,height:l}=o(this,us).layer.getBoundingClientRect();return[(e-i)/r,(t+n-a)/l]}set commentPopupPosition(e){b(this,Wr,e)}hasDefaultPopupPosition(){return o(this,Wr)===null}get commentButtonPosition(){return o(this,La)}get commentButtonWidth(){return o(this,Pt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=o(this,Wr)||this.commentButtonPosition.map(u=>u/100),i=this.parentBoundingClientRect,{x:a,y:r,width:l,height:d}=i;o(this,Ws).showDialog(null,this,a+t*l,r+n*d,{...e,parentDimensions:i})}render(){var n,i;if(o(this,Ks))return;const e=b(this,Ks,document.createElement("div"));if(e.className="popup",o(this,fu)){const a=e.style.outlineColor=$.makeHexColor(...o(this,fu));e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const t=document.createElement("span");if(t.className="header",(n=o(this,pu))!=null&&n.str){const a=document.createElement("span");a.className="title",t.append(a),{dir:a.dir,str:a.textContent}=o(this,pu)}if(e.append(t),o(this,Xr)){const a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:o(this,Xr).valueOf()})),a.dateTime=o(this,Xr).toISOString(),t.append(a)}mE({html:o(this,de,Ip)||o(this,Di).str,dir:(i=o(this,Di))==null?void 0:i.dir,className:"popupContent"},e),o(this,dt).append(e)}updateEdited({rect:e,popup:t,deleted:n}){var i;if(o(this,Ws)){n?(this.remove(),b(this,Qr,null)):t&&(t.deleted?this.remove():(N(this,de,Ev).call(this),b(this,Qr,t.text))),e&&(b(this,La,null),N(this,de,Nv).call(this),N(this,de,jv).call(this));return}if(n||t!=null&&t.deleted){this.remove();return}N(this,de,Bp).call(this),o(this,Il)||b(this,Il,{contentsObj:o(this,Di),richText:o(this,Oa)}),e&&b(this,Ra,null),t&&t.text&&(b(this,Oa,N(this,de,SC).call(this,t.text)),b(this,Xr,R0.toDateObject(t.date)),b(this,Di,null)),(i=o(this,Ks))==null||i.remove(),b(this,Ks,null)}resetEdited(){var e;o(this,Il)&&({contentsObj:Et(this,Di)._,richText:Et(this,Oa)._}=o(this,Il),b(this,Il,null),(e=o(this,Ks))==null||e.remove(),b(this,Ks,null),b(this,Ra,null))}remove(){var e,t,n;if((e=o(this,Da))==null||e.abort(),b(this,Da,null),(t=o(this,Ks))==null||t.remove(),b(this,Ks,null),b(this,Kr,!1),b(this,Ri,!1),(n=o(this,Pt))==null||n.remove(),b(this,Pt,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){b(this,Kr,this.isVisible),o(this,Kr)&&(o(this,dt).hidden=!0)}maybeShow(){o(this,Ws)||(N(this,de,Bp).call(this),o(this,Kr)&&(o(this,Ks)||N(this,de,zp).call(this),b(this,Kr,!1),o(this,dt).hidden=!1))}get isVisible(){return o(this,Ws)?!1:o(this,dt).hidden===!1}}Ws=new WeakMap,qr=new WeakMap,nx=new WeakMap,ix=new WeakMap,hu=new WeakMap,fu=new WeakMap,dt=new WeakMap,Di=new WeakMap,Xr=new WeakMap,Bl=new WeakMap,mu=new WeakMap,gu=new WeakMap,Ri=new WeakMap,Ks=new WeakMap,Da=new WeakMap,Ra=new WeakMap,Pt=new WeakMap,La=new WeakMap,Wr=new WeakMap,Pm=new WeakMap,Oa=new WeakMap,pu=new WeakMap,Il=new WeakMap,Kr=new WeakMap,us=new WeakMap,Qr=new WeakMap,de=new WeakSet,Bp=function(){var t;if(o(this,Da))return;b(this,Da,new AbortController);const{signal:e}=o(this,Da);for(const n of this.trigger)n.addEventListener("click",o(this,hu),{signal:e}),n.addEventListener("pointerenter",o(this,ix),{signal:e}),n.addEventListener("pointerleave",o(this,nx),{signal:e}),n.classList.add("popupTriggerArea");for(const n of o(this,Bl))(t=n.container)==null||t.addEventListener("keydown",o(this,qr),{signal:e})},Nv=function(){const e=o(this,Bl).find(t=>t.hasCommentButton);e&&b(this,La,e._normalizePoint(e.commentButtonPosition))},jv=function(){if(o(this,us).extraPopupElement&&!o(this,us).editor)return;this.renderCommentButton();const[e,t]=o(this,La),{style:n}=o(this,Pt);n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`},Ev=function(){o(this,us).extraPopupElement||(this.renderCommentButton(),o(this,Pt).style.backgroundColor=this.commentButtonColor||"")},Ip=function(){const e=o(this,Oa),t=o(this,Di);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&o(this,Oa).html||null},Cv=function(){var e,t,n;return((n=(t=(e=o(this,de,Ip))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},wC=function(){var e,t,n;return((n=(t=(e=o(this,de,Ip))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},SC=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:o(this,de,wC),fontSize:o(this,de,Cv)?`calc(${o(this,de,Cv)}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:i});return n},AC=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&o(this,Ri))&&N(this,de,Fp).call(this)},NC=function(){if(o(this,Ra)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:a}}}=o(this,mu);let r=!!o(this,gu),l=r?o(this,gu):o(this,Pm);for(const v of o(this,Bl))if(!l||$.intersect(v.data.rect,l)!==null){l=v.data.rect,r=!0;break}const d=$.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),h=r?l[2]-l[0]+5:0,f=d[0]+h,m=d[1];b(this,Ra,[100*(f-i)/t,100*(m-a)/n]);const{style:g}=o(this,dt);g.left=`${o(this,Ra)[0]}%`,g.top=`${o(this,Ra)[1]}%`},Fp=function(){if(o(this,Ws)){o(this,Ws).toggleCommentPopup(this,!1);return}b(this,Ri,!o(this,Ri)),o(this,Ri)?(N(this,de,zp).call(this),o(this,dt).addEventListener("click",o(this,hu)),o(this,dt).addEventListener("keydown",o(this,qr))):(N(this,de,Tv).call(this),o(this,dt).removeEventListener("click",o(this,hu)),o(this,dt).removeEventListener("keydown",o(this,qr)))},zp=function(){o(this,Ks)||this.render(),this.isVisible?o(this,Ri)&&o(this,dt).classList.add("focused"):(N(this,de,NC).call(this),o(this,dt).hidden=!1,o(this,dt).style.zIndex=parseInt(o(this,dt).style.zIndex)+1e3)},Tv=function(){o(this,dt).classList.remove("focused"),!(o(this,Ri)||!this.isVisible)&&(o(this,dt).hidden=!0,o(this,dt).style.zIndex=parseInt(o(this,dt).style.zIndex)-1e3)};class jC extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ae.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Bm;class E3 extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Bm,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=b(this,Bm,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Bm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bm=new WeakMap;var Im;class C3 extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Im,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=t.borderStyle.width,l=b(this,Im,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",r/2),l.setAttribute("y",r/2),l.setAttribute("width",n-r),l.setAttribute("height",i-r),l.setAttribute("stroke-width",r||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Im)}addHighlightArea(){this.container.classList.add("highlightArea")}}Im=new WeakMap;var Fm;class T3 extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Fm,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,a=this.svgFactory.create(n,i,!0),r=t.borderStyle.width,l=b(this,Fm,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",n/2),l.setAttribute("cy",i/2),l.setAttribute("rx",n/2-r/2),l.setAttribute("ry",i/2-r/2),l.setAttribute("stroke-width",r||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Fm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fm=new WeakMap;var zm;class EC extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,zm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:a},width:r,height:l}=this;if(!n)return this.container;const d=this.svgFactory.create(r,l,!0);let u=[];for(let f=0,m=n.length;f<m;f+=2){const g=n[f]-t[0],v=t[3]-n[f+1];u.push(`${g},${v}`)}u=u.join(" ");const h=b(this,zm,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),d.append(h),this.container.append(d),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,zm)}addHighlightArea(){this.container.classList.add("highlightArea")}}zm=new WeakMap;class _3 extends EC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class k3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Um,Fl,Hm,_v;class vS extends at{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});A(this,Hm);A(this,Um,null);A(this,Fl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ae.HIGHLIGHT:ae.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:a,popupRef:r}}=this,{transform:l,width:d,height:u}=N(this,Hm,_v).call(this,n,t),h=this.svgFactory.create(d,u,!0),f=b(this,Um,this.svgFactory.createElement("svg:g"));h.append(f),f.setAttribute("stroke-width",a.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",l);for(let m=0,g=i.length;m<g;m++){const v=this.svgFactory.createElement(this.svgElementName);o(this,Fl).push(v),v.setAttribute("points",i[m].join(",")),f.append(v)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:a}=t,r=o(this,Um);if(n>=0&&r.setAttribute("stroke-width",n||1),i)for(let l=0,d=o(this,Fl).length;l<d;l++)o(this,Fl)[l].setAttribute("points",i[l].join(","));if(a){const{transform:l,width:d,height:u}=N(this,Hm,_v).call(this,this.data.rotation,a);r.parentElement.setAttribute("viewBox",`0 0 ${d} ${u}`),r.setAttribute("transform",l)}}getElementsToTriggerPopup(){return o(this,Fl)}addHighlightArea(){this.container.classList.add("highlightArea")}}Um=new WeakMap,Fl=new WeakMap,Hm=new WeakSet,_v=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class CC extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ae.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class M3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class D3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class R3 extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class TC extends at{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ae.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Vm,$m,kv;class L3 extends at{constructor(t){var i;super(t,{isRenderable:!0});A(this,$m);A(this,Vm,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",N(this,$m,kv).bind(this)),b(this,Vm,i);const{isMac:a}=as.platform;return t.addEventListener("keydown",r=>{r.key==="Enter"&&(a?r.metaKey:r.ctrlKey)&&N(this,$m,kv).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return o(this,Vm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vm=new WeakMap,$m=new WeakSet,kv=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var xu,zl,bu,Zr,Gm,Ul,Oo,Dv,Rv;const TS=class TS{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:a,viewport:r,structTreeLayer:l,commentManager:d,linkService:u,annotationStorage:h}){A(this,Oo);A(this,xu,null);A(this,zl,null);A(this,bu,null);A(this,Zr,new Map);A(this,Gm,null);A(this,Ul,null);this.div=e,b(this,xu,t),b(this,zl,n),b(this,Gm,l||null),b(this,Ul,u||null),b(this,bu,h||new pS),this.page=a,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=d||null}hasEditableAnnotations(){return o(this,Zr).size>0}async render(e){var r,l,d;const{annotations:t}=e,n=this.div;bc(n,this.viewport);const i=new Map,a={data:null,layer:n,linkService:o(this,Ul),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new U0,annotationStorage:o(this,bu),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const h=u.annotationType===yt.POPUP;if(h){const g=i.get(u.id);if(!g)continue;a.elements=g}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;a.data=u;const f=B1.create(a);if(!f.isRenderable)continue;if(!h&&u.popupRef){const g=i.get(u.popupRef);g?g.push(f):i.set(u.popupRef,[f])}const m=f.render();u.hidden&&(m.style.visibility="hidden"),await N(this,Oo,Dv).call(this,m,u.id,a.elements),(l=(r=f.extraPopupElement)==null?void 0:r.popup)==null||l.renderCommentButton(),f._isEditable&&(o(this,Zr).set(f.data.id,f),(d=this._annotationEditorUIManager)==null||d.renderAnnotationElement(f))}N(this,Oo,Rv).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:o(this,Ul),svgFactory:new U0,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=TS._defaultBorderStyle),t.data=n;const i=B1.create(t);if(!i.isRenderable)continue;const a=i.render();await N(this,Oo,Dv).call(this,a,n.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,bc(t,{rotation:e.rotation}),N(this,Oo,Rv).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(o(this,Zr).values())}getEditableAnnotation(e){return o(this,Zr).get(e)}addFakeAnnotation(e){var l;const{div:t}=this,{id:n,rotation:i}=e,a=new b3({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:o(this,Ul),annotationStorage:o(this,bu)}),r=a.render();return t.append(r),(l=o(this,xu))==null||l.moveElementInDOM(t,r,r,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return ue(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Oc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};xu=new WeakMap,zl=new WeakMap,bu=new WeakMap,Zr=new WeakMap,Gm=new WeakMap,Ul=new WeakMap,Oo=new WeakSet,Dv=async function(e,t,n){var l,d;const i=e.firstChild||e,a=i.id=`${fS}${t}`,r=await((l=o(this,Gm))==null?void 0:l.getAriaAttributes(a));if(r)for(const[u,h]of r)i.setAttribute(u,h);n?n.at(-1).container.after(e):(this.div.append(e),(d=o(this,xu))==null||d.moveElementInDOM(this.div,e,i,!1))},Rv=function(){var t;if(!o(this,zl))return;const e=this.div;for(const[n,i]of o(this,zl)){const a=e.querySelector(`[data-annotation-id="${n}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:r}=a;r?r.nodeName==="CANVAS"?r.replaceWith(i):r.classList.contains("annotationContent")?r.after(i):r.before(i):a.append(i);const l=o(this,Zr).get(n);l&&(l._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(n,a.id,i),l._hasNoCanvas=!1):l.canvas=i)}o(this,zl).clear()};let Mv=TS;const np=/\r\n?|\n/g;var Qs,Ym,Hl,Zs,jt,_C,kC,MC,Up,Ja,Hp,Vp,DC,Ov,RC;const Xe=class Xe extends Ge{constructor(t){super({...t,name:"freeTextEditor"});A(this,jt);A(this,Qs,"");A(this,Ym,`${this.id}-editor`);A(this,Hl,null);A(this,Zs);F(this,"_colorPicker",null);this.color=t.color||Xe._defaultColor||Ge._defaultLineColor,b(this,Zs,t.fontSize||Xe._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Xe.prototype,n=r=>r.isEmpty(),i=yc.TRANSLATE_SMALL,a=yc.TRANSLATE_BIG;return ue(this,"_keyboardManager",new _g([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(t,n){Ge.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case xe.FREETEXT_SIZE:Xe._defaultFontSize=n;break;case xe.FREETEXT_COLOR:Xe._defaultColor=n;break}}updateParams(t,n){switch(t){case xe.FREETEXT_SIZE:N(this,jt,_C).call(this,n);break;case xe.FREETEXT_COLOR:N(this,jt,kC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[xe.FREETEXT_SIZE,Xe._defaultFontSize],[xe.FREETEXT_COLOR,Xe._defaultColor||Ge._defaultLineColor]]}get propertiesToUpdate(){return[[xe.FREETEXT_SIZE,o(this,Zs)],[xe.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new z0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return xe.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Xe._internalPadding*t,-(Xe._internalPadding+o(this,Zs))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,Hl,new AbortController);const t=this._uiManager.combinedSignal(o(this,Hl));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",o(this,Ym)),this._isDraggable=!0,(t=o(this,Hl))==null||t.abort(),b(this,Hl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=o(this,Qs),n=b(this,Qs,N(this,jt,MC).call(this).trimEnd());if(t===n)return;const i=a=>{if(b(this,Qs,a),!a){this.remove();return}N(this,jt,Vp).call(this),this._uiManager.rebuild(this),N(this,jt,Up).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),N(this,jt,Up).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Xe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",o(this,Ym)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${o(this,Zs)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,r]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[d,u]=this.getInitialTranslation();[d,u]=this.pageTranslationToScreen(d,u);const[h,f]=this.pageDimensions,[m,g]=this.pageTranslation;let v,x;switch(this.rotation){case 0:v=t+(l[0]-m)/h,x=n+this.height-(l[1]-g)/f;break;case 90:v=t+(l[0]-m)/h,x=n-(l[1]-g)/f,[d,u]=[u,-d];break;case 180:v=t-this.width+(l[0]-m)/h,x=n-(l[1]-g)/f,[d,u]=[-d,-u];break;case 270:v=t+(l[0]-m-this.height*f)/h,x=n+(l[1]-g-this.width*h)/f,[d,u]=[-u,d];break}this.setAt(v*a,x*r,d,u)}else this._moveAfterPaste(t,n);N(this,jt,Vp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,x,S;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const a=N(v=Xe,Ja,Ov).call(v,n.getData("text")||"").replaceAll(np,`
`);if(!a)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const l=r.getRangeAt(0);if(!a.includes(`
`)){l.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:d,startOffset:u}=l,h=[],f=[];if(d.nodeType===Node.TEXT_NODE){const p=d.parentElement;if(f.push(d.nodeValue.slice(u).replaceAll(np,"")),p!==this.editorDiv){let y=h;for(const w of this.editorDiv.childNodes){if(w===p){y=f;continue}y.push(N(x=Xe,Ja,Hp).call(x,w))}}h.push(d.nodeValue.slice(0,u).replaceAll(np,""))}else if(d===this.editorDiv){let p=h,y=0;for(const w of this.editorDiv.childNodes)y++===u&&(p=f),p.push(N(S=Xe,Ja,Hp).call(S,w))}b(this,Qs,`${h.join(`
`)}${a}${f.join(`
`)}`),N(this,jt,Vp).call(this);const m=new Range;let g=Math.sumPrecise(h.map(p=>p.length));for(const{firstChild:p}of this.editorDiv.childNodes)if(p.nodeType===Node.TEXT_NODE){const y=p.nodeValue.length;if(g<=y){m.setStart(p,g),m.setEnd(p,g);break}g-=y}r.removeAllRanges(),r.addRange(m)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Xe._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,i){var l;let a=null;if(t instanceof jC){const{data:{defaultAppearanceData:{fontSize:d,fontColor:u},rect:h,rotation:f,id:m,popupRef:g,richText:v,contentsObj:x,creationDate:S,modificationDate:p},textContent:y,textPosition:w,parent:{page:{pageNumber:j}}}=t;if(!y||y.length===0)return null;a=t={annotationType:ae.FREETEXT,color:Array.from(u),fontSize:d,value:y.join(`
`),position:w,pageIndex:j-1,rect:h.slice(0),rotation:f,annotationElementId:m,id:m,deleted:!1,popupRef:g,comment:(x==null?void 0:x.str)||null,richText:v,creationDate:S,modificationDate:p}}const r=await super.deserialize(t,n,i);return b(r,Zs,t.fontSize),r.color=$.makeHexColor(...t.color),b(r,Qs,N(l=Xe,Ja,Ov).call(l,t.value)),r._initialData=a,t.comment&&r.setCommentData(t),r}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Ge._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:n,fontSize:o(this,Zs),value:N(this,jt,DC).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!N(this,jt,RC).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${o(this,Zs)}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const a of o(this,Qs).split(`
`)){const r=document.createElement("div");r.append(a?document.createTextNode(a):document.createElement("br")),n.append(r)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:o(this,Qs)}}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Qs=new WeakMap,Ym=new WeakMap,Hl=new WeakMap,Zs=new WeakMap,jt=new WeakSet,_C=function(t){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-o(this,Zs))*this.parentScale),b(this,Zs,a),N(this,jt,Up).call(this)},i=o(this,Zs);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},kC=function(t){const n=a=>{this.color=a,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},MC=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const a of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(t.push(N(i=Xe,Ja,Hp).call(i,a)),n=a);return t.join(`
`)},Up=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:r}=this,l=r.style.display,d=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",a.div.append(this.div),i=r.getBoundingClientRect(),r.remove(),r.style.display=l,r.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},Ja=new WeakSet,Hp=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(np,"")},Vp=function(){if(this.editorDiv.replaceChildren(),!!o(this,Qs))for(const t of o(this,Qs).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},DC=function(){return o(this,Qs).replaceAll(" "," ")},Ov=function(t){return t.replaceAll(" "," ")},RC=function(t){const{value:n,fontSize:i,color:a,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((l,d)=>l!==a[d])||t.pageIndex!==r},A(Xe,Ja),F(Xe,"_freeTextDefaultContent",""),F(Xe,"_internalPadding",0),F(Xe,"_defaultColor",null),F(Xe,"_defaultFontSize",10),F(Xe,"_type","freetext"),F(Xe,"_editorType",ae.FREETEXT);let Lv=Xe;class V{toSVGPath(){He("Abstract method `toSVGPath` must be implemented.")}get box(){He("Abstract getter `box` must be implemented.")}serialize(e,t){He("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,a,r){r||(r=new Float32Array(e.length));for(let l=0,d=e.length;l<d;l+=2)r[l]=t+e[l]*i,r[l+1]=n+e[l+1]*a;return r}static _rescaleAndSwap(e,t,n,i,a,r){r||(r=new Float32Array(e.length));for(let l=0,d=e.length;l<d;l+=2)r[l]=t+e[l+1]*i,r[l+1]=n+e[l]*a;return r}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let a=0,r=e.length;a<r;a+=2)i[a]=t+e[a],i[a+1]=n+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,a){switch(a){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,a,r){return[(e+5*n)/6,(t+5*i)/6,(5*n+a)/6,(5*i+r)/6,(n+a)/2,(i+r)/2]}}F(V,"PRECISION",1e-4);var Js,ai,yu,vu,Li,fe,Vl,$l,qm,Xm,wu,Su,Jr,Wm,ax,rx,Dt,$h,LC,OC,PC,BC,IC,FC;const oa=class oa{constructor({x:e,y:t},n,i,a,r,l=0){A(this,Dt);A(this,Js);A(this,ai,[]);A(this,yu);A(this,vu);A(this,Li,[]);A(this,fe,new Float32Array(18));A(this,Vl);A(this,$l);A(this,qm);A(this,Xm);A(this,wu);A(this,Su);A(this,Jr,[]);b(this,Js,n),b(this,Su,a*i),b(this,vu,r),o(this,fe).set([NaN,NaN,NaN,NaN,e,t],6),b(this,yu,l),b(this,Xm,o(oa,Wm)*i),b(this,qm,o(oa,rx)*i),b(this,wu,i),o(this,Jr).push(e,t)}isEmpty(){return isNaN(o(this,fe)[8])}add({x:e,y:t}){var M;b(this,Vl,e),b(this,$l,t);const[n,i,a,r]=o(this,Js);let[l,d,u,h]=o(this,fe).subarray(8,12);const f=e-u,m=t-h,g=Math.hypot(f,m);if(g<o(this,qm))return!1;const v=g-o(this,Xm),x=v/g,S=x*f,p=x*m;let y=l,w=d;l=u,d=h,u+=S,h+=p,(M=o(this,Jr))==null||M.push(e,t);const j=-p/v,C=S/v,T=j*o(this,Su),E=C*o(this,Su);return o(this,fe).set(o(this,fe).subarray(2,8),0),o(this,fe).set([u+T,h+E],4),o(this,fe).set(o(this,fe).subarray(14,18),12),o(this,fe).set([u-T,h-E],16),isNaN(o(this,fe)[6])?(o(this,Li).length===0&&(o(this,fe).set([l+T,d+E],2),o(this,Li).push(NaN,NaN,NaN,NaN,(l+T-n)/a,(d+E-i)/r),o(this,fe).set([l-T,d-E],14),o(this,ai).push(NaN,NaN,NaN,NaN,(l-T-n)/a,(d-E-i)/r)),o(this,fe).set([y,w,l,d,u,h],6),!this.isEmpty()):(o(this,fe).set([y,w,l,d,u,h],6),Math.abs(Math.atan2(w-d,y-l)-Math.atan2(p,S))<Math.PI/2?([l,d,u,h]=o(this,fe).subarray(2,6),o(this,Li).push(NaN,NaN,NaN,NaN,((l+u)/2-n)/a,((d+h)/2-i)/r),[l,d,y,w]=o(this,fe).subarray(14,18),o(this,ai).push(NaN,NaN,NaN,NaN,((y+l)/2-n)/a,((w+d)/2-i)/r),!0):([y,w,l,d,u,h]=o(this,fe).subarray(0,6),o(this,Li).push(((y+5*l)/6-n)/a,((w+5*d)/6-i)/r,((5*l+u)/6-n)/a,((5*d+h)/6-i)/r,((l+u)/2-n)/a,((d+h)/2-i)/r),[u,h,l,d,y,w]=o(this,fe).subarray(12,18),o(this,ai).push(((y+5*l)/6-n)/a,((w+5*d)/6-i)/r,((5*l+u)/6-n)/a,((5*d+h)/6-i)/r,((l+u)/2-n)/a,((d+h)/2-i)/r),!0))}toSVGPath(){if(this.isEmpty())return"";const e=o(this,Li),t=o(this,ai);if(isNaN(o(this,fe)[6])&&!this.isEmpty())return N(this,Dt,LC).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);N(this,Dt,PC).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return N(this,Dt,OC).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,a,r){return new zC(e,t,n,i,a,r)}getOutlines(){var f;const e=o(this,Li),t=o(this,ai),n=o(this,fe),[i,a,r,l]=o(this,Js),d=new Float32Array((((f=o(this,Jr))==null?void 0:f.length)??0)+2);for(let m=0,g=d.length-2;m<g;m+=2)d[m]=(o(this,Jr)[m]-i)/r,d[m+1]=(o(this,Jr)[m+1]-a)/l;if(d[d.length-2]=(o(this,Vl)-i)/r,d[d.length-1]=(o(this,$l)-a)/l,isNaN(n[6])&&!this.isEmpty())return N(this,Dt,BC).call(this,d);const u=new Float32Array(o(this,Li).length+24+o(this,ai).length);let h=e.length;for(let m=0;m<h;m+=2){if(isNaN(e[m])){u[m]=u[m+1]=NaN;continue}u[m]=e[m],u[m+1]=e[m+1]}h=N(this,Dt,FC).call(this,u,h);for(let m=t.length-6;m>=6;m-=6)for(let g=0;g<6;g+=2){if(isNaN(t[m+g])){u[h]=u[h+1]=NaN,h+=2;continue}u[h]=t[m+g],u[h+1]=t[m+g+1],h+=2}return N(this,Dt,IC).call(this,u,h),this.newFreeDrawOutline(u,d,o(this,Js),o(this,wu),o(this,yu),o(this,vu))}};Js=new WeakMap,ai=new WeakMap,yu=new WeakMap,vu=new WeakMap,Li=new WeakMap,fe=new WeakMap,Vl=new WeakMap,$l=new WeakMap,qm=new WeakMap,Xm=new WeakMap,wu=new WeakMap,Su=new WeakMap,Jr=new WeakMap,Wm=new WeakMap,ax=new WeakMap,rx=new WeakMap,Dt=new WeakSet,$h=function(){const e=o(this,fe).subarray(4,6),t=o(this,fe).subarray(16,18),[n,i,a,r]=o(this,Js);return[(o(this,Vl)+(e[0]-t[0])/2-n)/a,(o(this,$l)+(e[1]-t[1])/2-i)/r,(o(this,Vl)+(t[0]-e[0])/2-n)/a,(o(this,$l)+(t[1]-e[1])/2-i)/r]},LC=function(){const[e,t,n,i]=o(this,Js),[a,r,l,d]=N(this,Dt,$h).call(this);return`M${(o(this,fe)[2]-e)/n} ${(o(this,fe)[3]-t)/i} L${(o(this,fe)[4]-e)/n} ${(o(this,fe)[5]-t)/i} L${a} ${r} L${l} ${d} L${(o(this,fe)[16]-e)/n} ${(o(this,fe)[17]-t)/i} L${(o(this,fe)[14]-e)/n} ${(o(this,fe)[15]-t)/i} Z`},OC=function(e){const t=o(this,ai);e.push(`L${t[4]} ${t[5]} Z`)},PC=function(e){const[t,n,i,a]=o(this,Js),r=o(this,fe).subarray(4,6),l=o(this,fe).subarray(16,18),[d,u,h,f]=N(this,Dt,$h).call(this);e.push(`L${(r[0]-t)/i} ${(r[1]-n)/a} L${d} ${u} L${h} ${f} L${(l[0]-t)/i} ${(l[1]-n)/a}`)},BC=function(e){const t=o(this,fe),[n,i,a,r]=o(this,Js),[l,d,u,h]=N(this,Dt,$h).call(this),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-n)/a,(t[3]-i)/r,NaN,NaN,NaN,NaN,(t[4]-n)/a,(t[5]-i)/r,NaN,NaN,NaN,NaN,l,d,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(t[16]-n)/a,(t[17]-i)/r,NaN,NaN,NaN,NaN,(t[14]-n)/a,(t[15]-i)/r],0),this.newFreeDrawOutline(f,e,o(this,Js),o(this,wu),o(this,yu),o(this,vu))},IC=function(e,t){const n=o(this,ai);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},FC=function(e,t){const n=o(this,fe).subarray(4,6),i=o(this,fe).subarray(16,18),[a,r,l,d]=o(this,Js),[u,h,f,m]=N(this,Dt,$h).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/l,(n[1]-r)/d,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,(i[0]-a)/l,(i[1]-r)/d],t),t+=24},A(oa,Wm,8),A(oa,ax,2),A(oa,rx,o(oa,Wm)+o(oa,ax));let H0=oa;var Au,Gl,Pa,Km,en,Qm,gt,ox,UC;class zC extends V{constructor(t,n,i,a,r,l){super();A(this,ox);A(this,Au);A(this,Gl,new Float32Array(4));A(this,Pa);A(this,Km);A(this,en);A(this,Qm);A(this,gt);b(this,gt,t),b(this,en,n),b(this,Au,i),b(this,Qm,a),b(this,Pa,r),b(this,Km,l),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],N(this,ox,UC).call(this,l);const[d,u,h,f]=o(this,Gl);for(let m=0,g=t.length;m<g;m+=2)t[m]=(t[m]-d)/h,t[m+1]=(t[m+1]-u)/f;for(let m=0,g=n.length;m<g;m+=2)n[m]=(n[m]-d)/h,n[m+1]=(n[m+1]-u)/f}toSVGPath(){const t=[`M${o(this,gt)[4]} ${o(this,gt)[5]}`];for(let n=6,i=o(this,gt).length;n<i;n+=6){if(isNaN(o(this,gt)[n])){t.push(`L${o(this,gt)[n+4]} ${o(this,gt)[n+5]}`);continue}t.push(`C${o(this,gt)[n]} ${o(this,gt)[n+1]} ${o(this,gt)[n+2]} ${o(this,gt)[n+3]} ${o(this,gt)[n+4]} ${o(this,gt)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,a],r){const l=i-t,d=a-n;let u,h;switch(r){case 0:u=V._rescale(o(this,gt),t,a,l,-d),h=V._rescale(o(this,en),t,a,l,-d);break;case 90:u=V._rescaleAndSwap(o(this,gt),t,n,l,d),h=V._rescaleAndSwap(o(this,en),t,n,l,d);break;case 180:u=V._rescale(o(this,gt),i,n,-l,d),h=V._rescale(o(this,en),i,n,-l,d);break;case 270:u=V._rescaleAndSwap(o(this,gt),i,a,-l,-d),h=V._rescaleAndSwap(o(this,en),i,a,-l,-d);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return o(this,Gl)}newOutliner(t,n,i,a,r,l=0){return new H0(t,n,i,a,r,l)}getNewOutline(t,n){const[i,a,r,l]=o(this,Gl),[d,u,h,f]=o(this,Au),m=r*h,g=l*f,v=i*h+d,x=a*f+u,S=this.newOutliner({x:o(this,en)[0]*m+v,y:o(this,en)[1]*g+x},o(this,Au),o(this,Qm),t,o(this,Km),n??o(this,Pa));for(let p=2;p<o(this,en).length;p+=2)S.add({x:o(this,en)[p]*m+v,y:o(this,en)[p+1]*g+x});return S.getOutlines()}}Au=new WeakMap,Gl=new WeakMap,Pa=new WeakMap,Km=new WeakMap,en=new WeakMap,Qm=new WeakMap,gt=new WeakMap,ox=new WeakSet,UC=function(t){const n=o(this,gt);let i=n[4],a=n[5];const r=[i,a,i,a];let l=i,d=a,u=i,h=a;const f=t?Math.max:Math.min,m=new Float32Array(4);for(let v=6,x=n.length;v<x;v+=6){const S=n[v+4],p=n[v+5];isNaN(n[v])?($.pointBoundingBox(S,p,r),d>p?(l=S,d=p):d===p&&(l=f(l,S)),h<p?(u=S,h=p):h===p&&(u=f(u,S))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,$.bezierBoundingBox(i,a,...n.slice(v,v+6),m),$.rectBoundingBox(m[0],m[1],m[2],m[3],r),d>m[1]?(l=m[0],d=m[1]):d===m[1]&&(l=f(l,m[0])),h<m[3]?(u=m[2],h=m[3]):h===m[3]&&(u=f(u,m[2]))),i=S,a=p}const g=o(this,Gl);g[0]=r[0]-o(this,Pa),g[1]=r[1]-o(this,Pa),g[2]=r[2]-r[0]+2*o(this,Pa),g[3]=r[3]-r[1]+2*o(this,Pa),this.firstPoint=[l,d],this.lastPoint=[u,h]};var Zm,Jm,eg,eo,ri,As,HC,$p,VC,$C,Bv;class Pv{constructor(e,t=0,n=0,i=!0){A(this,As);A(this,Zm);A(this,Jm);A(this,eg);A(this,eo,[]);A(this,ri,[]);const a=[1/0,1/0,-1/0,-1/0],r=10**-4;for(const{x,y:S,width:p,height:y}of e){const w=Math.floor((x-t)/r)*r,j=Math.ceil((x+p+t)/r)*r,C=Math.floor((S-t)/r)*r,T=Math.ceil((S+y+t)/r)*r,E=[w,C,T,!0],_=[j,C,T,!1];o(this,eo).push(E,_),$.rectBoundingBox(w,C,j,T,a)}const l=a[2]-a[0]+2*n,d=a[3]-a[1]+2*n,u=a[0]-n,h=a[1]-n;let f=i?-1/0:1/0,m=1/0;const g=o(this,eo).at(i?-1:-2),v=[g[0],g[2]];for(const x of o(this,eo)){const[S,p,y,w]=x;!w&&i?p<m?(m=p,f=S):p===m&&(f=Math.max(f,S)):w&&!i&&(p<m?(m=p,f=S):p===m&&(f=Math.min(f,S))),x[0]=(S-u)/l,x[1]=(p-h)/d,x[2]=(y-h)/d}b(this,Zm,new Float32Array([u,h,l,d])),b(this,Jm,[f,m]),b(this,eg,v)}getOutlines(){o(this,eo).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of o(this,eo))t[3]?(e.push(...N(this,As,Bv).call(this,t)),N(this,As,VC).call(this,t)):(N(this,As,$C).call(this,t),e.push(...N(this,As,Bv).call(this,t)));return N(this,As,HC).call(this,e)}}Zm=new WeakMap,Jm=new WeakMap,eg=new WeakMap,eo=new WeakMap,ri=new WeakMap,As=new WeakSet,HC=function(e){const t=[],n=new Set;for(const r of e){const[l,d,u]=r;t.push([l,d,r],[l,u,r])}t.sort((r,l)=>r[1]-l[1]||r[0]-l[0]);for(let r=0,l=t.length;r<l;r+=2){const d=t[r][2],u=t[r+1][2];d.push(u),u.push(d),n.add(d),n.add(u)}const i=[];let a;for(;n.size>0;){const r=n.values().next().value;let[l,d,u,h,f]=r;n.delete(r);let m=l,g=d;for(a=[l,u],i.push(a);;){let v;if(n.has(h))v=h;else if(n.has(f))v=f;else break;n.delete(v),[l,d,u,h,f]=v,m!==l&&(a.push(m,g,l,g===d?d:u),m=l),g=g===d?u:d}a.push(m,g)}return new O3(i,o(this,Zm),o(this,Jm),o(this,eg))},$p=function(e){const t=o(this,ri);let n=0,i=t.length-1;for(;n<=i;){const a=n+i>>1,r=t[a][0];if(r===e)return a;r<e?n=a+1:i=a-1}return i+1},VC=function([,e,t]){const n=N(this,As,$p).call(this,e);o(this,ri).splice(n,0,[e,t])},$C=function([,e,t]){const n=N(this,As,$p).call(this,e);for(let i=n;i<o(this,ri).length;i++){const[a,r]=o(this,ri)[i];if(a!==e)break;if(a===e&&r===t){o(this,ri).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[a,r]=o(this,ri)[i];if(a!==e)break;if(a===e&&r===t){o(this,ri).splice(i,1);return}}},Bv=function(e){const[t,n,i]=e,a=[[t,n,i]],r=N(this,As,$p).call(this,i);for(let l=0;l<r;l++){const[d,u]=o(this,ri)[l];for(let h=0,f=a.length;h<f;h++){const[,m,g]=a[h];if(!(u<=m||g<=d)){if(m>=d){if(g>u)a[h][1]=u;else{if(f===1)return[];a.splice(h,1),h--,f--}continue}a[h][2]=d,g>u&&a.push([t,u,g])}}}return a};var tg,Nu;class O3 extends V{constructor(t,n,i,a){super();A(this,tg);A(this,Nu);b(this,Nu,t),b(this,tg,n),this.firstPoint=i,this.lastPoint=a}toSVGPath(){const t=[];for(const n of o(this,Nu)){let[i,a]=n;t.push(`M${i} ${a}`);for(let r=2;r<n.length;r+=2){const l=n[r],d=n[r+1];l===i?(t.push(`V${d}`),a=d):d===a&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,n,i,a],r){const l=[],d=i-t,u=a-n;for(const h of o(this,Nu)){const f=new Array(h.length);for(let m=0;m<h.length;m+=2)f[m]=t+h[m]*d,f[m+1]=a-h[m+1]*u;l.push(f)}return l}get box(){return o(this,tg)}get classNamesForOutlining(){return["highlightOutline"]}}tg=new WeakMap,Nu=new WeakMap;class Iv extends H0{newFreeDrawOutline(e,t,n,i,a,r){return new P3(e,t,n,i,a,r)}}class P3 extends zC{newOutliner(e,t,n,i,a,r=0){return new Iv(e,t,n,i,a,r)}}var ju,sg,Ba,Yl,ng,Ls,ig,ag,ql,tn,sn,Wt,Eu,Cu,hs,Tu,Dn,rg,ce,Fv,Gp,GC,YC,qC,zv,Yo,Hn,Uc,XC,Yp,qp,WC,KC,QC,ZC,JC;const Ae=class Ae extends Ge{constructor(t){super({...t,name:"highlightEditor"});A(this,ce);A(this,ju,null);A(this,sg,0);A(this,Ba);A(this,Yl,null);A(this,ng,null);A(this,Ls,null);A(this,ig,null);A(this,ag,0);A(this,ql,null);A(this,tn,null);A(this,sn,null);A(this,Wt,!1);A(this,Eu,null);A(this,Cu,null);A(this,hs,null);A(this,Tu,"");A(this,Dn);A(this,rg,"");this.color=t.color||Ae._defaultColor,b(this,Dn,t.thickness||Ae._defaultThickness),this.opacity=t.opacity||Ae._defaultOpacity,b(this,Ba,t.boxes||null),b(this,rg,t.methodOfCreation||""),b(this,Tu,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(b(this,Wt,!0),N(this,ce,Gp).call(this,t),N(this,ce,Yo).call(this)):o(this,Ba)&&(b(this,ju,t.anchorNode),b(this,sg,t.anchorOffset),b(this,ig,t.focusNode),b(this,ag,t.focusOffset),N(this,ce,Fv).call(this),N(this,ce,Yo).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Ae.prototype;return ue(this,"_keyboardManager",new _g([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:o(this,Wt)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:o(this,Dn),methodOfCreation:o(this,rg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;Ge.initialize(t,n),Ae._defaultColor||(Ae._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case xe.HIGHLIGHT_COLOR:Ae._defaultColor=n;break;case xe.HIGHLIGHT_THICKNESS:Ae._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return o(this,Cu)}get commentButtonPosition(){return o(this,Eu)}updateParams(t,n){switch(t){case xe.HIGHLIGHT_COLOR:N(this,ce,GC).call(this,n);break;case xe.HIGHLIGHT_THICKNESS:N(this,ce,YC).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[xe.HIGHLIGHT_COLOR,Ae._defaultColor],[xe.HIGHLIGHT_THICKNESS,Ae._defaultThickness]]}get propertiesToUpdate(){return[[xe.HIGHLIGHT_COLOR,this.color||Ae._defaultColor],[xe.HIGHLIGHT_THICKNESS,o(this,Dn)||Ae._defaultThickness],[xe.HIGHLIGHT_FREE,o(this,Wt)]]}onUpdatedColor(){var t,n;(t=this.parent)==null||t.drawLayer.updateProperties(o(this,sn),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=o(this,ng))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",b(this,ng,new F0({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(N(this,ce,qp).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,N(this,ce,qp).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){N(this,ce,zv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,ce,Yo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?N(this,ce,zv).call(this):t&&(N(this,ce,Yo).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var a,r,l;const{drawLayer:n}=this.parent;let i;o(this,Wt)?(t=(t-this.rotation+360)%360,i=N(a=Ae,Hn,Uc).call(a,o(this,tn).box,t)):i=N(r=Ae,Hn,Uc).call(r,[this.x,this.y,this.width,this.height],t),n.updateProperties(o(this,sn),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(o(this,hs),{bbox:N(l=Ae,Hn,Uc).call(l,o(this,Ls).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();o(this,Tu)&&(t.setAttribute("aria-label",o(this,Tu)),t.setAttribute("role","mark")),o(this,Wt)?t.classList.add("free"):this.div.addEventListener("keydown",N(this,ce,XC).bind(this),{signal:this._uiManager._signal});const n=b(this,ql,document.createElement("div"));return t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=o(this,Yl),this.setDims(this.width,this.height),vE(this,o(this,ql),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(o(this,hs),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(o(this,hs),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:N(this,ce,Yp).call(this,!0);break;case 1:case 3:N(this,ce,Yp).call(this,!1);break}}select(){var t;super.select(),o(this,hs)&&((t=this.parent)==null||t.drawLayer.updateProperties(o(this,hs),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),o(this,hs)&&((t=this.parent)==null||t.drawLayer.updateProperties(o(this,hs),{rootClass:{selected:!1}}),o(this,Wt)||N(this,ce,Yp).call(this,!1))}get _mustFixPosition(){return!o(this,Wt)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(o(this,sn),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(o(this,hs),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:a,y:r}){const{x:l,y:d,width:u,height:h}=i.getBoundingClientRect(),f=new AbortController,m=t.combinedSignal(f),g=v=>{f.abort(),N(this,Hn,ZC).call(this,t,v)};window.addEventListener("blur",g,{signal:m}),window.addEventListener("pointerup",g,{signal:m}),window.addEventListener("pointerdown",ht,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",qn,{signal:m}),i.addEventListener("pointermove",N(this,Hn,QC).bind(this,t),{signal:m}),this._freeHighlight=new Iv({x:a,y:r},[l,d,u,h],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var x,S,p,y;let a=null;if(t instanceof CC){const{data:{quadPoints:w,rect:j,rotation:C,id:T,color:E,opacity:_,popupRef:M,richText:D,contentsObj:R,creationDate:L,modificationDate:X},parent:{page:{pageNumber:W}}}=t;a=t={annotationType:ae.HIGHLIGHT,color:Array.from(E),opacity:_,quadPoints:w,boxes:null,pageIndex:W-1,rect:j.slice(0),rotation:C,annotationElementId:T,id:T,deleted:!1,popupRef:M,richText:D,comment:(R==null?void 0:R.str)||null,creationDate:L,modificationDate:X}}else if(t instanceof vS){const{data:{inkLists:w,rect:j,rotation:C,id:T,color:E,borderStyle:{rawWidth:_},popupRef:M,richText:D,contentsObj:R,creationDate:L,modificationDate:X},parent:{page:{pageNumber:W}}}=t;a=t={annotationType:ae.HIGHLIGHT,color:Array.from(E),thickness:_,inkLists:w,boxes:null,pageIndex:W-1,rect:j.slice(0),rotation:C,annotationElementId:T,id:T,deleted:!1,popupRef:M,richText:D,comment:(R==null?void 0:R.str)||null,creationDate:L,modificationDate:X}}const{color:r,quadPoints:l,inkLists:d,opacity:u}=t,h=await super.deserialize(t,n,i);h.color=$.makeHexColor(...r),h.opacity=u||1,d&&b(h,Dn,t.thickness),h._initialData=a,t.comment&&h.setCommentData(t);const[f,m]=h.pageDimensions,[g,v]=h.pageTranslation;if(l){const w=b(h,Ba,[]);for(let j=0;j<l.length;j+=8)w.push({x:(l[j]-g)/f,y:1-(l[j+1]-v)/m,width:(l[j+2]-l[j])/f,height:(l[j+1]-l[j+5])/m});N(x=h,ce,Fv).call(x),N(S=h,ce,Yo).call(S),h.rotate(h.rotation)}else if(d){b(h,Wt,!0);const w=d[0],j={x:w[0]-g,y:m-(w[1]-v)},C=new Iv(j,[0,0,f,m],1,o(h,Dn)/2,!0,.001);for(let _=0,M=w.length;_<M;_+=2)j.x=w[_]-g,j.y=m-(w[_+1]-v),C.add(j);const{id:T,clipPathId:E}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);N(p=h,ce,Gp).call(p,{highlightOutlines:C.getOutlines(),highlightId:T,clipPathId:E}),N(y=h,ce,Yo).call(y),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=Ge._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:n,opacity:this.opacity,thickness:o(this,Dn),quadPoints:N(this,ce,WC).call(this),outlines:N(this,ce,KC).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!N(this,ce,JC).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};ju=new WeakMap,sg=new WeakMap,Ba=new WeakMap,Yl=new WeakMap,ng=new WeakMap,Ls=new WeakMap,ig=new WeakMap,ag=new WeakMap,ql=new WeakMap,tn=new WeakMap,sn=new WeakMap,Wt=new WeakMap,Eu=new WeakMap,Cu=new WeakMap,hs=new WeakMap,Tu=new WeakMap,Dn=new WeakMap,rg=new WeakMap,ce=new WeakSet,Fv=function(){const t=new Pv(o(this,Ba),.001);b(this,tn,t.getOutlines()),[this.x,this.y,this.width,this.height]=o(this,tn).box;const n=new Pv(o(this,Ba),.0025,.001,this._uiManager.direction==="ltr");b(this,Ls,n.getOutlines());const{firstPoint:i}=o(this,tn);b(this,Eu,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:a}=o(this,Ls);b(this,Cu,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},Gp=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var m,g;if(b(this,tn,t),b(this,Ls,t.getNewOutline(o(this,Dn)/2+1.5,.0025)),n>=0)b(this,sn,n),b(this,Yl,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),b(this,hs,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:o(this,Ls).box,path:{d:o(this,Ls).toSVGPath()}},!0));else if(this.parent){const v=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(o(this,sn),{bbox:N(m=Ae,Hn,Uc).call(m,o(this,tn).box,(v-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(o(this,hs),{bbox:N(g=Ae,Hn,Uc).call(g,o(this,Ls).box,v),path:{d:o(this,Ls).toSVGPath()}})}const[r,l,d,u]=t.box;switch(this.rotation){case 0:this.x=r,this.y=l,this.width=d,this.height=u;break;case 90:{const[v,x]=this.parentDimensions;this.x=l,this.y=1-r,this.width=d*x/v,this.height=u*v/x;break}case 180:this.x=1-r,this.y=1-l,this.width=d,this.height=u;break;case 270:{const[v,x]=this.parentDimensions;this.x=1-l,this.y=r,this.width=d*x/v,this.height=u*v/x;break}}const{firstPoint:h}=t;b(this,Eu,[(h[0]-r)/d,(h[1]-l)/u]);const{lastPoint:f}=o(this,Ls);b(this,Cu,[(f[0]-r)/d,(f[1]-l)/u])},GC=function(t){const n=(r,l)=>{this.color=r,this.opacity=l,this.onUpdatedColor()},i=this.color,a=this.opacity;this.addCommands({cmd:n.bind(this,t,Ae._defaultOpacity),undo:n.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},YC=function(t){const n=o(this,Dn),i=a=>{b(this,Dn,a),N(this,ce,qC).call(this,a)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},qC=function(t){o(this,Wt)&&(N(this,ce,Gp).call(this,{highlightOutlines:o(this,tn).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},zv=function(){o(this,sn)===null||!this.parent||(this.parent.drawLayer.remove(o(this,sn)),b(this,sn,null),this.parent.drawLayer.remove(o(this,hs)),b(this,hs,null))},Yo=function(t=this.parent){o(this,sn)===null&&({id:Et(this,sn)._,clipPathId:Et(this,Yl)._}=t.drawLayer.draw({bbox:o(this,tn).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:o(this,Wt)},path:{d:o(this,tn).toSVGPath()}},!1,!0),b(this,hs,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:o(this,Wt)},bbox:o(this,Ls).box,path:{d:o(this,Ls).toSVGPath()}},o(this,Wt))),o(this,ql)&&(o(this,ql).style.clipPath=o(this,Yl)))},Hn=new WeakSet,Uc=function([t,n,i,a],r){switch(r){case 90:return[1-n-a,t,a,i];case 180:return[1-t-i,1-n-a,i,a];case 270:return[n,1-t-i,a,i]}return[t,n,i,a]},XC=function(t){Ae._keyboardManager.exec(this,t)},Yp=function(t){if(!o(this,ju))return;const n=window.getSelection();t?n.setPosition(o(this,ju),o(this,sg)):n.setPosition(o(this,ig),o(this,ag))},qp=function(){return o(this,Wt)?this.rotation:0},WC=function(){if(o(this,Wt))return null;const[t,n]=this.pageDimensions,[i,a]=this.pageTranslation,r=o(this,Ba),l=new Float32Array(r.length*8);let d=0;for(const{x:u,y:h,width:f,height:m}of r){const g=u*t+i,v=(1-h)*n+a;l[d]=l[d+4]=g,l[d+1]=l[d+3]=v,l[d+2]=l[d+6]=g+f*t,l[d+5]=l[d+7]=v-m*n,d+=8}return l},KC=function(t){return o(this,tn).serialize(t,N(this,ce,qp).call(this))},QC=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},ZC=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},JC=function(t){const{color:n}=this._initialData;return this.hasEditedComment||t.color.some((i,a)=>i!==n[a])},A(Ae,Hn),F(Ae,"_defaultColor",null),F(Ae,"_defaultOpacity",1),F(Ae,"_defaultThickness",12),F(Ae,"_type","highlight"),F(Ae,"_editorType",ae.HIGHLIGHT),F(Ae,"_freeHighlightId",-1),F(Ae,"_freeHighlight",null),F(Ae,"_freeHighlightClipId","");let V0=Ae;var Xl;class eT{constructor(){A(this,Xl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){o(this,Xl)[e]=t}toSVGProperties(){const e=o(this,Xl);return b(this,Xl,Object.create(null)),{root:e}}reset(){b(this,Xl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){He("Not implemented")}}Xl=new WeakMap;var nn,_u,Bt,Wl,Kl,to,so,no,Ql,we,Uv,Hv,Vv,Gh,tT,Xp,Yh,Hc;const Y=class Y extends Ge{constructor(t){super(t);A(this,we);A(this,nn,null);A(this,_u);F(this,"_colorPicker",null);F(this,"_drawId",null);b(this,_u,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(N(this,we,Uv).call(this,t),N(this,we,Gh).call(this))}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[a,r]of Object.entries(n))i.has(a)?Object.assign(t[a],r):t[a]=r;return t}static getDefaultDrawingOptions(t){He("Not implemented")}static get typesMap(){He("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(o(Y,Bt).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)t.push([i,n[a]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,a]of this.constructor.typesMap)t.push([i,n[a]]);return t}_updateProperty(t,n,i){const a=this._drawingOptions,r=a[n],l=d=>{var h;a.updateProperty(n,d);const u=o(this,nn).updateProperty(n,d);u&&N(this,we,Yh).call(this,u),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(o(this,nn).getPathResizingSVGProperties(N(this,we,Xp).call(this)),{bbox:N(this,we,Hc).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(o(this,nn).getPathResizedSVGProperties(N(this,we,Xp).call(this)),{bbox:N(this,we,Hc).call(this)}))}_onTranslating(t,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:N(this,we,Hc).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(o(this,nn).getPathTranslatedSVGProperties(N(this,we,Xp).call(this),this.parentDimensions),{bbox:N(this,we,Hc).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,o(this,_u)&&(b(this,_u,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){N(this,we,Vv).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(N(this,we,Gh).call(this),N(this,we,Yh).call(this,o(this,nn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),N(this,we,Vv).call(this)):t&&(this._uiManager.addShouldRescale(this),N(this,we,Gh).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties({bbox:N(this,we,Hc).call(this)},o(this,nn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&N(this,we,Yh).call(this,o(this,nn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");return i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,a,r){He("Not implemented")}static startDrawing(t,n,i,a){var S;const{target:r,offsetX:l,offsetY:d,pointerId:u,pointerType:h}=a;if(o(Y,so)&&o(Y,so)!==h)return;const{viewport:{rotation:f}}=t,{width:m,height:g}=r.getBoundingClientRect(),v=b(Y,Wl,new AbortController),x=t.combinedSignal(v);if(o(Y,to)||b(Y,to,u),o(Y,so)??b(Y,so,h),window.addEventListener("pointerup",p=>{var y;o(Y,to)===p.pointerId?this._endDraw(p):(y=o(Y,no))==null||y.delete(p.pointerId)},{signal:x}),window.addEventListener("pointercancel",p=>{var y;o(Y,to)===p.pointerId?this._currentParent.endDrawingSession():(y=o(Y,no))==null||y.delete(p.pointerId)},{signal:x}),window.addEventListener("pointerdown",p=>{o(Y,so)===p.pointerType&&((o(Y,no)||b(Y,no,new Set)).add(p.pointerId),o(Y,Bt).isCancellable()&&(o(Y,Bt).removeLastElement(),o(Y,Bt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",qn,{signal:x}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),r.addEventListener("touchmove",p=>{p.timeStamp===o(Y,Ql)&&ht(p)},{signal:x}),t.toggleDrawing(),(S=n._editorUndoBar)==null||S.hide(),o(Y,Bt)){t.drawLayer.updateProperties(this._currentDrawId,o(Y,Bt).startNew(l,d,m,g,f));return}n.updateUIForDefaultProperties(this),b(Y,Bt,this.createDrawerInstance(l,d,m,g,f)),b(Y,Kl,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(o(Y,Kl).toSVGProperties(),o(Y,Bt).defaultSVGProperties),!0,!1)}static _drawMove(t){var r;if(b(Y,Ql,-1),!o(Y,Bt))return;const{offsetX:n,offsetY:i,pointerId:a}=t;if(o(Y,to)===a){if(((r=o(Y,no))==null?void 0:r.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,o(Y,Bt).add(n,i)),b(Y,Ql,t.timeStamp),ht(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,b(Y,Bt,null),b(Y,Kl,null),b(Y,so,null),b(Y,Ql,NaN)),o(Y,Wl)&&(o(Y,Wl).abort(),b(Y,Wl,null),b(Y,to,NaN),b(Y,no,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,o(Y,Bt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=o(Y,Bt),a=this._currentDrawId,r=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(a,i.setLastElement(r))},undo:()=>{n.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:xe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(xe.DRAW_STEP),!o(Y,Bt).isEmpty()){const{pageDimensions:[i,a],scale:r}=n,l=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:o(Y,Bt).getOutlines(i*r,a*r,r,this._INNER_MARGIN),drawingOptions:o(Y,Kl),mustBeCommitted:!t});return this._cleanup(!0),l}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,a,r,l){He("Not implemented")}static async deserialize(t,n,i){var f,m;const{rawDims:{pageWidth:a,pageHeight:r,pageX:l,pageY:d}}=n.viewport,u=this.deserializeDraw(l,d,a,r,this._INNER_MARGIN,t),h=await super.deserialize(t,n,i);return h.createDrawingOptions(t),N(f=h,we,Uv).call(f,{drawOutlines:u}),N(m=h,we,Gh).call(m),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[n,i]=this.pageTranslation,[a,r]=this.pageDimensions;return o(this,nn).serialize([n,i,a,r],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};nn=new WeakMap,_u=new WeakMap,Bt=new WeakMap,Wl=new WeakMap,Kl=new WeakMap,to=new WeakMap,so=new WeakMap,no=new WeakMap,Ql=new WeakMap,we=new WeakSet,Uv=function({drawOutlines:t,drawId:n,drawingOptions:i}){b(this,nn,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=N(this,we,Hv).call(this,t,this.parent),N(this,we,Yh).call(this,t.box)},Hv=function(t,n){const{id:i}=n.drawLayer.draw(Y._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},Vv=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Gh=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=N(this,we,Hv).call(this,o(this,nn),t)}},tT=function([t,n,i,a]){const{parentDimensions:[r,l],rotation:d}=this;switch(d){case 90:return[n,1-t,i*(l/r),a*(r/l)];case 180:return[1-t,1-n,i,a];case 270:return[1-n,t,i*(l/r),a*(r/l)];default:return[t,n,i,a]}},Xp=function(){const{x:t,y:n,width:i,height:a,parentDimensions:[r,l],rotation:d}=this;switch(d){case 90:return[1-n,t,i*(r/l),a*(l/r)];case 180:return[1-t,1-n,i,a];case 270:return[n,1-t,i*(r/l),a*(l/r)];default:return[t,n,i,a]}},Yh=function(t){[this.x,this.y,this.width,this.height]=N(this,we,tT).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Hc=function(){const{x:t,y:n,width:i,height:a,rotation:r,parentRotation:l,parentDimensions:[d,u]}=this;switch((r*4+l)/90){case 1:return[1-n-a,t,a,i];case 2:return[1-t-i,1-n-a,i,a];case 3:return[n,1-t-i,a,i];case 4:return[t,n-i*(d/u),a*(u/d),i*(d/u)];case 5:return[1-n,t,i*(d/u),a*(u/d)];case 6:return[1-t-a*(u/d),1-n,a*(u/d),i*(d/u)];case 7:return[n-i*(d/u),1-t-a*(u/d),i*(d/u),a*(u/d)];case 8:return[t-i,n-a,i,a];case 9:return[1-n,t-i,a,i];case 10:return[1-t,1-n,i,a];case 11:return[n-a,1-t,a,i];case 12:return[t-a*(u/d),n,a*(u/d),i*(d/u)];case 13:return[1-n-i*(d/u),t-a*(u/d),i*(d/u),a*(u/d)];case 14:return[1-t,1-n-i*(d/u),a*(u/d),i*(d/u)];case 15:return[n,1-t,i*(d/u),a*(u/d)];default:return[t,n,i,a]}},F(Y,"_currentDrawId",-1),F(Y,"_currentParent",null),A(Y,Bt,null),A(Y,Wl,null),A(Y,Kl,null),A(Y,to,NaN),A(Y,so,null),A(Y,no,null),A(Y,Ql,NaN),F(Y,"_INNER_MARGIN",3);let $0=Y;var Oi,It,Ft,Zl,ku,gs,Kt,Rn,Jl,ec,tc,Mu,Wp;class B3{constructor(e,t,n,i,a,r){A(this,Mu);A(this,Oi,new Float64Array(6));A(this,It);A(this,Ft);A(this,Zl);A(this,ku);A(this,gs);A(this,Kt,"");A(this,Rn,0);A(this,Jl,new Mg);A(this,ec);A(this,tc);b(this,ec,n),b(this,tc,i),b(this,Zl,a),b(this,ku,r),[e,t]=N(this,Mu,Wp).call(this,e,t);const l=b(this,It,[NaN,NaN,NaN,NaN,e,t]);b(this,gs,[e,t]),b(this,Ft,[{line:l,points:o(this,gs)}]),o(this,Oi).set(l,0)}updateProperty(e,t){e==="stroke-width"&&b(this,ku,t)}isEmpty(){return!o(this,Ft)||o(this,Ft).length===0}isCancellable(){return o(this,gs).length<=10}add(e,t){[e,t]=N(this,Mu,Wp).call(this,e,t);const[n,i,a,r]=o(this,Oi).subarray(2,6),l=e-a,d=t-r;return Math.hypot(o(this,ec)*l,o(this,tc)*d)<=2?null:(o(this,gs).push(e,t),isNaN(n)?(o(this,Oi).set([a,r,e,t],2),o(this,It).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(o(this,Oi)[0])&&o(this,It).splice(6,6),o(this,Oi).set([n,i,a,r,e,t],0),o(this,It).push(...V.createBezierPoints(n,i,a,r,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(o(this,gs).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,a){b(this,ec,n),b(this,tc,i),b(this,Zl,a),[e,t]=N(this,Mu,Wp).call(this,e,t);const r=b(this,It,[NaN,NaN,NaN,NaN,e,t]);b(this,gs,[e,t]);const l=o(this,Ft).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),o(this,Ft).push({line:r,points:o(this,gs)}),o(this,Oi).set(r,0),b(this,Rn,0),this.toSVGPath(),null}getLastElement(){return o(this,Ft).at(-1)}setLastElement(e){return o(this,Ft)?(o(this,Ft).push(e),b(this,It,e.line),b(this,gs,e.points),b(this,Rn,0),{path:{d:this.toSVGPath()}}):o(this,Jl).setLastElement(e)}removeLastElement(){if(!o(this,Ft))return o(this,Jl).removeLastElement();o(this,Ft).pop(),b(this,Kt,"");for(let e=0,t=o(this,Ft).length;e<t;e++){const{line:n,points:i}=o(this,Ft)[e];b(this,It,n),b(this,gs,i),b(this,Rn,0),this.toSVGPath()}return{path:{d:o(this,Kt)}}}toSVGPath(){const e=V.svgRound(o(this,It)[4]),t=V.svgRound(o(this,It)[5]);if(o(this,gs).length===2)return b(this,Kt,`${o(this,Kt)} M ${e} ${t} Z`),o(this,Kt);if(o(this,gs).length<=6){const i=o(this,Kt).lastIndexOf("M");b(this,Kt,`${o(this,Kt).slice(0,i)} M ${e} ${t}`),b(this,Rn,6)}if(o(this,gs).length===4){const i=V.svgRound(o(this,It)[10]),a=V.svgRound(o(this,It)[11]);return b(this,Kt,`${o(this,Kt)} L ${i} ${a}`),b(this,Rn,12),o(this,Kt)}const n=[];o(this,Rn)===0&&(n.push(`M ${e} ${t}`),b(this,Rn,6));for(let i=o(this,Rn),a=o(this,It).length;i<a;i+=6){const[r,l,d,u,h,f]=o(this,It).slice(i,i+6).map(V.svgRound);n.push(`C${r} ${l} ${d} ${u} ${h} ${f}`)}return b(this,Kt,o(this,Kt)+n.join(" ")),b(this,Rn,o(this,It).length),o(this,Kt)}getOutlines(e,t,n,i){const a=o(this,Ft).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),o(this,Jl).build(o(this,Ft),e,t,n,o(this,Zl),o(this,ku),i),b(this,Oi,null),b(this,It,null),b(this,Ft,null),b(this,Kt,null),o(this,Jl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Oi=new WeakMap,It=new WeakMap,Ft=new WeakMap,Zl=new WeakMap,ku=new WeakMap,gs=new WeakMap,Kt=new WeakMap,Rn=new WeakMap,Jl=new WeakMap,ec=new WeakMap,tc=new WeakMap,Mu=new WeakSet,Wp=function(e,t){return V._normalizePoint(e,t,o(this,ec),o(this,tc),o(this,Zl))};var ps,og,lg,an,Pi,Bi,Du,Ru,sc,Jt,aa,sT,nT,iT;class Mg extends V{constructor(){super(...arguments);A(this,Jt);A(this,ps);A(this,og,0);A(this,lg);A(this,an);A(this,Pi);A(this,Bi);A(this,Du);A(this,Ru);A(this,sc)}build(t,n,i,a,r,l,d){b(this,Pi,n),b(this,Bi,i),b(this,Du,a),b(this,Ru,r),b(this,sc,l),b(this,lg,d??0),b(this,an,t),N(this,Jt,nT).call(this)}get thickness(){return o(this,sc)}setLastElement(t){return o(this,an).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return o(this,an).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of o(this,an)){if(t.push(`M${V.svgRound(n[4])} ${V.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${V.svgRound(n[10])} ${V.svgRound(n[11])}`);continue}for(let i=6,a=n.length;i<a;i+=6){const[r,l,d,u,h,f]=n.subarray(i,i+6).map(V.svgRound);t.push(`C${r} ${l} ${d} ${u} ${h} ${f}`)}}return t.join("")}serialize([t,n,i,a],r){const l=[],d=[],[u,h,f,m]=N(this,Jt,sT).call(this);let g,v,x,S,p,y,w,j,C;switch(o(this,Ru)){case 0:C=V._rescale,g=t,v=n+a,x=i,S=-a,p=t+u*i,y=n+(1-h-m)*a,w=t+(u+f)*i,j=n+(1-h)*a;break;case 90:C=V._rescaleAndSwap,g=t,v=n,x=i,S=a,p=t+h*i,y=n+u*a,w=t+(h+m)*i,j=n+(u+f)*a;break;case 180:C=V._rescale,g=t+i,v=n,x=-i,S=a,p=t+(1-u-f)*i,y=n+h*a,w=t+(1-u)*i,j=n+(h+m)*a;break;case 270:C=V._rescaleAndSwap,g=t+i,v=n+a,x=-i,S=-a,p=t+(1-h-m)*i,y=n+(1-u-f)*a,w=t+(1-h)*i,j=n+(1-u)*a;break}for(const{line:T,points:E}of o(this,an))l.push(C(T,g,v,x,S,r?new Array(T.length):null)),d.push(C(E,g,v,x,S,r?new Array(E.length):null));return{lines:l,points:d,rect:[p,y,w,j]}}static deserialize(t,n,i,a,r,{paths:{lines:l,points:d},rotation:u,thickness:h}){const f=[];let m,g,v,x,S;switch(u){case 0:S=V._rescale,m=-t/i,g=n/a+1,v=1/i,x=-1/a;break;case 90:S=V._rescaleAndSwap,m=-n/a,g=-t/i,v=1/a,x=1/i;break;case 180:S=V._rescale,m=t/i+1,g=-n/a,v=-1/i,x=1/a;break;case 270:S=V._rescaleAndSwap,m=n/a+1,g=t/i+1,v=-1/a,x=-1/i;break}if(!l){l=[];for(const y of d){const w=y.length;if(w===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1]]));continue}if(w===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1],NaN,NaN,NaN,NaN,y[2],y[3]]));continue}const j=new Float32Array(3*(w-2));l.push(j);let[C,T,E,_]=y.subarray(0,4);j.set([NaN,NaN,NaN,NaN,C,T],0);for(let M=4;M<w;M+=2){const D=y[M],R=y[M+1];j.set(V.createBezierPoints(C,T,E,_,D,R),(M-2)*3),[C,T,E,_]=[E,_,D,R]}}}for(let y=0,w=l.length;y<w;y++)f.push({line:S(l[y].map(j=>j??NaN),m,g,v,x),points:S(d[y].map(j=>j??NaN),m,g,v,x)});const p=new this.prototype.constructor;return p.build(f,i,a,1,u,h,r),p}get box(){return o(this,ps)}updateProperty(t,n){return t==="stroke-width"?N(this,Jt,iT).call(this,n):null}updateParentDimensions([t,n],i){const[a,r]=N(this,Jt,aa).call(this);b(this,Pi,t),b(this,Bi,n),b(this,Du,i);const[l,d]=N(this,Jt,aa).call(this),u=l-a,h=d-r,f=o(this,ps);return f[0]-=u,f[1]-=h,f[2]+=2*u,f[3]+=2*h,f}updateRotation(t){return b(this,og,t),{path:{transform:this.rotationTransform}}}get viewBox(){return o(this,ps).map(V.svgRound).join(" ")}get defaultProperties(){const[t,n]=o(this,ps);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${V.svgRound(t)} ${V.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=o(this,ps);let i=0,a=0,r=0,l=0,d=0,u=0;switch(o(this,og)){case 90:a=n/t,r=-t/n,d=t;break;case 180:i=-1,l=-1,d=t,u=n;break;case 270:a=-n/t,r=t/n,u=n;break;default:return""}return`matrix(${i} ${a} ${r} ${l} ${V.svgRound(d)} ${V.svgRound(u)})`}getPathResizingSVGProperties([t,n,i,a]){const[r,l]=N(this,Jt,aa).call(this),[d,u,h,f]=o(this,ps);if(Math.abs(h-r)<=V.PRECISION||Math.abs(f-l)<=V.PRECISION){const S=t+i/2-(d+h/2),p=n+a/2-(u+f/2);return{path:{"transform-origin":`${V.svgRound(t)} ${V.svgRound(n)}`,transform:`${this.rotationTransform} translate(${S} ${p})`}}}const m=(i-2*r)/(h-2*r),g=(a-2*l)/(f-2*l),v=h/i,x=f/a;return{path:{"transform-origin":`${V.svgRound(d)} ${V.svgRound(u)}`,transform:`${this.rotationTransform} scale(${v} ${x}) translate(${V.svgRound(r)} ${V.svgRound(l)}) scale(${m} ${g}) translate(${V.svgRound(-r)} ${V.svgRound(-l)})`}}}getPathResizedSVGProperties([t,n,i,a]){const[r,l]=N(this,Jt,aa).call(this),d=o(this,ps),[u,h,f,m]=d;if(d[0]=t,d[1]=n,d[2]=i,d[3]=a,Math.abs(f-r)<=V.PRECISION||Math.abs(m-l)<=V.PRECISION){const p=t+i/2-(u+f/2),y=n+a/2-(h+m/2);for(const{line:w,points:j}of o(this,an))V._translate(w,p,y,w),V._translate(j,p,y,j);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${V.svgRound(t)} ${V.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(i-2*r)/(f-2*r),v=(a-2*l)/(m-2*l),x=-g*(u+r)+t+r,S=-v*(h+l)+n+l;if(g!==1||v!==1||x!==0||S!==0)for(const{line:p,points:y}of o(this,an))V._rescale(p,x,S,g,v,p),V._rescale(y,x,S,g,v,y);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${V.svgRound(t)} ${V.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[a,r]=i,l=o(this,ps),d=t-l[0],u=n-l[1];if(o(this,Pi)===a&&o(this,Bi)===r)for(const{line:h,points:f}of o(this,an))V._translate(h,d,u,h),V._translate(f,d,u,f);else{const h=o(this,Pi)/a,f=o(this,Bi)/r;b(this,Pi,a),b(this,Bi,r);for(const{line:m,points:g}of o(this,an))V._rescale(m,d,u,h,f,m),V._rescale(g,d,u,h,f,g);l[2]*=h,l[3]*=f}return l[0]=t,l[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${V.svgRound(t)} ${V.svgRound(n)}`}}}get defaultSVGProperties(){const t=o(this,ps);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${V.svgRound(t[0])} ${V.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}ps=new WeakMap,og=new WeakMap,lg=new WeakMap,an=new WeakMap,Pi=new WeakMap,Bi=new WeakMap,Du=new WeakMap,Ru=new WeakMap,sc=new WeakMap,Jt=new WeakSet,aa=function(t=o(this,sc)){const n=o(this,lg)+t/2*o(this,Du);return o(this,Ru)%180===0?[n/o(this,Pi),n/o(this,Bi)]:[n/o(this,Bi),n/o(this,Pi)]},sT=function(){const[t,n,i,a]=o(this,ps),[r,l]=N(this,Jt,aa).call(this,0);return[t+r,n+l,i-2*r,a-2*l]},nT=function(){const t=b(this,ps,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of o(this,an)){if(a.length<=12){for(let d=4,u=a.length;d<u;d+=6)$.pointBoundingBox(a[d],a[d+1],t);continue}let r=a[4],l=a[5];for(let d=6,u=a.length;d<u;d+=6){const[h,f,m,g,v,x]=a.subarray(d,d+6);$.bezierBoundingBox(r,l,h,f,m,g,v,x,t),r=v,l=x}}const[n,i]=N(this,Jt,aa).call(this);t[0]=vs(t[0]-n,0,1),t[1]=vs(t[1]-i,0,1),t[2]=vs(t[2]+n,0,1),t[3]=vs(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},iT=function(t){const[n,i]=N(this,Jt,aa).call(this);b(this,sc,t);const[a,r]=N(this,Jt,aa).call(this),[l,d]=[a-n,r-i],u=o(this,ps);return u[0]-=l,u[1]-=d,u[2]+=2*l,u[3]+=2*d,u};class Px extends eT{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ge._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Px(this._viewParameters);return e.updateAll(this),e}}var lx,aT;const rd=class rd extends $0{constructor(t){super({...t,name:"inkEditor"});A(this,lx);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){Ge.initialize(t,n),this._defaultDrawingOptions=new Px(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return ue(this,"typesMap",new Map([[xe.INK_THICKNESS,"stroke-width"],[xe.INK_COLOR,"stroke"],[xe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,a,r){return new B3(t,n,i,a,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,a,r,l){return Mg.deserialize(t,n,i,a,r,l)}static async deserialize(t,n,i){let a=null;if(t instanceof vS){const{data:{inkLists:l,rect:d,rotation:u,id:h,color:f,opacity:m,borderStyle:{rawWidth:g},popupRef:v,richText:x,contentsObj:S,creationDate:p,modificationDate:y},parent:{page:{pageNumber:w}}}=t;a=t={annotationType:ae.INK,color:Array.from(f),thickness:g,opacity:m,paths:{points:l},boxes:null,pageIndex:w-1,rect:d.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:v,richText:x,comment:(S==null?void 0:S.str)||null,creationDate:p,modificationDate:y}}const r=await super.deserialize(t,n,i);return r._initialData=a,t.comment&&r.setCommentData(t),r}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new z0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return xe.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=rd.getDefaultDrawingOptions({stroke:$.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":r,"stroke-width":l}}=this,d=Object.assign(super.serialize(t),{color:Ge._colorManager.convert(a),opacity:r,thickness:l,paths:{lines:n,points:i}});return this.addComment(d),t?(d.isCopy=!0,d):this.annotationElementId&&!N(this,lx,aT).call(this,d)?null:(d.id=this.annotationElementId,d)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};lx=new WeakSet,aT=function(t){const{color:n,thickness:i,opacity:a,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,d)=>l!==n[d])||t.thickness!==i||t.opacity!==a||t.pageIndex!==r},F(rd,"_type","ink"),F(rd,"_editorType",ae.INK),F(rd,"_defaultDrawingOptions",null);let $v=rd;class Gv extends Mg{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const ip=8,vh=3;var nc,Ee,Yv,oi,rT,oT,qv,Kp,lT,cT,dT,Xv,Wv,uT;class $a{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},a,r,l,d){let u=new OffscreenCanvas(1,1),h=u.getContext("2d",{alpha:!1});const f=200,m=h.font=`${n} ${i} ${f}px ${t}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:v,actualBoundingBoxAscent:x,actualBoundingBoxDescent:S,fontBoundingBoxAscent:p,fontBoundingBoxDescent:y,width:w}=h.measureText(e),j=1.5,C=Math.ceil(Math.max(Math.abs(g)+Math.abs(v)||0,w)*j),T=Math.ceil(Math.max(Math.abs(x)+Math.abs(S)||f,Math.abs(p)+Math.abs(y)||f)*j);u=new OffscreenCanvas(C,T),h=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=m,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,C,T),h.fillStyle="black",h.fillText(e,C*(j-1)/2,T*(3-j)/2);const E=N(this,Ee,Xv).call(this,h.getImageData(0,0,C,T).data),_=N(this,Ee,dT).call(this,E),M=N(this,Ee,Wv).call(this,_),D=N(this,Ee,qv).call(this,E,C,T,M);return this.processDrawnLines({lines:{curves:D,width:C,height:T},pageWidth:a,pageHeight:r,rotation:l,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,a){const[r,l,d]=N(this,Ee,uT).call(this,e),[u,h]=N(this,Ee,cT).call(this,r,l,d,Math.hypot(l,d)*o(this,nc).sigmaSFactor,o(this,nc).sigmaR,o(this,nc).kernelSize),f=N(this,Ee,Wv).call(this,h),m=N(this,Ee,qv).call(this,u,l,d,f);return this.processDrawnLines({lines:{curves:m,width:l,height:d},pageWidth:t,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:r,areContours:l}){i%180!==0&&([t,n]=[n,t]);const{curves:d,width:u,height:h}=e,f=e.thickness??0,m=[],g=Math.min(t/u,n/h),v=g/t,x=g/n,S=[];for(const{points:y}of d){const w=r?N(this,Ee,lT).call(this,y):y;if(!w)continue;S.push(w);const j=w.length,C=new Float32Array(j),T=new Float32Array(3*(j===2?2:j-2));if(m.push({line:T,points:C}),j===2){C[0]=w[0]*v,C[1]=w[1]*x,T.set([NaN,NaN,NaN,NaN,C[0],C[1]],0);continue}let[E,_,M,D]=w;E*=v,_*=x,M*=v,D*=x,C.set([E,_,M,D],0),T.set([NaN,NaN,NaN,NaN,E,_],0);for(let R=4;R<j;R+=2){const L=C[R]=w[R]*v,X=C[R+1]=w[R+1]*x;T.set(V.createBezierPoints(E,_,M,D,L,X),(R-2)*3),[E,_,M,D]=[M,D,L,X]}}if(m.length===0)return null;const p=l?new Gv:new Mg;return p.build(m,t,n,1,i,l?0:f,a),{outline:p,newCurves:S,areContours:l,thickness:f,width:u,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:a}){let r=1/0,l=-1/0,d=0;for(const w of e){d+=w.length;for(let j=2,C=w.length;j<C;j++){const T=w[j]-w[j-2];r=Math.min(r,T),l=Math.max(l,T)}}let u;r>=-128&&l<=127?u=Int8Array:r>=-32768&&l<=32767?u=Int16Array:u=Int32Array;const h=e.length,f=ip+vh*h,m=new Uint32Array(f);let g=0;m[g++]=f*Uint32Array.BYTES_PER_ELEMENT+(d-2*h)*u.BYTES_PER_ELEMENT,m[g++]=0,m[g++]=i,m[g++]=a,m[g++]=t?0:1,m[g++]=Math.max(0,Math.floor(n??0)),m[g++]=h,m[g++]=u.BYTES_PER_ELEMENT;for(const w of e)m[g++]=w.length-2,m[g++]=w[0],m[g++]=w[1];const v=new CompressionStream("deflate-raw"),x=v.writable.getWriter();await x.ready,x.write(m);const S=u.prototype.constructor;for(const w of e){const j=new S(w.length-2);for(let C=2,T=w.length;C<T;C++)j[C-2]=w[C]-w[C-2];x.write(j)}x.close();const p=await new Response(v.readable).arrayBuffer(),y=new Uint8Array(p);return hE(y)}static async decompressSignature(e){try{const t=JD(e),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(t).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let r=null,l=0;for await(const w of n)r||(r=new Uint8Array(new Uint32Array(w.buffer,0,4)[0])),r.set(w,l),l+=w.length;const d=new Uint32Array(r.buffer,0,r.length>>2),u=d[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const h=d[2],f=d[3],m=d[4]===0,g=d[5],v=d[6],x=d[7],S=[],p=(ip+vh*v)*Uint32Array.BYTES_PER_ELEMENT;let y;switch(x){case Int8Array.BYTES_PER_ELEMENT:y=new Int8Array(r.buffer,p);break;case Int16Array.BYTES_PER_ELEMENT:y=new Int16Array(r.buffer,p);break;case Int32Array.BYTES_PER_ELEMENT:y=new Int32Array(r.buffer,p);break}l=0;for(let w=0;w<v;w++){const j=d[vh*w+ip],C=new Float32Array(j+2);S.push(C);for(let T=0;T<vh-1;T++)C[T]=d[vh*w+ip+T+1];for(let T=0;T<j;T++)C[T+2]=C[T]+y[l++]}return{areContours:m,thickness:g,outlines:S,width:h,height:f}}catch(t){return ne(`decompressSignature: ${t}`),null}}}nc=new WeakMap,Ee=new WeakSet,Yv=function(e,t,n,i){return n-=e,i-=t,n===0?i>0?0:4:n===1?i+6:2-i},oi=new WeakMap,rT=function(e,t,n,i,a,r,l){const d=N(this,Ee,Yv).call(this,n,i,a,r);for(let u=0;u<8;u++){const h=(-u+d-l+16)%8,f=o(this,oi)[2*h],m=o(this,oi)[2*h+1];if(e[(n+f)*t+(i+m)]!==0)return h}return-1},oT=function(e,t,n,i,a,r,l){const d=N(this,Ee,Yv).call(this,n,i,a,r);for(let u=0;u<8;u++){const h=(u+d+l+16)%8,f=o(this,oi)[2*h],m=o(this,oi)[2*h+1];if(e[(n+f)*t+(i+m)]!==0)return h}return-1},qv=function(e,t,n,i){const a=e.length,r=new Int32Array(a);for(let h=0;h<a;h++)r[h]=e[h]<=i?1:0;for(let h=1;h<n-1;h++)r[h*t]=r[h*t+t-1]=0;for(let h=0;h<t;h++)r[h]=r[t*n-1-h]=0;let l=1,d;const u=[];for(let h=1;h<n-1;h++){d=1;for(let f=1;f<t-1;f++){const m=h*t+f,g=r[m];if(g===0)continue;let v=h,x=f;if(g===1&&r[m-1]===0)l+=1,x-=1;else if(g>=1&&r[m+1]===0)l+=1,x+=1,g>1&&(d=g);else{g!==1&&(d=Math.abs(g));continue}const S=[f,h],p=x===f+1,y={isHole:p,points:S,id:l,parent:0};u.push(y);let w;for(const R of u)if(R.id===d){w=R;break}w?w.isHole?y.parent=p?w.parent:d:y.parent=p?d:w.parent:y.parent=p?d:0;const j=N(this,Ee,rT).call(this,r,t,h,f,v,x,0);if(j===-1){r[m]=-l,r[m]!==1&&(d=Math.abs(r[m]));continue}let C=o(this,oi)[2*j],T=o(this,oi)[2*j+1];const E=h+C,_=f+T;v=E,x=_;let M=h,D=f;for(;;){const R=N(this,Ee,oT).call(this,r,t,M,D,v,x,1);C=o(this,oi)[2*R],T=o(this,oi)[2*R+1];const L=M+C,X=D+T;S.push(X,L);const W=M*t+D;if(r[W+1]===0?r[W]=-l:r[W]===1&&(r[W]=l),L===h&&X===f&&M===E&&D===_){r[m]!==1&&(d=Math.abs(r[m]));break}else v=M,x=D,M=L,D=X}}}return u},Kp=function(e,t,n,i){if(n-t<=4){for(let E=t;E<n-2;E+=2)i.push(e[E],e[E+1]);return}const a=e[t],r=e[t+1],l=e[n-4]-a,d=e[n-3]-r,u=Math.hypot(l,d),h=l/u,f=d/u,m=h*r-f*a,g=d/l,v=1/u,x=Math.atan(g),S=Math.cos(x),p=Math.sin(x),y=v*(Math.abs(S)+Math.abs(p)),w=v*(1-y+y**2),j=Math.max(Math.atan(Math.abs(p+S)*w),Math.atan(Math.abs(p-S)*w));let C=0,T=t;for(let E=t+2;E<n-2;E+=2){const _=Math.abs(m-h*e[E+1]+f*e[E]);_>C&&(T=E,C=_)}C>(u*j)**2?(N(this,Ee,Kp).call(this,e,t,T+2,i),N(this,Ee,Kp).call(this,e,T,n,i)):i.push(a,r)},lT=function(e){const t=[],n=e.length;return N(this,Ee,Kp).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},cT=function(e,t,n,i,a,r){const l=new Float32Array(r**2),d=-2*i**2,u=r>>1;for(let x=0;x<r;x++){const S=(x-u)**2;for(let p=0;p<r;p++)l[x*r+p]=Math.exp((S+(p-u)**2)/d)}const h=new Float32Array(256),f=-2*a**2;for(let x=0;x<256;x++)h[x]=Math.exp(x**2/f);const m=e.length,g=new Uint8Array(m),v=new Uint32Array(256);for(let x=0;x<n;x++)for(let S=0;S<t;S++){const p=x*t+S,y=e[p];let w=0,j=0;for(let T=0;T<r;T++){const E=x+T-u;if(!(E<0||E>=n))for(let _=0;_<r;_++){const M=S+_-u;if(M<0||M>=t)continue;const D=e[E*t+M],R=l[T*r+_]*h[Math.abs(D-y)];w+=D*R,j+=R}}const C=g[p]=Math.round(w/j);v[C]++}return[g,v]},dT=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},Xv=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,a=1/0;for(let l=0,d=n.length;l<d;l++){const u=n[l]=e[l<<2];i=Math.max(i,u),a=Math.min(a,u)}const r=255/(i-a);for(let l=0,d=n.length;l<d;l++)n[l]=(n[l]-a)*r;return n},Wv=function(e){let t,n=-1/0,i=-1/0;const a=e.findIndex(d=>d!==0);let r=a,l=a;for(t=a;t<256;t++){const d=e[t];d>n&&(t-r>i&&(i=t-r,l=t-1),n=d,r=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t},uT=function(e){const t=e,{width:n,height:i}=e,{maxDim:a}=o(this,nc);let r=n,l=i;if(n>a||i>a){let m=n,g=i,v=Math.log2(Math.max(n,i)/a);const x=Math.floor(v);v=v===x?x-1:x;for(let p=0;p<v;p++){r=Math.ceil(m/2),l=Math.ceil(g/2);const y=new OffscreenCanvas(r,l);y.getContext("2d").drawImage(e,0,0,m,g,0,0,r,l),m=r,g=l,e!==t&&e.close(),e=y.transferToImageBitmap()}const S=Math.min(a/r,a/l);r=Math.round(r*S),l=Math.round(l*S)}const u=new OffscreenCanvas(r,l).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,r,l),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,r,l);const h=u.getImageData(0,0,r,l).data;return[N(this,Ee,Xv).call(this,h),r,l]},A($a,Ee),A($a,nc,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),A($a,oi,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class wS extends eT{constructor(){super(),super.updateProperties({fill:Ge._defaultLineColor,"stroke-width":0})}clone(){const e=new wS;return e.updateAll(this),e}}class SS extends Px{constructor(e){super(e),super.updateProperties({stroke:Ge._defaultLineColor,"stroke-width":1})}clone(){const e=new SS(this._viewParameters);return e.updateAll(this),e}}var io,Ii,ao,ic;const Hs=class Hs extends $0{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});A(this,io,!1);A(this,Ii,null);A(this,ao,null);A(this,ic,null);this._willKeepAspectRatio=!0,b(this,ao,t.signatureData||null),b(this,Ii,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){Ge.initialize(t,n),this._defaultDrawingOptions=new wS,this._defaultDrawnSignatureOptions=new SS(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return ue(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!o(this,Ii)}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(o(this,ao)){const{lines:a,mustSmooth:r,areContours:l,description:d,uuid:u,heightInPage:h}=o(this,ao),{rawDims:{pageWidth:f,pageHeight:m},rotation:g}=this.parent.viewport,v=$a.processDrawnLines({lines:a,pageWidth:f,pageHeight:m,rotation:g,innerMargin:Hs._INNER_MARGIN,mustSmooth:r,areContours:l});this.addSignature(v,h,d,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:o(this,Ii)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){b(this,ic,t),this.addEditToolbar()}getUuid(){return o(this,ic)}get description(){return o(this,Ii)}set description(t){b(this,Ii,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:a,height:r}=o(this,ao),l=Math.max(a,r),d=$a.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:i,width:a,height:r},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:d.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,a){const{x:r,y:l}=this,{outline:d}=b(this,ao,t);b(this,io,d instanceof Gv),this.description=i;let u;o(this,io)?u=Hs.getDefaultDrawingOptions():(u=Hs._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":d.thickness})),this._addOutlines({drawOutlines:d,drawingOptions:u});const[,h]=this.pageDimensions;let f=n/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=r,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return $a.process(t,n,i,a,Hs._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:a},rotation:r}=this.parent.viewport;return $a.extractContoursFromText(t,n,i,a,r,Hs._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return $a.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:a,innerMargin:Hs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Hs.getDefaultDrawingOptions():(this._drawingOptions=Hs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,r=Object.assign(super.serialize(t),{isSignature:!0,areContours:o(this,io),color:[0,0,0],thickness:o(this,io)?0:a});return this.addComment(r),t?(r.paths={lines:n,points:i},r.uuid=o(this,ic),r.isCopy=!0):r.lines=n,o(this,Ii)&&(r.accessibilityData={type:"Figure",alt:o(this,Ii)}),r}static deserializeDraw(t,n,i,a,r,l){return l.areContours?Gv.deserialize(t,n,i,a,r,l):Mg.deserialize(t,n,i,a,r,l)}static async deserialize(t,n,i){var r;const a=await super.deserialize(t,n,i);return b(a,io,t.areContours),a.description=((r=t.accessibilityData)==null?void 0:r.alt)||"",b(a,ic,t.uuid),a}};io=new WeakMap,Ii=new WeakMap,ao=new WeakMap,ic=new WeakMap,F(Hs,"_type","signature"),F(Hs,"_editorType",ae.SIGNATURE),F(Hs,"_defaultDrawingOptions",null);let Kv=Hs;var et,zt,ro,Ia,oo,Lu,Fa,ac,Fi,rn,Ou,Se,qh,Xh,Qp,Zp,Jp,Zv,e0,hT;class Qv extends Ge{constructor(t){super({...t,name:"stampEditor"});A(this,Se);A(this,et,null);A(this,zt,null);A(this,ro,null);A(this,Ia,null);A(this,oo,null);A(this,Lu,"");A(this,Fa,null);A(this,ac,!1);A(this,Fi,null);A(this,rn,!1);A(this,Ou,!1);b(this,Ia,t.bitmapUrl),b(this,oo,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){Ge.initialize(t,n)}static isHandlingMimeForPasting(t){return Ly.includes(t)}static paste(t,n){n.pasteEditor({mode:ae.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:r,height:l}=t||this.copyCanvas(null,null,!0).imageData,d=await i.guess({name:"altText",request:{data:a,width:r,height:l,channels:a.length/(r*l)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const u=d.output;return await this.setGuessedAltText(u),n&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;o(this,zt)&&(b(this,et,null),this._uiManager.imageManager.deleteId(o(this,zt)),(t=o(this,Fa))==null||t.remove(),b(this,Fa,null),o(this,Fi)&&(clearTimeout(o(this,Fi)),b(this,Fi,null))),super.remove()}rebuild(){if(!this.parent){o(this,zt)&&N(this,Se,Qp).call(this);return}super.rebuild(),this.div!==null&&(o(this,zt)&&o(this,Fa)===null&&N(this,Se,Qp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(o(this,ro)||o(this,et)||o(this,Ia)||o(this,oo)||o(this,zt)||o(this,ac))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),o(this,ac)||(o(this,et)?N(this,Se,Zp).call(this):N(this,Se,Qp).call(this)),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(b(this,zt,i),a&&b(this,et,a),b(this,ac,!1),N(this,Se,Zp).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;o(this,Fi)!==null&&clearTimeout(o(this,Fi)),b(this,Fi,setTimeout(()=>{b(this,Fi,null),N(this,Se,Zv).call(this)},200))}copyCanvas(t,n,i=!1){t||(t=224);const{width:a,height:r}=o(this,et),l=new Yi;let d=o(this,et),u=a,h=r,f=null;if(n){if(a>n||r>n){const E=Math.min(n/a,n/r);u=Math.floor(a*E),h=Math.floor(r*E)}f=document.createElement("canvas");const g=f.width=Math.ceil(u*l.sx),v=f.height=Math.ceil(h*l.sy);o(this,rn)||(d=N(this,Se,Jp).call(this,g,v));const x=f.getContext("2d");x.filter=this._uiManager.hcmFilter;let S="white",p="#cfcfd8";this._uiManager.hcmFilter!=="none"?p="black":aR.isDarkMode&&(S="#8f8f9d",p="#42414d");const y=15,w=y*l.sx,j=y*l.sy,C=new OffscreenCanvas(w*2,j*2),T=C.getContext("2d");T.fillStyle=S,T.fillRect(0,0,w*2,j*2),T.fillStyle=p,T.fillRect(0,0,w,j),T.fillRect(w,j,w,j),x.fillStyle=x.createPattern(C,"repeat"),x.fillRect(0,0,g,v),x.drawImage(d,0,0,d.width,d.height,0,0,g,v)}let m=null;if(i){let g,v;if(l.symmetric&&d.width<t&&d.height<t)g=d.width,v=d.height;else if(d=o(this,et),a>t||r>t){const p=Math.min(t/a,t/r);g=Math.floor(a*p),v=Math.floor(r*p),o(this,rn)||(d=N(this,Se,Jp).call(this,g,v))}const S=new OffscreenCanvas(g,v).getContext("2d",{willReadFrequently:!0});S.drawImage(d,0,0,d.width,d.height,0,0,g,v),m={width:g,height:v,data:S.getImageData(0,0,g,v).data}}return{canvas:f,width:u,height:h,imageData:m}}static async deserialize(t,n,i){var S;let a=null,r=!1;if(t instanceof TC){const{data:{rect:p,rotation:y,id:w,structParent:j,popupRef:C,richText:T,contentsObj:E,creationDate:_,modificationDate:M},container:D,parent:{page:{pageNumber:R}},canvas:L}=t;let X,W;L?(delete t.canvas,{id:X,bitmap:W}=i.imageManager.getFromCanvas(D.id,L),L.remove()):(r=!0,t._hasNoCanvas=!0);const ee=((S=await n._structTree.getAriaAttributes(`${fS}${w}`))==null?void 0:S.get("aria-label"))||"";a=t={annotationType:ae.STAMP,bitmapId:X,bitmap:W,pageIndex:R-1,rect:p.slice(0),rotation:y,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:ee},isSvg:!1,structParent:j,popupRef:C,richText:T,comment:(E==null?void 0:E.str)||null,creationDate:_,modificationDate:M}}const l=await super.deserialize(t,n,i),{rect:d,bitmap:u,bitmapUrl:h,bitmapId:f,isSvg:m,accessibilityData:g}=t;r?(i.addMissingCanvas(t.id,l),b(l,ac,!0)):f&&i.imageManager.isValidId(f)?(b(l,zt,f),u&&b(l,et,u)):b(l,Ia,h),b(l,rn,m);const[v,x]=l.pageDimensions;return l.width=(d[2]-d[0])/v,l.height=(d[3]-d[1])/x,g&&(l.altTextData=g),l._initialData=a,t.comment&&l.setCommentData(t),b(l,Ou,!!a),l}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:o(this,zt),isSvg:o(this,rn)});if(this.addComment(i),t)return i.bitmapUrl=N(this,Se,e0).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:r}=this.serializeAltText(!1);if(!a&&r&&(i.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const d=N(this,Se,hT).call(this,i);return d.isSame?null:(d.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||(n.stamps=new Map);const l=o(this,rn)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(o(this,zt)))n.stamps.set(o(this,zt),{area:l,serialized:i}),i.bitmap=N(this,Se,e0).call(this,!1);else if(o(this,rn)){const d=n.stamps.get(o(this,zt));l>d.area&&(d.area=l,d.serialized.bitmap.close(),d.serialized.bitmap=N(this,Se,e0).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}et=new WeakMap,zt=new WeakMap,ro=new WeakMap,Ia=new WeakMap,oo=new WeakMap,Lu=new WeakMap,Fa=new WeakMap,ac=new WeakMap,Fi=new WeakMap,rn=new WeakMap,Ou=new WeakMap,Se=new WeakSet,qh=function(t,n=!1){if(!t){this.remove();return}b(this,et,t.bitmap),n||(b(this,zt,t.id),b(this,rn,t.isSvg)),t.file&&b(this,Lu,t.file.name),N(this,Se,Zp).call(this)},Xh=function(){if(b(this,ro,null),this._uiManager.enableWaiting(!1),!!o(this,Fa)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&o(this,et)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&o(this,et)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Qp=function(){if(o(this,zt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(o(this,zt)).then(i=>N(this,Se,qh).call(this,i,!0)).finally(()=>N(this,Se,Xh).call(this));return}if(o(this,Ia)){const i=o(this,Ia);b(this,Ia,null),this._uiManager.enableWaiting(!0),b(this,ro,this._uiManager.imageManager.getFromUrl(i).then(a=>N(this,Se,qh).call(this,a)).finally(()=>N(this,Se,Xh).call(this)));return}if(o(this,oo)){const i=o(this,oo);b(this,oo,null),this._uiManager.enableWaiting(!0),b(this,ro,this._uiManager.imageManager.getFromFile(i).then(a=>N(this,Se,qh).call(this,a)).finally(()=>N(this,Se,Xh).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Ly.join(",");const n=this._uiManager._signal;b(this,ro,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),N(this,Se,qh).call(this,a)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>N(this,Se,Xh).call(this))),t.click()},Zp=function(){var u;const{div:t}=this;let{width:n,height:i}=o(this,et);const[a,r]=this.pageDimensions,l=.75;if(this.width)n=this.width*a,i=this.height*r;else if(n>l*a||i>l*r){const h=Math.min(l*a/n,l*r/i);n*=h,i*=h}this._uiManager.enableWaiting(!1);const d=b(this,Fa,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=n/a,this.height=i/r,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),N(this,Se,Zv).call(this),o(this,Ou)||(this.parent.addUndoableEditor(this),b(this,Ou,!0)),this._reportTelemetry({action:"inserted_image"}),o(this,Lu)&&this.div.setAttribute("aria-description",o(this,Lu)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Jp=function(t,n){const{width:i,height:a}=o(this,et);let r=i,l=a,d=o(this,et);for(;r>2*t||l>2*n;){const u=r,h=l;r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),l>2*n&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const f=new OffscreenCanvas(r,l);f.getContext("2d").drawImage(d,0,0,u,h,0,0,r,l),d=f.transferToImageBitmap()}return d},Zv=function(){const[t,n]=this.parentDimensions,{width:i,height:a}=this,r=new Yi,l=Math.ceil(i*t*r.sx),d=Math.ceil(a*n*r.sy),u=o(this,Fa);if(!u||u.width===l&&u.height===d)return;u.width=l,u.height=d;const h=o(this,rn)?o(this,et):N(this,Se,Jp).call(this,l,d),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,l,d)},e0=function(t){if(t){if(o(this,rn)){const a=this._uiManager.imageManager.getSvgUrl(o(this,zt));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=o(this,et),n.getContext("2d").drawImage(o(this,et),0,0),n.toDataURL()}if(o(this,rn)){const[n,i]=this.pageDimensions,a=Math.round(this.width*n*Ro.PDF_TO_CSS_UNITS),r=Math.round(this.height*i*Ro.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(a,r);return l.getContext("2d").drawImage(o(this,et),0,0,o(this,et).width,o(this,et).height,0,0,a,r),l.transferToImageBitmap()}return structuredClone(o(this,et))},hT=function(t){var l;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,a=t.pageIndex===n,r=(((l=t.accessibilityData)==null?void 0:l.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&r,isSameAltText:r}},F(Qv,"_type","stamp"),F(Qv,"_editorType",ae.STAMP);var rc,Pu,lo,co,za,Os,uo,Bu,Iu,li,Ua,Ut,Ha,ho,Fu,K,fo,Ue,ew,fT,pi,tw,sw,t0;const Qn=class Qn{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:a,annotationLayer:r,drawLayer:l,textLayer:d,viewport:u,l10n:h}){A(this,Ue);A(this,rc);A(this,Pu,!1);A(this,lo,null);A(this,co,null);A(this,za,null);A(this,Os,new Map);A(this,uo,!1);A(this,Bu,!1);A(this,Iu,!1);A(this,li,null);A(this,Ua,null);A(this,Ut,null);A(this,Ha,null);A(this,ho,null);A(this,Fu,-1);A(this,K);const f=[...o(Qn,fo).values()];if(!Qn._initialized){Qn._initialized=!0;for(const m of f)m.initialize(h,e)}e.registerEditorTypes(f),b(this,K,e),this.pageIndex=t,this.div=n,b(this,rc,a),b(this,lo,r),this.viewport=u,b(this,Ut,d),this.drawLayer=l,this._structTree=i,o(this,K).addLayer(this)}get isEmpty(){return o(this,Os).size===0}get isInvisible(){return this.isEmpty&&o(this,K).getMode()===ae.NONE}updateToolbar(e){o(this,K).updateToolbar(e)}updateMode(e=o(this,K).getMode()){switch(N(this,Ue,t0).call(this),e){case ae.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ae.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ae.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ae.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const n of o(Qn,fo).values())t.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=o(this,Ut))==null?void 0:t.div)}setEditingState(e){o(this,K).setEditingState(e)}addCommands(e){o(this,K).addCommands(e)}cleanUndoStack(e){o(this,K).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=o(this,lo))==null||t.div.classList.toggle("disabled",!e)}async enable(){var n;b(this,Iu,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=o(this,ho))==null||n.abort(),b(this,ho,null);const e=new Set;for(const i of o(this,Ue,ew))i.enableEditing(),i.show(!0),i.annotationElementId&&(o(this,K).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=o(this,lo);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),o(this,K).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}b(this,Iu,!1),o(this,K)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var n;if(b(this,Bu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),o(this,Ut)&&!o(this,ho)){b(this,ho,new AbortController);const i=o(this,K).combinedSignal(o(this,ho));o(this,Ut).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:d,timeStamp:u}=a,h=o(this,Fu);if(u-h>500){b(this,Fu,u);return}b(this,Fu,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const m=document.elementsFromPoint(l,d);if(f.toggle("getElements",!1),!this.div.contains(m[0]))return;let g;const v=new RegExp(`^${jf}[0-9]+$`);for(const S of m)if(v.test(S.id)){g=S.id;break}if(!g)return;const x=o(this,Os).get(g);(x==null?void 0:x.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),x.dblclick(a))},{signal:i,capture:!0})}const e=o(this,lo);if(e){const i=new Map,a=new Map;for(const l of o(this,Ue,ew)){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(e);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(n=this.getEditableAnnotation(l.annotationElementId))==null||n.show(),l.remove()}const r=e.getEditableAnnotations();for(const l of r){const{id:d}=l.data;if(o(this,K).isDeletedAnnotationElement(d)){l.updateEdited({deleted:!0});continue}let u=a.get(d);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=i.get(d),u&&(o(this,K).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}N(this,Ue,t0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const i of o(Qn,fo).values())t.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,Bu,!1)}getEditableAnnotation(e){var t;return((t=o(this,lo))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){o(this,K).getActive()!==e&&o(this,K).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=o(this,Ut))!=null&&e.div&&!o(this,Ha)){b(this,Ha,new AbortController);const t=o(this,K).combinedSignal(o(this,Ha));o(this,Ut).div.addEventListener("pointerdown",N(this,Ue,fT).bind(this),{signal:t}),o(this,Ut).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=o(this,Ut))!=null&&e.div&&o(this,Ha)&&(o(this,Ha).abort(),b(this,Ha,null),o(this,Ut).div.classList.remove("highlighting"))}enableClick(){if(o(this,co))return;b(this,co,new AbortController);const e=o(this,K).combinedSignal(o(this,co));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=o(this,co))==null||e.abort(),b(this,co,null)}attach(e){o(this,Os).set(e.id,e);const{annotationElementId:t}=e;t&&o(this,K).isDeletedAnnotationElement(t)&&o(this,K).removeDeletedAnnotationElement(e)}detach(e){var t;o(this,Os).delete(e.id),(t=o(this,rc))==null||t.removePointerInTextLayer(e.contentDiv),!o(this,Bu)&&e.annotationElementId&&o(this,K).addDeletedAnnotationElement(e)}remove(e){this.detach(e),o(this,K).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(o(this,K).addDeletedAnnotationElement(e.annotationElementId),Ge.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),o(this,K).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!o(this,Iu)),o(this,K).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!o(this,za)&&(e._focusEventsAllowed=!1,b(this,za,setTimeout(()=>{b(this,za,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:o(this,K)._signal}),t.focus())},0))),e._structTreeParentId=(n=o(this,rc))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getEditorByUID(e){for(const t of o(this,Os).values())if(t.uid===e)return t;return null}getNextId(){return o(this,K).getId()}combinedSignal(e){return o(this,K).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=o(this,Ue,pi))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await o(this,K).updateMode(e.mode);const{offsetX:n,offsetY:i}=N(this,Ue,sw).call(this),a=this.getNextId(),r=N(this,Ue,tw).call(this,{parent:this,id:a,x:n,y:i,uiManager:o(this,K),isCentered:!0,...t});r&&this.add(r)}async deserialize(e){var t;return await((t=o(Qn,fo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,o(this,K)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),a=N(this,Ue,tw).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:o(this,K),isCentered:t,...n});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(N(this,Ue,sw).call(this),!0,e)}setSelected(e){o(this,K).setSelected(e)}toggleSelected(e){o(this,K).toggleSelected(e)}unselect(e){o(this,K).unselect(e)}pointerup(e){var i;const{isMac:t}=as.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!o(this,uo)||(b(this,uo,!1),(i=o(this,Ue,pi))!=null&&i.isDrawer&&o(this,Ue,pi).supportMultipleDrawings))return;if(!o(this,Pu)){b(this,Pu,!0);return}const n=o(this,K).getMode();if(n===ae.STAMP||n===ae.SIGNATURE){o(this,K).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(o(this,K).getMode()===ae.HIGHLIGHT&&this.enableTextSelection(),o(this,uo)){b(this,uo,!1);return}const{isMac:t}=as.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(b(this,uo,!0),(i=o(this,Ue,pi))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=o(this,K).getActive();b(this,Pu,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),o(this,li)){o(this,Ue,pi).startDrawing(this,o(this,K),!1,e);return}o(this,K).setCurrentDrawingSession(this),b(this,li,new AbortController);const t=o(this,K).combinedSignal(o(this,li));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(b(this,Ua,null),this.commitOrRemove())},{signal:t}),o(this,Ue,pi).startDrawing(this,o(this,K),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&b(this,Ua,t);return}o(this,Ua)&&setTimeout(()=>{var t;(t=o(this,Ua))==null||t.focus(),b(this,Ua,null)},0)}endDrawingSession(e=!1){return o(this,li)?(o(this,K).setCurrentDrawingSession(null),o(this,li).abort(),b(this,li,null),b(this,Ua,null),o(this,Ue,pi).endDrawing(e)):null}findNewParent(e,t,n){const i=o(this,K).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return o(this,li)?(this.endDrawingSession(),!0):!1}onScaleChanging(){o(this,li)&&o(this,Ue,pi).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=o(this,K).getActive())==null?void 0:e.parent)===this&&(o(this,K).commitOrRemove(),o(this,K).setActiveEditor(null)),o(this,za)&&(clearTimeout(o(this,za)),b(this,za,null));for(const n of o(this,Os).values())(t=o(this,rc))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,o(this,Os).clear(),o(this,K).removeLayer(this)}render({viewport:e}){this.viewport=e,bc(this.div,e);for(const t of o(this,K).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){o(this,K).commitOrRemove(),N(this,Ue,t0).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,bc(this.div,{rotation:n}),t!==n)for(const i of o(this,Os).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return o(this,K).viewParameters.realScale}};rc=new WeakMap,Pu=new WeakMap,lo=new WeakMap,co=new WeakMap,za=new WeakMap,Os=new WeakMap,uo=new WeakMap,Bu=new WeakMap,Iu=new WeakMap,li=new WeakMap,Ua=new WeakMap,Ut=new WeakMap,Ha=new WeakMap,ho=new WeakMap,Fu=new WeakMap,K=new WeakMap,fo=new WeakMap,Ue=new WeakSet,ew=function(){return o(this,Os).size!==0?o(this,Os).values():o(this,K).getEditors(this.pageIndex)},fT=function(e){o(this,K).unselectAll();const{target:t}=e;if(t===o(this,Ut).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&o(this,Ut).div.contains(t)){const{isMac:n}=as.platform;if(e.button!==0||e.ctrlKey&&n)return;o(this,K).showAllEditors("highlight",!0,!0),o(this,Ut).div.classList.add("free"),this.toggleDrawing(),V0.startHighlighting(this,o(this,K).direction==="ltr",{target:o(this,Ut).div,x:e.x,y:e.y}),o(this,Ut).div.addEventListener("pointerup",()=>{o(this,Ut).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:o(this,K)._signal}),e.preventDefault()}},pi=function(){return o(Qn,fo).get(o(this,K).getMode())},tw=function(e){const t=o(this,Ue,pi);return t?new t.prototype.constructor(e):null},sw=function(){const{x:e,y:t,width:n,height:i}=this.boundingClientRect,a=Math.max(0,e),r=Math.max(0,t),l=Math.min(window.innerWidth,e+n),d=Math.min(window.innerHeight,t+i),u=(a+l)/2-e,h=(r+d)/2-t,[f,m]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:f,offsetY:m}},t0=function(){for(const e of o(this,Os).values())e.isEmpty()&&e.remove()},F(Qn,"_initialized",!1),A(Qn,fo,new Map([Lv,$v,Qv,V0,Kv].map(e=>[e._editorType,e])));let Jv=Qn;var ci,xs,oc,cg,cx,mT,qi,iw,gT,aw;const Tt=class Tt{constructor({pageIndex:e}){A(this,qi);A(this,ci,null);A(this,xs,new Map);A(this,oc,new Map);this.pageIndex=e}setParent(e){if(!o(this,ci)){b(this,ci,e);return}if(o(this,ci)!==e){if(o(this,xs).size>0)for(const t of o(this,xs).values())t.remove(),e.append(t);b(this,ci,e)}}static get _svgFactory(){return ue(this,"_svgFactory",new U0)}draw(e,t=!1,n=!1){const i=Et(Tt,cg)._++,a=N(this,qi,iw).call(this),r=Tt._svgFactory.createElement("defs");a.append(r);const l=Tt._svgFactory.createElement("path");r.append(l);const d=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",d),l.setAttribute("vector-effect","non-scaling-stroke"),t&&o(this,oc).set(i,l);const u=n?N(this,qi,gT).call(this,r,d):null,h=Tt._svgFactory.createElement("use");return a.append(h),h.setAttribute("href",`#${d}`),this.updateProperties(a,e),o(this,xs).set(i,a),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const n=Et(Tt,cg)._++,i=N(this,qi,iw).call(this),a=Tt._svgFactory.createElement("defs");i.append(a);const r=Tt._svgFactory.createElement("path");a.append(r);const l=`path_p${this.pageIndex}_${n}`;r.setAttribute("id",l),r.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const f=Tt._svgFactory.createElement("mask");a.append(f),d=`mask_p${this.pageIndex}_${n}`,f.setAttribute("id",d),f.setAttribute("maskUnits","objectBoundingBox");const m=Tt._svgFactory.createElement("rect");f.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const g=Tt._svgFactory.createElement("use");f.append(g),g.setAttribute("href",`#${l}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const u=Tt._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${l}`),d&&u.setAttribute("mask",`url(#${d})`);const h=u.cloneNode();return i.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),o(this,xs).set(n,i),n}finalizeDraw(e,t){o(this,oc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var d;if(!t)return;const{root:n,bbox:i,rootClass:a,path:r}=t,l=typeof e=="number"?o(this,xs).get(e):e;if(l){if(n&&N(this,qi,aw).call(this,l,n),i&&N(d=Tt,cx,mT).call(d,l,i),a){const{classList:u}=l;for(const[h,f]of Object.entries(a))u.toggle(h,f)}if(r){const h=l.firstChild.firstChild;N(this,qi,aw).call(this,h,r)}}}updateParent(e,t){if(t===this)return;const n=o(this,xs).get(e);n&&(o(t,ci).append(n),o(this,xs).delete(e),o(t,xs).set(e,n))}remove(e){o(this,oc).delete(e),o(this,ci)!==null&&(o(this,xs).get(e).remove(),o(this,xs).delete(e))}destroy(){b(this,ci,null);for(const e of o(this,xs).values())e.remove();o(this,xs).clear(),o(this,oc).clear()}};ci=new WeakMap,xs=new WeakMap,oc=new WeakMap,cg=new WeakMap,cx=new WeakSet,mT=function(e,[t,n,i,a]){const{style:r}=e;r.top=`${100*n}%`,r.left=`${100*t}%`,r.width=`${100*i}%`,r.height=`${100*a}%`},qi=new WeakSet,iw=function(){const e=Tt._svgFactory.create(1,1,!0);return o(this,ci).append(e),e.setAttribute("aria-hidden",!0),e},gT=function(e,t){const n=Tt._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const a=Tt._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),i},aw=function(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},A(Tt,cx),A(Tt,cg,0);let nw=Tt;globalThis._pdfjsTestingUtils={HighlightOutliner:Pv};globalThis.pdfjsLib={AbortException:Do,AnnotationEditorLayer:Jv,AnnotationEditorParamsType:xe,AnnotationEditorType:ae,AnnotationEditorUIManager:yc,AnnotationLayer:Mv,AnnotationMode:br,AnnotationType:yt,applyOpacity:oR,build:m3,ColorPicker:F0,createValidAbsoluteUrl:lE,CSSConstants:rR,DOMSVGFactory:U0,DrawLayer:nw,FeatureTest:as,fetchData:Eg,findContrastColor:lR,getDocument:fC,getFilenameFromUrl:eR,getPdfFilenameFromUrl:tR,getRGB:Tg,getUuid:uE,getXfaPageViewport:nR,GlobalWorkerOptions:zi,ImageKind:Ap,InvalidPDFException:Dy,isDataScheme:Lx,isPdfFile:gS,isValidExplicitDest:bR,MathClamp:vs,noContextMenu:qn,normalizeUnicode:QD,OPS:Ef,OutputScale:Yi,PasswordResponses:HD,PDFDataRangeTransport:mC,PDFDateString:R0,PDFWorker:_f,PermissionFlag:UD,PixelsPerInch:Ro,RenderingCancelledException:mS,renderRichText:mE,ResponseException:D0,setLayerDimensions:bc,shadow:ue,SignatureExtractor:$a,stopEvent:ht,SupportedImageMimeTypes:Ly,TextLayer:Tf,TouchManager:O0,updateUrlHash:cE,Util:$,VerbosityLevel:Mx,version:f3,XfaLayer:fE};zi.workerSrc="/pdf.worker.min.mjs";function I3(){const s=Lt(),e=k.useRef(null),[t,n]=k.useState(!1),[i,a]=k.useState({name:"",valueProp:"",website:"",stage:"Pre-Seed",industry:"",founderName:"",founderEmail:"",problem:"",solution:"",team:"",funding:"",presentationUrl:"",videoUrl:"",fivePoints:[]}),[r,l]=k.useState(!1),[d,u]=k.useState(!1),[h,f]=k.useState(""),m=w=>{const{name:j,value:C}=w.target;(j==="website"||j==="presentationUrl"||j==="videoUrl")&&C&&!C.startsWith("http://")&&!C.startsWith("https://")?a(T=>({...T,[j]:`https://${C}`})):a(T=>({...T,[j]:C}))},g=async w=>{try{const j=w.name.toLowerCase();if(j.endsWith(".pdf")){const C=await w.arrayBuffer(),T=await fC({data:C}).promise;let E="";for(let _=1;_<=T.numPages;_++){const R=(await(await T.getPage(_)).getTextContent()).items.map(L=>L.str).join(" ");E+=R+`
`}return E}else if(j.endsWith(".ppt")||j.endsWith(".pptx"))return`PowerPoint file: ${w.name}
Note: Full PPT parsing requires backend processing. Please use PDF format for best results.`;return`Document: ${w.name}`}catch(j){return console.error("Error extracting text:",j),`Document: ${w.name}`}},v=async(w,j)=>(console.log("🔑 API Key status:",`Configured (${"your-openai-api-key-here".substring(0,10)}...)`),console.warn("⚠️ OpenAI API key not configured. Using keyword detection fallback."),S(w,j)),x=w=>w.replace(/\.(pdf|pptx?)/gi,"").replace(/[-_]/g," ").replace(/pitch|deck|presentation|investor|funding|slide/gi,"").trim(),S=(w,j)=>{const C=x(j),T=`${w} ${j}`.toLowerCase();let E="Technology",_="",M="",D="",R="",L="";return T.includes("dog")||T.includes("pet")||T.includes("animal")?(E="Pet Tech",_="Revolutionary solution for pet care and wellness",M="Pet owners struggle with providing consistent care and monitoring their pets' health needs",D="Smart technology platform that helps pet owners track health, schedule care, and access expert advice",R="Founded by veterinarians and pet industry experts with 15+ years experience",L="$1.5M Seed"):T.includes("health")||T.includes("medical")||T.includes("wellness")?(E="HealthTech",_="Making healthcare accessible and affordable for everyone",M="Healthcare is fragmented, expensive, and difficult to navigate for most people",D="Integrated platform that simplifies healthcare access and reduces costs by 40%",R="Medical professionals and healthcare technology experts from top institutions",L="$2M Seed"):T.includes("finance")||T.includes("payment")||T.includes("banking")?(E="FinTech",_="Democratizing financial services for the next generation",M="Traditional financial services are complex, expensive, and exclude millions of users",D="Mobile-first financial platform with no hidden fees and instant access",R="Former executives from Goldman Sachs, PayPal, and Stripe",L="$3M Seed"):T.includes("ai")||T.includes("machine learning")||T.includes("artificial")?(E="AI",_="AI-powered automation that transforms business operations",M="Businesses waste countless hours on repetitive tasks that could be automated",D="Enterprise AI platform that automates workflows and provides intelligent insights",R="PhD researchers from Stanford and MIT with deep learning expertise",L="$5M Series A"):T.includes("education")||T.includes("learning")||T.includes("student")?(E="EdTech",_="Personalized learning that adapts to every student",M="Traditional education fails to meet individual student needs and learning styles",D="AI-powered learning platform that personalizes curriculum for each student",R="Educators and technologists from leading universities",L="$2M Seed"):T.includes("food")||T.includes("restaurant")||T.includes("delivery")?(E="Food Tech",_="Transforming the food industry with technology",M="Food industry lacks efficient systems for ordering, delivery, and inventory management",D="All-in-one platform connecting restaurants, suppliers, and customers seamlessly",R="Restaurant operators and logistics experts from DoorDash and Uber Eats",L="$2.5M Seed"):T.includes("ecommerce")||T.includes("retail")||T.includes("shop")?(E="E-commerce",_="Next-generation shopping experience powered by AI",M="Online shopping is overwhelming with too many choices and poor recommendations",D="Personalized shopping platform that uses AI to find exactly what customers want",R="Former leaders from Amazon, Shopify, and Walmart",L="$3M Seed"):(E="SaaS",_="Enterprise software that scales with your business",M="Modern businesses need flexible, powerful software without the complexity",D="Cloud-based platform that combines power with simplicity for growing companies",R="Experienced founders with successful exits and Fortune 500 experience",L="$2M Seed"),{name:C||"Startup Name",valueProp:_,problem:M,solution:D,team:R,funding:L,industry:E,stage:"Seed"}},p=async w=>{var T;const j=(T=w.target.files)==null?void 0:T[0];if(!j)return;const C=j.name.toLowerCase();if(!C.endsWith(".pdf")&&!C.endsWith(".ppt")&&!C.endsWith(".pptx")){alert("❌ Please upload a PDF or PowerPoint file");return}n(!0);try{console.log("🔍 Extracting text from document...");const E=await g(j);console.log("📄 Extracted text length:",E.length),console.log("📄 First 500 chars:",E.substring(0,500)),console.log("🤖 Parsing with AI...");const _=await v(E,j.name);console.log("✅ Parsed data:",_);const M={name:i.name||_.name,valueProp:i.valueProp||_.valueProp||_.pitch,problem:i.problem||_.problem,solution:i.solution||_.solution,team:i.team||_.team,funding:i.funding||_.funding,industry:i.industry||_.industry,stage:i.stage||_.stage,fivePoints:_.fivePoints||i.fivePoints||[]};console.log("📝 Setting form data:",M),a(L=>({...L,...M}));const D="your-openai-api-key-here",R=D&&D!=="your-openai-api-key-here";alert(`✅ Document "${j.name}" scanned successfully!

🤖 ${R?"AI-powered analysis":"Keyword detection"} detected: ${_.industry}

📝 Please review the auto-filled data and make any necessary edits.`)}catch(E){alert("❌ Error scanning document. Please try again."),console.error("Document scan error:",E)}finally{n(!1)}},y=async w=>{w.preventDefault(),u(!0),f("");try{const j={id:Date.now(),name:i.name,tagline:i.valueProp,pitch:i.valueProp||`${i.problem} | ${i.solution}`,stage:i.stage==="Pre-Seed"||i.stage==="Seed"?1:i.stage==="Series A"?2:1,team:i.team,funding:i.funding,raise:i.funding,website:i.website,industries:i.industry?[i.industry]:[],problem:i.problem,solution:i.solution,founderName:i.founderName,founderEmail:i.founderEmail,presentationUrl:i.presentationUrl,videoUrl:i.videoUrl,fivePoints:i.fivePoints.length>0?i.fivePoints:[i.problem,i.solution,`${i.industry||"Technology"} market`,i.team,i.funding],yesVotes:0,noVotes:0,hotness:0},C=localStorage.getItem("uploadedStartups"),T=C?JSON.parse(C):[];T.push(j),localStorage.setItem("uploadedStartups",JSON.stringify(T)),console.log("Startup saved successfully:",j),l(!0),setTimeout(()=>{s("/vote")},3e3)}catch(j){console.error("Error submitting startup:",j),f(j.message||"Failed to submit startup. Please try again.")}finally{u(!1)}};return r?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-yellow-50 flex items-center justify-center p-8",children:c.jsxs("div",{className:"bg-white rounded-3xl p-12 shadow-2xl text-center max-w-2xl",children:[c.jsx("div",{className:"text-8xl mb-6",children:"🎉"}),c.jsx("h1",{className:"text-4xl font-bold text-orange-600 mb-4",children:"Submission Received!"}),c.jsxs("p",{className:"text-xl text-gray-700 mb-6",children:["Thank you for submitting ",c.jsx("strong",{children:i.name}),"!"]}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Your startup is now in our system. Get ready to get Hot! 🔥"}),c.jsx("button",{onClick:()=>s("/vote-demo"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"See Other Hot Startups →"})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-yellow-50 p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>s("/admin/bulk-import"),className:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all text-sm",children:"🚀 Bulk Import"}),c.jsx("button",{onClick:()=>{confirm("Clear all uploaded startups? This cannot be undone.")&&(localStorage.removeItem("uploadedStartups"),alert("✅ All uploaded startups cleared!"),window.location.reload())},className:"bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all text-sm",children:"🗑️ Clear Uploads"})]})]}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-8xl mb-4",children:"🚀"}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"Submit Your Startup"}),c.jsx("p",{className:"text-xl text-gray-700 font-medium mb-2",children:"Get discovered by investors who want to find you"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Fill out the form below to join Hot Honey 🍯"})]}),c.jsxs("div",{className:"bg-gradient-to-r from-green-400 via-purple-500 to-purple-700 rounded-3xl p-8 mb-8 text-white shadow-2xl",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"text-6xl mb-3",children:"📄"}),c.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Upload Your Pitch Deck"}),c.jsx("p",{className:"text-lg",children:"AI will auto-fill the form below from your presentation!"})]}),c.jsxs("div",{className:"flex justify-center",children:[c.jsx("input",{ref:e,type:"file",accept:".pdf,.ppt,.pptx",onChange:p,className:"hidden"}),c.jsx("button",{type:"button",onClick:()=>{var w;return(w=e.current)==null?void 0:w.click()},disabled:t,className:"px-8 py-4 bg-white text-purple-700 font-bold rounded-2xl shadow-lg hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:t?c.jsx(c.Fragment,{children:"🔍 Scanning Document..."}):c.jsx(c.Fragment,{children:"📤 Upload PDF or PowerPoint"})})]}),c.jsx("p",{className:"text-center mt-4 text-sm opacity-90",children:"✨ Accepted: PDF, PPT, PPTX • Auto-extracts: Problem, Solution, Team & more!"})]}),h&&c.jsxs("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-xl mb-6",children:[c.jsx("strong",{children:"Error:"})," ",h]}),c.jsxs("form",{onSubmit:y,className:"bg-white rounded-3xl p-8 shadow-2xl mb-8",children:[c.jsxs("section",{className:"mb-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-6 flex items-center gap-2",children:[c.jsx("span",{children:"📋"})," Basic Information"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Startup Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"name",value:i.name,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"e.g., HyperLoop"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Value Proposition ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"valueProp",value:i.valueProp,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"One sentence that describes what you do"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Website"}),c.jsx("input",{type:"text",name:"website",value:i.website,onChange:m,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"www.yourstartup.com or https://yourstartup.com"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Stage ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsxs("select",{name:"stage",value:i.stage,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",children:[c.jsx("option",{value:"Idea",children:"Idea"}),c.jsx("option",{value:"Pre-Seed",children:"Pre-Seed"}),c.jsx("option",{value:"Seed",children:"Seed"}),c.jsx("option",{value:"Series A",children:"Series A"}),c.jsx("option",{value:"Series B+",children:"Series B+"})]})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Industry ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"industry",value:i.industry,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"e.g., AI, FinTech, HealthTech, CleanTech"})]})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-6 flex items-center gap-2",children:[c.jsx("span",{children:"👤"})," Founder Information"]}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Your Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"founderName",value:i.founderName,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"Full name"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Email ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"email",name:"founderEmail",value:i.founderEmail,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"founder@startup.com"})]})]})})]}),c.jsxs("section",{className:"mb-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-4 flex items-center gap-2",children:[c.jsx("span",{children:"🔥"})," Your Pitch"]}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Tell us about your startup. Keep it concise and compelling!"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Problem ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"problem",value:i.problem,onChange:m,required:!0,rows:3,maxLength:300,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"What problem are you solving? (Max 300 characters)"}),c.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[i.problem.length,"/300"]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Solution ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"solution",value:i.solution,onChange:m,required:!0,rows:3,maxLength:300,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"How does your product solve it? (Max 300 characters)"}),c.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[i.solution.length,"/300"]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Team ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{name:"team",value:i.team,onChange:m,required:!0,rows:3,maxLength:300,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"Who's building this? Key backgrounds? (Max 300 characters)"}),c.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[i.team.length,"/300"]})]})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsxs("h2",{className:"text-2xl font-bold text-orange-600 mb-6 flex items-center gap-2",children:[c.jsx("span",{children:"💰"})," Funding & Resources"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:["Funding Goal ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"funding",value:i.funding,onChange:m,required:!0,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"e.g., $500K seed round"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Presentation URL"}),c.jsx("input",{type:"text",name:"presentationUrl",value:i.presentationUrl,onChange:m,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"www.dropbox.com/presentation or https://..."}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Link to your pitch deck or presentation"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Video URL"}),c.jsx("input",{type:"text",name:"videoUrl",value:i.videoUrl,onChange:m,className:"w-full px-4 py-3 border-2 border-orange-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"www.youtube.com/watch?v=... or https://..."}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Link to your pitch video (YouTube, Vimeo, etc.)"})]})]})]}),c.jsxs("div",{className:"flex gap-4 justify-center pt-6 border-t-2 border-orange-100",children:[c.jsx("button",{type:"button",onClick:()=>s("/"),className:"bg-white text-orange-600 font-bold py-4 px-8 rounded-2xl shadow-lg hover:bg-gray-100 transition-all text-lg border-2 border-orange-500",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:d,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-12 rounded-2xl shadow-lg transition-all text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:d?"⏳ Submitting...":"🚀 Submit Startup"})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 rounded-2xl p-6 text-white mb-8",children:[c.jsx("h3",{className:"text-xl font-bold mb-3",children:"What happens next?"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:"✓"}),c.jsx("span",{children:"Your startup is added to our database"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:"✓"}),c.jsx("span",{children:"Investors can discover and vote on your startup"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:"✓"}),c.jsx("span",{children:"Start collecting votes and building Heat 🔥"})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{children:"✓"}),c.jsx("span",{children:"Get discovered by investors actively looking for deals like yours"})]})]})]})]})})}const I1=s=>{let e;const t=new Set,n=(u,h)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const m=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(g=>g(e,m))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>d,subscribe:u=>(t.add(u),()=>t.delete(u))},d=e=s(n,i,l);return l},F3=s=>s?I1(s):I1,z3=s=>s;function U3(s,e=z3){const t=Sh.useSyncExternalStore(s.subscribe,Sh.useCallback(()=>e(s.getState()),[s,e]),Sh.useCallback(()=>e(s.getInitialState()),[s,e]));return Sh.useDebugValue(t),t}const H3=s=>{const e=F3(s),t=n=>U3(e,n);return Object.assign(t,e),t},V3=s=>H3;function $3(s,e){let t;try{t=s()}catch{return}return{getItem:i=>{var a;const r=d=>d===null?null:JSON.parse(d,void 0),l=(a=t.getItem(i))!=null?a:null;return l instanceof Promise?l.then(r):r(l)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const rw=s=>e=>{try{const t=s(e);return t instanceof Promise?t:{then(n){return rw(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return rw(n)(t)}}}},G3=(s,e)=>(t,n,i)=>{let a={storage:$3(()=>localStorage),partialize:x=>x,version:0,merge:(x,S)=>({...S,...x}),...e},r=!1;const l=new Set,d=new Set;let u=a.storage;if(!u)return s((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...x)},n,i);const h=()=>{const x=a.partialize({...n()});return u.setItem(a.name,{state:x,version:a.version})},f=i.setState;i.setState=(x,S)=>(f(x,S),h());const m=s((...x)=>(t(...x),h()),n,i);i.getInitialState=()=>m;let g;const v=()=>{var x,S;if(!u)return;r=!1,l.forEach(y=>{var w;return y((w=n())!=null?w:m)});const p=((S=a.onRehydrateStorage)==null?void 0:S.call(a,(x=n())!=null?x:m))||void 0;return rw(u.getItem.bind(u))(a.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate){const w=a.migrate(y.state,y.version);return w instanceof Promise?w.then(j=>[!0,j]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[j,C]=y;if(g=a.merge(C,(w=n())!=null?w:m),t(g,!0),j)return h()}).then(()=>{p==null||p(g,void 0),g=n(),r=!0,d.forEach(y=>y(g))}).catch(y=>{p==null||p(void 0,y)})};return i.persist={setOptions:x=>{a={...a,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>v(),hasHydrated:()=>r,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(d.add(x),()=>{d.delete(x)})},a.skipHydration||v(),g||m},Y3=G3,sd=V3()(Y3((s,e)=>({unvote:t=>{const n=e(),i=n.portfolio.filter(r=>r.id!==t.id),a=n.startups.map(r=>r.id===t.id?{...r,yesVotes:Math.max((r.yesVotes||1)-1,0)}:r);s({startups:a,portfolio:i})},startups:Un.map((t,n)=>({...t,id:n,yesVotes:0})),currentIndex:0,portfolio:[],voteYes:t=>{const n=e(),i=[...n.startups],a=i.findIndex(u=>u.id===t.id);let r=t;a!==-1&&(i[a].yesVotes=(i[a].yesVotes||0)+1,r={...i[a]});const d=n.portfolio.some(u=>u.id===r.id)?n.portfolio.map(u=>u.id===r.id?r:u):[...n.portfolio,r];s({startups:i,portfolio:d,currentIndex:n.currentIndex+1})},voteNo:()=>{s(t=>({currentIndex:t.currentIndex+1}))},rateStartup:(t,n)=>{s(i=>{const a=[...i.portfolio];return a[t]&&(a[t].rating=n),{portfolio:a}})},resetVoting:()=>{s(t=>({currentIndex:0}))}}),{name:"hot-money-honey-store"})),q3=()=>{const{id:s}=eE(),t=sd(n=>n.startups).find(n=>String(n.id)===String(s));return t?c.jsxs("div",{className:"p-6 bg-orange-50 min-h-screen",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:t.name}),c.jsxs("p",{className:"mb-2",children:[c.jsx("strong",{children:"Value:"})," ",t.description]}),c.jsxs("p",{className:"mb-2",children:[c.jsx("strong",{children:"Market:"})," ",t.marketSize]}),c.jsxs("p",{className:"mb-2",children:[c.jsx("strong",{children:"Unique:"})," ",t.unique]}),c.jsxs("p",{className:"mb-2",children:[c.jsx("strong",{children:"Raise:"})," ",t.raise]}),t.video&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"text-xl font-semibold",children:"🎥 Pitch Video"}),c.jsx("a",{className:"text-blue-600 underline",href:t.video,target:"_blank",rel:"noopener noreferrer",children:"Watch now"})]})]}):c.jsx("p",{className:"text-red-500 p-6",children:"Startup not found."})},X3=()=>c.jsxs("div",{className:"p-6 text-center bg-orange-50 min-h-screen",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-500 mb-4",children:"🚧 Deals Page"}),c.jsx("p",{className:"text-gray-600",children:"Coming soon — exciting investment deals are on the way!"})]}),W3=()=>{const[s,e]=k.useState([]);k.useEffect(()=>{const i=localStorage.getItem("myYesVotes");if(i){const r=JSON.parse(i).map(l=>{if(!l.fivePoints){const d=Un.find(u=>u.id===l.id);if(d)return{...l,fivePoints:d.fivePoints}}return l});localStorage.setItem("myYesVotes",JSON.stringify(r)),e(r)}},[]);const t=()=>{confirm("⚠️ Are you sure you want to clear ALL your votes? This cannot be undone.")&&(localStorage.removeItem("myYesVotes"),localStorage.removeItem("votedStartups"),e([]),alert("✅ All votes cleared! You can start voting again."),window.location.href="/vote")},n=i=>{console.log(`Voted ${i}`)};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50",children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-1",children:[c.jsx(q,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:"👤 Sign Up"}),c.jsx(q,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"🏠 Home"}),c.jsx(q,{to:"/vote",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"📊 Vote"}),c.jsx(q,{to:"/dashboard",className:"px-4 py-1.5 bg-gradient-to-r from-amber-400 via-orange-500 to-yellow-500 text-white rounded-full font-medium text-sm shadow-lg",children:"👤 Dashboard"})]})}),c.jsxs("div",{className:"pt-28 px-8 max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-5xl font-bold text-gray-800 mb-2",children:"🔥 My Hot Picks"}),c.jsxs("p",{className:"text-lg text-gray-600",children:["You've voted YES on ",c.jsx("span",{className:"font-bold text-orange-600",children:s.length})," ",s.length===1?"startup":"startups"]})]}),s.length>0&&c.jsx("button",{onClick:t,className:"px-6 py-3 bg-red-500 text-white rounded-lg font-medium text-sm hover:bg-red-600 transition-colors shadow-lg",children:"🗑️ Clear All Votes"})]})}),s.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"text-8xl mb-6",children:"🤷‍♂️"}),c.jsx("p",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No hot picks yet!"}),c.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Start voting YES on startups you're interested in"}),c.jsx(q,{to:"/vote",className:"px-8 py-4 bg-orange-500 text-white rounded-xl font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg inline-block",children:"🔥 Start Voting Now"})]}):c.jsx("div",{className:"space-y-8",children:s.map(i=>c.jsx("div",{children:c.jsx(Ec,{startup:i,onVote:n})},i.id))})]})]})},wh=[{id:"fintech",name:"FinTech",emoji:"💰"},{id:"ai",name:"AI/ML",emoji:"🤖"},{id:"saas",name:"SaaS",emoji:"☁️"},{id:"deeptech",name:"Deep Tech",emoji:"🔬"},{id:"robotics",name:"Robotics",emoji:"🦾"},{id:"healthtech",name:"HealthTech",emoji:"🏥"},{id:"edtech",name:"EdTech",emoji:"📚"},{id:"cleantech",name:"CleanTech",emoji:"🌱"},{id:"ecommerce",name:"E-Commerce",emoji:"🛒"},{id:"crypto",name:"Crypto/Web3",emoji:"₿"},{id:"consumer",name:"Consumer",emoji:"🛍️"},{id:"enterprise",name:"Enterprise",emoji:"🏢"}];function K3({isOpen:s,onClose:e,yesVotes:t}){const[n,i]=k.useState(""),[a,r]=k.useState([]),[l,d]=k.useState(""),[u,h]=k.useState(!1);k.useEffect(()=>{s&&(d(""),h(!1),r([]))},[s]);const f=x=>{r(S=>S.includes(x)?S.filter(p=>p!==x):[...S,x])},m=()=>{a.length===wh.length?r([]):r(wh.map(x=>x.id))},g=()=>{const x=`share-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,S={id:x,investorName:n||"Anonymous Investor",industries:a,startups:t,createdAt:new Date().toISOString()},p=localStorage.getItem("portfolioShares"),y=p?JSON.parse(p):{};y[x]=S,localStorage.setItem("portfolioShares",JSON.stringify(y));const w=`${window.location.origin}/shared-portfolio/${x}`;d(w)},v=()=>{navigator.clipboard.writeText(l),h(!0),setTimeout(()=>h(!1),3e3)};return s?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2",children:"Share Your Portfolio"}),c.jsx("p",{className:"text-gray-600",children:"Choose which deals to share with friends and colleagues"})]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none",children:"×"})]}),l?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("div",{className:"bg-green-50 border-2 border-green-400 rounded-xl p-6 mb-4",children:c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("div",{className:"text-5xl mb-3",children:"✅"}),c.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Share Link Created!"}),c.jsx("p",{className:"text-green-700",children:"Anyone with this link can view your selected deals"})]})}),c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Shareable Link"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:l,readOnly:!0,className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-xl bg-gray-50 text-sm"}),c.jsx("button",{onClick:v,className:"px-6 py-3 bg-orange-500 text-white rounded-xl font-semibold hover:bg-orange-600 transition-colors",children:u?"✅ Copied!":"📋 Copy"})]})]}),c.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-xl p-4 mb-6",children:[c.jsx("h4",{className:"font-bold text-purple-700 mb-2",children:"📊 What's being shared:"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Investor:"})," ",n||"Anonymous"]}),c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Industries:"})," ",a.length," selected"]}),c.jsxs("li",{children:["• ",c.jsx("strong",{children:"Filtered Startups:"})," Showing only ",a.map(x=>{var S;return(S=wh.find(p=>p.id===x))==null?void 0:S.name}).join(", ")]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{d(""),r([])},className:"flex-1 bg-gray-200 text-gray-700 font-bold py-3 px-6 rounded-2xl hover:bg-gray-300 transition-all",children:"Create Another"}),c.jsx("button",{onClick:e,className:"flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:"Done"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Name (Optional)"}),c.jsx("input",{type:"text",value:n,onChange:x=>i(x.target.value),placeholder:"e.g., Murray's Hot Picks",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to share anonymously"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Select Industries to Share"}),c.jsx("button",{onClick:m,className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-lg font-semibold hover:bg-purple-200 transition-colors text-xs",children:a.length===wh.length?"Deselect All":"Select All"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Only startups in selected industries will be shared"}),c.jsx("div",{className:"grid grid-cols-3 gap-3",children:wh.map(x=>c.jsxs("button",{onClick:()=>f(x.id),className:`p-3 rounded-xl border-2 transition-all text-center ${a.includes(x.id)?"border-orange-500 bg-orange-50":"border-gray-300 bg-white hover:border-orange-300"}`,children:[c.jsx("div",{className:"text-2xl mb-1",children:x.emoji}),c.jsx("div",{className:`font-semibold text-xs ${a.includes(x.id)?"text-orange-700":"text-gray-700"}`,children:x.name})]},x.id))})]}),c.jsx("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-xl p-4 mb-6",children:c.jsxs("p",{className:"text-sm text-gray-700",children:["💡 ",c.jsx("strong",{children:"Pro Tip:"})," You can share different portfolios with different people! For example, share FinTech+AI deals with Murray, but keep your DeepTech picks private."]})}),c.jsx("button",{onClick:g,disabled:a.length===0,className:`w-full font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg ${a.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white"}`,children:a.length===0?"⚠️ Select at least one industry":"🔗 Generate Share Link"})]})]})}):null}const Q3=()=>{const s=cr(),[e,t]=k.useState(!1),[n,i]=k.useState(!1),a=sd(h=>h.portfolio),r=sd(h=>h.voteYes);sd(h=>h.voteNo);const l=sd(h=>h.unvote);k.useEffect(()=>{const h=localStorage.getItem("userProfile");if(h){const f=JSON.parse(h);i(f.email==="admin@hotmoneyhoney.com"||f.isAdmin)}},[]);const d=h=>s.pathname===h,u=h=>d(h)?"text-lg py-3 px-6":"text-sm py-2 px-4";return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[c.jsx("div",{className:"fixed top-4 right-4 z-50",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl px-6 py-3 flex items-center gap-4 shadow-xl border border-white/20",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-purple-200",children:"Logged in as"}),c.jsx("p",{className:"text-white font-bold",children:(()=>{const h=localStorage.getItem("userProfile");return h?JSON.parse(h).name:"User"})()})]}),c.jsx(q,{to:"/settings",className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-full text-sm font-semibold transition-all flex items-center gap-2",children:"⚙️ Settings"}),c.jsx("button",{onClick:()=>{confirm("Are you sure you want to log out?")&&(localStorage.removeItem("isLoggedIn"),alert("✅ Logged out successfully!"),window.location.href="/")},className:"px-4 py-2 bg-gradient-to-r from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500 text-gray-800 rounded-full text-sm font-semibold transition-all flex items-center gap-2",children:"🚪 Log Out"})]})}),c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-3 items-center",children:[c.jsx(q,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Hot Money Honey",children:"🍯"}),c.jsx(q,{to:"/",className:`font-bold rounded-2xl transition-all ${u("/")} ${d("/")?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:"🏠 Home"}),c.jsx(q,{to:"/dashboard",className:`font-bold rounded-2xl transition-all ${d("/dashboard")?"text-lg py-3 px-7":"text-base py-2.5 px-5"} ${d("/dashboard")?"bg-gradient-to-r from-amber-400 via-orange-500 to-yellow-500 text-white shadow-xl scale-110":"bg-gradient-to-r from-amber-400 via-orange-500 to-yellow-500 hover:from-amber-500 hover:via-orange-600 hover:to-yellow-600 text-white shadow-lg"}`,children:"📊 Dashboard"}),c.jsx(q,{to:"/vote",className:`font-bold rounded-2xl transition-all ${u("/vote")} ${d("/vote")?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg scale-110":"bg-purple-700 hover:bg-purple-600 text-white"}`,children:"🗳️ Vote"}),n&&c.jsx(q,{to:"/admin/startup-processor",className:`font-bold rounded-2xl transition-all ${u("/admin/startup-processor")} ${d("/admin/startup-processor")?"bg-gradient-to-r from-pink-500 to-rose-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-pink-400 to-rose-600 hover:from-pink-500 hover:to-rose-700 text-white"}`,children:"🚀 Startup Processor"}),n&&c.jsx(q,{to:"/admin/bulk-upload",className:`font-bold rounded-2xl transition-all ${u("/admin/bulk-upload")} ${d("/admin/bulk-upload")?"bg-gradient-to-r from-gray-500 to-gray-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-gray-400 to-gray-600 hover:from-gray-500 hover:to-gray-700 text-white"}`,children:"📊 Bulk Upload"}),n&&c.jsx(q,{to:"/admin/process-uploads",className:`font-bold rounded-2xl transition-all ${u("/admin/process-uploads")} ${d("/admin/process-uploads")?"bg-gradient-to-r from-orange-500 to-yellow-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-orange-400 to-yellow-600 hover:from-orange-500 hover:to-yellow-700 text-white"}`,children:"🍯 Process Uploads"}),n&&c.jsx(q,{to:"/admin/document-upload",className:`font-bold rounded-2xl transition-all ${u("/admin/document-upload")} ${d("/admin/document-upload")?"bg-gradient-to-r from-green-500 to-purple-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-green-400 to-purple-600 hover:from-green-500 hover:to-purple-700 text-white"}`,children:"📄 Scan Docs"}),n&&c.jsx(q,{to:"/admin/localstorage",className:`font-bold rounded-2xl transition-all ${u("/admin/localstorage")} ${d("/admin/localstorage")?"bg-gradient-to-r from-indigo-500 to-blue-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-indigo-400 to-blue-600 hover:from-indigo-500 hover:to-blue-700 text-white"}`,children:"🔍 localStorage"}),n&&c.jsx(q,{to:"/admin/tracker",className:`font-bold rounded-2xl transition-all ${u("/admin/tracker")} ${d("/admin/tracker")?"bg-gradient-to-r from-teal-500 to-cyan-700 text-white shadow-lg scale-110":"bg-gradient-to-r from-teal-400 to-cyan-600 hover:from-teal-500 hover:to-cyan-700 text-white"}`,children:"📊 Activity Tracker"})]})}),c.jsxs("div",{className:"pt-28 px-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"🔥 My Hot Picks"}),c.jsxs("p",{className:"text-lg text-purple-200",children:["You've voted YES on ",c.jsx("span",{className:"font-bold text-yellow-300",children:a.length})," ",a.length===1?"startup":"startups"]}),a.length>0&&c.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[c.jsx("button",{onClick:()=>t(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg font-medium text-sm transition-colors shadow-lg",children:"📤 Share Portfolio"}),c.jsx(q,{to:"/analytics",className:"px-6 py-3 bg-gradient-to-r from-purple-700 to-purple-900 hover:from-purple-800 hover:to-purple-950 text-yellow-400 rounded-lg font-bold text-sm transition-all shadow-lg",children:"📈 View Analytics"})]})]}),a.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"text-8xl mb-6",children:"🤷‍♂️"}),c.jsx("p",{className:"text-3xl font-bold text-white mb-4",children:"No hot picks yet!"}),c.jsx("p",{className:"text-xl text-purple-200 mb-8",children:"Start voting YES on startups you're interested in"}),c.jsx(q,{to:"/vote",className:"px-8 py-4 bg-orange-500 text-white rounded-xl font-bold text-lg hover:bg-orange-600 transition-colors shadow-lg inline-block",children:"🔥 Start Voting Now"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(h=>c.jsx("div",{className:"transform scale-90",children:c.jsx(Ec,{startup:h,onVote:f=>{f==="yes"?r(h):l(h)}})},h.id))})]}),c.jsx(K3,{isOpen:e,onClose:()=>t(!1),yesVotes:a})]})},F1=()=>{const[s,e]=k.useState([0,1,2]),[t,n]=k.useState(Un),[i,a]=k.useState(3),[r,l]=k.useState([]),d=(f,m,g)=>{if(n(v=>v.map(x=>x.id===f?{...x,yesVotes:m==="yes"?(x.yesVotes||0)+1:x.yesVotes||0,noVotes:m==="no"?(x.noVotes||0)+1:x.noVotes||0}:x)),m==="yes"){const v=localStorage.getItem("myYesVotes"),x=v?JSON.parse(v):[],S=Un.find(p=>p.id===f);S&&(x.push({id:f,name:S.name,pitch:S.pitch,tagline:S.tagline,stage:S.stage,fivePoints:S.fivePoints,votedAt:new Date().toISOString()}),localStorage.setItem("myYesVotes",JSON.stringify(x)))}},u=f=>{const m=[f+1,f+2].filter(g=>g<3);l(m),setTimeout(()=>{e(g=>{const v=[...g];for(let x=f;x<2;x++)v[x]=g[x+1];return v[2]=i%Un.length,v}),a(g=>g+1),l([])},250)},h=s.map(f=>t[f]);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:[c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx(q,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up/In",children:"🍯"}),c.jsx(q,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:"👤 Sign Up/In"}),c.jsx(q,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"🏠 Home"}),c.jsx(q,{to:"/vote",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:c.jsx("span",{className:"blink-text",children:"📊 Vote"})}),c.jsx(q,{to:"/analytics",className:"px-4 py-1.5 bg-gradient-to-r from-purple-700 to-purple-900 text-yellow-400 rounded-full font-bold text-sm shadow-lg hover:from-purple-800 hover:to-purple-950 transition-all",children:"📈 Analytics"}),c.jsx(q,{to:"/dashboard",className:"px-5 py-2 bg-gradient-to-r from-amber-400 via-orange-500 to-yellow-500 text-white rounded-full font-bold text-base shadow-lg hover:from-amber-500 hover:via-orange-600 hover:to-yellow-600 transition-all",children:"👤 Dashboard"})]})}),c.jsx("div",{className:"fixed top-4 right-8 z-50",children:c.jsx(q,{to:"/login",className:"px-6 py-2 bg-white text-purple-700 rounded-full font-bold text-sm shadow-lg hover:bg-gray-100 transition-all border-2 border-purple-300",children:"🔑 Log In"})}),c.jsxs("div",{className:"pt-28 px-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs("div",{className:"relative inline-block",children:[c.jsx("h1",{className:"text-8xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 mb-2",children:"Hot Honey"}),c.jsx("img",{src:"/images/Mr_Bee.png",alt:"Mr. Bee",className:"absolute -right-32 w-40 h-40 object-contain",style:{top:"-20px"}})]}),c.jsxs("div",{className:"mt-6 mb-4",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"🔥 Start Collecting Hot Deals 🔥"}),c.jsx("p",{className:"text-lg text-purple-200 max-w-2xl mx-auto mb-6 font-medium",children:"Discover the hottest startup deals and grow your investment portfolio"})]}),c.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[c.jsx(q,{to:"/vote",className:"px-6 py-2.5 bg-orange-500 text-white rounded-lg font-medium text-base hover:bg-orange-600 transition-colors shadow-lg",children:"📊 Start Voting"}),c.jsx(q,{to:"/submit",className:"px-6 py-2.5 bg-white text-orange-500 border-2 border-orange-500 rounded-lg font-medium text-base hover:bg-orange-50 transition-colors shadow-lg",children:"📈 Submit Startup"})]})]}),c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsx("div",{className:"text-center mb-6",children:c.jsx("h3",{className:"text-2xl font-bold text-white",style:{textShadow:"2px 2px 4px rgba(147, 51, 234, 0.6), -2px -2px 4px rgba(134, 239, 172, 0.4)"},children:"⭐ Featured Startups"})}),c.jsx("div",{className:"grid md:grid-cols-3 gap-6 justify-items-center",children:h.map((f,m)=>c.jsx("div",{className:`transition-all duration-250 ease-out ${r.includes(m)?"animate-slide-left":""}`,children:c.jsx(Ec,{startup:f,onVote:g=>d(f.id,g),onSwipeAway:()=>u(m)})},`${f.id}-${m}`))})]})]}),c.jsx("style",{children:`
        @keyframes slide-left {
          from {
            transform: translateX(0);
            opacity: 1;
          }
          to {
            transform: translateX(-420px);
            opacity: 0.3;
          }
        }
        .animate-slide-left {
          animation: slide-left 0.25s ease-out forwards;
        }
      `})]})};function Z3(){const s=Lt(),[e,t]=k.useState(0),[n,i]=k.useState(Un),a=n[e],r=d=>{const u=[...n];d==="yes"?u[e].yesVotes=(u[e].yesVotes||0)+1:u[e].noVotes=(u[e].noVotes||0)+1,i(u)},l=()=>{e<n.length-1?t(e+1):s("/")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-800 via-purple-700 to-indigo-800 p-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("button",{onClick:()=>s("/"),className:"bg-white text-purple-700 font-bold py-3 px-6 rounded-2xl shadow-lg hover:bg-gray-100 transition-all",children:"← Home"}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-yellow-200",children:"Progress"}),c.jsxs("div",{className:"text-2xl font-bold text-white",children:[e+1," / ",n.length]})]})]}),c.jsx(Ec,{startup:a,onVote:r,onSwipeAway:l}),c.jsx("div",{className:"text-center mt-6",children:c.jsx("button",{onClick:l,className:"text-yellow-200 hover:text-white font-semibold underline text-lg",children:"Skip this startup →"})})]})})}function J3(){const s=Lt(),[e,t]=k.useState("signup"),[n,i]=k.useState("startup"),[a,r]=k.useState(""),[l,d]=k.useState({name:"",email:"",password:"",description:""}),u=m=>{m.preventDefault(),r("");const g={id:`user-${Date.now()}`,name:l.name,email:l.email,userType:n,description:l.description,createdAt:new Date().toISOString(),preferences:{industries:[],filterEnabled:!1}};localStorage.setItem("userProfile",JSON.stringify(g)),localStorage.setItem("isLoggedIn","true"),console.log("User profile created:",g),alert(`Welcome to Hot Honey! 🍯

Signed up as: ${n}

✅ Your account has been created!`),s(n==="investor"?"/settings":"/submit")},h=m=>{m.preventDefault(),r("");const g=localStorage.getItem("userProfile");if(!g){r("No account found with this email. Please sign up first.");return}const v=JSON.parse(g);v.email.toLowerCase()===l.email.toLowerCase()?(localStorage.setItem("isLoggedIn","true"),alert(`Welcome back, ${v.name}! 🍯`),v.userType==="investor"?s("/dashboard"):s("/submit")):r("Invalid email or password. Please try again.")},f=m=>{d({...l,[m.target.name]:m.target.value})};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"})}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-8xl mb-4 animate-pulse",children:"🍯"}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:e==="signup"?"Join Hot Honey":"Welcome Back!"}),c.jsx("p",{className:"text-xl text-white font-bold drop-shadow-lg",children:e==="signup"?"Connect startups with investors who share your vision":"Log in to Hot Honey"}),c.jsxs("div",{className:"mt-4 flex justify-center gap-4 text-4xl",children:[c.jsx("span",{className:"animate-pulse",style:{animationDelay:"0s"},children:"🔥"}),c.jsx("span",{className:"animate-pulse",style:{animationDelay:"0.3s"},children:"💰"}),c.jsx("span",{className:"animate-pulse",style:{animationDelay:"0.6s"},children:"🚀"})]})]}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"bg-white rounded-3xl p-2 shadow-lg inline-flex",children:[c.jsx("button",{onClick:()=>{t("signup"),r("")},className:`px-8 py-3 rounded-2xl font-bold transition-all ${e==="signup"?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg":"text-gray-600 hover:text-green-600"}`,children:"✨ Sign Up"}),c.jsx("button",{onClick:()=>{t("login"),r("")},className:`px-8 py-3 rounded-2xl font-bold transition-all ${e==="login"?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg":"text-gray-600 hover:text-purple-600"}`,children:"🔑 Log In"})]})}),c.jsx("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-8 shadow-2xl",children:c.jsxs("div",{className:"bg-white/90 rounded-2xl p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-6 text-center",children:e==="signup"?"✨ Create Your Account":"🔑 Log In"}),c.jsx("p",{className:"text-gray-600 text-center mb-8",children:e==="signup"?"Join the honey pot revolution and connect with the right partners":"Welcome back! Enter your credentials to continue."}),a&&c.jsx("div",{className:"mb-6 p-4 bg-red-100 border-2 border-red-400 rounded-xl",children:c.jsxs("p",{className:"text-red-700 font-semibold text-center",children:["❌ ",a]})}),c.jsxs("form",{onSubmit:e==="signup"?u:h,className:"space-y-6",autoComplete:"off",children:[e==="signup"&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"userType",className:"block text-sm font-bold text-gray-700 mb-2",children:"I am a..."}),c.jsxs("select",{id:"userType",value:n,onChange:m=>i(m.target.value),className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium bg-white",children:[c.jsx("option",{value:"startup",children:"🚀 Startup - Looking for investment"}),c.jsx("option",{value:"investor",children:"💰 Investor - Looking to invest"})]})]}),e==="signup"&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-bold text-gray-700 mb-2",children:n==="startup"?"Startup Name":"Full Name"}),c.jsx("input",{id:"name",name:"name",type:"text",value:l.name,onChange:f,placeholder:n==="startup"?"Enter your startup name":"Enter your full name",required:!0,autoComplete:"off",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address"}),c.jsx("input",{id:"email",name:"email",type:"email",value:l.email,onChange:f,placeholder:"your@email.com",required:!0,autoComplete:"off",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-700 mb-2",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",value:l.password,onChange:f,placeholder:"Create a secure password",required:!0,autoComplete:"new-password",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),e==="signup"&&n==="startup"&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-bold text-gray-700 mb-2",children:"Startup Description"}),c.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:f,placeholder:"Tell us about your startup...",rows:4,className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium resize-none"})]}),c.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-6 rounded-2xl shadow-lg transition-all text-lg",children:e==="signup"?"✨ Create Account":"🔑 Log In"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:"text-gray-600",children:e==="signup"?c.jsxs(c.Fragment,{children:["Already have an account?"," ",c.jsx("button",{onClick:()=>{t("login"),r("")},className:"text-orange-600 font-bold hover:text-orange-700 hover:underline",children:"Log In"})]}):c.jsxs(c.Fragment,{children:["Don't have an account?"," ",c.jsx("button",{onClick:()=>{t("signup"),r("")},className:"text-orange-600 font-bold hover:text-orange-700 hover:underline",children:"Sign Up"})]})})})]})}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-12",children:[c.jsx("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-1 shadow-lg hover:scale-105 transition-transform",children:c.jsxs("div",{className:"bg-white rounded-3xl p-6 h-full",children:[c.jsx("div",{className:"text-6xl mb-4 text-center",children:"🚀"}),c.jsx("h3",{className:"text-2xl font-bold text-orange-600 mb-4 text-center",children:"For Startups"}),c.jsxs("ul",{className:"space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:"🍯"}),c.jsx("span",{className:"font-semibold",children:"Get in front of engaged investors"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:"📊"}),c.jsx("span",{className:"font-semibold",children:"Showcase your pitch deck & documents"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:"📈"}),c.jsx("span",{className:"font-semibold",children:"Track investor interest in real-time"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:"🤝"}),c.jsx("span",{className:"font-semibold",children:"Connect with the right partners"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:"🔥"}),c.jsx("span",{className:"font-semibold",children:"Get them while they're HOT!"})]})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-yellow-300 via-amber-400 to-orange-400 rounded-3xl p-1 shadow-lg hover:scale-105 transition-transform",children:c.jsxs("div",{className:"bg-white rounded-3xl p-6 h-full",children:[c.jsx("div",{className:"text-6xl mb-4 text-center",children:"💰"}),c.jsx("h3",{className:"text-2xl font-bold text-orange-600 mb-4 text-center",children:"For Investors"}),c.jsxs("ul",{className:"space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:"🍯"}),c.jsx("span",{className:"font-semibold",children:"Discover hot startups early"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:"📋"}),c.jsx("span",{className:"font-semibold",children:"Access detailed startup profiles"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:"⭐"}),c.jsx("span",{className:"font-semibold",children:"Vote and track your favorites"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:"💬"}),c.jsx("span",{className:"font-semibold",children:"Connect directly with founders"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-xl",children:"🔥"}),c.jsx("span",{className:"font-semibold",children:"Join the honey pot revolution!"})]})]})]})})]})]})})}function eL(){const s=Lt();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"})}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-8xl mb-4",children:"🍯"}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-4",children:"About Hot Honey"}),c.jsx("p",{className:"text-2xl text-yellow-300 font-semibold mb-2",children:`"Get Them While They're Hot."`}),c.jsx("p",{className:"text-xl text-purple-200 font-medium",children:"A Social Discovery Platform for Investors and Startups"})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"Our Approach"}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:["Hot Honey is a ",c.jsx("strong",{children:"social discovery platform"})," that transforms how early-stage investors and startups connect. We've created a ",c.jsx("strong",{children:"courtship process"})," for investment—where chemistry develops before capital flows."]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6 mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-orange-600 mb-3",children:"The 5-Point Discovery Framework"}),c.jsxs("p",{className:"text-gray-700 mb-4 leading-relaxed",children:["At the heart of our approach is the ",c.jsx("strong",{children:"5-Point StartupCard"}),"—a precisely designed format that condenses each startup's story into bite-sized, essential information. This creates ",c.jsx("strong",{children:"quick interest"})," and allows both investors and startups to develop genuine connections through progressive discovery."]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:"1️⃣"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"The Problem:"}),c.jsx("span",{className:"text-gray-700",children:" Investors instantly understand the pain point being solved"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:"2️⃣"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"The Solution:"}),c.jsx("span",{className:"text-gray-700",children:" The startup's unique approach becomes immediately clear"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:"3️⃣"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Market Size:"}),c.jsx("span",{className:"text-gray-700",children:" The opportunity scale sparks investor curiosity"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:"4️⃣"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Team Companies:"}),c.jsx("span",{className:"text-gray-700",children:" Credibility is established through founder pedigree"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:"💰"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Investment Amount:"}),c.jsx("span",{className:"text-gray-700",children:" Investors know exactly what's being raised"})]})]})]})]}),c.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-purple-700 mb-3",children:"🤝 The Courtship Process"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"Like dating, investing is about building trust and chemistry. Our platform mimics the natural courtship process:"}),c.jsxs("ul",{className:"space-y-2 text-gray-700",children:[c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"font-bold",children:"💭"}),c.jsxs("span",{children:[c.jsx("strong",{children:"First Impression:"})," The 5-point card creates instant curiosity"]})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"font-bold",children:"🍯"}),c.jsxs("span",{children:[c.jsx("strong",{children:"Progressive Reveal:"})," Information unlocks as interest grows (honeypot secrets)"]})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"font-bold",children:"🔒"}),c.jsxs("span",{children:[c.jsx("strong",{children:"Protected Privacy:"})," Investors stay anonymous until Stage 3"]})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"font-bold",children:"🔥"}),c.jsxs("span",{children:[c.jsx("strong",{children:"Social Proof:"})," Votes and heat meters show collective validation"]})]}),c.jsxs("li",{className:"flex gap-2",children:[c.jsx("span",{className:"font-bold",children:"💬"}),c.jsxs("span",{children:[c.jsx("strong",{children:"Commitment:"})," Only interested parties proceed to serious conversations"]})]})]})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Problem We Solve"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:"Millions of startups compete for over 1.2 million active investors, yet less than 3% ever connect meaningfully."}),c.jsx("div",{className:"bg-orange-50 rounded-2xl p-6 mb-4",children:c.jsxs("ul",{className:"space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold",children:"•"}),c.jsxs("span",{children:[c.jsx("strong",{children:"Data-driven platforms"})," like AngelList or Carta provide credibility but lack engagement."]})]}),c.jsxs("li",{className:"flex gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold",children:"•"}),c.jsxs("span",{children:[c.jsx("strong",{children:"Social platforms"})," like LinkedIn and X provide energy but lack structure and verification."]})]})]})}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed font-semibold",children:"Hot Honey fills the gap by combining both worlds—trust and excitement."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Solution"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:"The platform guides users through a five-step emotional and functional journey:"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gradient-to-r from-orange-400 to-orange-500 text-white",children:[c.jsx("th",{className:"p-3 text-left rounded-tl-xl",children:"Step"}),c.jsx("th",{className:"p-3 text-left",children:"Stage"}),c.jsx("th",{className:"p-3 text-left rounded-tr-xl",children:"Description"})]})}),c.jsxs("tbody",{children:[c.jsxs("tr",{className:"bg-orange-50",children:[c.jsx("td",{className:"p-3 font-bold",children:"1"}),c.jsx("td",{className:"p-3 font-semibold",children:"Discovery"}),c.jsx("td",{className:"p-3",children:"Swipe-based exploration with concise, five-point StartupCards"})]}),c.jsxs("tr",{className:"bg-white",children:[c.jsx("td",{className:"p-3 font-bold",children:"2"}),c.jsx("td",{className:"p-3 font-semibold",children:"Attraction"}),c.jsx("td",{className:"p-3",children:'Startups with 5+ "Yes" votes unlock added visibility and data'})]}),c.jsxs("tr",{className:"bg-orange-50",children:[c.jsx("td",{className:"p-3 font-bold",children:"3"}),c.jsx("td",{className:"p-3 font-semibold",children:"Reveal"}),c.jsx("td",{className:"p-3",children:"Investors disclose identity for private, time-bound pitch meetings"})]}),c.jsxs("tr",{className:"bg-white",children:[c.jsx("td",{className:"p-3 font-bold",children:"4"}),c.jsx("td",{className:"p-3 font-semibold",children:"Commitment"}),c.jsx("td",{className:"p-3",children:"Deal Room access with NDA, decks, and analytics"})]}),c.jsxs("tr",{className:"bg-orange-50",children:[c.jsx("td",{className:"p-3 font-bold",children:"5"}),c.jsx("td",{className:"p-3 font-semibold",children:"Social Sharing"}),c.jsx("td",{className:"p-3",children:'Once a startup is "Hot," investors share it socially—fueling virality'})]})]})]})}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mt-4 italic",children:"This process transforms curiosity into confidence and commitment—the logic of human trust, encoded into a platform."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The 5-Point Format"}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:["At the heart of Hot Honey is our ",c.jsx("strong",{children:"5-point StartupCard format"}),"—a precisely designed data structure that condenses each startup's elevator pitch into a bite-size card that reveals just enough of what is important."]}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:[c.jsx("strong",{children:"Hot Honey helps identify quality investment candidates faster and with more precision."})," The Hot Money Process enables quick discovery without all the overhead and utilizes crowd and market intelligence to identify the winners."]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6 mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-orange-600 mb-4",children:"The Five Essential Points"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("span",{className:"text-2xl",children:"1️⃣"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"The Problem:"}),c.jsx("span",{className:"text-gray-700",children:" What pain point is being solved?"})]})]}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("span",{className:"text-2xl",children:"2️⃣"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"The Solution:"}),c.jsx("span",{className:"text-gray-700",children:" How does the startup solve it?"})]})]}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("span",{className:"text-2xl",children:"3️⃣"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Market Size:"}),c.jsx("span",{className:"text-gray-700",children:" What's the opportunity scale?"})]})]}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("span",{className:"text-2xl",children:"4️⃣"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Team Companies:"}),c.jsx("span",{className:"text-gray-700",children:" Where have the founders worked before?"})]})]}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx("span",{className:"text-2xl",children:"💰"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Investment Amount:"}),c.jsx("span",{className:"text-gray-700",children:" How much are they raising?"})]})]})]})]}),c.jsxs("div",{className:"bg-white border-2 border-orange-300 rounded-2xl p-6 mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-orange-600 mb-3 flex items-center gap-2",children:"🍯 Progressive Information Reveal"}),c.jsxs("p",{className:"text-gray-700 mb-3",children:["Critical traction data and sensitive business metrics are hidden behind the ",c.jsx("strong",{children:"honeypot icon"}),". This information unlocks progressively as startups advance through stages, ensuring the right information is revealed at the right time."]}),c.jsx("p",{className:"text-gray-700",children:"This structured reveal process allows investors to make quick, informed decisions at each stage without information overload—reviewing what is most important before proceeding."})]}),c.jsxs("div",{className:"bg-purple-100 border-2 border-purple-400 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-purple-700 mb-3 flex items-center gap-2",children:"🔒 Investor Anonymity Until Stage 3"}),c.jsxs("p",{className:"text-gray-700 mb-3",children:[c.jsx("strong",{children:"Investors remain completely anonymous during the Discovery and Attraction stages."})," Your identity is not disclosed to startups until you reach ",c.jsx("strong",{children:"Stage 3 (Reveal)"}),"—when you actively choose to disclose your identity for private, time-bound pitch meetings."]}),c.jsx("p",{className:"text-gray-700",children:"This anonymity ensures unbiased review, privacy during the discovery process, and gives investors full control over when and how they engage with founders."})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Market"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl p-6 text-white text-center",children:[c.jsx("div",{className:"text-4xl font-bold mb-2",children:"$6.4T"}),c.jsx("div",{className:"text-sm",children:"Global Startup Economy"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl p-6 text-white text-center",children:[c.jsx("div",{className:"text-4xl font-bold mb-2",children:"$25-30B"}),c.jsx("div",{className:"text-sm",children:"Early-Stage Angel Investment Annually"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl p-6 text-white text-center",children:[c.jsx("div",{className:"text-4xl font-bold mb-2",children:"28%"}),c.jsx("div",{className:"text-sm",children:"CAGR in Digital Investing Platforms"})]})]}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:["Hot Honey is positioned as the ",c.jsx("strong",{children:"social-trust layer for global venture capital"}),"—where credibility meets virality."]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-6 text-center",children:"The Hot Economy Flywheel"}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-8",children:[c.jsx("img",{src:"/images/hot-economy-flywheel.png",alt:"The Hot Economy Flywheel",className:"w-full max-w-2xl mx-auto rounded-xl shadow-lg mb-6"}),c.jsx("p",{className:"text-lg text-gray-700 leading-relaxed text-center italic",children:"Every vote creates value. Every share fuels the loop. Every insight compounds the Hot Economy."}),c.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white rounded-xl p-4",children:[c.jsx("h4",{className:"font-bold text-orange-600 mb-2",children:"Outer Loop"}),c.jsx("p",{className:"text-gray-700 text-sm",children:"Investors → Startups → Data Engine → Partners → Revenue → Investors"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4",children:[c.jsx("h4",{className:"font-bold text-orange-600 mb-2",children:"Inner Loop"}),c.jsx("p",{className:"text-gray-700 text-sm",children:"Curiosity → Engagement → Trust → Recognition → Influence"})]})]})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"How It Works"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-4 items-start",children:[c.jsx("div",{className:"text-4xl",children:"🔍"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Discover"}),c.jsx("p",{className:"text-gray-700",children:"Swipe through curated StartupCards. Each card distills a startup into five key points: Problem, Solution, Market, Team, and Momentum. Make instinctive yes/no decisions based on curiosity."})]})]}),c.jsxs("div",{className:"flex gap-4 items-start",children:[c.jsx("div",{className:"text-4xl",children:"🔥"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Build Heat"}),c.jsx("p",{className:"text-gray-700",children:`Every "Yes" vote raises a startup's Heat Meter. High-heat startups appear in the Hot 5 Feed—the daily trending list that keeps investors coming back.`})]})]}),c.jsxs("div",{className:"flex gap-4 items-start",children:[c.jsx("div",{className:"text-4xl",children:"🤝"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Connect"}),c.jsx("p",{className:"text-gray-700",children:"Verified investors unlock direct messaging, pitch sessions, and Deal Room access. Founders receive real-time feedback on who's interested and why."})]})]}),c.jsxs("div",{className:"flex gap-4 items-start",children:[c.jsx("div",{className:"text-4xl",children:"💰"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Invest Together"}),c.jsx("p",{className:"text-gray-700",children:"Form or join syndicates. Share Hot Lists. Co-invest with confidence. The platform makes group investment transparent, social, and fun."})]})]})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"Our Values"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold text-xl",children:"✓"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Human-Centered Design:"}),c.jsx("span",{className:"text-gray-700",children:" We believe emotion drives decisions. Data confirms them."})]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold text-xl",children:"✓"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Transparency:"}),c.jsx("span",{className:"text-gray-700",children:" Open, honest communication between startups and investors builds trust."})]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold text-xl",children:"✓"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Community-Driven:"}),c.jsx("span",{className:"text-gray-700",children:" Our voting system ensures the best startups rise to the top organically."})]})]}),c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-orange-600 font-bold text-xl",children:"✓"}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-800",children:"Quality Over Quantity:"}),c.jsx("span",{className:"text-gray-700",children:" We curate deals so investors can focus on what truly matters."})]})]})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-4",children:"The Vision"}),c.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-4",children:["Within five years, Hot Honey will become the ",c.jsx("strong",{children:"global social layer for venture capital"}),"—a daily habit for investors and founders alike."]}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 rounded-2xl p-6 text-white",children:[c.jsx("p",{className:"text-xl font-semibold mb-3",children:"We're not just building a platform. We're building a movement."}),c.jsx("p",{className:"text-lg",children:"Where chemistry precedes capital. Where trust is earned transparently. Where the best ideas win through collective validation."}),c.jsx("p",{className:"text-2xl font-bold mt-4 text-center",children:"The heat is rising. 🔥"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-8 shadow-2xl text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Join the Movement?"}),c.jsx("p",{className:"text-xl text-white mb-6",children:"Whether you're an investor seeking the next big thing or a startup ready to build momentum—Hot Honey is your platform."}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:()=>s("/signup"),className:"bg-white text-orange-600 font-bold py-4 px-8 rounded-2xl shadow-lg hover:bg-gray-100 transition-all text-lg",children:"🚀 Join Now"}),c.jsx("button",{onClick:()=>s("/vote"),className:"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"🔥 Start Voting"})]})]})]})]})}function tL(){const s=Lt();return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-100 via-orange-50 to-yellow-50 p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"})}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"🔒 Privacy Policy"}),c.jsx("p",{className:"text-xl text-gray-700 font-medium",children:"Your privacy matters to us"}),c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Last Updated: ",new Date().toLocaleDateString()]})]}),c.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl mb-8",children:[c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"1. Information We Collect"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We collect information you provide directly to us when you:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[c.jsx("li",{children:"Create an account (name, email, password)"}),c.jsx("li",{children:"Submit a startup for consideration"}),c.jsx("li",{children:"Vote on startups"}),c.jsx("li",{children:"Interact with our platform"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"2. How We Use Your Information"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We use the information we collect to:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[c.jsx("li",{children:"Provide, maintain, and improve our services"}),c.jsx("li",{children:"Connect startups with investors"}),c.jsx("li",{children:"Send you updates about startups you've voted on"}),c.jsx("li",{children:"Respond to your comments and questions"}),c.jsx("li",{children:"Protect against fraudulent or illegal activity"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"3. Information Sharing"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We do not sell your personal information. We may share your information:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[c.jsx("li",{children:"With startups you've expressed interest in (name, email for connection purposes)"}),c.jsx("li",{children:"With service providers who help us operate our platform"}),c.jsx("li",{children:"When required by law or to protect our rights"}),c.jsx("li",{children:"With your consent"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"4. Data Security"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We implement appropriate security measures to protect your personal information. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"5. Your Rights"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"You have the right to:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[c.jsx("li",{children:"Access your personal information"}),c.jsx("li",{children:"Correct inaccurate information"}),c.jsx("li",{children:"Request deletion of your information"}),c.jsx("li",{children:"Opt-out of marketing communications"}),c.jsx("li",{children:"Withdraw consent at any time"})]})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"6. Cookies and Tracking"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We use cookies and similar tracking technologies to track activity on our platform and hold certain information. You can instruct your browser to refuse all cookies or indicate when a cookie is being sent."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"7. Children's Privacy"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our service is not intended for children under 18. We do not knowingly collect personal information from children under 18. If you are a parent and believe your child has provided us with personal information, please contact us."})]}),c.jsxs("section",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"8. Changes to This Policy"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold text-orange-600 mb-4",children:"9. Contact Us"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you have any questions about this Privacy Policy, please contact us:"}),c.jsx("div",{className:"bg-orange-50 rounded-2xl p-4",children:c.jsxs("p",{className:"text-gray-700",children:[c.jsx("strong",{children:"Email:"})," privacy@hotmoneyhoney.com",c.jsx("br",{}),c.jsx("strong",{children:"Mail:"})," Hot Honey, Inc.",c.jsx("br",{}),"[Your Address Here]"]})})]})]})]})})}function sL(){const s=Lt(),[e,t]=k.useState({name:"",email:"",subject:"",message:""}),[n,i]=k.useState(!1),a=l=>{l.preventDefault(),console.log("Contact form submitted:",e),i(!0),setTimeout(()=>{i(!1),t({name:"",email:"",subject:"",message:""})},3e3)},r=l=>{t({...e,[l.target.name]:l.target.value})};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"})}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-8xl mb-4",children:"💬"}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-4",children:"Contact Us"}),c.jsx("p",{className:"text-xl text-gray-700 font-medium",children:"We'd love to hear from you!"})]}),c.jsx("div",{className:"mb-8 bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-orange-600 mb-2 flex items-center gap-2",children:"📧 Email Us"}),c.jsx("p",{className:"text-gray-700",children:c.jsx("a",{href:"mailto:hello@hotmoneyhoney.com",className:"text-orange-600 hover:text-orange-700 underline",children:"hello@hotmoneyhoney.com"})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-orange-600 mb-2 flex items-center gap-2",children:"🕒 Response Time"}),c.jsx("p",{className:"text-gray-700",children:"We typically respond within 24-48 hours"})]})]})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Send us a message"}),n&&c.jsx("div",{className:"mb-6 p-4 bg-green-100 border-2 border-green-400 rounded-xl text-center",children:c.jsx("p",{className:"text-green-800 font-semibold",children:"✅ Thank you! We'll get back to you soon."})}),c.jsxs("form",{onSubmit:a,className:"space-y-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-bold text-gray-700 mb-2",children:"Your Name *"}),c.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:e.name,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"John Doe"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address *"}),c.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:e.email,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",placeholder:"john@example.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"subject",className:"block text-sm font-bold text-gray-700 mb-2",children:"Subject *"}),c.jsxs("select",{id:"subject",name:"subject",required:!0,value:e.subject,onChange:r,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors",children:[c.jsx("option",{value:"",children:"Select a topic..."}),c.jsx("option",{value:"investor",children:"I'm an Investor"}),c.jsx("option",{value:"startup",children:"I'm a Startup"}),c.jsx("option",{value:"partnership",children:"Partnership Inquiry"}),c.jsx("option",{value:"support",children:"Technical Support"}),c.jsx("option",{value:"feedback",children:"Feedback"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-bold text-gray-700 mb-2",children:"Message *"}),c.jsx("textarea",{id:"message",name:"message",required:!0,value:e.message,onChange:r,rows:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none transition-colors resize-none",placeholder:"Tell us how we can help..."})]}),c.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"📤 Send Message"})]})]}),c.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-2xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-purple-700 mb-3",children:"💡 Common Questions?"}),c.jsx("p",{className:"text-gray-700 mb-3",children:"Before reaching out, you might find what you're looking for in our resources:"}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("button",{onClick:()=>s("/about"),className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-lg text-purple-700 font-semibold hover:bg-purple-50 transition-colors",children:"📖 About Us"}),c.jsx("button",{onClick:()=>s("/"),className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-lg text-purple-700 font-semibold hover:bg-purple-50 transition-colors",children:"🔥 How It Works"}),c.jsx("button",{onClick:()=>s("/submit"),className:"px-4 py-2 bg-white border-2 border-purple-300 rounded-lg text-purple-700 font-semibold hover:bg-purple-50 transition-colors",children:"🚀 For Startups"})]})]})]})]})]})}const ap=[{id:"fintech",name:"FinTech",emoji:"💰"},{id:"ai",name:"AI/ML",emoji:"🤖"},{id:"saas",name:"SaaS",emoji:"☁️"},{id:"deeptech",name:"Deep Tech",emoji:"🔬"},{id:"robotics",name:"Robotics",emoji:"🦾"},{id:"healthtech",name:"HealthTech",emoji:"🏥"},{id:"edtech",name:"EdTech",emoji:"📚"},{id:"cleantech",name:"CleanTech",emoji:"🌱"},{id:"ecommerce",name:"E-Commerce",emoji:"🛒"},{id:"crypto",name:"Crypto/Web3",emoji:"₿"},{id:"consumer",name:"Consumer",emoji:"🛍️"},{id:"enterprise",name:"Enterprise",emoji:"🏢"}];function nL(){const s=Lt(),[e,t]=k.useState([]),[n,i]=k.useState(!1),[a,r]=k.useState(!1),[l,d]=k.useState(!1),[u,h]=k.useState("");k.useEffect(()=>{const v=localStorage.getItem("userProfile");if(v){const x=JSON.parse(v);d(!0),h(x.email||"User"),x.preferences&&(t(x.preferences.industries||[]),i(x.preferences.filterEnabled||!1))}else{const x=localStorage.getItem("investorPreferences");if(x){const S=JSON.parse(x);t(S.industries||[]),i(S.filterEnabled||!1)}}},[]);const f=v=>{t(x=>x.includes(v)?x.filter(S=>S!==v):[...x,v])},m=()=>{const v=localStorage.getItem("userProfile");if(!v){confirm(`🔒 Please sign up to save your preferences!

Would you like to go to the sign up page now?`)&&s("/signup");return}const x={industries:e,filterEnabled:n,savedAt:new Date().toISOString()},S=JSON.parse(v);S.preferences=x,localStorage.setItem("userProfile",JSON.stringify(S)),localStorage.setItem("investorPreferences",JSON.stringify(x)),r(!0),setTimeout(()=>r(!1),3e3)},g=()=>{e.length===ap.length?t([]):t(ap.map(v=>v.id))};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50",children:c.jsxs("div",{className:"flex gap-1 items-center",children:[c.jsx(q,{to:"/signup",className:"text-4xl hover:scale-110 transition-transform cursor-pointer",title:"Sign Up",children:"🍯"}),c.jsx(q,{to:"/signup",className:"px-4 py-1.5 bg-yellow-400 text-black rounded-full font-medium text-sm shadow-lg hover:bg-yellow-500 transition-colors",children:"👤 Sign Up"}),c.jsx(q,{to:"/",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"🏠 Home"}),c.jsx(q,{to:"/vote",className:"px-4 py-1.5 bg-orange-500 text-white rounded-full font-medium text-sm shadow-lg hover:bg-orange-600 transition-colors",children:"📊 Vote"}),c.jsx(q,{to:"/dashboard",className:"px-4 py-1.5 bg-gradient-to-r from-amber-400 via-orange-500 to-yellow-500 text-white rounded-full font-medium text-sm shadow-lg hover:from-amber-500 hover:via-orange-600 hover:to-yellow-600 transition-all",children:"👤 Dashboard"}),c.jsx(q,{to:"/settings",className:"px-4 py-1.5 bg-orange-600 text-white rounded-full font-medium text-sm shadow-lg",children:"⚙️ Settings"})]})}),c.jsx("div",{className:"max-w-4xl mx-auto relative z-10 pt-28",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:"⚙️"}),c.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-2",children:"Investor Preferences"}),c.jsx("p",{className:"text-lg text-gray-700",children:"Customize your Hot Honey experience"})]}),!l&&c.jsx("div",{className:"mb-6 p-4 bg-yellow-100 border-2 border-yellow-400 rounded-xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-yellow-800 font-semibold mb-1",children:"⚠️ Not Logged In"}),c.jsx("p",{className:"text-sm text-yellow-700",children:"Sign up to save your preferences to your account"})]}),c.jsx("button",{onClick:()=>s("/signup"),className:"px-4 py-2 bg-yellow-400 text-black rounded-lg font-semibold hover:bg-yellow-500 transition-colors",children:"Sign Up"})]})}),l&&c.jsx("div",{className:"mb-6 p-4 bg-green-100 border-2 border-green-400 rounded-xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-green-800 font-semibold",children:["✅ Logged in as ",c.jsx("strong",{children:u})]}),c.jsx("button",{onClick:()=>{confirm("Are you sure you want to log out?")&&(localStorage.removeItem("userProfile"),localStorage.removeItem("isLoggedIn"),d(!1),h(""),alert("✅ Logged out successfully!"),s("/"))},className:"px-4 py-2 bg-red-500 text-white rounded-lg font-semibold hover:bg-red-600 transition-colors text-sm",children:"Log Out"})]})}),a&&c.jsx("div",{className:"mb-6 p-4 bg-green-100 border-2 border-green-400 rounded-xl text-center",children:c.jsx("p",{className:"text-green-800 font-semibold",children:"✅ Preferences saved successfully!"})}),c.jsxs("div",{className:"mb-8 bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"🎯 Industry Filter"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Only show startups in your selected industries"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:n,onChange:v=>i(v.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-14 h-7 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-orange-500"})]})]}),n&&e.length===0&&c.jsx("div",{className:"mt-3 p-3 bg-yellow-100 border-2 border-yellow-300 rounded-lg",children:c.jsx("p",{className:"text-sm text-yellow-800 font-semibold",children:"⚠️ Please select at least one industry below"})})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Industries of Interest"}),c.jsx("button",{onClick:g,className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg font-semibold hover:bg-purple-200 transition-colors text-sm",children:e.length===ap.length?"❌ Deselect All":"✅ Select All"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the industries you're most interested in investing in"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ap.map(v=>c.jsxs("button",{onClick:()=>f(v.id),className:`p-4 rounded-xl border-2 transition-all text-center ${e.includes(v.id)?"border-orange-500 bg-orange-50 shadow-lg":"border-gray-300 bg-white hover:border-orange-300 hover:bg-orange-50"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:v.emoji}),c.jsx("div",{className:`font-semibold text-sm ${e.includes(v.id)?"text-orange-700":"text-gray-700"}`,children:v.name}),e.includes(v.id)&&c.jsx("div",{className:"text-orange-600 text-xl mt-1",children:"✓"})]},v.id))})]}),c.jsxs("div",{className:"mb-6 bg-purple-50 border-2 border-purple-300 rounded-xl p-4",children:[c.jsx("h3",{className:"font-bold text-purple-700 mb-2",children:"💡 How it works"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[c.jsx("li",{children:"• Toggle the filter ON to only see startups in your selected industries"}),c.jsx("li",{children:"• Toggle OFF to see all startups (great for discovery!)"}),c.jsx("li",{children:"• You can change your preferences anytime"}),c.jsx("li",{children:"• Your selections are saved automatically to your device"})]})]}),c.jsx("button",{onClick:m,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg",children:"💾 Save Preferences"}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>s("/vote"),className:"text-orange-600 hover:text-orange-700 font-semibold underline",children:"← Back to Voting"})})]})})]})}const iL=[{id:"fintech",name:"FinTech",emoji:"💰"},{id:"ai",name:"AI/ML",emoji:"🤖"},{id:"saas",name:"SaaS",emoji:"☁️"},{id:"deeptech",name:"Deep Tech",emoji:"🔬"},{id:"robotics",name:"Robotics",emoji:"🦾"},{id:"healthtech",name:"HealthTech",emoji:"🏥"},{id:"edtech",name:"EdTech",emoji:"📚"},{id:"cleantech",name:"CleanTech",emoji:"🌱"},{id:"ecommerce",name:"E-Commerce",emoji:"🛒"},{id:"crypto",name:"Crypto/Web3",emoji:"₿"},{id:"consumer",name:"Consumer",emoji:"🛍️"},{id:"enterprise",name:"Enterprise",emoji:"🏢"}];function aL(){const{shareId:s}=eE(),e=Lt(),[t,n]=k.useState(null),[i,a]=k.useState(!0),[r,l]=k.useState([]);return k.useEffect(()=>{const d=localStorage.getItem("portfolioShares");if(d&&s){const h=JSON.parse(d)[s];if(h)if(n(h),h.industries&&h.industries.length>0){const f=h.startups;l(f)}else l(h.startups)}a(!1)},[s]),i?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🍯"}),c.jsx("p",{className:"text-2xl text-white font-bold",children:"Loading portfolio..."})]})}):t?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("div",{className:"text-7xl mb-4",children:"🍯"}),c.jsxs("h1",{className:"text-5xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-3",children:[t.investorName,"'s Hot Picks"]}),c.jsxs("p",{className:"text-xl text-purple-200 mb-2",children:["Shared ",r.length," startup",r.length!==1?"s":""]}),t.industries&&t.industries.length>0&&c.jsx("div",{className:"flex gap-2 justify-center flex-wrap mt-4",children:t.industries.map(d=>{const u=iL.find(h=>h.id===d);return u?c.jsxs("span",{className:"bg-purple-500 text-white px-4 py-2 rounded-full text-sm font-semibold",children:[u.emoji," ",u.name]},d):null})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:r.map((d,u)=>c.jsxs("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-2xl p-6 shadow-2xl",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2",children:d.name}),d.tagline&&c.jsx("p",{className:"text-blue-700 font-bold text-sm mb-3",children:d.tagline}),d.pitch&&c.jsx("p",{className:"text-gray-800 text-sm mb-4",children:d.pitch}),c.jsx("div",{className:"flex items-center gap-2 text-sm",children:c.jsxs("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full font-bold",children:["✓ ",d.stage?`Stage ${d.stage}`:"Verified"]})})]},u))}),c.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center shadow-2xl",children:[c.jsx("div",{className:"text-5xl mb-4",children:"🔥"}),c.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"Want to Discover Hot Startups Too?"}),c.jsx("p",{className:"text-xl text-gray-700 mb-6 max-w-2xl mx-auto",children:"Join Hot Honey to discover, vote on, and track the hottest startup deals. Build your own portfolio and share it with your network!"}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:()=>e("/signup"),className:"px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl shadow-lg transition-all text-lg",children:"🚀 Join Hot Honey"}),c.jsx("button",{onClick:()=>e("/vote"),className:"px-8 py-4 bg-white border-2 border-orange-500 text-orange-600 font-bold rounded-2xl shadow-lg hover:bg-orange-50 transition-all text-lg",children:"👀 See All Startups"})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[c.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[c.jsx("div",{className:"text-3xl mb-3",children:"🎯"}),c.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Filter by Industry"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Only see startups in industries you care about"})]}),c.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[c.jsx("div",{className:"text-3xl mb-3",children:"📊"}),c.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Track Your Picks"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Build your own portfolio of hot startups"})]}),c.jsxs("div",{className:"bg-orange-50 rounded-xl p-6",children:[c.jsx("div",{className:"text-3xl mb-3",children:"📤"}),c.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Share Selectively"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Share specific categories with different people"})]})]})]}),c.jsx("div",{className:"text-center mt-8",children:c.jsxs("p",{className:"text-purple-200 text-sm",children:["Powered by ",c.jsx("span",{className:"font-bold text-yellow-300",children:"Hot Honey"})," 🍯"]})})]})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center max-w-2xl",children:[c.jsx("div",{className:"text-6xl mb-4",children:"❌"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Portfolio Not Found"}),c.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"This share link may have expired or been removed."}),c.jsx("button",{onClick:()=>e("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Go to Hot Honey"})]})})}function rL(){const s=Lt(),e=k.useRef(null),[t,n]=k.useState(!1),[i,a]=k.useState(!1),[r,l]=k.useState([]),[d,u]=k.useState("upload"),[h,f]=k.useState(0),m=()=>{const E=localStorage.getItem("userProfile");if(E){const _=JSON.parse(E);return _.email==="admin@hotmoneyhoney.com"||_.isAdmin}return!1},g=E=>{E.preventDefault(),E.stopPropagation(),E.type==="dragenter"||E.type==="dragover"?n(!0):E.type==="dragleave"&&n(!1)},v=E=>{E.preventDefault(),E.stopPropagation(),n(!1),E.dataTransfer.files&&E.dataTransfer.files[0]&&y(E.dataTransfer.files[0])},x=E=>{E.target.files&&E.target.files[0]&&y(E.target.files[0])},S=E=>{const _=E.split(`
`).filter(R=>R.trim());if(_.length<2)return[];const M=_[0].split(",").map(R=>R.trim().replace(/"/g,"")),D=[];for(let R=1;R<_.length;R++){const L=_[R].split(",").map(W=>W.trim().replace(/"/g,"")),X={};M.forEach((W,ee)=>{X[W.toLowerCase().replace(/\s+/g,"_")]=L[ee]||""}),D.push(X)}return D},p=async E=>{var D,R,L,X;const _=[],M={name:E.name||E.startup_name||"Unnamed Startup",tagline:E.tagline||E.tag_line||"",pitch:E.pitch||E.description||"",problem:E.problem||"",solution:E.solution||"",marketSize:E.market_size||E.market||"",teamCompanies:E.team_companies||E.team||"",investmentAmount:E.investment_amount||E.raise||E.raising||"",industries:E.industries?E.industries.split(",").map(W=>W.trim().toLowerCase()):[],status:"pending",aiGenerated:[],originalData:E};return!M.problem&&M.name&&(M.problem=`Addresses key challenges in ${((D=M.industries)==null?void 0:D[0])||"the industry"}`,_.push("problem")),!M.solution&&M.name&&(M.solution=`Innovative ${((R=M.industries)==null?void 0:R[0])||"technology"} solution for modern businesses`,_.push("solution")),M.marketSize||(M.marketSize="$1B+ market opportunity",_.push("marketSize")),!M.tagline&&M.name&&(M.tagline=`Next-gen ${((L=M.industries)==null?void 0:L[0])||"platform"}`,_.push("tagline")),M.pitch||(M.pitch=`${M.name} is transforming the ${((X=M.industries)==null?void 0:X[0])||"industry"}`,_.push("pitch")),M.aiGenerated=_,M},y=async E=>{const _=E.name.toLowerCase();if(!_.endsWith(".csv")&&!_.endsWith(".xlsx")){alert("❌ Please upload a CSV or Excel file");return}a(!0),f(0);try{const M=await E.text(),D=S(M);console.log("Parsed rows:",D.length);const R=[];for(let L=0;L<D.length;L++){f(L+1);const X=await p(D[L]);R.push(X),await new Promise(W=>setTimeout(W,100))}l(R),u("preview"),a(!1)}catch(M){console.error("Error parsing file:",M),alert("❌ Error parsing file. Please check the format."),a(!1)}},w=E=>{l(_=>_.map((M,D)=>D===E?{...M,status:M.status==="approved"?"pending":"approved"}:M))},j=()=>{l(E=>E.map(_=>({..._,status:"approved"})))},C=()=>{const E=r.filter(L=>L.status==="approved");if(E.length===0){alert("⚠️ No startups approved. Please approve at least one startup.");return}const _=localStorage.getItem("uploadedStartups"),M=_?JSON.parse(_):[],D=E.map((L,X)=>({id:Date.now()+X,name:L.name,tagline:L.tagline,pitch:L.pitch,description:L.pitch,marketSize:L.marketSize||"TBD",unique:L.solution||"TBD",raise:L.investmentAmount||"TBD",stage:1,yesVotes:0,noVotes:0,hotness:0,answersCount:0,industries:L.industries,fivePoints:[L.problem||"Problem statement",L.solution||"Solution description",L.marketSize||"Market size",L.teamCompanies||"Team background",L.investmentAmount||"Investment amount"],aiGenerated:L.aiGenerated,uploadedAt:new Date().toISOString()})),R=[...M,...D];localStorage.setItem("uploadedStartups",JSON.stringify(R)),alert(`✅ Successfully uploaded ${E.length} startups!`),u("complete")},T=()=>{const E=`Startup Name,Tagline,Pitch,Problem,Solution,Market Size,Team Companies,Investment Amount,Industries
Example Startup,AI for Everyone,Making AI accessible,"AI is too complex","Simple AI platform","$50B market","Google, Microsoft","$2M Seed","ai,saas"
Another Company,FinTech Revolution,Democratizing finance,"Finance is broken","Modern banking app","$100B TAM","Goldman Sachs","$5M Series A","fintech"`,_=new Blob([E],{type:"text/csv"}),M=window.URL.createObjectURL(_),D=document.createElement("a");D.href=M,D.download="hot-money-honey-template.csv",D.click()};return m()?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("button",{onClick:()=>s("/dashboard"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Back to Dashboard"}),c.jsxs("div",{className:"flex gap-4 items-center",children:[(()=>{const E=localStorage.getItem("uploadedStartups"),_=E?JSON.parse(E).length:0;return _>0?c.jsxs("div",{className:"bg-green-500 text-white font-bold py-3 px-6 rounded-2xl shadow-lg",children:["✅ ",_," Startups in Database"]}):null})(),c.jsx("button",{onClick:()=>s("/admin/document-upload"),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"📄 Scan Documents"}),c.jsx("button",{onClick:T,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"📥 Download Template"})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:"📊"}),c.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-red-500 bg-clip-text text-transparent mb-2",children:"Bulk Upload Startups"}),c.jsx("p",{className:"text-lg text-gray-700",children:"Upload Excel/CSV files • AI auto-completes missing data"})]}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${d==="upload"?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:"1. Upload"}),c.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${d==="preview"?"bg-orange-500 text-white":"bg-gray-200 text-gray-600"}`,children:"2. Preview"}),c.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${d==="complete"?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:"3. Complete"})]})}),d==="upload"&&c.jsxs("div",{children:[c.jsx("div",{className:`border-4 border-dashed rounded-2xl p-16 text-center transition-all ${t?"border-orange-500 bg-orange-50":"border-gray-300 bg-gray-50"} ${i?"opacity-50":""}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:v,children:i?c.jsxs("div",{children:[c.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"⏳"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Processing..."}),c.jsx("p",{className:"text-gray-600",children:"Parsing file and generating missing data with AI"}),h>0&&c.jsxs("p",{className:"text-orange-600 font-semibold mt-4",children:["Processed ",h," startups"]})]}):c.jsxs("div",{children:[c.jsx("div",{className:"text-6xl mb-4",children:"📤"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Drag & Drop CSV or Excel File"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"or click to browse"}),c.jsx("input",{ref:e,type:"file",accept:".csv,.xlsx",onChange:x,className:"hidden"}),c.jsx("button",{onClick:()=>{var E;return(E=e.current)==null?void 0:E.click()},className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Choose File"})]})}),c.jsxs("div",{className:"mt-8 bg-blue-50 border-2 border-blue-300 rounded-xl p-6",children:[c.jsx("h4",{className:"font-bold text-blue-700 mb-3",children:"📋 How it works:"}),c.jsxs("ol",{className:"text-sm text-gray-700 space-y-2 list-decimal list-inside",children:[c.jsx("li",{children:"Download the CSV template above"}),c.jsx("li",{children:"Fill in startup data (name, tagline, problem, solution, etc.)"}),c.jsx("li",{children:"Leave fields blank if you don't have the data - AI will generate it!"}),c.jsx("li",{children:"Upload your file and review the parsed data"}),c.jsx("li",{children:"Approve startups and save to database"})]})]})]}),d==="preview"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Review ",r.length," Startups"]}),c.jsxs("p",{className:"text-gray-600",children:[r.filter(E=>E.status==="approved").length," approved"]})]}),c.jsx("button",{onClick:j,className:"px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors",children:"✅ Approve All"})]}),c.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:r.map((E,_)=>{var M;return c.jsx("div",{className:`border-2 rounded-xl p-4 transition-all ${E.status==="approved"?"border-green-500 bg-green-50":"border-gray-300 bg-white"}`,children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-lg font-bold text-gray-800",children:E.name}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:E.tagline}),E.aiGenerated&&E.aiGenerated.length>0&&c.jsx("div",{className:"flex gap-2 flex-wrap mb-2",children:E.aiGenerated.map(D=>c.jsxs("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:["🤖 AI: ",D]},D))}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Industries: ",((M=E.industries)==null?void 0:M.join(", "))||"None"]})]}),c.jsx("button",{onClick:()=>w(_),className:`px-4 py-2 rounded-lg font-semibold transition-colors ${E.status==="approved"?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:E.status==="approved"?"✓ Approved":"Approve"})]})},_)})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>{u("upload"),l([])},className:"flex-1 bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-2xl hover:bg-gray-400 transition-all",children:"← Upload Different File"}),c.jsxs("button",{onClick:C,className:"flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:["💾 Save ",r.filter(E=>E.status==="approved").length," Startups"]})]})]}),d==="complete"&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-8xl mb-6",children:"🎉"}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Upload Complete!"}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Your startups have been added to the database"}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:()=>{u("upload"),l([])},className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Upload More"}),c.jsx("button",{onClick:()=>s("/vote"),className:"px-8 py-3 bg-white border-2 border-orange-500 text-orange-600 font-bold rounded-2xl hover:bg-orange-50 transition-all",children:"View Startups"})]})]})]})]})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center max-w-2xl",children:[c.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Admin Access Required"}),c.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"This page is only accessible to administrators."}),c.jsx("button",{onClick:()=>s("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Go Home"})]})})}function oL(){const s=Lt(),[e,t]=k.useState(""),[n,i]=k.useState(!1),[a,r]=k.useState([]),[l,d]=k.useState([]),[u,h]=k.useState("input"),[f,m]=k.useState({current:0,total:0}),[g,v]=k.useState(0),[x,S]=k.useState(!1),[p,y]=k.useState([]),[w,j]=k.useState(!1),[C,T]=k.useState({name:"",url:"",type:"vc_portfolio",autoRefresh:!0});k.useEffect(()=>{const P=localStorage.getItem("bulkImportSources");P&&y(JSON.parse(P))},[]);const E=P=>{localStorage.setItem("bulkImportSources",JSON.stringify(P)),y(P)},_=()=>{if(!C.name||!C.url){alert("Please enter both name and URL");return}const P={id:Date.now(),name:C.name,url:C.url,type:C.type,autoRefresh:C.autoRefresh,companyCount:0,lastScraped:new Date().toISOString()};E([...p,P]),T({name:"",url:"",type:"vc_portfolio",autoRefresh:!0}),j(!1),alert("✅ Source saved! AI will learn to scrape this automatically.")},M=P=>{confirm("Delete this source?")&&E(p.filter(G=>G.id!==P))},D=async P=>{alert(`🔄 In production, this would:

1. Visit ${P.url}
2. Extract company URLs using AI-learned patterns
3. Enrich each company with the 5-point format
4. Update your database

For now, manually copy URLs from this source and paste them in the manual input section.`)},R=async()=>{const P=p.filter(G=>G.autoRefresh);if(P.length===0){alert("No sources with auto-refresh enabled.");return}alert(`🤖 Automated Refresh:

This would scrape ${P.length} sources:
${P.map(G=>`• ${G.name}`).join(`
`)}

In production:
• Runs weekly via cron job
• AI extracts company URLs
• Enriches with 5-point format
• Auto-updates database

For MVP: Use manual input below`)},L=[{name:"Y Combinator",url:"https://www.ycombinator.com/companies",selector:".company-card"},{name:"a16z Portfolio",url:"https://a16z.com/portfolio/",selector:".portfolio-company"},{name:"Sequoia",url:"https://www.sequoiacap.com/companies/",selector:".company-item"}],X=()=>{const P=e.split(`
`).filter(te=>te.trim());console.log("📋 Parsed URLs:",P);const G=P.map(te=>{const Q=W(te);return{name:ee(te),website:te.trim(),vcSource:"Manual Input",entityType:Q}});console.log("✅ Companies created:",G),r(G),h("review")},W=P=>{const G=P.toLowerCase(),te=ee(P).toLowerCase(),Q=["ycombinator","y-combinator","yc.com","techstars","sequoia","andreessen","a16z","greylock","benchmark","accel","founders fund","khosla","index ventures","lightspeed","nea","redpoint","spark capital","venturecapital","vc.com","ventures.com"];return["accelerator","incubator","hax","plug and play","500startups","techstars","ycombinator","y-combinator"].some(ve=>G.includes(ve)||te.includes(ve))?"accelerator":Q.some(ve=>G.includes(ve)||te.includes(ve))?"vc_firm":"startup"},ee=P=>{try{const te=new URL(P).hostname.replace("www.","").split(".")[0];return te.charAt(0).toUpperCase()+te.slice(1)}catch{return"Unknown"}},O=async P=>{const G=P.entityType||"startup";return G==="vc_firm"||G==="accelerator"?{...P,entityType:G,pitch:`${P.name} - ${G==="vc_firm"?"Venture Capital Firm":"Startup Accelerator"}`,fivePoints:["Investment focus and thesis","Portfolio company count","Average check size and stage","Notable portfolio exits","Geographic presence"],industry:"Venture Capital",funding:"N/A",stage:"N/A"}:{...P,entityType:"startup",pitch:`${P.name} - Innovative startup`,fivePoints:["Solving a major industry problem","Innovative technology solution","Large addressable market","Experienced founding team","$2M Seed"],industry:"Technology",funding:"$2M Seed",stage:"Seed"}},I=async()=>{console.log("🤖 Starting enrichment for",a.length,"companies"),console.log("📋 Companies to enrich:",a),S(!0),h("enriching");const P=[];for(let G=0;G<a.length;G++){const te=a[G];console.log(`📊 Enriching ${G+1}/${a.length}: ${te.name}`);try{const Q=await O(te);console.log("✅ Enriched:",Q.name),P.push(Q),console.log(`📦 Enriched array now has ${P.length} companies`),v((G+1)/a.length*100),d([...P]),G<a.length-1&&(console.log("⏱️ Waiting 2 seconds before next enrichment..."),await new Promise(se=>setTimeout(se,2e3)))}catch(Q){console.error(`❌ Error enriching ${te.name}:`,Q)}}console.log("✅ All enrichment complete:",P.length,"companies"),console.log("📦 Final enriched data:",P),d(P),S(!1),h("review"),setTimeout(()=>{console.log("🔍 Current state - enrichedCompanies.length:",P.length),console.log("🔍 Current step:","review")},100)},U=()=>{const P=localStorage.getItem("uploadedStartups"),G=P?JSON.parse(P):[],te=l.map((he,oh)=>({id:Date.now()+oh,name:he.name,tagline:he.pitch,pitch:he.pitch,stage:he.stage==="Pre-Seed"||he.stage==="Seed"?1:2,website:he.website,industries:[he.industry],fivePoints:he.fivePoints,raise:he.funding,funding:he.funding,yesVotes:0,noVotes:0,hotness:0,vcBacked:he.vcSource,entityType:he.entityType||"startup"}));localStorage.setItem("uploadedStartups",JSON.stringify([...G,...te]));const Q=te.filter(he=>he.entityType==="startup").length,se=te.filter(he=>he.entityType==="vc_firm").length,ve=te.filter(he=>he.entityType==="accelerator").length;let rt=`✅ Successfully imported:
`;Q>0&&(rt+=`• ${Q} startup${Q>1?"s":""}
`),se>0&&(rt+=`• ${se} VC firm${se>1?"s":""}
`),ve>0&&(rt+=`• ${ve} accelerator${ve>1?"s":""}
`),rt+=`
Would you like to view Analytics to see trends and intelligence?

Click OK for Analytics, Cancel to go to Voting.`;const Xn=confirm(rt);s(Xn?"/analytics":"/vote")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 p-8",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"🚀 Bulk Import Startups"}),c.jsx("p",{className:"text-purple-200",children:"Automated VC portfolio scraping & enrichment"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>h(u==="sources"?"input":"sources"),className:"bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:u==="sources"?"← Back to Import":"⚙️ Manage Sources"}),c.jsx("button",{onClick:()=>s("/submit"),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:"← Submit Page"})]})]}),u==="sources"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-green-500/20 to-blue-500/20 backdrop-blur-md rounded-3xl p-6 border-2 border-green-400",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"🤖 Automated Weekly Refresh"}),c.jsx("p",{className:"text-purple-100 mb-4",children:"AI learns to scrape these sources automatically. Enable auto-refresh for weekly updates of fresh startup data."}),c.jsx("button",{onClick:R,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl transition-all",children:"🔄 Refresh All Sources Now"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-purple-400",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-3xl font-bold text-white",children:["📚 Saved Sources (",p.length,")"]}),c.jsx("button",{onClick:()=>j(!w),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-xl transition-all",children:w?"✕ Cancel":"+ Add Source"})]}),w&&c.jsxs("div",{className:"bg-purple-700/50 rounded-xl p-6 mb-6",children:[c.jsx("h3",{className:"text-white font-bold mb-4",children:"Add New Source"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-purple-200 mb-2 font-semibold",children:"Source Name"}),c.jsx("input",{type:"text",value:C.name,onChange:P=>T({...C,name:P.target.value}),placeholder:"e.g., Y Combinator W24",className:"w-full px-4 py-2 bg-white/20 border-2 border-purple-300 rounded-lg text-white placeholder-purple-300"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-purple-200 mb-2 font-semibold",children:"Portfolio URL"}),c.jsx("input",{type:"text",value:C.url,onChange:P=>T({...C,url:P.target.value}),placeholder:"https://www.ycombinator.com/companies",className:"w-full px-4 py-2 bg-white/20 border-2 border-purple-300 rounded-lg text-white placeholder-purple-300"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-purple-200 mb-2 font-semibold",children:"Type"}),c.jsxs("select",{value:C.type,onChange:P=>T({...C,type:P.target.value}),className:"w-full px-4 py-2 bg-white/20 border-2 border-purple-300 rounded-lg text-white",children:[c.jsx("option",{value:"vc_portfolio",children:"VC Portfolio"}),c.jsx("option",{value:"accelerator",children:"Accelerator"}),c.jsx("option",{value:"manual",children:"Manual List"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:C.autoRefresh,onChange:P=>T({...C,autoRefresh:P.target.checked}),className:"w-5 h-5"}),c.jsx("label",{className:"text-purple-200",children:"Enable weekly auto-refresh"})]}),c.jsx("button",{onClick:_,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-xl w-full transition-all",children:"✅ Save Source"})]})]}),c.jsx("div",{className:"space-y-3",children:p.length===0?c.jsx("p",{className:"text-purple-200 text-center py-8",children:"No saved sources yet. Add your first VC portfolio or accelerator!"}):p.map(P=>c.jsxs("div",{className:"bg-purple-700/50 rounded-xl p-4 flex justify-between items-center",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:P.name}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${P.type==="vc_portfolio"?"bg-blue-500":P.type==="accelerator"?"bg-green-500":"bg-gray-500"} text-white`,children:P.type.replace("_"," ").toUpperCase()}),P.autoRefresh&&c.jsx("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"🤖 AUTO"})]}),c.jsx("p",{className:"text-purple-200 text-sm mb-1",children:P.url}),P.lastScraped&&c.jsxs("p",{className:"text-purple-300 text-xs",children:["Last scraped: ",new Date(P.lastScraped).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>D(P),className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg transition-all text-sm",children:"🔄 Refresh"}),c.jsx("button",{onClick:()=>M(P.id),className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition-all text-sm",children:"🗑️"})]})]},P.id))})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-orange-400",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"💡 How It Works"}),c.jsxs("div",{className:"space-y-3 text-purple-100",children:[c.jsxs("p",{children:[c.jsx("strong",{className:"text-orange-300",children:"1. Add Sources:"})," Input VC portfolio URLs, accelerator sites, or startup lists"]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-orange-300",children:"2. AI Learns:"})," System learns HTML patterns to extract company URLs automatically"]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-orange-300",children:"3. Auto-Refresh:"})," Weekly cron job scrapes sources, enriches with 5-point format"]}),c.jsxs("p",{children:[c.jsx("strong",{className:"text-orange-300",children:"4. Fresh Data:"})," Your startup database stays current with latest YC batch, new funding rounds"]})]})]})]}),u==="input"&&c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-purple-400",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"📋 Enter Company Websites"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-purple-200 mb-3 font-semibold",children:"Quick Start Templates:"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:L.map(P=>c.jsxs("div",{className:"bg-purple-700/50 rounded-xl p-4",children:[c.jsx("h3",{className:"text-white font-bold mb-2",children:P.name}),c.jsx("p",{className:"text-purple-200 text-sm mb-3",children:"Scrape their portfolio page"}),c.jsx("button",{onClick:()=>t(P.url),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg text-sm transition-all w-full",children:"Use Template"})]},P.name))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"bg-blue-500/20 border-2 border-blue-400 rounded-xl p-4 mb-4",children:[c.jsx("h3",{className:"text-white font-bold mb-2",children:"📋 Current Workflow (MVP)"}),c.jsxs("ol",{className:"text-purple-100 text-sm space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Visit a VC portfolio page (e.g., YC, a16z)"}),c.jsx("li",{children:"Manually copy company website URLs"}),c.jsx("li",{children:"Paste them below (one per line)"}),c.jsx("li",{children:"✅ AI will enrich each with 5-point format"})]})]}),c.jsx("label",{className:"block text-white font-bold mb-3",children:"Paste Company Websites (one per line):"}),c.jsx("textarea",{value:e,onChange:P=>t(P.target.value),placeholder:`https://airbnb.com
https://stripe.com
https://coinbase.com
https://figma.com
https://notion.so`,rows:10,className:"w-full px-4 py-3 bg-white/20 border-2 border-purple-300 rounded-xl text-white placeholder-purple-300 focus:outline-none focus:border-orange-400 font-mono text-sm"}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[c.jsx("p",{className:"text-purple-200 text-sm",children:"💡 Manually copy URLs from any VC portfolio page"}),c.jsxs("p",{className:"text-yellow-300 text-sm font-bold",children:[e.split(`
`).filter(P=>P.trim()).length," URLs ready"]})]})]}),c.jsxs("button",{onClick:X,disabled:!e.trim(),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg disabled:opacity-50 disabled:cursor-not-allowed w-full",children:["✨ AI Enrich ",e.split(`
`).filter(P=>P.trim()).length," Companies →"]}),c.jsxs("div",{className:"mt-6 bg-purple-500/20 border-2 border-purple-400 rounded-xl p-4",children:[c.jsx("h3",{className:"text-white font-bold mb-2",children:"🚀 Future: Automated Scraping"}),c.jsx("p",{className:"text-purple-100 text-sm mb-2",children:"In production, AI will automatically:"}),c.jsxs("ul",{className:"text-purple-100 text-sm space-y-1 list-disc list-inside",children:[c.jsx("li",{children:"Scrape portfolio pages for company URLs"}),c.jsx("li",{children:"Run weekly to get fresh startups"}),c.jsx("li",{children:'Use the "Manage Sources" feature above'})]}),c.jsx("p",{className:"text-yellow-300 text-xs mt-2",children:"⚠️ Requires backend server with Puppeteer/Playwright"})]})]}),u==="review"&&a.length>0&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-purple-400",children:[c.jsxs("h2",{className:"text-3xl font-bold text-white mb-4",children:["✅ Found ",a.length," Companies"]}),c.jsx("div",{className:"mb-6 max-h-96 overflow-y-auto space-y-2",children:a.map((P,G)=>{const te=P.entityType||"startup",Q=te==="vc_firm"?"💼":te==="accelerator"?"🚀":"🏢",se=te==="vc_firm"?"VC Firm":te==="accelerator"?"Accelerator":"Startup";return c.jsxs("div",{className:"bg-purple-700/50 rounded-lg p-4 flex justify-between items-center",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:"text-white font-bold",children:P.name}),c.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${te==="vc_firm"?"bg-lime-400 text-gray-900":te==="accelerator"?"bg-lime-500 text-gray-900":"bg-blue-400 text-white"}`,children:[Q," ",se]})]}),c.jsx("p",{className:"text-purple-200 text-sm",children:P.website})]}),l[G]&&c.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:"✓ Enriched with AI"})]},G)})}),l.length===0&&c.jsx("button",{onClick:I,disabled:x,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg w-full disabled:opacity-50",children:x?"🤖 AI is analyzing each company...":"🤖 Enrich All with AI (Creates 5 Points)"}),l.length>0&&c.jsxs("button",{onClick:U,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-8 rounded-2xl shadow-lg transition-all text-lg w-full",children:["🔥 Import All ",l.length," Startups"]})]}),x&&c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-orange-400",children:[c.jsxs("h3",{className:"text-white font-bold mb-4",children:["Enriching: ",Math.round(g),"%"]}),c.jsx("div",{className:"w-full bg-purple-700 rounded-full h-4",children:c.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-4 rounded-full transition-all duration-500",style:{width:`${g}%`}})}),c.jsx("p",{className:"text-purple-200 text-sm mt-3",children:"⏱️ Rate limited to 1 company every 2 seconds (OpenAI API limits)"})]}),l.length>0&&c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-green-400",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"👀 Preview"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:l.slice(0,6).map((P,G)=>c.jsxs("div",{className:"bg-gradient-to-br from-orange-400 to-orange-500 rounded-xl p-4",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-2",children:P.name}),c.jsxs("p",{className:"text-sm font-bold text-gray-800 mb-2",children:['"',P.pitch,'"']}),c.jsx("div",{className:"space-y-1",children:P.fivePoints.map((te,Q)=>c.jsxs("p",{className:"text-xs text-gray-900 font-semibold",children:[Q+1,". ",te]},Q))})]},G))}),l.length>6&&c.jsxs("p",{className:"text-purple-200 text-center mt-4",children:["...and ",l.length-6," more"]})]})]})]})})}function lL(){const s=Lt(),e=k.useRef(null),[t,n]=k.useState(!1),[i,a]=k.useState(!1),[r,l]=k.useState([]),[d,u]=k.useState("upload"),[h,f]=k.useState(""),m=()=>{const E=localStorage.getItem("userProfile");if(E){const _=JSON.parse(E);return _.email==="admin@hotmoneyhoney.com"||_.isAdmin}return!1},g=E=>{E.preventDefault(),E.stopPropagation(),E.type==="dragenter"||E.type==="dragover"?n(!0):E.type==="dragleave"&&n(!1)},v=E=>{E.preventDefault(),E.stopPropagation(),n(!1),E.dataTransfer.files&&E.dataTransfer.files[0]&&w(E.dataTransfer.files)},x=E=>{E.target.files&&w(E.target.files)},S=async E=>new Promise(_=>{setTimeout(()=>{_(`
          Startup Name: ${E.name.replace(".pdf","").replace(/[-_]/g," ")}
          Problem: Traditional solutions are outdated and expensive
          Solution: Modern AI-powered platform that's affordable and easy to use
          Market Size: $50B+ total addressable market
          Team: Former executives from Google, Microsoft, and Amazon
          Raising: $2M Seed Round
          Industry: AI, SaaS, Enterprise
        `)},1500)}),p=async E=>new Promise(_=>{setTimeout(()=>{_(`
          ${E.name.replace(".pptx","").replace(".ppt","").replace(/[-_]/g," ")}
          
          The Problem:
          - Current market lacks innovation
          - Customers frustrated with legacy systems
          - $10B wasted annually on inefficient processes
          
          Our Solution:
          - Revolutionary platform using cutting-edge technology
          - 10x faster than competitors
          - 90% cost reduction
          
          Market Opportunity:
          - $100B TAM, $20B SAM
          - Growing 35% YoY
          
          Team:
          - CEO: Ex-Tesla, Stanford MBA
          - CTO: Ex-Google, MIT PhD
          - COO: Ex-Amazon, Harvard
          
          The Ask:
          - Seeking $5M Series A
          - 18 months runway
          - Scale to 100 enterprise customers
          
          Sectors: FinTech, AI, B2B SaaS
        `)},2e3)}),y=(E,_)=>{E.toLowerCase();const M=E.match(/(?:startup name|company|business):\s*(.+)/i),D=M?M[1].trim():_.replace(/\.(pdf|pptx?)/gi,"").replace(/[-_]/g," "),R=E.match(/(?:problem|challenge|pain point):\s*(.+?)(?:\n|$)/i),L=R?R[1].trim():"Legacy systems and inefficient processes",X=E.match(/(?:solution|our product|platform):\s*(.+?)(?:\n|$)/i),W=X?X[1].trim():"AI-powered platform for modern businesses",ee=E.match(/(?:market|tam|market size|opportunity):\s*(.+?)(?:\n|$)/i),O=ee?ee[1].trim():"$50B+ market opportunity",I=E.match(/(?:team|founders|executives):\s*(.+?)(?:\n|$)/i),U=I?I[1].trim():"Google, Microsoft, Amazon",P=E.match(/(?:raising|funding|investment|ask|seeking):\s*(.+?)(?:\n|$)/i),G=P?P[1].trim():"$2M Seed",te=E.match(/(?:industry|sector|vertical|space):\s*(.+?)(?:\n|$)/i),se=(te?te[1]:"ai, saas").toLowerCase().split(/[,\s]+/).map(ve=>ve.trim()).filter(ve=>ve);return{name:D,tagline:`Next-gen ${se[0]||"technology"} platform`,pitch:`${D} is transforming the industry with innovative solutions`,problem:L,solution:W,marketSize:O,teamCompanies:U,investmentAmount:G,industries:se.slice(0,3),confidence:"medium",extractedFrom:_,status:"pending"}},w=async E=>{const _=[];for(let D=0;D<E.length;D++){const R=E[D],L=R.name.toLowerCase();(L.endsWith(".pdf")||L.endsWith(".ppt")||L.endsWith(".pptx"))&&_.push(R)}if(_.length===0){alert("❌ Please upload PDF or PowerPoint files only");return}a(!0);const M=[];for(const D of _){f(D.name);let R="";D.name.toLowerCase().endsWith(".pdf")?R=await S(D):R=await p(D);const L=y(R,D.name);M.push(L)}l(M),a(!1),u("preview")},j=E=>{l(_=>_.map((M,D)=>D===E?{...M,status:M.status==="approved"?"pending":"approved"}:M))},C=()=>{l(E=>E.map(_=>({..._,status:"approved"})))},T=()=>{const E=r.filter(L=>L.status==="approved");if(E.length===0){alert("⚠️ No startups approved. Please approve at least one.");return}const _=localStorage.getItem("uploadedStartups"),M=_?JSON.parse(_):[],D=E.map((L,X)=>({id:Date.now()+X,name:L.name,tagline:L.tagline,pitch:L.pitch,description:L.pitch,marketSize:L.marketSize||"TBD",unique:L.solution||"TBD",raise:L.investmentAmount||"TBD",stage:1,yesVotes:0,noVotes:0,hotness:0,answersCount:0,industries:L.industries,fivePoints:[L.problem||"Problem statement",L.solution||"Solution description",L.marketSize||"Market size",L.teamCompanies||"Team background",L.investmentAmount||"Investment amount"],extractedFrom:L.extractedFrom,uploadedAt:new Date().toISOString()})),R=[...M,...D];localStorage.setItem("uploadedStartups",JSON.stringify(R)),alert(`✅ Successfully extracted and saved ${E.length} startups from documents!`),u("complete")};return m()?c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8 relative",children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none",children:c.jsx("div",{className:"absolute w-96 h-96 bg-green-400 rounded-full blur-3xl opacity-40",style:{left:"20%",top:"40%"}})}),c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("button",{onClick:()=>s("/dashboard"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Back to Dashboard"}),c.jsx("button",{onClick:()=>s("/admin/bulk-upload"),className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"📊 CSV Upload Instead"})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-6xl mb-4",children:"📄"}),c.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent mb-2",children:"Document Scanner Upload"}),c.jsx("p",{className:"text-lg text-gray-700",children:"Upload pitch decks & documents • AI extracts startup data automatically"})]}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${d==="upload"?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:"1. Upload Docs"}),c.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${d==="preview"?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:"2. Review"}),c.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),c.jsx("div",{className:`px-4 py-2 rounded-full font-semibold ${d==="complete"?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:"3. Complete"})]})}),d==="upload"&&c.jsxs("div",{children:[c.jsx("div",{className:`border-4 border-dashed rounded-2xl p-16 text-center transition-all ${t?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"} ${i?"opacity-50":""}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:v,children:i?c.jsxs("div",{children:[c.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:"🔍"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Scanning Document..."}),c.jsx("p",{className:"text-gray-600",children:"Extracting startup information with AI"}),c.jsx("p",{className:"text-blue-600 font-semibold mt-4",children:h})]}):c.jsxs("div",{children:[c.jsx("div",{className:"text-6xl mb-4",children:"📤"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Drag & Drop PDF or PowerPoint Files"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"or click to browse"}),c.jsx("input",{ref:e,type:"file",accept:".pdf,.ppt,.pptx",multiple:!0,onChange:x,className:"hidden"}),c.jsx("button",{onClick:()=>{var E;return(E=e.current)==null?void 0:E.click()},className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold rounded-2xl transition-all",children:"Choose Files"})]})}),c.jsxs("div",{className:"mt-8 grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-xl p-6",children:[c.jsx("h4",{className:"font-bold text-blue-700 mb-3",children:"📄 Supported Documents:"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[c.jsx("li",{children:"✅ PDF pitch decks"}),c.jsx("li",{children:"✅ PowerPoint presentations (.ppt, .pptx)"}),c.jsx("li",{children:"✅ Executive summaries"}),c.jsx("li",{children:"✅ Business plans"}),c.jsx("li",{children:"✅ Multiple files at once"})]})]}),c.jsxs("div",{className:"bg-purple-50 border-2 border-purple-300 rounded-xl p-6",children:[c.jsx("h4",{className:"font-bold text-purple-700 mb-3",children:"🤖 AI Extraction:"}),c.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[c.jsx("li",{children:"• Automatically finds startup name"}),c.jsx("li",{children:"• Extracts problem & solution"}),c.jsx("li",{children:"• Identifies market size"}),c.jsx("li",{children:"• Captures team background"}),c.jsx("li",{children:"• Detects funding amount"})]})]})]})]}),d==="preview"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Extracted ",r.length," Startups"]}),c.jsxs("p",{className:"text-gray-600",children:[r.filter(E=>E.status==="approved").length," approved"]})]}),c.jsx("button",{onClick:C,className:"px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition-colors",children:"✅ Approve All"})]}),c.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto mb-6",children:r.map((E,_)=>{var M;return c.jsx("div",{className:`border-2 rounded-xl p-6 transition-all ${E.status==="approved"?"border-green-500 bg-green-50":"border-gray-300 bg-white"}`,children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h4",{className:"text-xl font-bold text-gray-800",children:E.name}),c.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:["📄 ",E.extractedFrom]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:E.tagline}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-700",children:"Problem:"}),c.jsx("p",{className:"text-gray-600",children:E.problem})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-700",children:"Solution:"}),c.jsx("p",{className:"text-gray-600",children:E.solution})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-700",children:"Market:"}),c.jsx("p",{className:"text-gray-600",children:E.marketSize})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-700",children:"Raising:"}),c.jsx("p",{className:"text-gray-600",children:E.investmentAmount})]})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"Industries: "}),(M=E.industries)==null?void 0:M.map(D=>c.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full mr-2",children:D},D))]})]}),c.jsx("button",{onClick:()=>j(_),className:`px-4 py-2 rounded-lg font-semibold ml-4 transition-colors ${E.status==="approved"?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:E.status==="approved"?"✓ Approved":"Approve"})]})},_)})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("button",{onClick:()=>{u("upload"),l([])},className:"flex-1 bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-2xl hover:bg-gray-400 transition-all",children:"← Upload Different Files"}),c.jsxs("button",{onClick:T,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-2xl transition-all",children:["💾 Save ",r.filter(E=>E.status==="approved").length," Startups"]})]})]}),d==="complete"&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-8xl mb-6",children:"🎉"}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Documents Processed!"}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Startup data extracted and saved to database"}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsx("button",{onClick:()=>{u("upload"),l([])},className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold rounded-2xl transition-all",children:"Upload More Documents"}),c.jsx("button",{onClick:()=>s("/vote"),className:"px-8 py-3 bg-white border-2 border-blue-500 text-blue-600 font-bold rounded-2xl hover:bg-blue-50 transition-all",children:"View Startups"})]})]})]})]})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 flex items-center justify-center p-8",children:c.jsxs("div",{className:"bg-white rounded-3xl p-12 text-center max-w-2xl",children:[c.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Admin Access Required"}),c.jsx("button",{onClick:()=>s("/"),className:"px-8 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl transition-all",children:"Go Home"})]})})}function cL(){const s=Lt(),[e,t]=k.useState(null),[n,i]=k.useState(!0);k.useEffect(()=>{a()},[]);const a=()=>{i(!0);const h=localStorage.getItem("uploadedStartups"),f=h?JSON.parse(h):[];if(f.length===0){t(null),i(!1);return}const m={totalStartups:f.length,totalVotes:0,industries:{},stages:{},fundingRanges:{},avgHotness:0,topPerformers:[],commonProblems:[],commonSolutions:[],teamBackgrounds:{},votingPatterns:{avgYesRate:0,avgNoRate:0,mostControversial:[]},timelineData:{uploadsPerDay:{},votesPerDay:{}}};let g=0,v=0,x=0;const S=[],p=[];f.forEach(y=>{y.industries&&Array.isArray(y.industries)?y.industries.forEach(_=>{m.industries[_]=(m.industries[_]||0)+1}):y.industry&&(m.industries[y.industry]=(m.industries[y.industry]||0)+1);const w=y.stage===1?"Pre-Seed/Seed":y.stage===2?"Series A":"Series B+";m.stages[w]=(m.stages[w]||0)+1;const j=y.funding||y.raise||"Unknown",C=r(j);m.fundingRanges[C]=(m.fundingRanges[C]||0)+1;const T=y.yesVotes||0,E=y.noVotes||0;if(v+=T,x+=E,m.totalVotes+=T+E,g+=y.hotness||0,y.fivePoints&&Array.isArray(y.fivePoints)){if(y.fivePoints[0]){const _=y.fivePoints[0].trim();_.length>20&&!_.toLowerCase().includes("solving a major")&&!_.toLowerCase().includes("innovative")&&S.push(_)}if(y.fivePoints[1]){const _=y.fivePoints[1].trim();_.length>20&&!_.toLowerCase().includes("technology solution")&&!_.toLowerCase().includes("innovative")&&p.push(_)}y.fivePoints[3]&&u(y.fivePoints[3],m.teamBackgrounds)}}),m.avgHotness=f.length>0?g/f.length:0,m.votingPatterns.avgYesRate=m.totalVotes>0?v/m.totalVotes*100:0,m.votingPatterns.avgNoRate=m.totalVotes>0?x/m.totalVotes*100:0,m.topPerformers=f.sort((y,w)=>(w.hotness||0)-(y.hotness||0)).slice(0,10),m.votingPatterns.mostControversial=f.filter(y=>(y.yesVotes||0)>0&&(y.noVotes||0)>0).map(y=>({...y,controversy:Math.abs((y.yesVotes||0)-(y.noVotes||0))/((y.yesVotes||0)+(y.noVotes||0))})).sort((y,w)=>y.controversy-w.controversy).slice(0,5),m.commonProblems=l(S),m.commonSolutions=d(p),t(m),i(!1)},r=h=>{var g;const f=h.toLowerCase();if(f.includes("pre-seed")||f.includes("preseed"))return"Pre-Seed (<$500K)";if(f.includes("seed"))return"Seed ($500K-$2M)";if(f.includes("series a")||f.includes("$2m")||f.includes("$3m")||f.includes("$5m"))return"Series A ($2M-$15M)";if(f.includes("series b"))return"Series B ($15M-$50M)";if(f.includes("series c"))return"Series C+ ($50M+)";const m=f.match(/\$(\d+(?:\.\d+)?)\s*([kmb])?/i);if(m){let v=parseFloat(m[1]);const x=(g=m[2])==null?void 0:g.toLowerCase();return x==="k"&&(v*=1e3),x==="m"&&(v*=1e6),x==="b"&&(v*=1e9),v<5e5?"Pre-Seed (<$500K)":v<2e6?"Seed ($500K-$2M)":v<15e6?"Series A ($2M-$15M)":v<5e7?"Series B ($15M-$50M)":"Series C+ ($50M+)"}return"Unknown"},l=h=>{if(h.length===0)return[];const f={"Healthcare & Medical":["health","medical","patient","hospital","doctor","disease","treatment","diagnosis","care","wellness","pharmacy","medicine"],"Financial Services":["financial","payment","bank","money","credit","loan","investment","transaction","fintech","expense","budget","revenue"],"E-commerce & Retail":["shopping","retail","e-commerce","purchase","product","customer","seller","marketplace","delivery","order"],"Education & Learning":["education","learning","student","teacher","school","training","course","skill","classroom"],"Supply Chain & Logistics":["supply","logistics","shipping","delivery","warehouse","inventory","freight","transportation"],"HR & Recruiting":["hiring","recruit","employee","talent","hr","workforce","job","resume","candidate"],"Real Estate & Property":["real estate","property","housing","rent","lease","apartment","commercial","building"],"Marketing & Advertising":["marketing","advertising","campaign","brand","social media","content","engagement"],"Productivity & Workflow":["productivity","workflow","efficiency","process","automation","collaboration","task","project"],"Data & Analytics":["data","analytics","insights","reporting","metrics","dashboard","intelligence"],"Security & Compliance":["security","compliance","privacy","fraud","risk","audit","regulation"],"Communication & Collaboration":["communication","collaboration","team","meeting","messaging","chat","video"]},m={};return h.forEach(g=>{const v=g.toLowerCase();Object.entries(f).forEach(([x,S])=>{S.some(p=>v.includes(p))&&(m[x]||(m[x]={count:0,examples:[]}),m[x].count++,m[x].examples.length<2&&m[x].examples.push(g))})}),Object.entries(m).sort(([,g],[,v])=>v.count-g.count).slice(0,5).map(([g,v])=>{var S;const x=((S=v.examples[0])==null?void 0:S.substring(0,150))||"";return`${g} (${v.count} startup${v.count>1?"s":""}) - ${x}${x.length>=150?"...":""}`})},d=h=>{if(h.length===0)return[];const f={"AI & Machine Learning":["ai","artificial intelligence","machine learning","ml","neural","algorithm","predictive","automation"],"SaaS Platform":["platform","saas","software","cloud","dashboard","portal","app","application"],"Marketplace Model":["marketplace","connect","match","network","community","peer-to-peer","platform"],"Mobile App":["mobile","ios","android","smartphone","device","app"],"API & Integration":["api","integration","connect","sync","plugin","webhook"],"Blockchain & Web3":["blockchain","crypto","web3","decentralized","smart contract","nft"],"Hardware & IoT":["hardware","device","sensor","iot","wearable","physical"],"Analytics & Insights":["analytics","insights","data","reporting","visualization","metrics"],"Automation & Workflow":["automate","workflow","streamline","process","efficiency"],"Personalization & AI":["personalized","custom","tailored","recommendation","adaptive"]},m={};return h.forEach(g=>{const v=g.toLowerCase();Object.entries(f).forEach(([x,S])=>{S.some(p=>v.includes(p))&&(m[x]||(m[x]={count:0,examples:[]}),m[x].count++,m[x].examples.length<2&&m[x].examples.push(g))})}),Object.entries(m).sort(([,g],[,v])=>v.count-g.count).slice(0,5).map(([g,v])=>{var S;const x=((S=v.examples[0])==null?void 0:S.substring(0,150))||"";return`${g} (${v.count} startup${v.count>1?"s":""}) - ${x}${x.length>=150?"...":""}`})},u=(h,f)=>{(h.match(/\b[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*\b/g)||[]).forEach(g=>{g.length>2&&!["Team","Founder","CEO","CTO"].includes(g)&&(f[g]=(f[g]||0)+1)})};return n?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-2xl font-bold",children:"🔍 Analyzing data..."})}):e?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("button",{onClick:()=>s("/"),className:"bg-white/20 hover:bg-white/30 text-white font-bold py-2 px-4 rounded-lg",children:"← Back"}),c.jsx("button",{onClick:a,className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg",children:"🔄 Refresh Data"})]}),c.jsx("h1",{className:"text-5xl font-black text-white mb-8 text-center",children:"📊 Startup Intelligence Dashboard"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-purple-400",children:[c.jsx("div",{className:"text-purple-200 text-sm font-bold mb-2",children:"Total Startups"}),c.jsx("div",{className:"text-4xl font-black text-white",children:e.totalStartups})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-orange-400",children:[c.jsx("div",{className:"text-orange-200 text-sm font-bold mb-2",children:"Total Votes"}),c.jsx("div",{className:"text-4xl font-black text-white",children:e.totalVotes})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-green-400",children:[c.jsx("div",{className:"text-green-200 text-sm font-bold mb-2",children:"Avg Hotness"}),c.jsxs("div",{className:"text-4xl font-black text-white",children:[e.avgHotness.toFixed(1),"🔥"]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border-2 border-blue-400",children:[c.jsx("div",{className:"text-blue-200 text-sm font-bold mb-2",children:"Yes Rate"}),c.jsxs("div",{className:"text-4xl font-black text-white",children:[e.votingPatterns.avgYesRate.toFixed(1),"%"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-purple-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"🏢 Industry Trends"}),c.jsx("div",{className:"space-y-3",children:Object.entries(e.industries).sort(([,h],[,f])=>f-h).slice(0,8).map(([h,f])=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-white font-bold mb-1",children:[c.jsx("span",{children:h}),c.jsx("span",{children:f})]}),c.jsx("div",{className:"w-full bg-purple-700 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-500 h-2 rounded-full",style:{width:`${f/e.totalStartups*100}%`}})})]},h))})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-orange-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"💰 Funding Stages"}),c.jsx("div",{className:"space-y-3",children:Object.entries(e.stages).sort(([,h],[,f])=>f-h).map(([h,f])=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-white font-bold mb-1",children:[c.jsx("span",{children:h}),c.jsx("span",{children:f})]}),c.jsx("div",{className:"w-full bg-orange-700 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 h-2 rounded-full",style:{width:`${f/e.totalStartups*100}%`}})})]},h))})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-green-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"💵 Funding Ranges"}),c.jsx("div",{className:"space-y-3",children:Object.entries(e.fundingRanges).sort(([,h],[,f])=>f-h).map(([h,f])=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between text-white font-bold mb-1",children:[c.jsx("span",{children:h}),c.jsx("span",{children:f})]}),c.jsx("div",{className:"w-full bg-green-700 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 h-2 rounded-full",style:{width:`${f/e.totalStartups*100}%`}})})]},h))})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-blue-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"👥 Common Team Backgrounds"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.teamBackgrounds).sort(([,h],[,f])=>f-h).slice(0,15).map(([h,f])=>c.jsxs("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[h," (",f,")"]},h))})]})]}),c.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-red-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"🔥 Top 5 Problem Areas"}),c.jsx("p",{className:"text-red-200 text-sm mb-4",children:"Market problems startups are solving (weighted by frequency)"}),e.commonProblems.length>0?c.jsx("div",{className:"space-y-4",children:e.commonProblems.map((h,f)=>{const m=h.match(/^(.+?)\s+\((\d+)\s+startup[s]?\)\s+-\s+(.+)$/),g=m?m[1]:h,v=m?m[2]:"0",x=m?m[3]:"";return c.jsxs("div",{className:"bg-red-500/20 rounded-xl p-5 border-l-4 border-red-500",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-red-300 font-black text-lg",children:["#",f+1," ",g]}),c.jsxs("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[v," startup",v!=="1"?"s":""]})]}),x&&c.jsxs("p",{className:"text-white text-sm leading-relaxed italic",children:['Example: "',x,'"']})]},f)})}):c.jsx("p",{className:"text-red-200 text-sm italic",children:"No problem statements captured yet. Upload startups with detailed pitch decks."})]}),c.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-yellow-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"💡 Top 5 Solution Approaches"}),c.jsx("p",{className:"text-yellow-200 text-sm mb-4",children:"How startups are solving problems (weighted by frequency)"}),e.commonSolutions.length>0?c.jsx("div",{className:"space-y-4",children:e.commonSolutions.map((h,f)=>{const m=h.match(/^(.+?)\s+\((\d+)\s+startup[s]?\)\s+-\s+(.+)$/),g=m?m[1]:h,v=m?m[2]:"0",x=m?m[3]:"";return c.jsxs("div",{className:"bg-yellow-500/20 rounded-xl p-5 border-l-4 border-yellow-500",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-yellow-300 font-black text-lg",children:["#",f+1," ",g]}),c.jsxs("span",{className:"bg-yellow-600 text-white px-3 py-1 rounded-full text-xs font-bold",children:[v," startup",v!=="1"?"s":""]})]}),x&&c.jsxs("p",{className:"text-white text-sm leading-relaxed italic",children:['Example: "',x,'"']})]},f)})}):c.jsx("p",{className:"text-yellow-200 text-sm italic",children:"No solution statements captured yet. Upload startups with detailed pitch decks."})]}),c.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-pink-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"🏆 Top Performers"}),c.jsx("div",{className:"space-y-3",children:e.topPerformers.slice(0,5).map((h,f)=>c.jsxs("div",{className:"bg-pink-500/20 rounded-xl p-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"text-3xl font-black text-white",children:["#",f+1]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:h.name}),c.jsx("p",{className:"text-pink-200 text-sm",children:h.pitch})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-2xl font-black text-white",children:[h.hotness||0,"🔥"]}),c.jsxs("div",{className:"text-pink-200 text-xs",children:["👍 ",h.yesVotes||0," | 👎 ",h.noVotes||0]})]})]},h.id))})]}),e.votingPatterns.mostControversial.length>0&&c.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-3xl p-6 border-2 border-gray-400",children:[c.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"⚖️ Most Controversial (Split Decisions)"}),c.jsx("div",{className:"space-y-3",children:e.votingPatterns.mostControversial.map(h=>c.jsxs("div",{className:"bg-gray-500/20 rounded-xl p-4",children:[c.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:h.name}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsxs("span",{className:"text-green-400 font-bold",children:["👍 Yes: ",h.yesVotes||0]}),c.jsxs("span",{className:"text-red-400 font-bold",children:["👎 No: ",h.noVotes||0]})]}),c.jsxs("div",{className:"w-full bg-gray-700 rounded-full h-3 flex overflow-hidden",children:[c.jsx("div",{className:"bg-green-500",style:{width:`${(h.yesVotes||0)/((h.yesVotes||0)+(h.noVotes||0))*100}%`}}),c.jsx("div",{className:"bg-red-500",style:{width:`${(h.noVotes||0)/((h.yesVotes||0)+(h.noVotes||0))*100}%`}})]})]})})]},h.id))})]})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-orange-600 p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("button",{onClick:()=>s("/"),className:"mb-6 bg-white/20 hover:bg-white/30 text-white font-bold py-2 px-4 rounded-lg",children:"← Back"}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-12 text-center border-2 border-purple-400",children:[c.jsx("h1",{className:"text-4xl font-black text-white mb-4",children:"📊 No Data Yet"}),c.jsx("p",{className:"text-purple-200 text-lg mb-6",children:"Upload some startups to see analytics and intelligence"}),c.jsx("button",{onClick:()=>s("/submit"),className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-xl",children:"Upload Startups"})]})]})})}function dL(){const s=Lt(),[e,t]=k.useState({email:"",password:""}),[n,i]=k.useState(""),a=l=>{t({...e,[l.target.name]:l.target.value})},r=l=>{l.preventDefault(),i("");const d=localStorage.getItem("userProfile");if(!d){i("No account found with this email. Please sign up first.");return}const u=JSON.parse(d);u.email.toLowerCase()===e.email.toLowerCase()?(localStorage.setItem("isLoggedIn","true"),alert(`Welcome back, ${u.name}! 🍯`),u.userType==="investor"?s("/dashboard"):s("/submit")):i("Invalid email or password. Please try again.")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",style:{backgroundImage:"radial-gradient(ellipse 800px 600px at 20% 40%, rgba(134, 239, 172, 0.4), transparent), linear-gradient(to bottom right, rgb(88, 28, 135), rgb(59, 7, 100))"},children:c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsx("div",{className:"flex justify-between items-center mb-8",children:c.jsx("button",{onClick:()=>s("/"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-2xl shadow-lg transition-all",children:"← Home"})}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"text-8xl mb-4 animate-pulse",children:"🍯"}),c.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-4",children:"Welcome Back!"}),c.jsx("p",{className:"text-xl text-white font-bold drop-shadow-lg",children:"Log in to Hot Honey"})]}),c.jsx("div",{className:"bg-gradient-to-br from-orange-300 via-orange-400 to-orange-500 rounded-3xl p-8 shadow-2xl",children:c.jsxs("div",{className:"bg-white/90 rounded-2xl p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-orange-600 mb-6 text-center",children:"🔑 Log In"}),n&&c.jsx("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-4 py-3 rounded-xl mb-6",children:n}),c.jsxs("form",{onSubmit:r,className:"space-y-6",autoComplete:"off",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-bold text-gray-700 mb-2",children:"Email Address"}),c.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:a,placeholder:"your@email.com",required:!0,autoComplete:"off",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-bold text-gray-700 mb-2",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:a,placeholder:"Enter your password",required:!0,autoComplete:"new-password",className:"w-full px-4 py-3 border-2 border-orange-300 rounded-xl focus:outline-none focus:border-orange-500 text-gray-800 font-medium"})]}),c.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-6 rounded-2xl shadow-lg transition-all text-lg",children:"Log In →"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",c.jsx(q,{to:"/signup",className:"text-orange-600 font-bold hover:text-orange-700 hover:underline",children:"Sign Up"})]})}),c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{onClick:()=>alert("Password reset feature coming soon! For now, please contact support."),className:"text-sm text-gray-500 hover:text-gray-700 hover:underline",children:"Forgot password?"})})]})}),c.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-2xl p-6 text-white",children:[c.jsx("h3",{className:"font-bold text-lg mb-4",children:"What you get with Hot Honey:"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:"🔥 Vote on hot startups"}),c.jsx("li",{children:"💼 Build your investment portfolio"}),c.jsx("li",{children:"🎯 Filter by your favorite industries"}),c.jsx("li",{children:"📤 Share your picks with other investors"}),c.jsx("li",{children:"🚀 Discover the next big thing"})]})]})]})})}function uL(){const s=Lt(),[e,t]=k.useState([]),[n,i]=k.useState(!1),[a,r]=k.useState(0),[l,d]=k.useState([]),[u,h]=k.useState(!1);k.useEffect(()=>{const x=localStorage.getItem("uploadedStartups");if(x){const S=JSON.parse(x);t(S),console.log(`Found ${S.length} uploaded startups:`,S)}else console.log("No uploadedStartups found in localStorage"),console.log("All localStorage keys:",Object.keys(localStorage))},[]);const f=async(x,S)=>({id:11+S,name:x.name||`Startup ${S+1}`,tagline:x.tagline||"Revolutionary startup",pitch:x.pitch||`${x.name} is building the future`,description:x.pitch||`${x.name} is transforming the industry`,marketSize:x.marketSize||"$10B+ market opportunity",unique:x.unique||"Unique value proposition",raise:x.raise||"$2M Seed",stage:1,yesVotes:0,noVotes:0,hotness:3.5,answersCount:5,industries:x.industries||["tech","saas"],fivePoints:x.fivePoints||[x.pitch||"Innovative solution",x.marketSize||"$10B+ market","Strong founding team","Early traction",x.raise||"Raising $2M"],secretFact:m(),comments:[],url:x.url||"",uploadedAt:x.uploadedAt}),m=x=>{const S=["🤫 Founders met at Y Combinator","🤫 First 100 customers came from Product Hunt","🤫 Started in a coffee shop","🤫 Rejected by 20 VCs before finding product-market fit","🤫 CEO previously built a unicorn","🤫 Early investor from Sequoia","🤫 Built by ex-Google engineers","🤫 Launched during pandemic and 10x'd revenue","🤫 Turned down acquisition offer from Facebook","🤫 Secretly backed by a Fortune 500 company","🤫 Already profitable with zero marketing spend","🤫 First prototype built in 48 hours"];return S[Math.floor(Math.random()*S.length)]},g=async()=>{i(!0);const x=[];for(let S=0;S<e.length;S++){r(S);const p=await f(e[S],S);x.push(p),await new Promise(y=>setTimeout(y,200))}d(x),i(!1),console.log("Generated cards:",x)},v=()=>{if(l.length===0)return;const x=l.map(S=>`  {
    id: ${S.id},
    name: '${S.name}',
    tagline: '${S.tagline}',
    pitch: '${S.pitch}',
    description: '${S.description}',
    marketSize: '${S.marketSize}',
    unique: '${S.unique}',
    raise: '${S.raise}',
    stage: ${S.stage},
    yesVotes: ${S.yesVotes},
    noVotes: ${S.noVotes},
    hotness: ${S.hotness},
    answersCount: ${S.answersCount},
    secretFact: '${S.secretFact}',
    comments: [],
    fivePoints: [
      '${S.fivePoints[0]}',
      '${S.fivePoints[1]}',
      '${S.fivePoints[2]}',
      '${S.fivePoints[3]}',
      '${S.fivePoints[4]}'
    ]
  }`).join(`,
`);navigator.clipboard.writeText(x),alert(`✅ Copied ${l.length} startup cards to clipboard!

Paste them into src/data/startupData.ts`)};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",children:c.jsx("div",{className:"max-w-6xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:"/images/logo.png",alt:"Hot Honey",className:"h-20 w-20"}),c.jsx("h1",{className:"text-5xl font-black bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:"Process Uploaded Startups"})]}),c.jsx("button",{onClick:()=>s("/dashboard"),className:"px-6 py-3 bg-gray-800 text-white rounded-xl hover:bg-gray-900 transition-colors font-bold text-lg",children:"← Back"})]}),c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-lg",children:[c.jsx("h2",{className:"text-3xl font-black text-white mb-4",children:"📊 Status"}),c.jsxs("div",{className:"space-y-3 text-xl",children:[c.jsxs("p",{className:"text-white",children:[c.jsx("strong",{className:"font-black",children:"Uploaded Startups:"})," ",c.jsx("span",{className:"text-yellow-300 font-bold text-2xl",children:e.length})]}),c.jsxs("p",{className:"text-white",children:[c.jsx("strong",{className:"font-black",children:"Generated Cards:"})," ",c.jsx("span",{className:"text-green-300 font-bold text-2xl",children:l.length})]}),n&&c.jsxs("p",{className:"text-yellow-300 font-black animate-pulse text-xl",children:["⚙️ Processing ",a+1," of ",e.length,"..."]})]}),c.jsx("button",{onClick:()=>h(!u),className:"mt-4 px-4 py-2 bg-white/20 text-white rounded-lg hover:bg-white/30 transition-colors font-bold text-sm",children:u?"🔼 Hide Debug Info":"🔽 Show Debug Info"}),u&&c.jsxs("div",{className:"mt-4 p-4 bg-white/10 rounded-lg text-white text-sm",children:[c.jsx("p",{className:"font-bold mb-2",children:"localStorage Keys:"}),c.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.keys(localStorage).map(x=>c.jsxs("li",{className:"font-mono",children:[x," ",x.includes("upload")&&"← 👀"]},x))})]})]}),c.jsxs("div",{className:"flex gap-4 mb-8",children:[c.jsx("button",{onClick:g,disabled:n||e.length===0,className:"flex-1 px-8 py-6 bg-gradient-to-r from-orange-600 to-yellow-600 text-white rounded-2xl font-black text-xl hover:from-orange-700 hover:to-yellow-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-xl hover:shadow-2xl hover:scale-105",children:n?"⚙️ Processing...":"🚀 Generate All StartupCards"}),c.jsx("button",{onClick:v,disabled:l.length===0,className:"px-8 py-6 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-2xl font-black text-xl hover:from-green-700 hover:to-emerald-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-xl hover:shadow-2xl hover:scale-105",children:"📋 Export Code"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-6",children:"📦 Uploaded Startups"}),e.length===0?c.jsxs("div",{className:"text-center py-16 bg-gradient-to-r from-gray-100 to-gray-200 rounded-2xl",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-800 mb-3",children:"No uploaded startups found in localStorage"}),c.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Go to Bulk Upload page to upload startups"}),c.jsx("button",{onClick:()=>s("/admin/bulk-upload"),className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-yellow-600 text-white rounded-xl font-bold hover:from-orange-700 hover:to-yellow-700 transition-all",children:"📊 Go to Bulk Upload"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((x,S)=>c.jsxs("div",{className:`p-6 rounded-2xl border-4 transition-all shadow-lg ${n&&S===a?"border-orange-600 bg-gradient-to-br from-orange-100 to-yellow-100 scale-105 shadow-2xl":S<a&&n?"border-green-600 bg-gradient-to-br from-green-100 to-emerald-100":"border-gray-300 bg-gradient-to-br from-white to-gray-50 hover:border-purple-400 hover:shadow-xl"}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsx("h3",{className:"font-black text-xl text-gray-900",children:x.name}),l[S]&&c.jsx("span",{className:"text-green-600 text-3xl",children:"✓"})]}),c.jsx("p",{className:"text-base text-gray-800 mb-3 font-semibold",children:x.tagline}),x.url&&c.jsxs("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-700 hover:text-blue-900 hover:underline font-bold break-all",children:["🔗 ",x.url.substring(0,50),"..."]})]},x.id))})]}),l.length>0&&c.jsxs("div",{className:"mt-12",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-6",children:"✨ Generated StartupCards"}),c.jsx("div",{className:"bg-gray-900 text-green-400 p-6 rounded-2xl overflow-auto max-h-96 font-mono text-sm shadow-2xl border-4 border-green-500",children:c.jsx("pre",{children:JSON.stringify(l,null,2)})})]})]})})})}function hL(){const s=Lt(),[e,t]=k.useState(""),[n,i]=k.useState(!1),[a,r]=k.useState("input"),[l,d]=k.useState([]),[u,h]=k.useState(0),f=p=>p.split(`
`).map(y=>y.trim()).filter(y=>y.startsWith("http://")||y.startsWith("https://")),m=async p=>{await new Promise(T=>setTimeout(T,1500));const y=new URL(p).hostname.replace("www.","").split(".")[0],w=y.charAt(0).toUpperCase()+y.slice(1),j=[`${w} addresses a major market gap`,"Strong founding team with industry experience","Proven traction with early customers","Scalable business model","Clear competitive advantage"],C={videos:[`${p}/demo-video`,`${p}/pitch-deck-video`],presentations:[`${p}/pitch-deck.pdf`,`${p}/investor-presentation.pdf`],socialMedia:{linkedin:`https://linkedin.com/company/${y}`,twitter:`https://twitter.com/${y}`},foundedYear:"2024",founders:["Founder A","Founder B"],funding:"Raising $2M Seed"};return{id:`startup-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,companyName:w,url:p,fivePoints:j,additionalData:C,scrapedAt:new Date().toISOString(),validated:!1,validationEmailSent:!1}},g=async()=>{const p=f(e);if(p.length===0){alert("❌ Please enter at least one valid URL (must start with http:// or https://)");return}i(!0),r("processing");const y=[];for(let C=0;C<p.length;C++){h(C);try{const T=await m(p[C]);y.push(T)}catch(T){console.error(`Error processing ${p[C]}:`,T)}}d(y);const w=localStorage.getItem("startupFiles"),j=w?JSON.parse(w):[];localStorage.setItem("startupFiles",JSON.stringify([...j,...y])),i(!1),r("review")},v=p=>{const y=encodeURIComponent(`Confirm ${p.companyName} on Hot Money Honey 🍯`),w=encodeURIComponent(`Hi ${p.companyName} team!

We're featuring your company on Hot Money Honey, our investor voting platform.

📍 Your Profile:
${p.url}

🔥 Your 5 Key Points:
${p.fivePoints.map((T,E)=>`${E+1}. ${T}`).join(`
`)}

Please reply to confirm these details are accurate, or let us know what changes you'd like.

Looking forward to connecting!

Best,
Hot Money Honey Team
https://hot-honey.fly.dev`),j=p.contactEmail||`hello@${new URL(p.url).hostname}`;window.location.href=`mailto:${j}?subject=${y}&body=${w}`;const C=l.map(T=>T.id===p.id?{...T,validationEmailSent:!0}:T);d(C),localStorage.setItem("startupFiles",JSON.stringify(C))},x=p=>{const y=l.map(w=>w.id===p?{...w,validated:!0}:w);d(y),localStorage.setItem("startupFiles",JSON.stringify(y))},S=()=>{const p=l.map((y,w)=>`  {
    id: ${11+w},
    name: '${y.companyName}',
    tagline: '${y.fivePoints[0]}',
    pitch: '${y.fivePoints.join(". ")}',
    description: '${y.fivePoints[0]}',
    marketSize: '${y.additionalData.funding||"TBD"}',
    unique: '${y.fivePoints[3]}',
    raise: '${y.additionalData.funding||"TBD"}',
    stage: 1,
    yesVotes: 0,
    noVotes: 0,
    hotness: 3.5,
    answersCount: 5,
    secretFact: '🤫 ${y.additionalData.foundedYear?`Founded in ${y.additionalData.foundedYear}`:"Stealth mode startup"}',
    comments: [],
    url: '${y.url}',
    validated: ${y.validated},
    fivePoints: [
      '${y.fivePoints[0]}',
      '${y.fivePoints[1]}',
      '${y.fivePoints[2]}',
      '${y.fivePoints[3]}',
      '${y.fivePoints[4]}'
    ]
  }`).join(`,
`);navigator.clipboard.writeText(p),alert(`✅ Copied ${l.length} startup cards to clipboard!

Paste into src/data/startupData.ts`)};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:"/images/logo.png",alt:"Hot Honey",className:"h-20 w-20"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-5xl font-black bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:"Hot Honey Startup Processor"}),c.jsx("p",{className:"text-xl text-gray-700 mt-2 font-semibold",children:"Load URLs → Scrape Data → Create Files → Validate Startups"})]})]}),c.jsx("button",{onClick:()=>s("/dashboard"),className:"px-6 py-3 bg-gray-800 text-white rounded-xl hover:bg-gray-900 transition-colors font-bold text-lg",children:"← Back"})]}),a==="input"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white",children:[c.jsx("h2",{className:"text-3xl font-black mb-3",children:"📝 Step 1: Load Startup URLs"}),c.jsx("p",{className:"text-lg",children:"Paste one URL per line. We'll scrape each site for the 5 key points."})]}),c.jsx("textarea",{value:e,onChange:p=>t(p.target.value),placeholder:`https://startup1.com
https://startup2.com
https://startup3.com`,className:"w-full h-96 p-6 border-4 border-gray-300 rounded-2xl text-lg font-mono focus:border-orange-500 focus:outline-none"}),c.jsx("div",{className:"flex gap-4",children:c.jsxs("button",{onClick:g,disabled:n||!e.trim(),className:"flex-1 px-8 py-6 bg-gradient-to-r from-orange-600 to-yellow-600 text-white rounded-2xl font-black text-2xl hover:from-orange-700 hover:to-yellow-700 transition-all disabled:opacity-50 shadow-xl hover:scale-105",children:["🚀 Process ",f(e).length," URLs"]})})]}),a==="processing"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-yellow-600 rounded-2xl p-8 text-white text-center",children:[c.jsx("h2",{className:"text-4xl font-black mb-4",children:"⚙️ Processing Startups..."}),c.jsxs("p",{className:"text-2xl font-bold",children:[u+1," of ",f(e).length]}),c.jsx("div",{className:"mt-6 w-full bg-white/30 rounded-full h-6",children:c.jsx("div",{className:"bg-white h-6 rounded-full transition-all duration-500",style:{width:`${(u+1)/f(e).length*100}%`}})}),c.jsx("p",{className:"mt-4 text-lg",children:"Scraping URL, extracting 5 points, finding additional data..."})]})}),a==="review"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl p-6 text-white flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black mb-2",children:"✅ Review Startup Files"}),c.jsxs("p",{className:"text-lg",children:["Total Files Created: ",c.jsx("span",{className:"text-2xl font-black",children:l.length})]})]}),c.jsx("button",{onClick:S,className:"px-6 py-4 bg-white text-green-700 rounded-xl font-black text-lg hover:bg-gray-100 transition-colors shadow-lg",children:"📋 Export All to Code"})]}),c.jsx("div",{className:"grid grid-cols-1 gap-6",children:l.map((p,y)=>c.jsxs("div",{className:`p-6 rounded-2xl border-4 transition-all ${p.validated?"border-green-600 bg-gradient-to-br from-green-50 to-emerald-50":"border-orange-400 bg-gradient-to-br from-orange-50 to-yellow-50"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-black text-gray-900",children:p.companyName}),c.jsxs("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 hover:underline font-bold text-lg",children:["🔗 ",p.url]})]}),p.validated&&c.jsx("span",{className:"px-4 py-2 bg-green-600 text-white rounded-full font-black text-sm",children:"✓ VALIDATED"})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-xl font-black text-gray-900 mb-3",children:"🔥 5 Key Points:"}),c.jsx("ol",{className:"space-y-2",children:p.fivePoints.map((w,j)=>c.jsxs("li",{className:"flex items-start",children:[c.jsxs("span",{className:"font-black text-orange-600 mr-3 text-lg",children:[j+1,"."]}),c.jsx("span",{className:"text-gray-800 font-semibold text-lg",children:w})]},j))})]}),c.jsxs("div",{className:"mb-4 p-4 bg-white/70 rounded-xl",children:[c.jsx("h4",{className:"text-xl font-black text-gray-900 mb-3",children:"📊 Additional Data:"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-base",children:[c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-700",children:"Founded:"})," ",p.additionalData.foundedYear]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-gray-700",children:"Funding:"})," ",p.additionalData.funding]}),p.additionalData.videos&&p.additionalData.videos.length>0&&c.jsxs("div",{className:"col-span-2",children:[c.jsx("strong",{className:"text-gray-700",children:"Videos:"})," ",p.additionalData.videos.length," found"]}),p.additionalData.presentations&&p.additionalData.presentations.length>0&&c.jsxs("div",{className:"col-span-2",children:[c.jsx("strong",{className:"text-gray-700",children:"Presentations:"})," ",p.additionalData.presentations.length," found"]})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>v(p),disabled:p.validationEmailSent,className:`flex-1 px-6 py-4 rounded-xl font-black text-lg transition-all ${p.validationEmailSent?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700"}`,children:p.validationEmailSent?"✓ Email Sent":"📧 Send Validation Email"}),!p.validated&&c.jsx("button",{onClick:()=>x(p.id),className:"px-6 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl font-black text-lg hover:from-green-700 hover:to-emerald-700 transition-all",children:"✓ Mark Validated"})]})]},p.id))}),c.jsx("button",{onClick:()=>{r("input"),t(""),d([])},className:"w-full px-8 py-4 bg-gray-200 text-gray-800 rounded-xl font-bold text-lg hover:bg-gray-300 transition-colors",children:"← Process More URLs"})]})]})})})}function fL(){const s=Lt(),[e,t]=k.useState({});k.useEffect(()=>{n()},[]);const n=()=>{const a={};for(let r=0;r<localStorage.length;r++){const l=localStorage.key(r);if(l)try{const d=localStorage.getItem(l);a[l]=d&&JSON.parse(d)}catch{a[l]=localStorage.getItem(l)}}t(a)},i=a=>{confirm(`Are you sure you want to delete "${a}"?`)&&(localStorage.removeItem(a),n())};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:"/images/logo.png",alt:"Hot Honey",className:"h-16 w-16"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-5xl font-black bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:"localStorage Inspector"}),c.jsx("p",{className:"text-xl text-gray-700 mt-2 font-semibold",children:"View all data stored in your browser"})]})]}),c.jsx("button",{onClick:()=>s("/dashboard"),className:"px-6 py-3 bg-gray-800 text-white rounded-xl hover:bg-gray-900 transition-colors font-bold text-lg",children:"← Back"})]}),c.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl text-white",children:[c.jsx("h2",{className:"text-3xl font-black mb-3",children:"📊 Storage Stats"}),c.jsxs("p",{className:"text-2xl font-bold",children:["Total Keys: ",Object.keys(e).length]})]}),c.jsx("div",{className:"space-y-4",children:Object.keys(e).length===0?c.jsx("div",{className:"text-center py-16 text-gray-500",children:c.jsx("p",{className:"text-2xl font-bold",children:"No data in localStorage"})}):Object.entries(e).map(([a,r])=>c.jsxs("div",{className:"border-4 border-gray-300 rounded-2xl p-6 hover:border-orange-400 transition-all",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h3",{className:"text-2xl font-black text-gray-900 break-all",children:a}),c.jsx("button",{onClick:()=>i(a),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 font-bold text-sm whitespace-nowrap ml-4",children:"🗑️ Delete"})]}),c.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-xl overflow-auto max-h-96 font-mono text-sm",children:c.jsx("pre",{children:JSON.stringify(r,null,2)})}),Array.isArray(r)&&c.jsxs("p",{className:"mt-3 text-lg font-bold text-orange-600",children:["📦 Array with ",r.length," items"]})]},a))}),c.jsx("button",{onClick:n,className:"mt-8 w-full px-8 py-4 bg-gradient-to-r from-orange-600 to-yellow-600 text-white rounded-xl font-black text-lg hover:from-orange-700 hover:to-yellow-700 transition-all",children:"🔄 Refresh Data"})]})})})}function mL(){const s=Lt(),e=sd(m=>m.portfolio),[t,n]=k.useState([]),[i,a]=k.useState([]),[r,l]=k.useState("voted");k.useEffect(()=>{d()},[]);const d=()=>{const m=localStorage.getItem("uploadedURLs");m&&n(JSON.parse(m));const g=localStorage.getItem("startupFiles");g&&a(JSON.parse(g))},u=i.filter(m=>!m.validated),h=i.filter(m=>m.validated),f=m=>{const g=encodeURIComponent(`Confirm ${m.companyName} on Hot Money Honey`),v=encodeURIComponent(`Hi ${m.companyName} team!

We're featuring your company on Hot Money Honey, our investor voting platform.

📍 Your Profile: ${m.url}

🔥 Your 5 Key Points:
${m.fivePoints.map((p,y)=>`${y+1}. ${p}`).join(`
`)}

Please reply to confirm these details are accurate.

Best,
Hot Money Honey Team`),x=`hello@${new URL(m.url).hostname}`;window.location.href=`mailto:${x}?subject=${g}&body=${v}`;const S=i.map(p=>p.id===m.id?{...p,validationEmailSent:!0}:p);a(S),localStorage.setItem("startupFiles",JSON.stringify(S))};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-green-400 to-purple-950 p-8",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:"/images/logo.png",alt:"Hot Honey",className:"h-20 w-20"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-5xl font-black bg-gradient-to-r from-orange-600 to-yellow-600 bg-clip-text text-transparent",children:"Activity Tracker"}),c.jsx("p",{className:"text-xl text-gray-700 mt-2 font-semibold",children:"Track your votes, uploads, and validations"})]})]}),c.jsx("button",{onClick:()=>s("/dashboard"),className:"px-6 py-3 bg-gray-800 text-white rounded-xl hover:bg-gray-900 transition-colors font-bold text-lg",children:"← Back"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"p-6 bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl text-white shadow-lg",children:[c.jsx("h3",{className:"text-2xl font-black mb-2",children:"✓ Voted YES"}),c.jsx("p",{className:"text-5xl font-black",children:e.length}),c.jsx("p",{className:"text-lg mt-2",children:"StartupCards in portfolio"})]}),c.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl text-white shadow-lg",children:[c.jsx("h3",{className:"text-2xl font-black mb-2",children:"📎 Uploaded URLs"}),c.jsx("p",{className:"text-5xl font-black",children:t.length}),c.jsx("p",{className:"text-lg mt-2",children:"Manual URL uploads"})]}),c.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-600 to-yellow-600 rounded-2xl text-white shadow-lg",children:[c.jsx("h3",{className:"text-2xl font-black mb-2",children:"⏳ Pending"}),c.jsx("p",{className:"text-5xl font-black",children:u.length}),c.jsx("p",{className:"text-lg mt-2",children:"Awaiting validation"})]})]}),c.jsxs("div",{className:"flex gap-3 mb-6 border-b-4 border-gray-200",children:[c.jsxs("button",{onClick:()=>l("voted"),className:`px-6 py-3 font-black text-lg transition-all ${r==="voted"?"border-b-4 border-green-600 text-green-600":"text-gray-500 hover:text-gray-700"}`,children:["✓ My Voted Startups (",e.length,")"]}),c.jsxs("button",{onClick:()=>l("urls"),className:`px-6 py-3 font-black text-lg transition-all ${r==="urls"?"border-b-4 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["📎 Uploaded URLs (",t.length,")"]}),c.jsxs("button",{onClick:()=>l("pending"),className:`px-6 py-3 font-black text-lg transition-all ${r==="pending"?"border-b-4 border-orange-600 text-orange-600":"text-gray-500 hover:text-gray-700"}`,children:["⏳ Pending Validations (",u.length,")"]})]}),c.jsxs("div",{className:"space-y-6",children:[r==="voted"&&c.jsx("div",{children:e.length===0?c.jsxs("div",{className:"text-center py-16 bg-gray-100 rounded-2xl",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-600 mb-4",children:"No votes yet"}),c.jsx(q,{to:"/vote",className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-yellow-600 text-white rounded-xl font-bold hover:from-orange-700 hover:to-yellow-700",children:"Start Voting"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(m=>c.jsx("div",{className:"transform scale-95",children:c.jsx(Ec,{startup:m,onVote:g=>console.log("Voted",g)})},m.id))})}),r==="urls"&&c.jsx("div",{children:t.length===0?c.jsxs("div",{className:"text-center py-16 bg-gray-100 rounded-2xl",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-600 mb-4",children:"No uploaded URLs"}),c.jsx(q,{to:"/admin/startup-processor",className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl font-bold hover:from-blue-700 hover:to-purple-700",children:"Upload URLs"})]}):c.jsx("div",{className:"space-y-4",children:t.map((m,g)=>c.jsx("div",{className:"p-6 border-4 border-blue-300 rounded-2xl bg-blue-50 hover:border-blue-500 transition-all",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"text-xl font-bold text-blue-700 hover:underline",children:["🔗 ",m.url]}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Uploaded: ",new Date(m.uploadedAt).toLocaleDateString()]})]}),m.processed?c.jsx("span",{className:"px-4 py-2 bg-green-600 text-white rounded-full font-bold text-sm",children:"✓ Processed"}):c.jsx("span",{className:"px-4 py-2 bg-orange-500 text-white rounded-full font-bold text-sm",children:"⏳ Pending"})]})},g))})}),r==="pending"&&c.jsx("div",{children:u.length===0?c.jsxs("div",{className:"text-center py-16 bg-gray-100 rounded-2xl",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-600 mb-4",children:h.length>0?"🎉 All startups validated!":"No pending validations"}),h.length>0&&c.jsxs("p",{className:"text-lg text-gray-500",children:[h.length," startup",h.length!==1?"s":""," validated"]})]}):c.jsx("div",{className:"space-y-6",children:u.map(m=>c.jsxs("div",{className:"p-6 border-4 border-orange-400 rounded-2xl bg-gradient-to-br from-orange-50 to-yellow-50",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"text-3xl font-black text-gray-900",children:m.companyName}),c.jsxs("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 hover:underline font-bold",children:["🔗 ",m.url]}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Created: ",new Date(m.scrapedAt).toLocaleDateString()]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-xl font-black text-gray-900 mb-2",children:"🔥 5 Key Points:"}),c.jsx("ol",{className:"space-y-2",children:m.fivePoints.map((g,v)=>c.jsxs("li",{className:"flex items-start",children:[c.jsxs("span",{className:"font-black text-orange-600 mr-2",children:[v+1,"."]}),c.jsx("span",{className:"text-gray-800 font-semibold",children:g})]},v))})]}),c.jsx("div",{className:"flex gap-3",children:c.jsx("button",{onClick:()=>f(m),disabled:m.validationEmailSent,className:`flex-1 px-6 py-4 rounded-xl font-black text-lg transition-all ${m.validationEmailSent?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700"}`,children:m.validationEmailSent?"✓ Email Sent":"📧 Send Validation Email"})})]},m.id))})})]})]})})})}function z1({forceOpen:s=!1,onClose:e}={}){const[t,n]=k.useState(!1);k.useEffect(()=>{s?n(!0):localStorage.getItem("hmh_acknowledged")||n(!0)},[s]);const i=()=>{localStorage.setItem("hmh_acknowledged","true"),n(!1),e&&e()},a=()=>{n(!1),e&&e()};return t?c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:c.jsx("div",{className:"bg-gradient-to-br from-amber-300 via-orange-400 to-yellow-500 rounded-3xl p-1 shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"bg-white rounded-3xl p-8",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"text-7xl mb-4 animate-bounce",children:"🍯"}),c.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent mb-2",children:"Welcome to Hot Honey!"}),c.jsx("p",{className:"text-xl text-orange-600 font-semibold",children:"Get Them While They're Hot."})]}),c.jsxs("div",{className:"bg-orange-50 rounded-2xl p-6 mb-6",children:[c.jsx("h3",{className:"text-2xl font-bold text-orange-600 mb-4",children:"🔥 How It Works"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"💰 For Investors:"}),c.jsx("p",{className:"text-sm text-gray-700 mb-3 leading-relaxed",children:"Hot Honey helps identify quality investment candidates faster and with more precision. The Hot Money Process enables quick discovery without all the overhead and utilizes crowd and market intelligence to identify the winners."}),c.jsxs("div",{className:"bg-white rounded-xl p-4 mb-3 border-2 border-orange-300",children:[c.jsx("h5",{className:"font-bold text-orange-700 mb-2 flex items-center gap-2",children:"📋 Our 5-Point StartupCard Format"}),c.jsxs("p",{className:"text-xs text-gray-700 mb-2",children:["Each startup is distilled into ",c.jsx("strong",{children:"5 key data points"})," for quick, informed decisions:"]}),c.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs text-gray-700",children:[c.jsxs("div",{children:["1️⃣ ",c.jsx("strong",{children:"Problem"})," - What pain point is solved?"]}),c.jsxs("div",{children:["2️⃣ ",c.jsx("strong",{children:"Solution"})," - How does the startup solve it?"]}),c.jsxs("div",{children:["3️⃣ ",c.jsx("strong",{children:"Market Size"})," - What's the opportunity?"]}),c.jsxs("div",{children:["4️⃣ ",c.jsx("strong",{children:"Team Companies"})," - Where have founders worked?"]}),c.jsxs("div",{children:["💰 ",c.jsx("strong",{children:"Investment Amount"})," - How much are they raising?"]})]})]}),c.jsxs("div",{className:"bg-purple-100 rounded-xl p-4 mb-3 border-2 border-purple-300",children:[c.jsx("h5",{className:"font-bold text-purple-700 mb-2 flex items-center gap-2",children:"🔒 You're Incognito Until Stage 3"}),c.jsxs("p",{className:"text-xs text-gray-700",children:[c.jsx("strong",{children:"Browse and vote anonymously."})," Your identity stays hidden until you reach Stage 3 (Reveal) and choose to disclose yourself for meetings. Enjoy unbiased review with complete privacy!"]})]}),c.jsxs("ul",{className:"space-y-2 text-gray-700 text-sm",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:"👀"}),c.jsx("span",{className:"font-medium",children:"Browse hot startup deals from the best founders"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:"👍"}),c.jsx("span",{className:"font-medium",children:"Vote YES or NO on startups that interest you"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:"🍯"}),c.jsx("span",{className:"font-medium",children:"Click the honeypot to reveal secret traction data"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:"📊"}),c.jsx("span",{className:"font-medium",children:"Track your hot picks on your personal dashboard"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-2",children:"🚀 For Startups:"}),c.jsxs("p",{className:"text-sm text-gray-700 mb-3 leading-relaxed",children:[c.jsx("strong",{children:"Connect with investors faster and build syndicates through the Hot Honey discovery process."})," Our gamified approach helps you fine-tune your pitch and attract more interested investors than traditional platforms."]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 mb-3 border-2 border-green-300",children:[c.jsx("h5",{className:"font-bold text-green-700 mb-2 flex items-center gap-2",children:"🎮 Game Play & Information Development"}),c.jsx("p",{className:"text-xs text-gray-700 mb-2",children:"Information is revealed progressively as investor interest grows. This unique approach allows you to:"}),c.jsxs("ul",{className:"space-y-1 text-xs text-gray-700",children:[c.jsxs("li",{children:["✓ ",c.jsx("strong",{children:"Fine-tune your pitch"})," based on real-time investor engagement"]}),c.jsxs("li",{children:["✓ ",c.jsx("strong",{children:"Get noticed"})," through a process of strategic information reveal"]}),c.jsxs("li",{children:["✓ ",c.jsx("strong",{children:"Build momentum"})," as votes unlock new visibility stages"]}),c.jsxs("li",{children:["✓ ",c.jsx("strong",{children:"Improve your value proposition"})," with direct market feedback"]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 mb-3 border-2 border-blue-300",children:[c.jsx("h5",{className:"font-bold text-blue-700 mb-2 flex items-center gap-2",children:"👥 Build Investor Syndicates"}),c.jsxs("p",{className:"text-xs text-gray-700",children:["As your startup gains traction, you'll attract groups of investors who can form syndicates. This helps you ",c.jsx("strong",{children:"reach funding goals faster"})," and build a stronger investor network than traditional one-on-one approaches."]})]}),c.jsxs("ul",{className:"space-y-2 text-gray-700 text-sm",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:"📝"}),c.jsx("span",{className:"font-medium",children:"Submit your startup for investor review"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:"📈"}),c.jsx("span",{className:"font-medium",children:"Progress through stages as you get more votes"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:"👥"}),c.jsx("span",{className:"font-medium",children:"Connect with interested investors directly"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-lg",children:"💬"}),c.jsx("span",{className:"font-medium",children:"Receive feedback and build traction"})]})]})]})]}),c.jsxs("div",{className:"bg-red-50 border-2 border-red-300 rounded-2xl p-6 mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-red-700 mb-3 flex items-center gap-2",children:"⚠️ Investment Risk Disclosure"}),c.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:[c.jsx("strong",{children:"Investing in early-stage startups is highly risky."})," You may lose all of your investment. Only invest what you can afford to lose. Past performance is not indicative of future results."]}),c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"By using Hot Honey, you acknowledge that you understand these risks and are making your own investment decisions. We are not financial advisors. Always do your own research and consult with licensed professionals."})]}),c.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-2xl p-4 mb-6",children:c.jsx("p",{className:"text-sm text-gray-700 font-semibold text-center",children:"🔞 You must be 18 years or older to use this platform"})}),c.jsxs("div",{className:"flex justify-center gap-6 mb-6 text-sm",children:[c.jsx(q,{to:"/privacy",className:"text-orange-600 hover:text-orange-700 font-semibold underline",children:"Privacy Policy"}),c.jsx(q,{to:"/about",className:"text-orange-600 hover:text-orange-700 font-semibold underline",children:"About Us"})]}),c.jsx("button",{onClick:s?a:i,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-4 px-6 rounded-2xl shadow-lg transition-all text-lg",children:s?"✅ Got It!":"✅ I Agree - I'm 18+ and Understand the Risks"}),!s&&c.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:'By clicking "I Agree", you confirm you are at least 18 years old and accept the terms above.'})]})})}):null}const gL=()=>{const[s,e]=k.useState(!1);return c.jsxs("div",{className:"min-h-screen",children:[c.jsx(z1,{}),s&&c.jsx(z1,{forceOpen:!0,onClose:()=>e(!1)}),c.jsx("main",{children:c.jsxs(rD,{children:[c.jsx(Ie,{path:"/",element:c.jsx(F1,{})}),c.jsx(Ie,{path:"/home",element:c.jsx(F1,{})}),c.jsx(Ie,{path:"/signup",element:c.jsx(J3,{})}),c.jsx(Ie,{path:"/login",element:c.jsx(dL,{})}),c.jsx(Ie,{path:"/vote",element:c.jsx(zD,{})}),c.jsx(Ie,{path:"/vote-demo",element:c.jsx(Z3,{})}),c.jsx(Ie,{path:"/investors",element:c.jsx(d1,{})})," ",c.jsx(Ie,{path:"/portfolio",element:c.jsx(d1,{})})," ",c.jsx(Ie,{path:"/submit",element:c.jsx(I3,{})}),c.jsx(Ie,{path:"/startup/:id",element:c.jsx(q3,{})}),c.jsx(Ie,{path:"/deals",element:c.jsx(X3,{})}),c.jsx(Ie,{path:"/startups",element:c.jsx(W3,{})})," ",c.jsx(Ie,{path:"/dashboard",element:c.jsx(Q3,{})})," ",c.jsx(Ie,{path:"/about",element:c.jsx(eL,{})}),c.jsx(Ie,{path:"/privacy",element:c.jsx(tL,{})}),c.jsx(Ie,{path:"/contact",element:c.jsx(sL,{})}),c.jsx(Ie,{path:"/settings",element:c.jsx(nL,{})}),c.jsx(Ie,{path:"/shared-portfolio/:shareId",element:c.jsx(aL,{})}),c.jsx(Ie,{path:"/admin/bulk-upload",element:c.jsx(rL,{})}),c.jsx(Ie,{path:"/admin/bulk-import",element:c.jsx(oL,{})}),c.jsx(Ie,{path:"/admin/document-upload",element:c.jsx(lL,{})}),c.jsx(Ie,{path:"/admin/process-uploads",element:c.jsx(uL,{})}),c.jsx(Ie,{path:"/admin/startup-processor",element:c.jsx(hL,{})}),c.jsx(Ie,{path:"/admin/localstorage",element:c.jsx(fL,{})}),c.jsx(Ie,{path:"/admin/tracker",element:c.jsx(mL,{})}),c.jsx(Ie,{path:"/analytics",element:c.jsx(cL,{})})]})}),c.jsxs("footer",{className:"bg-gradient-to-r from-purple-900 via-purple-700 to-green-400 text-center text-sm py-4",children:[c.jsxs("div",{className:"flex justify-center items-center gap-6 mb-2",children:[c.jsx("button",{onClick:()=>e(!0),className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline cursor-pointer bg-transparent border-none",children:"🔥 How It Works"}),c.jsx("span",{className:"text-purple-300",children:"•"}),c.jsx(q,{to:"/about",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"About Us"}),c.jsx("span",{className:"text-purple-300",children:"•"}),c.jsx(q,{to:"/contact",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"Contact Us"}),c.jsx("span",{className:"text-purple-300",children:"•"}),c.jsx(q,{to:"/privacy",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"Privacy Policy"}),c.jsx("span",{className:"text-purple-300",children:"•"}),c.jsx(q,{to:"/startups",className:"text-yellow-300 hover:text-yellow-400 font-semibold hover:underline",children:"For Startups"})]}),c.jsxs("p",{className:"text-purple-200",children:["© ",new Date().getFullYear()," Hot Honey. All rights reserved."]})]})]})};pM.createRoot(document.getElementById("root")).render(c.jsx(Sh.StrictMode,{children:c.jsx(_D,{children:c.jsx(gL,{})})}));
